(self.webpackChunkblog=self.webpackChunkblog||[]).push([[962],{30962:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>i});var o=t(59713),r=t.n(o),l=t(6479),c=t.n(l),a=(t(67294),t(3905));function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p={};function i(e){var n=e.components,t=c()(e,["components"]);return(0,a.kt)("wrapper",g(g(g({},p),t),{},{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h3",null,"复合组件(Compound Component)"),(0,a.kt)("h4",null,"使用 static 来复合组件"),(0,a.kt)("p",null,"优点如下:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"结构更加清晰")),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-jsx"}),"class Toggle extends React.Component {\n  static On = ({on, children}) => on ? children : null\n  static Off = ({on, children}) => on ? null : children\n  static Button = ({on, toggle}) => <Switch on={on} onClick={toggle} />\n\n  state = {on: false}\n  toggle = () =>\n    this.setState(\n      ({on}) => ({on: !on}),\n      () => this.props.onToggle(this.state.on),\n    )\n  render() {\n    return React.Children.map(this.props.children, reactElement => {\n      return React.cloneElement(reactElement, {\n        on: this.state.on,\n        toggle: this.toggle,\n      })\n    })\n  }\n}\n\n// 使用这种设计模式来复合组件, 可以看到组件的使用十分清晰\n<Toggle onToggle={() => console.log('onToggle')}>\n  <Toggle.On>The button is on</Toggle.On>\n  <Toggle.Off>The button is off</Toggle.Off>\n  <Toggle.Button />\n</Toggle>\n")),(0,a.kt)("h3",null,"资料"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",g({parentName:"li"},{href:"https://github.com/demos-platform/advanced-react-patterns-v2/blob/master/src/exercises/02.js"}),"advanced-react-patterns-v2"))))}i.isMDXComponent=!0}}]);