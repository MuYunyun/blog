(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2442],{12442:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(59713),l=n.n(r),a=n(6479),o=n.n(a),p=(n(67294),n(3905));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={};function s(e){var t=e.components,n=o()(e,["components"]);return(0,p.kt)("wrapper",u(u(u({},i),n),{},{components:t,mdxType:"MDXLayout"}),(0,p.kt)("h3",null,"如何实现无限制增加行数逻辑?"),(0,p.kt)("p",null,"伪代码: 换行的时候重新给 ",(0,p.kt)("inlineCode",{parentName:"p"},"textArea")," 赋值 ",(0,p.kt)("inlineCode",{parentName:"p"},"scrollHeight"),"。"),(0,p.kt)("h3",null,"注意点"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"用户输入的汉字和英文是否要区分对待? 汉字作为 2 个字符还是 1 个字符?")),(0,p.kt)("p",null,"命中汉字作为两个字符的逻辑:"),(0,p.kt)("pre",null,(0,p.kt)("code",u({parentName:"pre"},{className:"language-js"}),"if (/[^\\x00-\\xff]/gi.test(a)) {\n  ...\n}\n")),(0,p.kt)("h3",null,"用户角度: Textarea 组件的 maxLength 问题"),(0,p.kt)("p",null,"关于 Textarea 组件的超出 maxLength 是否被截断的问题, 思考以下几组情形。"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},'粘贴过来直接截断, 提交后可能出问题，想象: "我是你爸爸的朋友", 粘贴后自动截断为"我是你爸爸"还没报错, 也没阻塞提交;'),(0,p.kt)("li",{parentName:"ol"},"我们不少商家可能在多个销售平台售卖, 存在一个平台输入完, 其他平台直接粘贴的需求(所以粘贴的 case 可能比我们以为的多);"),(0,p.kt)("li",{parentName:"ol"},'针对直接输入的情况, 如果总共允许 10 个字, 在当前为 5 个字的情况下, 我在中文输入法的情况下, 连输词组"下午来我家喝下午茶", 按空格建后, 内容截断为"下午来我家", 而且没飘红报错提示, 对商家来说, 可能不知道你做了截断的行为。')))}s.isMDXComponent=!0}}]);