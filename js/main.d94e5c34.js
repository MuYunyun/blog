/*! For license information please see main.d94e5c34.js.LICENSE.txt */
(()=>{var e,t,n={26981:(e,t,n)=>{"use strict";n(11983);var r,i=(r=n(11543))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},11983:(e,t,n)=>{"use strict";n(15033),n(88033),n(72863),n(56141),n(74316),n(117),n(86863),n(30290),n(44007),n(91235),n(58930),n(31794),n(1523),n(35666)},15033:(e,t,n)=>{n(98997),n(57944),n(65388),n(10266),n(57557),n(63386),n(30081),n(54943),n(40192),n(24371),n(17026),n(16736),n(7260),n(4649),n(88325),n(52798),n(86911),n(84394),n(78769),n(729),n(99383),n(19315),n(15072),n(10348),n(71028),n(2610),n(64007),n(87616),n(86762),n(43316),n(93019),n(40293),n(60640),n(96589),n(93210),n(12372),n(30511),n(6781),n(74434),n(14783),n(95521),n(94093),n(86378),n(52380),n(2803),n(63725),n(7977),n(14192),n(2940),n(35731),n(79382),n(38877),n(22539),n(39820),n(28417),n(74333),n(82858),n(22058),n(95472),n(57001),n(57492),n(50447),n(65624),n(51263),n(65193),n(28241),n(96723),n(9394),n(66938),n(11961),n(69659),n(23354),n(99620),n(638),n(32338),n(20641),n(21575),n(75611),n(91033),n(50160),n(65271),n(18221),n(92523),n(65441),n(88375),n(9106),n(9139),n(33352),n(53289),n(35943),n(59483),n(88292),n(86174),n(86975),n(71412),n(30360),n(18394),n(83118),n(78772),n(71308),n(87080),n(58615),n(35244),n(39544),n(45475),n(33770),n(5201),n(61385),n(12813),n(82509),n(98253),n(57391),n(33307),n(63315),n(12920),n(95443),n(69815),n(43771),n(76935),n(17846),n(56403),n(51200),n(30951),n(10029),n(69310),n(66722),n(18372),n(14604),n(84781),n(38416),n(24395),n(49649),n(32475),n(12924),n(16337),n(83286),n(47225),n(68766),e.exports=n(14411)},72863:(e,t,n)=>{n(98125),e.exports=n(14411).Array.flatMap},88033:(e,t,n)=>{n(49348),e.exports=n(14411).Array.includes},58930:(e,t,n)=>{n(1768),e.exports=n(14411).Object.entries},44007:(e,t,n)=>{n(59223),e.exports=n(14411).Object.getOwnPropertyDescriptors},91235:(e,t,n)=>{n(67442),e.exports=n(14411).Object.values},31794:(e,t,n)=>{"use strict";n(12813),n(14936),e.exports=n(14411).Promise.finally},74316:(e,t,n)=>{n(20239),e.exports=n(14411).String.padEnd},56141:(e,t,n)=>{n(28755),e.exports=n(14411).String.padStart},86863:(e,t,n)=>{n(66948),e.exports=n(14411).String.trimRight},117:(e,t,n)=>{n(53412),e.exports=n(14411).String.trimLeft},30290:(e,t,n)=>{n(78284),e.exports=n(38833).f("asyncIterator")},11543:(e,t,n)=>{n(94296),e.exports=n(1275).global},87411:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},23206:(e,t,n)=>{var r=n(700);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},1275:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},30999:(e,t,n)=>{var r=n(87411);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},50697:(e,t,n)=>{e.exports=!n(13834)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},42394:(e,t,n)=>{var r=n(700),i=n(71075).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},44553:(e,t,n)=>{var r=n(71075),i=n(1275),o=n(30999),a=n(2550),s=n(94324),l=function(e,t,n){var c,u,d,m=e&l.F,p=e&l.G,h=e&l.S,f=e&l.P,b=e&l.B,g=e&l.W,y=p?i:i[t]||(i[t]={}),v=y.prototype,x=p?r:h?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(u=!m&&x&&void 0!==x[c])&&s(y,c)||(d=u?x[c]:n[c],y[c]=p&&"function"!=typeof x[c]?n[c]:b&&u?o(d,r):g&&x[c]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):f&&"function"==typeof d?o(Function.call,d):d,f&&((y.virtual||(y.virtual={}))[c]=d,e&l.R&&v&&!v[c]&&a(v,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},13834:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},71075:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},94324:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},2550:(e,t,n)=>{var r=n(249),i=n(43652);e.exports=n(50697)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},43393:(e,t,n)=>{e.exports=!n(50697)&&!n(13834)((function(){return 7!=Object.defineProperty(n(42394)("div"),"a",{get:function(){return 7}}).a}))},700:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},249:(e,t,n)=>{var r=n(23206),i=n(43393),o=n(3377),a=Object.defineProperty;t.f=n(50697)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},43652:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3377:(e,t,n)=>{var r=n(700);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},94296:(e,t,n)=>{var r=n(44553);r(r.G,{global:n(71075)})},23079:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},23373:(e,t,n)=>{var r=n(89426);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},12802:(e,t,n)=>{var r=n(9739)("unscopables"),i=Array.prototype;null==i[r]&&n(98442)(i,r,{}),e.exports=function(e){i[r][e]=!0}},9959:(e,t,n)=>{"use strict";var r=n(7384)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},30599:e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},59719:(e,t,n)=>{var r=n(17481);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},4893:(e,t,n)=>{"use strict";var r=n(54200),i=n(15044),o=n(61838);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),l=i(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:i(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},70852:(e,t,n)=>{"use strict";var r=n(54200),i=n(15044),o=n(61838);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>s;)t[s++]=e;return t}},61545:(e,t,n)=>{var r=n(8500),i=n(61838),o=n(15044);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},66934:(e,t,n)=>{var r=n(82794),i=n(60975),o=n(54200),a=n(61838),s=n(44087);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,m=5==e||d,p=t||s;return function(t,s,h){for(var f,b,g=o(t),y=i(g),v=r(s,h,3),x=a(y.length),k=0,w=n?p(t,x):l?p(t,0):void 0;x>k;k++)if((m||k in y)&&(b=v(f=y[k],k,g),e))if(n)w[k]=b;else if(b)switch(e){case 3:return!0;case 5:return f;case 6:return k;case 2:w.push(f)}else if(u)return!1;return d?-1:c||u?u:w}}},9857:(e,t,n)=>{var r=n(23079),i=n(54200),o=n(60975),a=n(61838);e.exports=function(e,t,n,s,l){r(t);var c=i(e),u=o(c),d=a(c.length),m=l?d-1:0,p=l?-1:1;if(n<2)for(;;){if(m in u){s=u[m],m+=p;break}if(m+=p,l?m<0:d<=m)throw TypeError("Reduce of empty array with no initial value")}for(;l?m>=0:d>m;m+=p)m in u&&(s=t(s,u[m],m,c));return s}},54849:(e,t,n)=>{var r=n(17481),i=n(40689),o=n(9739)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},44087:(e,t,n)=>{var r=n(54849);e.exports=function(e,t){return new(r(e))(t)}},46966:(e,t,n)=>{"use strict";var r=n(23079),i=n(17481),o=n(16137),a=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?l(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},12845:(e,t,n)=>{var r=n(89426),i=n(9739)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},89426:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},95144:(e,t,n)=>{"use strict";var r=n(83530).f,i=n(62545),o=n(24092),a=n(82794),s=n(30599),l=n(62971),c=n(19121),u=n(78611),d=n(75993),m=n(51916),p=n(82153).fastKey,h=n(91603),f=m?"_s":"size",b=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[f]=0,null!=r&&l(r,n,e[c],e)}));return o(u.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var n=h(this,t),r=b(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[f]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!b(h(this,t),e)}}),m&&r(u.prototype,"size",{get:function(){return h(this,t)[f]}}),u},def:function(e,t,n){var r,i,o=b(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[f]++,"F"!==i&&(e._i[i]=o)),e},getEntry:b,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(t)}}},33503:(e,t,n)=>{"use strict";var r=n(24092),i=n(82153).getWeak,o=n(59719),a=n(17481),s=n(30599),l=n(62971),c=n(66934),u=n(41063),d=n(91603),m=c(5),p=c(6),h=0,f=function(e){return e._l||(e._l=new b)},b=function(){this.a=[]},g=function(e,t){return m(e.a,(function(e){return e[0]===t}))};b.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&l(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?f(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?f(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?f(e).set(t,n):r[e._i]=n,e},ufstore:f}},58091:(e,t,n)=>{"use strict";var r=n(56341),i=n(35366),o=n(1564),a=n(24092),s=n(82153),l=n(62971),c=n(30599),u=n(17481),d=n(71240),m=n(61461),p=n(21309),h=n(94805);e.exports=function(e,t,n,f,b,g){var y=r[e],v=y,x=b?"set":"add",k=v&&v.prototype,w={},S=function(e){var t=k[e];o(k,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof v&&(g||k.forEach&&!d((function(){(new v).entries().next()})))){var _=new v,E=_[x](g?{}:-0,1)!=_,j=d((function(){_.has(1)})),C=m((function(e){new v(e)})),T=!g&&d((function(){for(var e=new v,t=5;t--;)e[x](t,t);return!e.has(-0)}));C||((v=t((function(t,n){c(t,v,e);var r=h(new y,t,v);return null!=n&&l(n,b,r[x],r),r}))).prototype=k,k.constructor=v),(j||T)&&(S("delete"),S("has"),b&&S("get")),(T||E)&&S(x),g&&k.clear&&delete k.clear}else v=f.getConstructor(t,e,b,x),a(v.prototype,n),s.NEED=!0;return p(v,e),w[e]=v,i(i.G+i.W+i.F*(v!=y),w),g||f.setStrong(v,e,b),v}},14411:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},51676:(e,t,n)=>{"use strict";var r=n(83530),i=n(21761);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},82794:(e,t,n)=>{var r=n(23079);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},41792:(e,t,n)=>{"use strict";var r=n(71240),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},27687:(e,t,n)=>{"use strict";var r=n(59719),i=n(9241),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},13589:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},51916:(e,t,n)=>{e.exports=!n(71240)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},83383:(e,t,n)=>{var r=n(17481),i=n(56341).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},97590:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},4535:(e,t,n)=>{var r=n(15825),i=n(32520),o=n(41144);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},35366:(e,t,n)=>{var r=n(56341),i=n(14411),o=n(98442),a=n(1564),s=n(82794),l=function(e,t,n){var c,u,d,m,p=e&l.F,h=e&l.G,f=e&l.S,b=e&l.P,g=e&l.B,y=h?r:f?r[t]||(r[t]={}):(r[t]||{}).prototype,v=h?i:i[t]||(i[t]={}),x=v.prototype||(v.prototype={});for(c in h&&(n=t),n)d=((u=!p&&y&&void 0!==y[c])?y:n)[c],m=g&&u?s(d,r):b&&"function"==typeof d?s(Function.call,d):d,y&&a(y,c,d,e&l.U),v[c]!=d&&o(v,c,m),b&&x[c]!=d&&(x[c]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},46881:(e,t,n)=>{var r=n(9739)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},71240:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},25307:(e,t,n)=>{"use strict";n(58615);var r=n(1564),i=n(98442),o=n(71240),a=n(13589),s=n(9739),l=n(18868),c=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var m=s(e),p=!o((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),h=p?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[m](""),!t})):void 0;if(!p||!h||"replace"===e&&!u||"split"===e&&!d){var f=/./[m],b=n(a,m,""[e],(function(e,t,n,r,i){return t.exec===l?p&&!i?{done:!0,value:f.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=b[0],y=b[1];r(String.prototype,e,g),i(RegExp.prototype,m,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},6439:(e,t,n)=>{"use strict";var r=n(59719);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3885:(e,t,n)=>{"use strict";var r=n(40689),i=n(17481),o=n(61838),a=n(82794),s=n(9739)("isConcatSpreadable");e.exports=function e(t,n,l,c,u,d,m,p){for(var h,f,b=u,g=0,y=!!m&&a(m,p,3);g<c;){if(g in l){if(h=y?y(l[g],g,n):l[g],f=!1,i(h)&&(f=void 0!==(f=h[s])?!!f:r(h)),f&&d>0)b=e(t,n,h,o(h.length),b,d-1)-1;else{if(b>=9007199254740991)throw TypeError();t[b]=h}b++}g++}return b}},62971:(e,t,n)=>{var r=n(82794),i=n(55539),o=n(63894),a=n(59719),s=n(61838),l=n(18444),c={},u={},d=e.exports=function(e,t,n,d,m){var p,h,f,b,g=m?function(){return e}:l(e),y=r(n,d,t?2:1),v=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>v;v++)if((b=t?y(a(h=e[v])[0],h[1]):y(e[v]))===c||b===u)return b}else for(f=g.call(e);!(h=f.next()).done;)if((b=i(f,y,h.value,t))===c||b===u)return b};d.BREAK=c,d.RETURN=u},65979:(e,t,n)=>{e.exports=n(97355)("native-function-to-string",Function.toString)},56341:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},41063:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},98442:(e,t,n)=>{var r=n(83530),i=n(21761);e.exports=n(51916)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},26137:(e,t,n)=>{var r=n(56341).document;e.exports=r&&r.documentElement},44352:(e,t,n)=>{e.exports=!n(51916)&&!n(71240)((function(){return 7!=Object.defineProperty(n(83383)("div"),"a",{get:function(){return 7}}).a}))},94805:(e,t,n)=>{var r=n(17481),i=n(87135).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},16137:e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},60975:(e,t,n)=>{var r=n(89426);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},63894:(e,t,n)=>{var r=n(4919),i=n(9739)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},40689:(e,t,n)=>{var r=n(89426);e.exports=Array.isArray||function(e){return"Array"==r(e)}},22289:(e,t,n)=>{var r=n(17481),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},17481:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},89543:(e,t,n)=>{var r=n(17481),i=n(89426),o=n(9739)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},55539:(e,t,n)=>{var r=n(59719);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},47938:(e,t,n)=>{"use strict";var r=n(62545),i=n(21761),o=n(21309),a={};n(98442)(a,n(9739)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},19121:(e,t,n)=>{"use strict";var r=n(35113),i=n(35366),o=n(1564),a=n(98442),s=n(4919),l=n(47938),c=n(21309),u=n(44408),d=n(9739)("iterator"),m=!([].keys&&"next"in[].keys()),p="keys",h="values",f=function(){return this};e.exports=function(e,t,n,b,g,y,v){l(n,t,b);var x,k,w,S=function(e){if(!m&&e in C)return C[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",E=g==h,j=!1,C=e.prototype,T=C[d]||C["@@iterator"]||g&&C[g],A=T||S(g),L=g?E?S("entries"):A:void 0,R="Array"==t&&C.entries||T;if(R&&(w=u(R.call(new e)))!==Object.prototype&&w.next&&(c(w,_,!0),r||"function"==typeof w[d]||a(w,d,f)),E&&T&&T.name!==h&&(j=!0,A=function(){return T.call(this)}),r&&!v||!m&&!j&&C[d]||a(C,d,A),s[t]=A,s[_]=f,g)if(x={values:E?A:S(h),keys:y?A:S(p),entries:L},v)for(k in x)k in C||o(C,k,x[k]);else i(i.P+i.F*(m||j),t,x);return x}},61461:(e,t,n)=>{var r=n(9739)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},78611:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},4919:e=>{e.exports={}},35113:e=>{e.exports=!1},77117:e=>{var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},59396:(e,t,n)=>{var r=n(84247),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),l=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<l?c*(i/l/a+1/o-1/o)*l*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},19007:e=>{e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},84247:e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},82153:(e,t,n)=>{var r=n(90430)("meta"),i=n(17481),o=n(41063),a=n(83530).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(71240)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,r)&&u(e),e}}},37:(e,t,n)=>{var r=n(56341),i=n(7122).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(89426)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){i.call(r,c)};else{var d=!0,m=document.createTextNode("");new o(c).observe(m,{characterData:!0}),n=function(){m.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},83285:(e,t,n)=>{"use strict";var r=n(23079);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},49821:(e,t,n)=>{"use strict";var r=n(51916),i=n(15825),o=n(32520),a=n(41144),s=n(54200),l=n(60975),c=Object.assign;e.exports=!c||n(71240)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,d=o.f,m=a.f;c>u;)for(var p,h=l(arguments[u++]),f=d?i(h).concat(d(h)):i(h),b=f.length,g=0;b>g;)p=f[g++],r&&!m.call(h,p)||(n[p]=h[p]);return n}:c},62545:(e,t,n)=>{var r=n(59719),i=n(30413),o=n(97590),a=n(53548)("IE_PROTO"),s=function(){},l=function(){var e,t=n(83383)("iframe"),r=o.length;for(t.style.display="none",n(26137).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},83530:(e,t,n)=>{var r=n(59719),i=n(44352),o=n(9241),a=Object.defineProperty;t.f=n(51916)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},30413:(e,t,n)=>{var r=n(83530),i=n(59719),o=n(15825);e.exports=n(51916)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},57762:(e,t,n)=>{var r=n(41144),i=n(21761),o=n(8500),a=n(9241),s=n(41063),l=n(44352),c=Object.getOwnPropertyDescriptor;t.f=n(51916)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},85009:(e,t,n)=>{var r=n(8500),i=n(14230).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},14230:(e,t,n)=>{var r=n(92851),i=n(97590).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},32520:(e,t)=>{t.f=Object.getOwnPropertySymbols},44408:(e,t,n)=>{var r=n(41063),i=n(54200),o=n(53548)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},92851:(e,t,n)=>{var r=n(41063),i=n(8500),o=n(61545)(!1),a=n(53548)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},15825:(e,t,n)=>{var r=n(92851),i=n(97590);e.exports=Object.keys||function(e){return r(e,i)}},41144:(e,t)=>{t.f={}.propertyIsEnumerable},81025:(e,t,n)=>{var r=n(35366),i=n(14411),o=n(71240);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},15346:(e,t,n)=>{var r=n(51916),i=n(15825),o=n(8500),a=n(41144).f;e.exports=function(e){return function(t){for(var n,s=o(t),l=i(s),c=l.length,u=0,d=[];c>u;)n=l[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},17285:(e,t,n)=>{var r=n(14230),i=n(32520),o=n(59719),a=n(56341).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},13765:(e,t,n)=>{var r=n(56341).parseFloat,i=n(97370).trim;e.exports=1/r(n(18275)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},80500:(e,t,n)=>{var r=n(56341).parseInt,i=n(97370).trim,o=n(18275),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},98332:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},38614:(e,t,n)=>{var r=n(59719),i=n(17481),o=n(83285);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},21761:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},24092:(e,t,n)=>{var r=n(1564);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1564:(e,t,n)=>{var r=n(56341),i=n(98442),o=n(41063),a=n(90430)("src"),s=n(65979),l="toString",c=(""+s).split(l);n(14411).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},29073:(e,t,n)=>{"use strict";var r=n(12845),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},18868:(e,t,n)=>{"use strict";var r,i,o=n(6439),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,n,r,i,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(t=l.lastIndex),r=a.call(l,e),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=l},61541:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},87135:(e,t,n)=>{var r=n(17481),i=n(59719),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(82794)(Function.call,n(57762).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},75993:(e,t,n)=>{"use strict";var r=n(56341),i=n(83530),o=n(51916),a=n(9739)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},21309:(e,t,n)=>{var r=n(83530).f,i=n(41063),o=n(9739)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},53548:(e,t,n)=>{var r=n(97355)("keys"),i=n(90430);e.exports=function(e){return r[e]||(r[e]=i(e))}},97355:(e,t,n)=>{var r=n(14411),i=n(56341),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(35113)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},59789:(e,t,n)=>{var r=n(59719),i=n(23079),o=n(9739)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},85139:(e,t,n)=>{"use strict";var r=n(71240);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},7384:(e,t,n)=>{var r=n(51549),i=n(13589);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},83256:(e,t,n)=>{var r=n(89543),i=n(13589);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},79048:(e,t,n)=>{var r=n(35366),i=n(71240),o=n(13589),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},9823:(e,t,n)=>{var r=n(61838),i=n(40005),o=n(13589);e.exports=function(e,t,n,a){var s=String(o(e)),l=s.length,c=void 0===n?" ":String(n),u=r(t);if(u<=l||""==c)return s;var d=u-l,m=i.call(c,Math.ceil(d/c.length));return m.length>d&&(m=m.slice(0,d)),a?m+s:s+m}},40005:(e,t,n)=>{"use strict";var r=n(51549),i=n(13589);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},97370:(e,t,n)=>{var r=n(35366),i=n(13589),o=n(71240),a=n(18275),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),l=i[e]=s?t(d):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},18275:e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},7122:(e,t,n)=>{var r,i,o,a=n(82794),s=n(16137),l=n(26137),c=n(83383),u=n(56341),d=u.process,m=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,f=u.Dispatch,b=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},v=function(e){y.call(e.data)};m&&p||(m=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++b]=function(){s("function"==typeof e?e:Function(e),t)},r(b),b},p=function(e){delete g[e]},"process"==n(89426)(d)?r=function(e){d.nextTick(a(y,e,1))}:f&&f.now?r=function(e){f.now(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=v,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",v,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:m,clear:p}},15044:(e,t,n)=>{var r=n(51549),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},99707:(e,t,n)=>{var r=n(51549),i=n(61838);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},51549:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},8500:(e,t,n)=>{var r=n(60975),i=n(13589);e.exports=function(e){return r(i(e))}},61838:(e,t,n)=>{var r=n(51549),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},54200:(e,t,n)=>{var r=n(13589);e.exports=function(e){return Object(r(e))}},9241:(e,t,n)=>{var r=n(17481);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},58754:(e,t,n)=>{"use strict";if(n(51916)){var r=n(35113),i=n(56341),o=n(71240),a=n(35366),s=n(67728),l=n(29895),c=n(82794),u=n(30599),d=n(21761),m=n(98442),p=n(24092),h=n(51549),f=n(61838),b=n(99707),g=n(15044),y=n(9241),v=n(41063),x=n(12845),k=n(17481),w=n(54200),S=n(63894),_=n(62545),E=n(44408),j=n(14230).f,C=n(18444),T=n(90430),A=n(9739),L=n(66934),R=n(61545),M=n(59789),P=n(71308),I=n(4919),O=n(61461),N=n(75993),z=n(70852),D=n(4893),B=n(83530),F=n(57762),q=B.f,H=F.f,Y=i.RangeError,U=i.TypeError,W=i.Uint8Array,G="ArrayBuffer",V="SharedArrayBuffer",$="BYTES_PER_ELEMENT",J=Array.prototype,X=l.ArrayBuffer,Q=l.DataView,K=L(0),Z=L(2),ee=L(3),te=L(4),ne=L(5),re=L(6),ie=R(!0),oe=R(!1),ae=P.values,se=P.keys,le=P.entries,ce=J.lastIndexOf,ue=J.reduce,de=J.reduceRight,me=J.join,pe=J.sort,he=J.slice,fe=J.toString,be=J.toLocaleString,ge=A("iterator"),ye=A("toStringTag"),ve=T("typed_constructor"),xe=T("def_constructor"),ke=s.CONSTR,we=s.TYPED,Se=s.VIEW,_e="Wrong length!",Ee=L(1,(function(e,t){return Le(M(e,e[xe]),t)})),je=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),Ce=!!W&&!!W.prototype.set&&o((function(){new W(1).set({})})),Te=function(e,t){var n=h(e);if(n<0||n%t)throw Y("Wrong offset!");return n},Ae=function(e){if(k(e)&&we in e)return e;throw U(e+" is not a typed array!")},Le=function(e,t){if(!k(e)||!(ve in e))throw U("It is not a typed array constructor!");return new e(t)},Re=function(e,t){return Me(M(e,e[xe]),t)},Me=function(e,t){for(var n=0,r=t.length,i=Le(e,r);r>n;)i[n]=t[n++];return i},Pe=function(e,t,n){q(e,t,{get:function(){return this._d[n]}})},Ie=function(e){var t,n,r,i,o,a,s=w(e),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,m=C(s);if(null!=m&&!S(m)){for(a=m.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&l>2&&(u=c(u,arguments[2],2)),t=0,n=f(s.length),i=Le(this,n);n>t;t++)i[t]=d?u(s[t],t):s[t];return i},Oe=function(){for(var e=0,t=arguments.length,n=Le(this,t);t>e;)n[e]=arguments[e++];return n},Ne=!!W&&o((function(){be.call(new W(1))})),ze=function(){return be.apply(Ne?he.call(Ae(this)):Ae(this),arguments)},De={copyWithin:function(e,t){return D.call(Ae(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return te(Ae(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return z.apply(Ae(this),arguments)},filter:function(e){return Re(this,Z(Ae(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Ae(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Ae(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Ae(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return oe(Ae(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ie(Ae(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return me.apply(Ae(this),arguments)},lastIndexOf:function(e){return ce.apply(Ae(this),arguments)},map:function(e){return Ee(Ae(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Ae(this),arguments)},reduceRight:function(e){return de.apply(Ae(this),arguments)},reverse:function(){for(var e,t=this,n=Ae(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return ee(Ae(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Ae(this),e)},subarray:function(e,t){var n=Ae(this),r=n.length,i=g(e,r);return new(M(n,n[xe]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,f((void 0===t?r:g(t,r))-i))}},Be=function(e,t){return Re(this,he.call(Ae(this),e,t))},Fe=function(e){Ae(this);var t=Te(arguments[1],1),n=this.length,r=w(e),i=f(r.length),o=0;if(i+t>n)throw Y(_e);for(;o<i;)this[t+o]=r[o++]},qe={entries:function(){return le.call(Ae(this))},keys:function(){return se.call(Ae(this))},values:function(){return ae.call(Ae(this))}},He=function(e,t){return k(e)&&e[we]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ye=function(e,t){return He(e,t=y(t,!0))?d(2,e[t]):H(e,t)},Ue=function(e,t,n){return!(He(e,t=y(t,!0))&&k(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?q(e,t,n):(e[t]=n.value,e)};ke||(F.f=Ye,B.f=Ue),a(a.S+a.F*!ke,"Object",{getOwnPropertyDescriptor:Ye,defineProperty:Ue}),o((function(){fe.call({})}))&&(fe=be=function(){return me.call(this)});var We=p({},De);p(We,qe),m(We,ge,qe.values),p(We,{slice:Be,set:Fe,constructor:function(){},toString:fe,toLocaleString:ze}),Pe(We,"buffer","b"),Pe(We,"byteOffset","o"),Pe(We,"byteLength","l"),Pe(We,"length","e"),q(We,ye,{get:function(){return this[we]}}),e.exports=function(e,t,n,l){var c=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,p="set"+e,h=i[c],g=h||{},y=h&&E(h),v=!h||!s.ABV,w={},S=h&&h.prototype,C=function(e,n){q(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,je)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,je)}(this,n,e)},enumerable:!0})};v?(h=n((function(e,n,r,i){u(e,h,c,"_d");var o,a,s,l,d=0,p=0;if(k(n)){if(!(n instanceof X||(l=x(n))==G||l==V))return we in n?Me(h,n):Ie.call(h,n);o=n,p=Te(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw Y(_e);if((a=g-p)<0)throw Y(_e)}else if((a=f(i)*t)+p>g)throw Y(_e);s=a/t}else s=b(n),o=new X(a=s*t);for(m(e,"_d",{b:o,o:p,l:a,e:s,v:new Q(o)});d<s;)C(e,d++)})),S=h.prototype=_(We),m(S,"constructor",h)):o((function(){h(1)}))&&o((function(){new h(-1)}))&&O((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,i){var o;return u(e,h,c),k(n)?n instanceof X||(o=x(n))==G||o==V?void 0!==i?new g(n,Te(r,t),i):void 0!==r?new g(n,Te(r,t)):new g(n):we in n?Me(h,n):Ie.call(h,n):new g(b(n))})),K(y!==Function.prototype?j(g).concat(j(y)):j(g),(function(e){e in h||m(h,e,g[e])})),h.prototype=S,r||(S.constructor=h));var T=S[ge],A=!!T&&("values"==T.name||null==T.name),L=qe.values;m(h,ve,!0),m(S,we,c),m(S,Se,!0),m(S,xe,h),(l?new h(1)[ye]==c:ye in S)||q(S,ye,{get:function(){return c}}),w[c]=h,a(a.G+a.W+a.F*(h!=g),w),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){g.of.call(h,1)})),c,{from:Ie,of:Oe}),$ in S||m(S,$,t),a(a.P,c,De),N(c),a(a.P+a.F*Ce,c,{set:Fe}),a(a.P+a.F*!A,c,qe),r||S.toString==fe||(S.toString=fe),a(a.P+a.F*o((function(){new h(1).slice()})),c,{slice:Be}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),c,{toLocaleString:ze}),I[c]=A?T:L,r||A||m(S,ge,L)}}else e.exports=function(){}},29895:(e,t,n)=>{"use strict";var r=n(56341),i=n(51916),o=n(35113),a=n(67728),s=n(98442),l=n(24092),c=n(71240),u=n(30599),d=n(51549),m=n(61838),p=n(99707),h=n(14230).f,f=n(83530).f,b=n(70852),g=n(21309),y="ArrayBuffer",v="DataView",x="Wrong index!",k=r.ArrayBuffer,w=r.DataView,S=r.Math,_=r.RangeError,E=r.Infinity,j=k,C=S.abs,T=S.pow,A=S.floor,L=S.log,R=S.LN2,M="buffer",P="byteLength",I="byteOffset",O=i?"_b":M,N=i?"_l":P,z=i?"_o":I;function D(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?T(2,-24)-T(2,-77):0,d=0,m=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===E?(i=e!=e?1:0,r=l):(r=A(L(e)/R),e*(o=T(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?u/o:u*T(2,1-c))*o>=2&&(r++,o/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(e*o-1)*T(2,t),r+=c):(i=e*T(2,c-1)*T(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*m,a}function B(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:c?-E:E;r+=T(2,t),u-=a}return(c?-1:1)*r*T(2,u-t)}function F(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function q(e){return[255&e]}function H(e){return[255&e,e>>8&255]}function Y(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return D(e,52,8)}function W(e){return D(e,23,4)}function G(e,t,n){f(e.prototype,t,{get:function(){return this[n]}})}function V(e,t,n,r){var i=p(+n);if(i+t>e[N])throw _(x);var o=e[O]._b,a=i+e[z],s=o.slice(a,a+t);return r?s:s.reverse()}function $(e,t,n,r,i,o){var a=p(+n);if(a+t>e[N])throw _(x);for(var s=e[O]._b,l=a+e[z],c=r(+i),u=0;u<t;u++)s[l+u]=c[o?u:t-u-1]}if(a.ABV){if(!c((function(){k(1)}))||!c((function(){new k(-1)}))||c((function(){return new k,new k(1.5),new k(NaN),k.name!=y}))){for(var J,X=(k=function(e){return u(this,k),new j(p(e))}).prototype=j.prototype,Q=h(j),K=0;Q.length>K;)(J=Q[K++])in k||s(k,J,j[J]);o||(X.constructor=k)}var Z=new w(new k(2)),ee=w.prototype.setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||l(w.prototype,{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else k=function(e){u(this,k,y);var t=p(e);this._b=b.call(new Array(t),0),this[N]=t},w=function(e,t,n){u(this,w,v),u(e,k,v);var r=e[N],i=d(t);if(i<0||i>r)throw _("Wrong offset!");if(i+(n=void 0===n?r-i:m(n))>r)throw _("Wrong length!");this[O]=e,this[z]=i,this[N]=n},i&&(G(k,P,"_l"),G(w,M,"_b"),G(w,P,"_l"),G(w,I,"_o")),l(w.prototype,{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return F(V(this,4,e,arguments[1]))},getUint32:function(e){return F(V(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return B(V(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return B(V(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){$(this,1,e,q,t)},setUint8:function(e,t){$(this,1,e,q,t)},setInt16:function(e,t){$(this,2,e,H,t,arguments[2])},setUint16:function(e,t){$(this,2,e,H,t,arguments[2])},setInt32:function(e,t){$(this,4,e,Y,t,arguments[2])},setUint32:function(e,t){$(this,4,e,Y,t,arguments[2])},setFloat32:function(e,t){$(this,4,e,W,t,arguments[2])},setFloat64:function(e,t){$(this,8,e,U,t,arguments[2])}});g(k,y),g(w,v),s(w.prototype,a.VIEW,!0),t.ArrayBuffer=k,t.DataView=w},67728:(e,t,n)=>{for(var r,i=n(56341),o=n(98442),a=n(90430),s=a("typed_array"),l=a("view"),c=!(!i.ArrayBuffer||!i.DataView),u=c,d=0,m="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[m[d++]])?(o(r.prototype,s,!0),o(r.prototype,l,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},90430:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},83843:(e,t,n)=>{var r=n(56341).navigator;e.exports=r&&r.userAgent||""},91603:(e,t,n)=>{var r=n(17481);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},48155:(e,t,n)=>{var r=n(56341),i=n(14411),o=n(35113),a=n(38833),s=n(83530).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},38833:(e,t,n)=>{t.f=n(9739)},9739:(e,t,n)=>{var r=n(97355)("wks"),i=n(90430),o=n(56341).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},18444:(e,t,n)=>{var r=n(12845),i=n(9739)("iterator"),o=n(4919);e.exports=n(14411).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},71412:(e,t,n)=>{var r=n(35366);r(r.P,"Array",{copyWithin:n(4893)}),n(12802)("copyWithin")},35943:(e,t,n)=>{"use strict";var r=n(35366),i=n(66934)(4);r(r.P+r.F*!n(85139)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},30360:(e,t,n)=>{var r=n(35366);r(r.P,"Array",{fill:n(70852)}),n(12802)("fill")},33352:(e,t,n)=>{"use strict";var r=n(35366),i=n(66934)(2);r(r.P+r.F*!n(85139)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},83118:(e,t,n)=>{"use strict";var r=n(35366),i=n(66934)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(12802)(o)},18394:(e,t,n)=>{"use strict";var r=n(35366),i=n(66934)(5),o="find",a=!0;o in[]&&Array(1).find((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(12802)(o)},9106:(e,t,n)=>{"use strict";var r=n(35366),i=n(66934)(0),o=n(85139)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},65271:(e,t,n)=>{"use strict";var r=n(82794),i=n(35366),o=n(54200),a=n(55539),s=n(63894),l=n(61838),c=n(51676),u=n(18444);i(i.S+i.F*!n(61461)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,d,m=o(e),p="function"==typeof this?this:Array,h=arguments.length,f=h>1?arguments[1]:void 0,b=void 0!==f,g=0,y=u(m);if(b&&(f=r(f,h>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(t=l(m.length));t>g;g++)c(n,g,b?f(m[g],g):m[g]);else for(d=y.call(m),n=new p;!(i=d.next()).done;g++)c(n,g,b?a(d,f,[i.value,g],!0):i.value);return n.length=g,n}})},86174:(e,t,n)=>{"use strict";var r=n(35366),i=n(61545)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(85139)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},50160:(e,t,n)=>{var r=n(35366);r(r.S,"Array",{isArray:n(40689)})},71308:(e,t,n)=>{"use strict";var r=n(12802),i=n(78611),o=n(4919),a=n(8500);e.exports=n(19121)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},92523:(e,t,n)=>{"use strict";var r=n(35366),i=n(8500),o=[].join;r(r.P+r.F*(n(60975)!=Object||!n(85139)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},86975:(e,t,n)=>{"use strict";var r=n(35366),i=n(8500),o=n(51549),a=n(61838),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(85139)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},9139:(e,t,n)=>{"use strict";var r=n(35366),i=n(66934)(1);r(r.P+r.F*!n(85139)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},18221:(e,t,n)=>{"use strict";var r=n(35366),i=n(51676);r(r.S+r.F*n(71240)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},88292:(e,t,n)=>{"use strict";var r=n(35366),i=n(9857);r(r.P+r.F*!n(85139)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},59483:(e,t,n)=>{"use strict";var r=n(35366),i=n(9857);r(r.P+r.F*!n(85139)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},65441:(e,t,n)=>{"use strict";var r=n(35366),i=n(26137),o=n(89426),a=n(15044),s=n(61838),l=[].slice;r(r.P+r.F*n(71240)((function(){i&&l.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return l.call(this,e,t);for(var i=a(e,n),c=a(t,n),u=s(c-i),d=new Array(u),m=0;m<u;m++)d[m]="String"==r?this.charAt(i+m):this[i+m];return d}})},53289:(e,t,n)=>{"use strict";var r=n(35366),i=n(66934)(3);r(r.P+r.F*!n(85139)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},88375:(e,t,n)=>{"use strict";var r=n(35366),i=n(23079),o=n(54200),a=n(71240),s=[].sort,l=[1,2,3];r(r.P+r.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(85139)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},78772:(e,t,n)=>{n(75993)("Array")},32338:(e,t,n)=>{var r=n(35366);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},21575:(e,t,n)=>{var r=n(35366),i=n(41792);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},20641:(e,t,n)=>{"use strict";var r=n(35366),i=n(54200),o=n(9241);r(r.P+r.F*n(71240)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},91033:(e,t,n)=>{var r=n(9739)("toPrimitive"),i=Date.prototype;r in i||n(98442)(i,r,n(27687))},75611:(e,t,n)=>{var r=Date.prototype,i="Invalid Date",o=r.toString,a=r.getTime;new Date(NaN)+""!=i&&n(1564)(r,"toString",(function(){var e=a.call(this);return e==e?o.call(this):i}))},78769:(e,t,n)=>{var r=n(35366);r(r.P,"Function",{bind:n(46966)})},99383:(e,t,n)=>{"use strict";var r=n(17481),i=n(44408),o=n(9739)("hasInstance"),a=Function.prototype;o in a||n(83530).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},729:(e,t,n)=>{var r=n(83530).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(51916)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},82509:(e,t,n)=>{"use strict";var r=n(95144),i=n(91603),o="Map";e.exports=n(58091)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},12372:(e,t,n)=>{var r=n(35366),i=n(19007),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},30511:(e,t,n)=>{var r=n(35366),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},6781:(e,t,n)=>{var r=n(35366),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},74434:(e,t,n)=>{var r=n(35366),i=n(84247);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},14783:(e,t,n)=>{var r=n(35366);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},95521:(e,t,n)=>{var r=n(35366),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},94093:(e,t,n)=>{var r=n(35366),i=n(77117);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},86378:(e,t,n)=>{var r=n(35366);r(r.S,"Math",{fround:n(59396)})},52380:(e,t,n)=>{var r=n(35366),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,l=0;a<s;)l<(n=i(arguments[a++]))?(o=o*(r=l/n)*r+1,l=n):o+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(o)}})},2803:(e,t,n)=>{var r=n(35366),i=Math.imul;r(r.S+r.F*n(71240)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},63725:(e,t,n)=>{var r=n(35366);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},7977:(e,t,n)=>{var r=n(35366);r(r.S,"Math",{log1p:n(19007)})},14192:(e,t,n)=>{var r=n(35366);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},2940:(e,t,n)=>{var r=n(35366);r(r.S,"Math",{sign:n(84247)})},35731:(e,t,n)=>{var r=n(35366),i=n(77117),o=Math.exp;r(r.S+r.F*n(71240)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},79382:(e,t,n)=>{var r=n(35366),i=n(77117),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},38877:(e,t,n)=>{var r=n(35366);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},10348:(e,t,n)=>{"use strict";var r=n(56341),i=n(41063),o=n(89426),a=n(94805),s=n(9241),l=n(71240),c=n(14230).f,u=n(57762).f,d=n(83530).f,m=n(97370).trim,p="Number",h=r.Number,f=h,b=h.prototype,g=o(n(62545)(b))==p,y="trim"in String.prototype,v=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=y?t.trim():m(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,l=t.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>i)return NaN;return parseInt(l,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(g?l((function(){b.valueOf.call(n)})):o(n)!=p)?a(new f(v(t)),n,h):v(t)};for(var x,k=n(51916)?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)i(f,x=k[w])&&!i(h,x)&&d(h,x,u(f,x));h.prototype=b,b.constructor=h,n(1564)(r,p,h)}},64007:(e,t,n)=>{var r=n(35366);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},87616:(e,t,n)=>{var r=n(35366),i=n(56341).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},86762:(e,t,n)=>{var r=n(35366);r(r.S,"Number",{isInteger:n(22289)})},43316:(e,t,n)=>{var r=n(35366);r(r.S,"Number",{isNaN:function(e){return e!=e}})},93019:(e,t,n)=>{var r=n(35366),i=n(22289),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},40293:(e,t,n)=>{var r=n(35366);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},60640:(e,t,n)=>{var r=n(35366);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},96589:(e,t,n)=>{var r=n(35366),i=n(13765);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},93210:(e,t,n)=>{var r=n(35366),i=n(80500);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},71028:(e,t,n)=>{"use strict";var r=n(35366),i=n(51549),o=n(23373),a=n(40005),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d="0",m=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=l(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=l(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call(d,7-n.length)+n}return t},f=function(e,t,n){return 0===t?n:t%2==1?f(e,t-1,n*e):f(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(71240)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,l=o(this,u),c=i(e),b="",g=d;if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(b="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*f(2,69,1))-69)<0?l*f(2,-t,1):l/f(2,t,1),n*=4503599627370496,(t=52-t)>0){for(m(0,n),r=c;r>=7;)m(1e7,0),r-=7;for(m(f(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),m(1,1),p(2),g=h()}else m(0,n),m(1<<-t,0),g=h()+a.call(d,c);return c>0?b+((s=g.length)<=c?"0."+a.call(d,c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c)):b+g}})},2610:(e,t,n)=>{"use strict";var r=n(35366),i=n(71240),o=n(23373),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},88325:(e,t,n)=>{var r=n(35366);r(r.S+r.F,"Object",{assign:n(49821)})},57944:(e,t,n)=>{var r=n(35366);r(r.S,"Object",{create:n(62545)})},10266:(e,t,n)=>{var r=n(35366);r(r.S+r.F*!n(51916),"Object",{defineProperties:n(30413)})},65388:(e,t,n)=>{var r=n(35366);r(r.S+r.F*!n(51916),"Object",{defineProperty:n(83530).f})},40192:(e,t,n)=>{var r=n(17481),i=n(82153).onFreeze;n(81025)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},57557:(e,t,n)=>{var r=n(8500),i=n(57762).f;n(81025)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},54943:(e,t,n)=>{n(81025)("getOwnPropertyNames",(function(){return n(85009).f}))},63386:(e,t,n)=>{var r=n(54200),i=n(44408);n(81025)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},4649:(e,t,n)=>{var r=n(17481);n(81025)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},16736:(e,t,n)=>{var r=n(17481);n(81025)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},7260:(e,t,n)=>{var r=n(17481);n(81025)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},52798:(e,t,n)=>{var r=n(35366);r(r.S,"Object",{is:n(61541)})},30081:(e,t,n)=>{var r=n(54200),i=n(15825);n(81025)("keys",(function(){return function(e){return i(r(e))}}))},17026:(e,t,n)=>{var r=n(17481),i=n(82153).onFreeze;n(81025)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},24371:(e,t,n)=>{var r=n(17481),i=n(82153).onFreeze;n(81025)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},86911:(e,t,n)=>{var r=n(35366);r(r.S,"Object",{setPrototypeOf:n(87135).set})},84394:(e,t,n)=>{"use strict";var r=n(12845),i={};i[n(9739)("toStringTag")]="z",i+""!="[object z]"&&n(1564)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},15072:(e,t,n)=>{var r=n(35366),i=n(13765);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},19315:(e,t,n)=>{var r=n(35366),i=n(80500);r(r.G+r.F*(parseInt!=i),{parseInt:i})},12813:(e,t,n)=>{"use strict";var r,i,o,a,s=n(35113),l=n(56341),c=n(82794),u=n(12845),d=n(35366),m=n(17481),p=n(23079),h=n(30599),f=n(62971),b=n(59789),g=n(7122).set,y=n(37)(),v=n(83285),x=n(98332),k=n(83843),w=n(38614),S="Promise",_=l.TypeError,E=l.process,j=E&&E.versions,C=j&&j.v8||"",T=l.Promise,A="process"==u(E),L=function(){},R=i=v.f,M=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(9739)("species")]=function(e){e(L,L)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==C.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),P=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(i||(2==e._h&&z(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?c(_("Promise-chain cycle")):(o=P(n))?o.call(n,l,c):l(n)):c(r)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&O(e)}))}},O=function(e){g.call(l,(function(){var t,n,r,i=e._v,o=N(e);if(o&&(t=x((function(){A?E.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=A||N(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},z=function(e){g.call(l,(function(){var t;A?E.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw _("Promise can't be resolved itself");(t=P(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(B,r,1),c(D,r,1))}catch(e){D.call(r,e)}})):(n._v=e,n._s=1,I(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};M||(T=function(e){h(this,T,S,"_h"),p(e),r.call(this);try{e(c(B,this,1),c(D,this,1))}catch(e){D.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(24092)(T.prototype,{then:function(e,t){var n=R(b(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(B,e,1),this.reject=c(D,e,1)},v.f=R=function(e){return e===T||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!M,{Promise:T}),n(21309)(T,S),n(75993)(S),a=n(14411).Promise,d(d.S+d.F*!M,S,{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!M),S,{resolve:function(e){return w(s&&this===a?T:this,e)}}),d(d.S+d.F*!(M&&n(61461)((function(e){T.all(e).catch(L)}))),S,{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,o=x((function(){var n=[],o=0,a=1;f(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=x((function(){f(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},69310:(e,t,n)=>{var r=n(35366),i=n(23079),o=n(59719),a=(n(56341).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(71240)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),l=o(n);return a?a(r,t,l):s.call(r,t,l)}})},66722:(e,t,n)=>{var r=n(35366),i=n(62545),o=n(23079),a=n(59719),s=n(17481),l=n(71240),c=n(46966),u=(n(56341).Reflect||{}).construct,d=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),m=!l((function(){u((function(){}))}));r(r.S+r.F*(d||m),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(m&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var l=n.prototype,p=i(s(l)?l:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},18372:(e,t,n)=>{var r=n(83530),i=n(35366),o=n(59719),a=n(9241);i(i.S+i.F*n(71240)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},14604:(e,t,n)=>{var r=n(35366),i=n(57762).f,o=n(59719);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},84781:(e,t,n)=>{"use strict";var r=n(35366),i=n(59719),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(47938)(o,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},24395:(e,t,n)=>{var r=n(57762),i=n(35366),o=n(59719);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},49649:(e,t,n)=>{var r=n(35366),i=n(44408),o=n(59719);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},38416:(e,t,n)=>{var r=n(57762),i=n(44408),o=n(41063),a=n(35366),s=n(17481),l=n(59719);a(a.S,"Reflect",{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return l(t)===u?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=i(t))?e(c,n,u):void 0}})},32475:(e,t,n)=>{var r=n(35366);r(r.S,"Reflect",{has:function(e,t){return t in e}})},12924:(e,t,n)=>{var r=n(35366),i=n(59719),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},16337:(e,t,n)=>{var r=n(35366);r(r.S,"Reflect",{ownKeys:n(17285)})},83286:(e,t,n)=>{var r=n(35366),i=n(59719),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},68766:(e,t,n)=>{var r=n(35366),i=n(87135);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},47225:(e,t,n)=>{var r=n(83530),i=n(57762),o=n(44408),a=n(41063),s=n(35366),l=n(21761),c=n(59719),u=n(17481);s(s.S,"Reflect",{set:function e(t,n,s){var d,m,p=arguments.length<4?t:arguments[3],h=i.f(c(t),n);if(!h){if(u(m=o(t)))return e(m,n,s,p);h=l(0)}if(a(h,"value")){if(!1===h.writable||!u(p))return!1;if(d=i.f(p,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(p,n,d)}else r.f(p,n,l(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},87080:(e,t,n)=>{var r=n(56341),i=n(94805),o=n(83530).f,a=n(14230).f,s=n(89543),l=n(6439),c=r.RegExp,u=c,d=c.prototype,m=/a/g,p=/a/g,h=new c(m)!==m;if(n(51916)&&(!h||n(71240)((function(){return p[n(9739)("match")]=!1,c(m)!=m||c(p)==p||"/a/i"!=c(m,"i")})))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(h?new u(r&&!o?e.source:e,t):u((r=e instanceof c)?e.source:e,r&&o?l.call(e):t),n?this:d,c)};for(var f=function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},b=a(u),g=0;b.length>g;)f(b[g++]);d.constructor=c,c.prototype=d,n(1564)(r,"RegExp",c)}n(75993)("RegExp")},58615:(e,t,n)=>{"use strict";var r=n(18868);n(35366)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},39544:(e,t,n)=>{n(51916)&&"g"!=/./g.flags&&n(83530).f(RegExp.prototype,"flags",{configurable:!0,get:n(6439)})},45475:(e,t,n)=>{"use strict";var r=n(59719),i=n(61838),o=n(9959),a=n(29073);n(25307)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var l=r(e),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var d,m=[],p=0;null!==(d=a(l,c));){var h=String(d[0]);m[p]=h,""===h&&(l.lastIndex=o(c,i(l.lastIndex),u)),p++}return 0===p?null:m}]}))},33770:(e,t,n)=>{"use strict";var r=n(59719),i=n(54200),o=n(61838),a=n(51549),s=n(9959),l=n(29073),c=Math.max,u=Math.min,d=Math.floor,m=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(25307)("replace",2,(function(e,t,n,h){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=h(n,e,this,t);if(i.done)return i.value;var d=r(e),m=String(this),p="function"==typeof t;p||(t=String(t));var b=d.global;if(b){var g=d.unicode;d.lastIndex=0}for(var y=[];;){var v=l(d,m);if(null===v)break;if(y.push(v),!b)break;""===String(v[0])&&(d.lastIndex=s(m,o(d.lastIndex),g))}for(var x,k="",w=0,S=0;S<y.length;S++){v=y[S];for(var _=String(v[0]),E=c(u(a(v.index),m.length),0),j=[],C=1;C<v.length;C++)j.push(void 0===(x=v[C])?x:String(x));var T=v.groups;if(p){var A=[_].concat(j,E,m);void 0!==T&&A.push(T);var L=String(t.apply(void 0,A))}else L=f(_,m,E,j,T,t);E>=w&&(k+=m.slice(w,E)+L,w=E+_.length)}return k+m.slice(w)}];function f(e,t,r,o,a,s){var l=r+e.length,c=o.length,u=p;return void 0!==a&&(a=i(a),u=m),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var m=d(u/10);return 0===m?n:m<=c?void 0===o[m-1]?i.charAt(1):o[m-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},5201:(e,t,n)=>{"use strict";var r=n(59719),i=n(61541),o=n(29073);n(25307)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),l=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var u=o(s,l);return i(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},61385:(e,t,n)=>{"use strict";var r=n(89543),i=n(59719),o=n(59789),a=n(9959),s=n(61838),l=n(29073),c=n(18868),u=n(71240),d=Math.min,m=[].push,p=4294967295,h=!u((function(){RegExp(p,"y")}));n(25307)("split",2,(function(e,t,n,u){var f;return f="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?p:t>>>0,f=new RegExp(e.source,u+"g");(o=c.call(f,i))&&!((a=f.lastIndex)>d&&(l.push(i.slice(d,o.index)),o.length>1&&o.index<i.length&&m.apply(l,o.slice(1)),s=o[0].length,d=a,l.length>=h));)f.lastIndex===o.index&&f.lastIndex++;return d===i.length?!s&&f.test("")||l.push(""):l.push(i.slice(d)),l.length>h?l.slice(0,h):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):f.call(String(i),n,r)},function(e,t){var r=u(f,e,this,t,f!==n);if(r.done)return r.value;var c=i(e),m=String(this),b=o(c,RegExp),g=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),v=new b(h?c:"^(?:"+c.source+")",y),x=void 0===t?p:t>>>0;if(0===x)return[];if(0===m.length)return null===l(v,m)?[m]:[];for(var k=0,w=0,S=[];w<m.length;){v.lastIndex=h?w:0;var _,E=l(v,h?m:m.slice(w));if(null===E||(_=d(s(v.lastIndex+(h?0:w)),m.length))===k)w=a(m,w,g);else{if(S.push(m.slice(k,w)),S.length===x)return S;for(var j=1;j<=E.length-1;j++)if(S.push(E[j]),S.length===x)return S;w=k=_}}return S.push(m.slice(k)),S}]}))},35244:(e,t,n)=>{"use strict";n(39544);var r=n(59719),i=n(6439),o=n(51916),a="toString",s=/./.toString,l=function(e){n(1564)(RegExp.prototype,a,e,!0)};n(71240)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):s.name!=a&&l((function(){return s.call(this)}))},98253:(e,t,n)=>{"use strict";var r=n(95144),i=n(91603);e.exports=n(58091)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},50447:(e,t,n)=>{"use strict";n(79048)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},65624:(e,t,n)=>{"use strict";n(79048)("big",(function(e){return function(){return e(this,"big","","")}}))},51263:(e,t,n)=>{"use strict";n(79048)("blink",(function(e){return function(){return e(this,"blink","","")}}))},65193:(e,t,n)=>{"use strict";n(79048)("bold",(function(e){return function(){return e(this,"b","","")}}))},82858:(e,t,n)=>{"use strict";var r=n(35366),i=n(7384)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},22058:(e,t,n)=>{"use strict";var r=n(35366),i=n(61838),o=n(83256),a="endsWith",s="".endsWith;r(r.P+r.F*n(46881)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),l=void 0===n?r:Math.min(i(n),r),c=String(e);return s?s.call(t,c,l):t.slice(l-c.length,l)===c}})},28241:(e,t,n)=>{"use strict";n(79048)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},96723:(e,t,n)=>{"use strict";n(79048)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},9394:(e,t,n)=>{"use strict";n(79048)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},22539:(e,t,n)=>{var r=n(35366),i=n(15044),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},95472:(e,t,n)=>{"use strict";var r=n(35366),i=n(83256),o="includes";r(r.P+r.F*n(46881)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},66938:(e,t,n)=>{"use strict";n(79048)("italics",(function(e){return function(){return e(this,"i","","")}}))},74333:(e,t,n)=>{"use strict";var r=n(7384)(!0);n(19121)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},11961:(e,t,n)=>{"use strict";n(79048)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},39820:(e,t,n)=>{var r=n(35366),i=n(8500),o=n(61838);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},57001:(e,t,n)=>{var r=n(35366);r(r.P,"String",{repeat:n(40005)})},69659:(e,t,n)=>{"use strict";n(79048)("small",(function(e){return function(){return e(this,"small","","")}}))},57492:(e,t,n)=>{"use strict";var r=n(35366),i=n(61838),o=n(83256),a="startsWith",s="".startsWith;r(r.P+r.F*n(46881)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},23354:(e,t,n)=>{"use strict";n(79048)("strike",(function(e){return function(){return e(this,"strike","","")}}))},99620:(e,t,n)=>{"use strict";n(79048)("sub",(function(e){return function(){return e(this,"sub","","")}}))},638:(e,t,n)=>{"use strict";n(79048)("sup",(function(e){return function(){return e(this,"sup","","")}}))},28417:(e,t,n)=>{"use strict";n(97370)("trim",(function(e){return function(){return e(this,3)}}))},98997:(e,t,n)=>{"use strict";var r=n(56341),i=n(41063),o=n(51916),a=n(35366),s=n(1564),l=n(82153).KEY,c=n(71240),u=n(97355),d=n(21309),m=n(90430),p=n(9739),h=n(38833),f=n(48155),b=n(4535),g=n(40689),y=n(59719),v=n(17481),x=n(54200),k=n(8500),w=n(9241),S=n(21761),_=n(62545),E=n(85009),j=n(57762),C=n(32520),T=n(83530),A=n(15825),L=j.f,R=T.f,M=E.f,P=r.Symbol,I=r.JSON,O=I&&I.stringify,N=p("_hidden"),z=p("toPrimitive"),D={}.propertyIsEnumerable,B=u("symbol-registry"),F=u("symbols"),q=u("op-symbols"),H=Object.prototype,Y="function"==typeof P&&!!C.f,U=r.QObject,W=!U||!U.prototype||!U.prototype.findChild,G=o&&c((function(){return 7!=_(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=L(H,t);r&&delete H[t],R(e,t,n),r&&e!==H&&R(H,t,r)}:R,V=function(e){var t=F[e]=_(P.prototype);return t._k=e,t},$=Y&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},J=function(e,t,n){return e===H&&J(q,t,n),y(e),t=w(t,!0),y(n),i(F,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=_(n,{enumerable:S(0,!1)})):(i(e,N)||R(e,N,S(1,{})),e[N][t]=!0),G(e,t,n)):R(e,t,n)},X=function(e,t){y(e);for(var n,r=b(t=k(t)),i=0,o=r.length;o>i;)J(e,n=r[i++],t[n]);return e},Q=function(e){var t=D.call(this,e=w(e,!0));return!(this===H&&i(F,e)&&!i(q,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,N)&&this[N][e])||t)},K=function(e,t){if(e=k(e),t=w(t,!0),e!==H||!i(F,t)||i(q,t)){var n=L(e,t);return!n||!i(F,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=M(k(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==N||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=M(n?q:k(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(H,t)||o.push(F[t]);return o};Y||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=m(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(q,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),G(this,e,S(1,n))};return o&&W&&G(H,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",(function(){return this._k})),j.f=K,T.f=J,n(14230).f=E.f=Z,n(41144).f=Q,C.f=ee,o&&!n(35113)&&s(H,"propertyIsEnumerable",Q,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!Y,{Symbol:P});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=A(p.store),ie=0;re.length>ie;)f(re[ie++]);a(a.S+a.F*!Y,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=P(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!Y,"Object",{create:function(e,t){return void 0===t?_(e):X(_(e),t)},defineProperty:J,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var oe=c((function(){C.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return C.f(x(e))}}),I&&a(a.S+a.F*(!Y||c((function(){var e=P();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(v(t)||void 0!==e)&&!$(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,O.apply(I,r)}}),P.prototype[z]||n(98442)(P.prototype,z,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},63315:(e,t,n)=>{"use strict";var r=n(35366),i=n(67728),o=n(29895),a=n(59719),s=n(15044),l=n(61838),c=n(17481),u=n(56341).ArrayBuffer,d=n(59789),m=o.ArrayBuffer,p=o.DataView,h=i.ABV&&u.isView,f=m.prototype.slice,b=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(u!==m),{ArrayBuffer:m}),r(r.S+r.F*!i.CONSTR,g,{isView:function(e){return h&&h(e)||c(e)&&b in e}}),r(r.P+r.U+r.F*n(71240)((function(){return!new m(2).slice(1,void 0).byteLength})),g,{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,m))(l(i-r)),c=new p(this),u=new p(o),h=0;r<i;)u.setUint8(h++,c.getUint8(r++));return o}}),n(75993)(g)},12920:(e,t,n)=>{var r=n(35366);r(r.G+r.W+r.F*!n(67728).ABV,{DataView:n(29895).DataView})},30951:(e,t,n)=>{n(58754)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},10029:(e,t,n)=>{n(58754)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},76935:(e,t,n)=>{n(58754)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},56403:(e,t,n)=>{n(58754)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},95443:(e,t,n)=>{n(58754)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},17846:(e,t,n)=>{n(58754)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},51200:(e,t,n)=>{n(58754)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},69815:(e,t,n)=>{n(58754)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},43771:(e,t,n)=>{n(58754)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},57391:(e,t,n)=>{"use strict";var r,i=n(56341),o=n(66934)(0),a=n(1564),s=n(82153),l=n(49821),c=n(33503),u=n(17481),d=n(91603),m=n(91603),p=!i.ActiveXObject&&"ActiveXObject"in i,h="WeakMap",f=s.getWeak,b=Object.isExtensible,g=c.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(u(e)){var t=f(e);return!0===t?g(d(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,h),e,t)}},x=e.exports=n(58091)(h,y,v,c,!0,!0);m&&p&&(l((r=c.getConstructor(y,h)).prototype,v),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=x.prototype,n=t[e];a(t,e,(function(t,i){if(u(t)&&!b(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},33307:(e,t,n)=>{"use strict";var r=n(33503),i=n(91603),o="WeakSet";n(58091)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},98125:(e,t,n)=>{"use strict";var r=n(35366),i=n(3885),o=n(54200),a=n(61838),s=n(23079),l=n(44087);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=l(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(12802)("flatMap")},49348:(e,t,n)=>{"use strict";var r=n(35366),i=n(61545)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(12802)("includes")},1768:(e,t,n)=>{var r=n(35366),i=n(15346)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},59223:(e,t,n)=>{var r=n(35366),i=n(17285),o=n(8500),a=n(57762),s=n(51676);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),l=a.f,c=i(r),u={},d=0;c.length>d;)void 0!==(n=l(r,t=c[d++]))&&s(u,t,n);return u}})},67442:(e,t,n)=>{var r=n(35366),i=n(15346)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},14936:(e,t,n)=>{"use strict";var r=n(35366),i=n(14411),o=n(56341),a=n(59789),s=n(38614);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},20239:(e,t,n)=>{"use strict";var r=n(35366),i=n(9823),o=n(83843),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},28755:(e,t,n)=>{"use strict";var r=n(35366),i=n(9823),o=n(83843),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},53412:(e,t,n)=>{"use strict";n(97370)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},66948:(e,t,n)=>{"use strict";n(97370)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},78284:(e,t,n)=>{n(48155)("asyncIterator")},78745:(e,t,n)=>{for(var r=n(71308),i=n(15825),o=n(1564),a=n(56341),s=n(98442),l=n(4919),c=n(9739),u=c("iterator"),d=c("toStringTag"),m=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),f=0;f<h.length;f++){var b,g=h[f],y=p[g],v=a[g],x=v&&v.prototype;if(x&&(x[u]||s(x,u,m),x[d]||s(x,d,g),l[g]=m,y))for(b in r)x[b]||o(x,b,r[b],!0)}},60025:(e,t,n)=>{var r=n(35366),i=n(7122);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},51629:(e,t,n)=>{var r=n(56341),i=n(35366),o=n(83843),a=[].slice,s=/MSIE .\./.test(o),l=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},1523:(e,t,n)=>{n(51629),n(60025),n(78745),e.exports=n(14411)},67228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},22858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},23646:(e,t,n)=>{var r=n(67228);e.exports=function(e){if(Array.isArray(e))return r(e)}},81506:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},48926:e=>{function t(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,l,"next",e)}function l(e){t(a,i,o,s,l,"throw",e)}s(void 0)}))}}},34575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},93913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},59713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},67154:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},29754:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},2205:(e,t,n)=>{var r=n(99489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},46860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},13884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},80521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},98206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},6479:(e,t,n)=>{var r=n(37316);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},37316:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},78585:(e,t,n)=>{var r=n(50008),i=n(81506);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},99489:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},63038:(e,t,n)=>{var r=n(22858),i=n(13884),o=n(60379),a=n(80521);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},319:(e,t,n)=>{var r=n(23646),i=n(46860),o=n(60379),a=n(98206);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},50008:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},60379:(e,t,n)=>{var r=n(67228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},87757:(e,t,n)=>{e.exports=n(35666)},3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["components","mdxType","originalType","parentName"]),d=l(n),m=i,p=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?r.createElement(p,a(a({ref:t},c),{},{components:n})):r.createElement(p,a({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},94184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&e.push(a)}else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},18923:e=>{e.exports=[{name:"README.md",path:"/README.md",type:"file",mdconf:{abbrlink:"z5dbvyod"},birthtime:"2021-12-08",mtime:"2021-12-08",size:17291,extension:".md",relative:"/README.md",isEmpty:!1,content:'\x3c!--abbrlink:z5dbvyod--\x3e<divalign="center"><ahref="http://muyunyun.cn/blog"><imgsrc="http://with.muyunyun.cn/ec330b8ac2175c828be41f446f9f9619.jpg"/></a></div>![views](https://raw.githubusercontent.com/MuYunyun/blog/traffic/traffic-blog/views.svg)![views](https://raw.githubusercontent.com/MuYunyun/blog/traffic/traffic-blog/views_per_week.svg)![clones](https://raw.githubusercontent.com/MuYunyun/blog/traffic/traffic-blog/clones.svg)![clones](https://raw.githubusercontent.com/MuYunyun/blog/traffic/traffic-blog/clones_per_week.svg)Thisismypersinalblogcreatedwith<ahref="https://github.com/MuYunyun/create-react-doc"target="_blank">create-react-doc</a>wheretowriteandrecordsomethoughtdaily.Ifyoulikeit,welcomewatchorstar✨.It\'sverythankfultopointanywrongplacefromthesearticles[there](https://github.com/MuYunyun/blog/issues/new)aswell.TheArticleslicensedunder[CreativeCommonsAttribution4.0InternationalLicense](https://creativecommons.org/licenses/by/4.0/deed.en)Agreement.-[DataStructure](#data-structure)-[DesignPattern](#design-pattern)-[ReactSeries](#react-series)-[DeepIntoReact](#deep-into-react)-[ComponentDesign](#component-design)-[ReactStack](#react-stack)-[BuildReactfromscratch](#build-react-from-scratch)-[ModernTesting](#modern-testing)-[TypeScript](#typescript)-[FECloud](#fe-cloud)-[JavaScript](#javascript)-[CSS](#css)-[Node.js](#nodejs)-[FECLOUD](#fe-cloud-1)-[ProjectFramework](#project-framework)-[RaspberryPi](#raspberrypi)###DataStructureThissectionwewillstarttralvelintheworldofdatastrcturetogether!Thereisnodoubtthetravelissointerestringthatyou\'llenjoyittoo!Beforeyourtravelofdatastructure,Iwanttotelltwopointsit\'svalueble:1.InterestandInsist.2.Thoughtismoreimportantthanaction.>[TravelOfLeetCode](https://github.com/MuYunyun/blog/blob/main/LeetCode/README.md)*[Stack](https://github.com/MuYunyun/blog/blob/main/Algorithm/data_structure/stack.md)*[Queue](https://github.com/MuYunyun/blog/blob/main/Algorithm/data_structure/queue.md)*[List](https://github.com/MuYunyun/blog/blob/main/Algorithm/data_structure/list.md)*[Set](https://github.com/MuYunyun/blog/blob/main/Algorithm/data_structure/set.md)*[Dictionary](https://github.com/MuYunyun/blog/blob/main/Algorithm/data_structure/.md)*[HashTable](https://github.com/MuYunyun/blog/blob/main/Algorithm/data_structure/hash_table.md)*[BinaryTree](https://github.com/MuYunyun/blog/blob/main/Algorithm/data_structure/binary_tree.md)*[Graph](https://github.com/MuYunyun/blog/blob/main/Algorithm/data_structure/graph.md)<details><summary>algorithm</summary>*[AlgorithmAndComplexy](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/complexy.md)*[Recursive](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/recursive.md)*[BinarySearch](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/binary_search.md)*[GreedyAlgorithm](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/greedy.md)*[DynamicProgramming](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/dynamic_programming.md)**SortAlgorithm***[SelectionSort](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/sort/selection_sort.md)*[QuickSort](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/sort/quick_sort.md)*[MergeSort](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/sort/merge_sort.md)*[HeapSort](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/sort/heap_sort.md)算法是一种思想!以排序算法为例,最常见的是在数组中使用排序算法,但是相同的思想也能用于数组对象,甚至链表中,比如链表中实现排序的两道题。1.[147.InsertionSortList](https://github.com/MuYunyun/blog/blob/main/BasicSkill/LeetCode/147.Insertion_Sort_List/README.md):insertsortinlist;2.[148.SortList](https://github.com/MuYunyun/blog/blob/main/BasicSkill/LeetCode/148.Sort_List/README.md):mergesortinlist;</details>###DesignPattern*[SingletonPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/单例模式.md)*[StralegyPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/策略模式.md)*[ProxyPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/代理模式.md)*[IteratorPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/迭代器模式.md)*[Publish/SubscribePattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/发布订阅模式.md)*[CommandPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/命令模式.md)*[CompositePattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/组合模式.md)*[TemplateMethodPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/模板方法模式.md)*[FlyweightPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/享元模式.md)*[ChainofResponsibilityPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/职责链模式.md)*[MediatorPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/中介者模式.md)*[DecoratorPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/装饰者模式.md)*[StatePattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/状态模式.md)*[AdapterPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/适配者模式.md)*[ObserverPattern](https://github.com/MuYunyun/blog/blob/main/BasicSkill/设计模式/观察者模式.md)###ReactSeriesThissectionwillintroducetheworldofReactprogressively.It\'lltelltheprincipleofReact,howtodesignReactComponentgracefullyandhowtobuildasimpleReactfromscratch.####DeepIntoReact*[React16.x特性剪辑](https://github.com/MuYunyun/blog/blob/main/React/React16.x特性剪辑.md)*[Fiber数据结构](https://github.com/MuYunyun/blog/blob/main/React/Fiber数据结构.md)*[深入Fiber架构](https://github.com/MuYunyun/blog/blob/main/React/深入Fiber架构.md)*[流畅性](https://github.com/MuYunyun/blog/blob/main/React/流畅性.md)*[Schedule](https://github.com/MuYunyun/blog/blob/main/React/schedule.md)*[你不知道的requestIdleCallback](https://github.com/MuYunyun/blog/blob/main/React/你不知道的requestIdleCallback.md)*[ReactSuspense解决了什么](https://github.com/MuYunyun/blog/blob/main/React/suspense解决了什么.md)*[ReactHooks深入系列](https://github.com/MuYunyun/blog/blob/main/React/React_Hooks深入系列.md)*[ReactHooks设计模式](https://github.com/MuYunyun/blog/blob/main/React/React_Hooks设计模式.md)*[React暗器百解](https://github.com/MuYunyun/blog/blob/main/React/React暗器百解.md)####ComponentDesign*[重新认识受控与非受控组件](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/重新认识受控与非受控组件.md)-[][BuildMobileFirstAnimationInReact](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/build_mobile_first_animation.md)<details><summary>More</summary>*[Button](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/Button.md)*[Icon](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/Icon.md)*[Menu](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/Menu.md)*[Keyboard](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/Keyboard.md)*[Carousel](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/swipe.md)*[Tabs](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/Tabs.md)*[Affix](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/Affix.md)*[AddressPicker](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/AddressPicker.md)*[CheckBox](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/CheckBox.md)*[Form](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/Form.md),[oneForm](https://github.com/MuYunyun/oneForm/issues/1)*[SearchBar](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/SearchBar.md)*[Modal](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/modal.md)*[TextArea](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/TextArea.md)*[主题色替换方案](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/主题色替换方案.md)*[移动端组件测试指北](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/移动端组件测试指北.md)-[][组件设计实践](https://github.com/MuYunyun/blog/blob/main/React/Component_Design/组件开发实践.md)</details>####ReactStack*[Redux与Mobx适用场景](https://github.com/MuYunyun/blog/blob/main/React/相关技术栈/Redux与Mobx适用场景.md)*[MVVM框架解析之双向绑定](https://github.com/MuYunyun/FeCloud/issues/11)<ahref=\'https://github.com/MuYunyun/mvvm\'target="_blank"><sub>(相关项目)</sub></a>*[探索从MVC到MVVM+Flux架构模式的转变](https://github.com/MuYunyun/blog/issues/14)<ahref=\'https://github.com/MuYunyun/stateManage\'target="_blank"><sub>(相关项目)</sub></a>*[reduxmiddleware源码分析](https://github.com/MuYunyun/blog/issues/15)*[在React使用immutable数据的优势](https://github.com/MuYunyun/blog/blob/main/React/在react使用immutable数据的优势.md)*[路由的简易实现](https://github.com/MuYunyun/blog/blob/main/React/router的简易实现.md)*[React在服务端渲染的实现](https://github.com/MuYunyun/blog/issues/4)*[定制自己的react-script](https://github.com/MuYunyun/blog/blob/main/React/定制自己的react-script.md)*[使用React全家桶搭建一个后台管理系统](https://github.com/MuYunyun/blog/issues/3)<ahref=\'https://github.com/MuYunyun/reactSPA\'target="_blank"><sub>(相关项目)</sub></a>####BuildReactfromscratch*[前置准备](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/0.前置准备.md)*[JSX和VirtualDOM](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/1.JSX和虚拟DOM.md)*[组件和state|props](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/2.2.组件和state与props.md)*[生命周期](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/3.生命周期.md)*[diff算法](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/4.diff算法.md)*[setState优化](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/5.setState.md)*[ref的实现](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/6.ref.md)*[PureComponent的实现](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/7.PureComponent.md)*[HOC探索](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/8.HOC探索.md)*[onChange事件以及受控组件](https://github.com/MuYunyun/blog/blob/main/React/从0到1实现React/9.onChange事件以及受控组件.md)####ModernTesting*[React现代化测试](https://github.com/MuYunyun/blog/blob/main/React/测试/React现代化测试.md)*[Jest与react-testing-Library](https://github.com/MuYunyun/blog/blob/main/React/测试/Jest与ReactTestingLibrary.md)###TypeScript*[TypeScript基础篇](https://github.com/MuYunyun/blog/blob/main/TypeScript/README.md)*[TypeScript中的类型](https://github.com/MuYunyun/blog/blob/main/TypeScript/Types.md)*[TypeScript中的函数使用](https://github.com/MuYunyun/blog/blob/main/TypeScript/More_On_Functions.md)*[TypeScript中的工具类型](https://github.com/MuYunyun/blog/blob/main/TypeScript/Utility_Types.md)*[TypesvsInterfaces](https://github.com/MuYunyun/blog/blob/main/TypeScript/Types_vs_Interfaces.md)*[TypeScriptextends精读与实践](https://github.com/MuYunyun/blog/blob/main/TypeScript/extends.md)###FECloudThissectionwilltalkaboutcolorfulfrontendworld.####JavaScript*[你不知道的JavaScript](https://github.com/MuYunyun/blog/issues/2)*[红皮书里的细节](https://github.com/MuYunyun/blog/blob/main/BasicSkill/basis/二刷高程.md)*[探寻JavaScript精度问题](https://github.com/MuYunyun/blog/blob/main/BasicSkill/basis/探寻JavaScript精度问题.md)*[函数式编程入门](https://github.com/MuYunyun/blog/blob/main/BasicSkill/编程范式/函数式编程入门.md)*[Decorator](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/装饰器.md)*[Promise](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/Promise.md)<ahref=\'https://github.com/MuYunyun/repromise\'target="_blank"><sub>(相关项目)</sub></a>*[Generator](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/Generator.md)*[Async](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/Async.md)*[CommonJS模块与ES6模块间的差异](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/模块.md)*[ES6继承与ES5继承的差异](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/继承.md)*[扩展运算符](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/扩展运算符.md)*[箭头函数](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/箭头函数.md)*[Reflect](https://github.com/MuYunyun/blog/blob/main/BasicSkill/readES6/Reflect.md)####CSS*[INHERITEDANDNON-INHERITED](https://github.com/MuYunyun/blog/blob/main/BasicSkill/css/INHERITED_AND_NON-INHERITED.md)<details><summary>more</summary>*[水平布局解决方案](https://github.com/MuYunyun/blog/blob/main/BasicSkill/basis/水平布局解决方案.md)*[聊聊BFC](https://github.com/MuYunyun/blog/blob/main/BasicSkill/css/聊聊BFC.md)*[过渡与动画](https://github.com/MuYunyun/blog/blob/main/BasicSkill/css/css小书/过渡与动画.md)</details>####Node.js*[简版express.js的实现](http://muyunyun.cn/blog/BasicSkill/node/implement_express.js)*[简版koa.js的实现](http://muyunyun.cn/blog/#/BasicSkill/node/implement_koa.js)*[Node.js异步异闻录](https://github.com/MuYunyun/blog/issues/7)<ahref=\'https://github.com/MuYunyun/demos-of-node.js\'target="_blank"><sub>(相关项目)</sub></a>*[用Node.js把玩一番AlfredWorkflow](https://github.com/MuYunyun/blog/issues/6)<ahref=\'https://github.com/MuYunyun/commonSearch\'target="_blank"><sub>(相关项目)</sub></a>####FECLOUD*[SEO在SPA站点中的实践](https://github.com/MuYunyun/blog/blob/main/FeCloud/seo_in_spa_site.md)*[TalkaboutTC39](https://github.com/MuYunyun/blog/blob/main/FeCloud/tc39.md)*[跨域二三事](https://github.com/MuYunyun/blog/blob/main/BasicSkill/http/cross-domain.md)<ahref=\'https://github.com/MuYunyun/cross-domain\'target="_blank"><sub>(相关项目)</sub></a>*[HTTP小册](https://github.com/MuYunyun/blog/blob/main/BasicSkill/http/http.md)*[HTML5](https://github.com/MuYunyun/blog/blob/main/BasicSkill/basis/HTML5.md)*[探寻webpack插件机制](https://github.com/MuYunyun/blog/blob/main/FeCloud/探寻webpack插件机制.md)<ahref=\'https://github.com/MuYunyun/analyze-webpack-plugin\'target="_blank"><sub>(相关项目)</sub></a>*[Babel执行机制](https://github.com/MuYunyun/blog/blob/main/FeCloud/babel执行机制.md)*[npm与yarn](https://github.com/MuYunyun/blog/tree/main/FeCloud/yarn)*[移动端场景知识](https://github.com/MuYunyun/blog/blob/main/BasicSkill/basis/移动端场景知识.md)*[原生JS实现一个瀑布流插件](https://github.com/MuYunyun/FeCloud/issues/12)<ahref=\'https://github.com/MuYunyun/waterfall\'target="_blank"><sub>(相关项目)</sub></a>*[实现一个自定义工具类库](https://github.com/MuYunyun/blog/issues/9)<ahref=\'https://github.com/MuYunyun/diana\'target="_blank"><sub>(相关项目)</sub></a>*[走近Python](https://github.com/MuYunyun/blog/issues/8)####ProjectFramework*[CAS登入流程](https://github.com/MuYunyun/blog/blob/main/BasicSkill/project_framework/CAS登入流程.md)*[RPC在网关项目中的实践](https://github.com/MuYunyun/blog/blob/main/BasicSkill/project_framework/RPC在点我达网关的实践一.md)*[解读IoC框架——InversifyJS](https://github.com/MuYunyun/blog/blob/main/BasicSkill/project_framework/解读IoC框架InversifyJS.md)###RaspberryPiJustdoitforfun!Youwillunlockserver,linux,nginxskillsfromthisRaspberryPitravel.>Thanksforthe[pi](https://github.com/zhaoolee/pi)projectspecially.1.[树莓派简介&烧录系统](https://muyunyun.cn/blog/rahvuwkb)2.[内网穿透](https://muyunyun.cn/blog/fes9wogn)3.[基于树莓派搭建家庭服务器](https://muyunyun.cn/blog/r4zxdn6n)4.[给树莓派安装Docker环境](https://muyunyun.cn/blog/2a97pq3a)5.[给树莓派部署RSSHub](https://muyunyun.cn/blog/wns8hpzc)6.[HTTPS协议配置](https://muyunyun.cn/blog/mx5pvgl1)7.[树莓派部署code-server](https://muyunyun.cn/blog/n45adwng)'},{name:"React",path:"/React",children:[{name:"Component_Design",path:"/React/Component_Design",children:[{name:"AddressPicker.md",path:"/React/Component_Design/AddressPicker.md",type:"file",mdconf:{abbrlink:"oe699e2p"},birthtime:"2021-12-08",mtime:"2021-12-08",size:224,extension:".md",relative:"/React/Component_Design/AddressPicker.md",isEmpty:!1,content:"\x3c!--abbrlink:oe699e2p--\x3e###AddressPicker`AddressPicker`是基于`Tabs`组件封装的地址选择组件,具体效果可以见拼多多用户APP里的地址选择栏。*支持`层级`;*支持`别名函数`;"},{name:"Affix.md",path:"/React/Component_Design/Affix.md",type:"file",mdconf:{abbrlink:"fd4ap89c"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1006,extension:".md",relative:"/React/Component_Design/Affix.md",isEmpty:!1,content:"\x3c!--abbrlink:fd4ap89c--\x3e###Affix固钉组件固钉组件实现的效果其实是CSS中的`position:sticky`属性,`position:sticky`本质是`position:relative`与`position:absolute`的结合体。开发坑点:相对定位切换到绝对定位以后`getBoundingClientRect().top`获取的top是定值,其值始终与`offsetTop`的值相等，这样无法从绝对定位切换到相对定位了。解决手段:提供一个占位父节点,父节点使用`getBoundingClientRect`,子节点上绝对定位。[demo](https://github.com/ming-cult/snake-design/blob/master/components/Affix/index.tsx#L83-L87)###smalltip```jswindow.addEventListener('scroll',fn)```页面在顶部,此时刷新浏览器不会执行fn函数,但是页面发生滚动后,此时刷新浏览器会执行fn函数。因此根据浏览器的这个原生特性,初始化设置「是否吸顶」的逻辑直接写在fn中就行，当页面发生滚动或者页面初始化都会调用。"},{name:"Button.md",path:"/React/Component_Design/Button.md",type:"file",mdconf:{abbrlink:"1g88yeca"},birthtime:"2021-12-08",mtime:"2021-12-08",size:737,extension:".md",relative:"/React/Component_Design/Button.md",isEmpty:!1,content:"\x3c!--abbrlink:1g88yeca--\x3e###Button组件####样式自定义覆盖```jsgetClassName=()=>{const{className,type}=this.propsconstclassStr=ClassNames('mobile-btn',className,{['mobile-btn-primary']:type==='primary',})returnclassStr}``````scss.mobile-btn{...&-primary{background:$btn-background;}}```这里有个样式优先级的知识点,如果想让传进来的自定义样式`className`中的background覆盖掉`mobile-btn-promary`的`background`,需做如下改动:```scss.mobile-btn{...}&.mobile-btn-primary{background:$btn-background;}```###难点在移动端中,手指移到button按钮上时如何模拟pc端的hover状态?"},{name:"Carousel.md",path:"/React/Component_Design/Carousel.md",type:"file",mdconf:{abbrlink:"n2xngha2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3775,extension:".md",relative:"/React/Component_Design/Carousel.md",isEmpty:!1,content:'\x3c!--abbrlink:n2xngha2--\x3e###Carousel(走马灯)组件事件是交给原生事件还是交由React的合成事件呢?在最初的实现中参考[react-swipe](https://github.com/voronianski/react-swipe/blob/gh-pages/src/index.js)相当于是自己封装原生事件。但是在React的生态下，还是尽量用`React`封装的合成事件更为妥当。举几个原因:1.兼容性方面的东西不用自己维护了;2.测试用例用`.simulate`的时候能统一;>原生事件和React合成事件类似鱼和熊掌不可兼得。###前置知识*touchStart*touchMove*touchEnd*transitionend>e.touches[0].pageX,cdn讲了其包含水平滚动的位置###核心思路![](http://with.muyunyun.cn/8151b27a39eb385305185d0a67736011.jpg-400)*比如当前位于第3张图片位于中央的时候,第1、2张图片位于左侧的`rest`,第4、5张图片位于右侧的`rest`;初始化阶段对任何窗口执行以下算法:1.`向左平移当前窗口数*width`2.给除了当前展示页加上/减去`width`*每次只操作当前的`index`,和其左右的元素`index-1`、`index+1`;*自动滑动用的是css中的`transitionDuration`属性以及`transform`属性来完成###理解易错点```jsdelta={x:touches.pageX-start.x,y:touches.pageY-start.y};```*手势从左往右滑动是向左滑动`delta.x>0`,手势从右往左滑动是向右滑动`delta.x<0`###坑点####不必要的id传入为了解决在一个页面中使用多处`Swipe`组件，首先提供了一个id参数来进行区分多个Swipe组件,思路是在封装的组件内部通过`document.getElementById(id)`获取到这个dom节点，然后进行位置的初始化。```js<Swipeid="demo"></Swipe>```传入额外的id这对使用者是一个不必要的负担,可以在组件内使用`ref`获取到对应的`dom`。####如何改造成受控组件目前的实现为非受控组件,若要将其改为受控组件,改的地方比较多,必须使用`state`来替换全局参数。另外位置的信息在`React.cloneElement()`中进行处理。####测试用例之坑`jest`跑如下测试用例,当跑到`componentDidMount`里的`document.getElementById(\'demo\')`并不拿到相应元素。```jsmount(<Swipe><divkey="1">PANE1</div><divkey="2">PANE2</div><divkey="3">PANE3</div><divkey="4">PANE4</div></Swipe>)``````jsxcomponentDidMount(){document.getElementById(\'demo\')}render(){return(<divid="demo">...</div>)}```原因是因为`mount`渲染组件是挂载到[jsdom](https://github.com/jsdom/jsdom)上而非真实`dom`上,当时的解决思路如下:```jsmount(<Swipe><divkey="1">PANE1</div><divkey="2">PANE2</div><divkey="3">PANE3</div><divkey="4">PANE4</div></Swipe>,{attatch:document.body})```经过上述去除步骤去掉`document.getElementById`使用ref后,`{attatch:document.body}`也便去掉了。###CSS方案?*scroll-snap-type*mandatory:thevisualviewportofthisscrollcontainerwill`restonasnappoint`ifitisn\'tcurrentlyscrolled.*proximity:Thevisualviewportofthisscrollcontainermaycometo`restonasnappoint`ifitisn\'tcurrentlyscrolledconsideringtheuseragent\'sscrollparameters.![](http://with.muyunyun.cn/56583153afaa5ae1edad7bea4b728234.jpg-400)*scroll-snap-align:start;*scroll-snap-stop(experiment)*always:definingwhetherthescrollcontainerisallowedto"passover"possiblesnappositions(Usedwithscroll-snap-aligncan).阅读文档后,该api浏览器兼容情况不是特别好(ios要11以上),此外,比如循环轮播是无法实现的。'},{name:"CheckBox.md",path:"/React/Component_Design/CheckBox.md",type:"file",mdconf:{abbrlink:"91evrivd"},birthtime:"2021-12-08",mtime:"2021-12-08",size:891,extension:".md",relative:"/React/Component_Design/CheckBox.md",isEmpty:!1,content:"\x3c!--abbrlink:91evrivd--\x3e###CheckBox组件*勾的定制化:首先使用`appearance:none`去掉原生自带的勾。接着创建一个矩形,保留`border-left`与`border-bottom`的边,进行旋转得到勾。###能用css解决的场景尽量用css解决![](http://with.muyunyun.cn/6a44d5cba2693eea4e162f8514aa72ba.jpg)场景:蓝色区域为可以更改`checked`的地方,最开始使用JS计算出区域1与区域2的宽度,使之相加得到蓝色区域的宽度。其实使用css中的`display:inline-block`可以自动获取子节点的宽度。###css的常量属性(比如color、size)不要设置默认属性值(defaultProps)使用了默认属性值则会配合JS动态插入到`style`属性,这样子有个缺陷:用户传入自定义的`class属性`不会生效。(因为style的优先级大于class传入的优先级)"},{name:"Circle.md",path:"/React/Component_Design/Circle.md",type:"file",mdconf:{abbrlink:"7w8gkx51"},birthtime:"2021-12-08",mtime:"2021-12-08",size:109,extension:".md",relative:"/React/Component_Design/Circle.md",isEmpty:!1,content:"\x3c!--abbrlink:7w8gkx51--\x3e###环形进度条组件环形进度条组件当下采用svg进行开发。"},{name:"Cropper.md",path:"/React/Component_Design/Cropper.md",type:"file",mdconf:{abbrlink:"51z9lacn"},birthtime:"2021-12-08",mtime:"2021-12-08",size:118,extension:".md",relative:"/React/Component_Design/Cropper.md",isEmpty:!1,content:"\x3c!--abbrlink:51z9lacn--\x3e###裁图组件###link*[裁图组件](https://segmentfault.com/a/1190000004268074)"},{name:"DatePicker.md",path:"/React/Component_Design/DatePicker.md",type:"file",mdconf:{abbrlink:"ig3vu158"},birthtime:"2021-12-08",mtime:"2021-12-08",size:289,extension:".md",relative:"/React/Component_Design/DatePicker.md",isEmpty:!1,content:"\x3c!--abbrlink:ig3vu158--\x3e###DatePicker日期选择组件*`区分好受控和非受控区域`。DatePicker组件中,日期滑动区域对用户来说是希望是非受控的。但是点击确定按钮回显到界面上是受控逻辑。###核心逻辑复用同Picker组件"},{name:"Drawer.md",path:"/React/Component_Design/Drawer.md",type:"file",mdconf:{abbrlink:"kdw5hw4c"},birthtime:"2021-12-08",mtime:"2021-12-08",size:107,extension:".md",relative:"/React/Component_Design/Drawer.md",isEmpty:!1,content:"\x3c!--abbrlink:kdw5hw4c--\x3e###Drawer组件###两种模式*挂载到全局*挂载到具体节点"},{name:"Form.md",path:"/React/Component_Design/Form.md",type:"file",mdconf:{abbrlink:"yjp6glo1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:848,extension:".md",relative:"/React/Component_Design/Form.md",isEmpty:!1,content:"\x3c!--abbrlink:yjp6glo1--\x3e在中台中React组件库的核心是表单组件,由此衍生出其它和表单相关的组件。###表单相关*触发焦点事件`focusin`,离开焦点事件`focusout`;*修改表单的`value`值,直接更改元素的`value`值,不要使用`setAttribute('value',xxx)`这种形式,后者在某些情况并不会生效;###社区form方案调研*[react-final-form](https://github.com/final-form/react-final-form)*[redux-form](https://github.com/erikras/redux-form)*[noform](https://github.com/alibaba/noform)*[Informed](https://github.com/joepuzzo/informed):renderprops*[formik](https://github.com/jaredpalmer/formik)###应用*[oneForm](https://github.com/MuYunyun/oneForm/issues/1)*[beast-form](https://uni-blog.netlify.com/posts/2019-08-19/form/):拼多多表单库"},{name:"Icon.md",path:"/React/Component_Design/Icon.md",type:"file",mdconf:{abbrlink:"jv1qrbmc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:580,extension:".md",relative:"/React/Component_Design/Icon.md",isEmpty:!1,content:"\x3c!--abbrlink:jv1qrbmc--\x3e###Icon组件###IconFonts的用法```css@font-face{font-family:'demoFont';src:...}.demo{font-family:'demoFont';...}```###Icon组件的两种实现方式1.@font-face2.svg`SVG`相较于优于`IconFonts`的点。*在低分辨率下更加清晰;*维护更容易;*css控制更加全面(比如允许渐变色)*避免@font-face受到较多外界css属性的干扰(如line-height、padding等);###links*[https://css-tricks.com/icon-fonts-vs-svg/](https://css-tricks.com/icon-fonts-vs-svg/)"},{name:"Input.md",path:"/React/Component_Design/Input.md",type:"file",mdconf:{abbrlink:"np9vhb7s"},birthtime:"2021-12-08",mtime:"2021-12-08",size:701,extension:".md",relative:"/React/Component_Design/Input.md",isEmpty:!1,content:"\x3c!--abbrlink:np9vhb7s--\x3e###Input组件###inputtype为bankCard或phone时,光标错位问题![](http://with.muyunyun.cn/5d99b6bb211806c1e3a19361125e06e8.jpg)*遇到问题:在光标位置输入5,光标位置出现错误在光标位置输入5,光标此时的selectionStart/selectionEnd变为5,可推测规律当判断4的位置为''时,应该让selectionStart=selectionEnd=光标位置+1![](http://with.muyunyun.cn/55efc4cc4dd46ffdd1fc34c7e16152e0.jpg)*遇到问题:在此位置按删除,光标此时的selectionStart/selectionEnd变为5,可推测规律当判断4的位置为''时,应该让selectionStart=selectionEnd=光标位置-1"},{name:"Keyboard.md",path:"/React/Component_Design/Keyboard.md",type:"file",mdconf:{abbrlink:"6ibj18mp"},birthtime:"2021-12-08",mtime:"2021-12-08",size:216,extension:".md",relative:"/React/Component_Design/Keyboard.md",isEmpty:!1,content:"\x3c!--abbrlink:6ibj18mp--\x3e###Keyboard数字键盘组件为达到`聚焦`同时`原生键盘不弹出`的目的,实现虚拟键盘和相应Input组件。*支持与浮窗一起使用;*支持单独使用;"},{name:"Menu.md",path:"/React/Component_Design/Menu.md",type:"file",mdconf:{abbrlink:"5kj24dd3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:798,extension:".md",relative:"/React/Component_Design/Menu.md",isEmpty:!1,content:"\x3c!--abbrlink:5kj24dd3--\x3e###Menu组件####难点1.垂直模式下如何做到当悬浮到子节点(或者选中子节点),父节点和祖父节点也是高亮的呢?2.当光标从父节点移向子节点,中间有段空隙,慢速滑动时如何避免弹框的的关闭?3.子menu展开收缩的动画如何实现?(需借助JavaScript动画)###JavaScript动画与CSS动画```js/***@todoJavaScript/CSSanimation*@bodytowritethisinthefuture.*/```###细节1.背景:在Menu.Item中通常会写Link标签或者a标签进行路由跳转,但由于a标签是行内样式,点击区域过小导致跳转失效。参考了ant-design的[解决方案](https://github.com/ant-design/ant-design/issues/21649),给`<a/>`标签添加相关样式;"},{name:"Modal.md",path:"/React/Component_Design/Modal.md",type:"file",mdconf:{abbrlink:"r5u2z2vr"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6515,extension:".md",relative:"/React/Component_Design/Modal.md",isEmpty:!1,content:"\x3c!--abbrlink:r5u2z2vr--\x3e###Modal值得学习的是在Modal系列组件中Alert/Promt组件采用函数式进行弹框的调用。###蒙层场景:点击蒙层区,内容弹框关闭蒙层消失;点击内容弹框区,内容弹框不关闭蒙层不消失;有什么方法实现这个效果呢?*方案一:target与currentTarget的使用```html<div>蒙层区</div>\x3c!--①只修饰样式--\x3e<div>\x3c!--和①相同的点击区域--\x3e<div>内容区</div></div>```伪代码逻辑:在JavaScript中通过`target`与`currentTarget`区分```jsif(target===currentTarget){//点击蒙层//关闭弹框}```*方案二:z-index的运用###滑动穿透解决方案![](http://with.muyunyun.cn/5ad52dbc5716fb92b823898557cc94fa.gif)下面为解决移动端滑动穿透的解决方案:1.首先先将document上的touchmove事件禁用掉。(防止遮罩层滚动)2.然后再阻止浮层内容冒泡,这样子浮层内容就能touchmove了。(使浮层中需滚动的元素可滚动)3.最后对浮层的边界值做处理,在浮层内容拉到最顶部(scrollTop为0)还上滑动或者浮层内容拉到最底部(scrollTop+clientHeight>=scrollHeight)还下滑动时防止其滑动穿透,所以需要对其进行event.preventDefault()具体代码如下:```jsimport{isNotReachIOS}from'./mobileDetect'/*该方法解决ios滑动穿透问题,经测试安卓8.0版本也适用*/letlockedNum=0letinitialClientY=0letdocumentListenerAdded=falseconstlockedElements:HTMLElement[]=[]constpreventDefault=(event:Event)=>{if(!event.cancelable)returnevent.preventDefault()}//如果位于滚动元素的consthandleScroll=(event:TouchEvent,targetElement:HTMLElement)=>{constclientY=event.targetTouches[0].clientY-initialClientYif(targetElement){const{scrollTop,scrollHeight,clientHeight}=targetElementconstisOnTop=clientY>0&&scrollTop===0constisOnBottom=clientY<0&&scrollTop+clientHeight>=scrollHeightif(isOnTop||isOnBottom){returnpreventDefault(event)}}event.stopPropagation()returnfalse}/*逻辑:首先先将document上的touchmove事件禁用掉。(防止遮罩层滚动)然后再将需要进行滚动的元素阻止其冒泡,这样子滚动的元素就能touchmove了。(使弹框层中需滚动的元素可滚动)最后对弹框层的边界值做处理,在浮层内容拉到最顶部(scrollTop为0)还上滑动或者浮层内容拉到最底部(scrollTop+clientHeight>=scrollHeight)还下滑动时要防止其滑动穿透,所以需要对其进行event.prevent*/constlock=(targetElement:HTMLElement)=>{if(!documentListenerAdded){//针对ios9以下的机型需要单独处理isNotReachIOS(10)?document.addEventListener('touchmove',preventDefault):document.addEventListener('touchmove',preventDefault,{passive:false})documentListenerAdded=true}if(targetElement&&lockedElements.indexOf(targetElement)===-1){targetElement.ontouchstart=(event:TouchEvent)=>{initialClientY=event.targetTouches[0].clientY}targetElement.ontouchmove=(event:TouchEvent)=>{if(event.targetTouches.length!==1)returnhandleScroll(event,targetElement)}lockedElements.push(targetElement)lockedNum+=1}}constunlock=(targetElement:HTMLElement)=>{constindex=lockedElements.indexOf(targetElement)if(index!==-1){lockedNum-=1targetElement.ontouchmove=nulltargetElement.ontouchstart=nulllockedElements.splice(index,1)}if(lockedNum===0&&documentListenerAdded){isNotReachIOS(10)?(documentasany).removeEventListener('touchmove',preventDefault):(documentasany).removeEventListener('touchmove',preventDefault,{passive:false})documentListenerAdded=false}}export{lock,unlock}```使用了上述方法后效果如下:![](http://with.muyunyun.cn/0a5886e43e522b183415c62d29890ebc.gif)>参考[滑动穿透(锁body)终极探索](https://juejin.im/post/5ca4816e5188250b251e34e9)###微信ios下input唤醒键盘视图错误兼容问题![](http://with.muyunyun.cn/0547f0a98df8c2d3df62c87569d07502.gif)该问题其实和modal没关系,但是在这个场景中被遇到了,在动图中可以看到input唤醒键盘后然后待键盘消失后,键盘占用的那部分位置并没有被重新填充上,使用了`scrollIntoView`也没有效果。解决方案如下:使用`focusin`和`focusout`能分别监听键盘的弹起与关闭,在focusout事件中使用window.scrollTo()将body视图移动回原来位置。实现代码如下:```js//微信ios下input唤醒键盘视图错误兼容问题functionHackWxIos(){;(function(){letmyFunction:anyletisWXAndIos=isWeiXinAndIos()if(isWXAndIos){//保存当前视图的滚动位置,供键盘关闭时使用;constoriginScrollY=window.scrollY//既是微信浏览器又是ios============（因为查到只有在微信环境下，ios手机上才会出现input失去焦点的时候页面被顶起）document.body.addEventListener('focusin',()=>{//软键盘弹起事件clearTimeout(myFunction)})document.body.addEventListener('focusout',()=>{//软键盘关闭事件clearTimeout(myFunction)myFunction=setTimeout(function(){window.scrollTo({top:originScrollY,left:0,behavior:'smooth'})//重点=======当键盘收起的时候让页面回到原始位置},200)})}})()functionisWeiXinAndIos(){//window.navigator.userAgent属性包含了浏览器类型、版本、操作系统类型、浏览器引擎类型等信息，这个属性可以用来判断浏览器类型letua=''+window.navigator.userAgent.toLowerCase()//通过正则表达式匹配ua中是否含有MicroMessenger字符串且是IOS系统letisWeixin=/MicroMessenger/i.test(ua)//是在微信浏览器letisIos=/\\(i[^;]+;(U;)?CPU.+MacOSX/i.test(ua)//是IOS系统returnisWeixin&&isIos}}exportdefaultHackWxIos```>[知乎——Modal为什么设计成组件的形式，为啥不全设计成函数api直接调用？](https://www.zhihu.com/question/357548379/answer/919983914)"},{name:"Picker.md",path:"/React/Component_Design/Picker.md",type:"file",mdconf:{abbrlink:"2emgfv8w"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1226,extension:".md",relative:"/React/Component_Design/Picker.md",isEmpty:!1,content:"\x3c!--abbrlink:2emgfv8w--\x3e###Picker组件####视觉兜底在Picker组件中,来聊聊组件视觉层面的兜底。```js<Pickertitle=\"选择时间\"data={[[{label:'2014',value:'2014'},{label:'2015',value:'2015'},{label:'2016',value:'2016'},{label:'2017',value:'2017'},{label:'2018',value:'2018'},{label:'2019',value:'2019'}]]}value={['2013']}><ListItemplaceholder=\"请选择\"extraAlign=\"right\"arrow=\"horizontal\">选择时间</ListItem></Picker>```此时value的值并不在data数据源内,此时页面的呈现状况如下![](http://with.muyunyun.cn/cb71389f4a26685a686329d69290d15b.jpg)讨论话题:这样子的兜底对用户是否友好。兜底后如下:![](http://with.muyunyun.cn/20f9bda8d2be14ad4eabc3226d6f6264.jpg)####一个典型的闭包陷阱如下代码的逻辑是点击关闭按钮,让值恢复到之前的值。以下代码有没有问题呢?```jsclose=()=>{const{value,defaultPicker}=this.propssetTimeout(()=>{this.onChangePickerValue(value||defaultPicker||[])},1000)}```###流畅的滑动效果结合物理公式todo"},{name:"Popup.md",path:"/React/Component_Design/Popup.md",type:"file",mdconf:{abbrlink:"7bg23pss"},birthtime:"2021-12-08",mtime:"2021-12-08",size:920,extension:".md",relative:"/React/Component_Design/Popup.md",isEmpty:!1,content:'\x3c!--abbrlink:7bg23pss--\x3e###iphoneX/XS/XR适配方案Popup/ActionSheet组件在iphonex/xr/xs底部存在小黑条会把显示在内容区上面,适配方案如下:1.html上新增`viewport-fit=cover`属性，使得页面内容完全覆盖整个窗口(了解设置了这个属性,才能在后面使用env属性):```html<metaname="viewport"content="width=device-width,viewport-fit=cover">```2.在fix元素上面设置:```css{margin-bottom:calc(5px+constant(safe-area-inset-bottom));margin-bottom:calc(5px+env(safe-area-inset-bottom));}```3.空的颜色块进行补位:```css{position:fixed;bottom:0;width:100%;height:constant(5px+safe-area-inset-bottom);height:env(5px+safe-area-inset-bottom);background-color:#fff;}```个人觉得这是比较自由的方式。>[参考链接](https://aotu.io/notes/2017/11/27/iphonex/index.html)'},{name:"PullToRefresh.md",path:"/React/Component_Design/PullToRefresh.md",type:"file",mdconf:{abbrlink:"gd53dhmf"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3482,extension:".md",relative:"/React/Component_Design/PullToRefresh.md",isEmpty:!1,content:"\x3c!--abbrlink:gd53dhmf--\x3e##PullToRefresh###与位置相关的api```js<divid=\"position\"><div>这是可滚动元素</div></div>```以下都在id为position上取值:*scrollTop:滚动距离*scrollHeight:滚动元素的高度*clientHeight:视图高度![](http://with.muyunyun.cn/b1d611e0509807308f79f5e50fb32de6.jpg)###踩坑记录:需要在window上挂载相关事件不适合使用hooks,否则需要花很多精力去额外处理。期间将PullToRefresh组件进行重构为hooks,伪代码如下:```jsfunctionPullToRefresh(props:PullToRefreshProps){...useEffect(()=>{addEventListener()return()=>{removeEventListener()}},[useBodyScroll])constaddEventListener=()=>{if(useBodyScroll){window.addEventListener('scroll',scroll)}else{scrollViewRef.current?.addEventListener('scroll',scroll)}}constremoveEventListener=()=>{if(useBodyScroll){window.removeEventListener('scroll',scroll)}else{scrollViewRef.current?.removeEventListener('scroll',scroll)}}...return(<divclassName={classStr}ref={scrollViewRef}style={containStyle}id={id}>{useBodyScroll?(children):(<divclassName={`${prefixCls}-content`}style={{minWidth:'100%',...contentStyle}}>{children}</div>)}{refreshing?<divclassName={`${prefixCls}-loading`}>{loadingInfo}</div>:null}</div>)}exportdefaultPullToRefresh```踩的坑点是,当使用方进行如下使用时,setList(newArr)没有生效。目前归因是由于hooks的闭包原因,在window上订阅的事件中使用的值每次执行没法获取最新的值。目前推荐还是使用class来构造此类组件。```jsexportdefaultfunctionPullToRefreshDemo(){constgetMockData=()=>{letmockList:React.ReactNode[]=[]for(leti=0;i<40;i++){mockList.push(<pkey={i}>这是标签这是标签</p>)}returnmockList}const[list,setList]=useState(getMockData())const[refreshing,setRefreshing]=useState(true)const[checked,setChecked]=useState(false)useEffect(()=>{setRefreshing(false)},[])useEffect(()=>{setList(getMockData())},[checked])constonLoad=(_direction:string,done:()=>void)=>{console.log('请求接口')setRefreshing(true)constnewArr=list.slice()setTimeout(()=>{for(leti=0;i<5;i++){newArr.push(<pkey={Math.floor(100000000*Math.random())}style={{color:'red'}}>这是新的标签</p>)}setList(newArr)setRefreshing(false)done()},1000)}constpartlyScrollStyle:React.CSSProperties={display:'flex',flexDirection:'column',height:'100%',overflow:'auto'}return(<divstyle={checked?{}:partlyScrollStyle}><div><label>是否开启全局滚动</label>:<Switchchecked={checked}onChange={()=>setChecked(!checked)}/></div><Headtitle={checked?'全局滚动':'局部滚动'}/><PullToRefreshonLoad={onLoad}refreshing={refreshing}useBodyScroll={checked}>{list}</PullToRefresh></div>)}```###组件测试见JEST测试一节。###上拉刷新结合虚拟列表*到临界点*等数据加载"},{name:"Rate.md",path:"/React/Component_Design/Rate.md",type:"file",mdconf:{abbrlink:"m5ljm246"},birthtime:"2021-12-08",mtime:"2021-12-08",size:256,extension:".md",relative:"/React/Component_Design/Rate.md",isEmpty:!1,content:"\x3c!--abbrlink:m5ljm246--\x3e###评分组件1.能否纯用css实现评分组件,思路是怎么样的?借助input和相应的input:checked可以实现。(思考这种方式实现的评分组件有什么缺陷?)2.如何实现半星的效果?"},{name:"SearchBar.md",path:"/React/Component_Design/SearchBar.md",type:"file",mdconf:{abbrlink:"zennyqde"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1923,extension:".md",relative:"/React/Component_Design/SearchBar.md",isEmpty:!1,content:"\x3c!--abbrlink:zennyqde--\x3e###SearchBar在使用css的动画属性`transition`时,如果变化前后以下属性改变会使动画失效。`display/text-align`;所以要维持动画的生效,保留了`text-align:center`属性,让搜索字样居中。如下图是动画前后的效果。![](http://with.muyunyun.cn/cb02d781a8437bb43eea1581d41e6c87.jpg)![](http://with.muyunyun.cn/004c6594536786fb1bb57e3df5524831.jpg)受`text-align:center`影响,为了不让🔍icon居中,这个时候使用`visibility:hidden`来占位;![](http://with.muyunyun.cn/9366ca8f6e6f6d7c85d34ca893af131a.jpg)###几个事件钩子的调用先后顺序*`onBlur`:失焦*`onClear`:点击清除图标触发清除*`onFocus`:聚焦![](http://with.muyunyun.cn/d188c846ffbd8c79646a940c352686d5.jpg)点击叉号的时候,因为叉号不在`input`输入框内,所以首先执行的是`onBlur`,此时失去焦点,后续执行不了叉号上的`handleClear`逻辑。解决方法如下:```jshandleBlur=(e:React.FocusEvent<HTMLInputElement>)=>{const{onBlur}=this.propsonBlur(e)setTimeout(()=>{//如果点击叉号,执行到这里时候document.activeElement===this.inputRefif(document.activeElement!==this.inputRef){this.setState({focus:false})}},20)}/*清空输入并重新聚焦*/handleClear=()=>{const{onClear,onChange}=this.propsonChange&&onChange('')onClear('')this.focus()}focus=()=>{if(this.inputRef){this.inputRef.focus()}}```###解决点击🔍不blur仍然保持聚焦的效果![](http://with.muyunyun.cn/afa95e394ae7ff8b1b180b0407acf424.jpg)当点击搜索`icon`的时候,为了仍保留`input`的聚焦的效果,使用`z-index`对`input`元素做如下操作。```css.demo{position:absolute;z-index:2;background-color:transparent;}```"},{name:"SegmentedControl.md",path:"/React/Component_Design/SegmentedControl.md",type:"file",mdconf:{abbrlink:"z6j261zj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:449,extension:".md",relative:"/React/Component_Design/SegmentedControl.md",isEmpty:!1,content:"\x3c!--abbrlink:z6j261zj--\x3e###SegmentedControl###场景![](http://with.muyunyun.cn/36cd6b4794192301b469ed18e2325911.jpg)当前使用伪元素达到的效果存在缺陷,在当前3个列表项中始终显示两条竖线不符合预期。期待的是:如果选中标题一,则左侧的竖线不应该显示,只显示右侧的竖线;如果选中标题二,则左侧竖线和右侧竖线都不显示。有什么好的解决方法呢?"},{name:"Table.md",path:"/React/Component_Design/Table.md",type:"file",mdconf:{abbrlink:"kvnrie57"},birthtime:"2021-12-08",mtime:"2021-12-08",size:347,extension:".md",relative:"/React/Component_Design/Table.md",isEmpty:!1,content:"\x3c!--abbrlink:kvnrie57--\x3e###边框的选择border、box-shadow、伪元素都可以实现表格边框,该如何选择?*角度一:因为border属性天然可以拆分为border-top、border-left、border-bottom、border-right。它们之间灵活组合性较高,不会出现使用box-shadow、伪元素带来相互影响的问题。"},{name:"Tabs.md",path:"/React/Component_Design/Tabs.md",type:"file",mdconf:{abbrlink:"sic5ph49"},birthtime:"2021-12-08",mtime:"2021-12-08",size:10888,extension:".md",relative:"/React/Component_Design/Tabs.md",isEmpty:!1,content:"\x3c!--abbrlink:sic5ph49--\x3e###Tabs组件Tabs组件在Swipe的组件上开发。###心得*在开发基础组件时(涉及到滚动、动画),`ref`这个钩子还是会被大量用到的。在`componentDidMount/componentDidUpdate`中使用`ref`能勾静默刷新(即不再次走生命周期)dom元素。*为了实现下划线平缓滑动的效果,将其设计为单独一个div。这里踩了个坑:最开始是计算下划线的长度以及距离左侧的位置时在父节点使用`getBoundingClientRect`,此时为了得到子节点的宽度以及子节点间相关距离必须要减去相应的`margin、padding`属性的值。后来修正为在子节点上使用`getBoundingClientRect`减少了大量的代码。###Tab的平滑滚动场景:当tabs的数量大于4时可以滑动,点击对应的tab项时将相应的tab移动到屏幕中间。首先使用`scrollTo`这个api,并使用了`behavior:'smooth'`来完成平滑过渡效果。```jsif(tabs.length>4){(thisasany)[`tabScroll`].scrollTo({left:this.tabMiddleDistance(),top:0,behavior:'smooth'})}```但是`behavior:'smooth'`在ios机子上是没有效果的,所以结合`requestAnimationFrame`产生相应的兜底方案。```js/*平滑滚动处理代码,兼容IOS*///elm:移动元素//distance:移动距离//direction:移动方向horizontal:水平vertical:竖直//constscrollHorizontalTo=(elm:any,distance:number,direction='horizontal')=>{constscrollTo=(elm:any,distance:number,direction='horizontal')=>{letposition:number=0if(direction==='horizontal'){position=elm.scrollLeft}elseif(direction==='vertical'){position=elm.scrollTop}constdiff=distance-positionconstcallback=()=>{position=position+diff/20if(direction==='horizontal'){elm.scrollTo(position,0)}else{elm.scrollTo(0,position)}//若距离目标距离小于5,则直接跳到目标位置。if(Math.abs(distance-position)<5){if(direction==='horizontal'){elm.scrollTo(distance,0)}elseif(direction==='vertical'){elm.scrollTo(0,distance)}}else{requestAnimationFrame(callback)}}requestAnimationFrame(callback)}```这写法有如下坑*scrollTo也是异步行为,因此requestAnimationFrame动画是失效的;*`基于距离`判断精度不是很准确因此改用为scrollLeft,以及基于时间来调整```jsfunctionscrollToX(value:number,node:HTMLElement){constscrollLeft=node.scrollLeftconststartTime=Date.now()constframeFunc=()=>{consttimestamp=Date.now()consttime=timestamp-startTimenode.scrollLeft=easeInOutCubic(time,scrollLeft,value,450)if(time<450){requestAnimationFrame(frameFunc)}else{setScrollTop(value,node)}}requestAnimationFrame(frameFunc)}```####缓动动画缓动动画公式参数:*time:当前已运动的时间;*begin:距离的初始值;*change:目标值和初始值差值;*duration:运动总时间;```jsfunctionlinear(time,begin,change,duration){returnchange*(time/duration)+begin}```*`Linear`:线性匀速运动效果;*`Quadratic`:二次方的缓动（t^2）;*`Cubic`:三次方的缓动（t^3）;*`Quartic`:四次方的缓动（t^4）;*`Quintic`:五次方的缓动（t^5）;*`Sinusoidal`:正弦曲线的缓动（sin(t)）;*`Exponential`:指数曲线的缓动（2^t）;*`Circular`:圆形曲线的缓动（sqrt(1-t^2)）;*`Elastic`:指数衰减的正弦曲线缓动;*`Back`:超过范围的三次方缓动（(s+1)*t^3–s*t^2）;*`Bounce`:指数衰减的反弹缓动;除了Linear外,其余每个效果都分三个缓动方式,分别是:*`easeIn`:从0开始加速的缓动,也就是先慢后快;*`easeOut`:减速到0的缓动,也就是先快后慢;*`easeInOut`:前半段从0开始加速,后半段减速到0的缓动;以`Quadratic`为例,[源码](https://github.com/tweenjs/tween.js/blob/master/src/Tween.js#L534-L558):```js/*k取值范围为[0,1]*/TWEEN.Easing={Quadratic:{In:function(k){returnk*k;},Out:function(k){returnk*(2-k);},//k为[0,0.5)时,使用In公式;//k为[0.5,1]时,使用out公式;InOut:function(k){if((k*=2)<1){return0.5*k*k;}return-0.5*(--k*(k-2)-1);}},}```in:![](http://with.muyunyun.cn/ac0ce9fe36c1169eec182b16aa9307b0.jpg)out:![](http://with.muyunyun.cn/281a10bf309065e0d879ee087be5ce10.jpg)```jsconsteaseInOutCubic=(time:number,begin:number,change:number,d:number)=>{constcc=change-begintime/=d/2if(time<1){return(cc/2)*time*time*time+begin}else{return(cc/2)*((time-=2)*time*time+2)+begin}}```###贝塞尔曲线和缓动动画的关系?*[贝塞尔曲线的推导](https://juejin.im/post/5b854e1451882542fe28a53d)目前的理解:贝塞尔的方程式和缓动动画的公式是两条并列的主线,使用它们中的任意一个都可以完成JavaScript的动画效果。###Whenclicktab,howtomoveitcenter?![](http://with.muyunyun.cn/71c277598fff27600479ba12c8cd04aa.jpg)###开发坑点背景:`Tab`下划线随着内容栏的滑动而动态滑动。难点:如何达到原生的顺滑效果。目前的方案是减少`getBoundingClientRect`的调用次数,将需多次获取的值进行缓存。###开发坑点(五星)背景坑点:`tab`栏是可以滑动的,在使用`this.contentRectLeft=elm.getBoundingClientRect().left`进行缓存时,在`tab`滑动后期待取得的是`tab`距离`当前视口`左侧的值,但是实际获取到的是当前`tab`距离滚动条最左侧的值。相关代码如下:```jsafterChangeTab=(index:number)=>{const{tabDirection}=this.propsif(tabDirection==='horizontal'){...this.tabMove(this.tabMiddleDistance)//①this.contentRectLeft=(thisasany)[`tab${index}`].getBoundingClientRect().left//②console.log(this.contentRectLeft)//这个地方打印的是当前`tab`距离滚动条最左侧的值}}tabMove=(distance:number)=>{const{tabs,tabDirection}=this.props//如果是水平滑动时且tab栏的数量大于4,tab栏可滑动if(tabDirection==='horizontal'&&tabs.length>4){scrollTo((thisasany)[`tabScroll`],distance,'horizontal')}...}```造成的原因是调用`this.tabMove`中的`scrollTo`方法里调用了`requestAnimationFrame`,其也是一个异步的钩子。所以②的代码执行是由于`requestAnimationFrame`的执行的！目前的解决方法只能取消`scrollTo`方法的调用尽管tab的滚动比较僵硬,但是确保了`this.contentRectLeft`缓存的值的准确性。```jstabMove=(distance:number)=>{const{tabs,tabDirection}=this.props//如果是水平滑动时且tab栏的数量大于4,tab栏可滑动if(tabDirection==='horizontal'&&tabs.length>4){//scrollTo里面有了requestAnimationFrame方法,以及scrollTo都是一个异步的钩子,会造成缓存//scrollTo((thisasany)[`tabScroll`],distance,'horizontal')//;(thisasany)[`tabScroll`].scrollTo({//left:distance,//top:0,//behavior:'smooth',//});(thisasany)[`tabScroll`].scrollLeft=distance}...}```>多使用小黄鸭笔记法,就能理出眉目,理逻辑的时候可能觉得浪费时间,但是这往往是解决问题最高效的方法。###关于设计模式在开发组件Tabs\\Checkbox\\Radio...有以下两种模式可以选择*配置模式，标签的标题和内容放在options/children```js<Tabsoptions={[{content:[],disabled:true,}]}/>```*children模式：```js<Tab><Tab.item>标签一</Tab.item><Tab.item>标签二</Tab.item></Tab>```相对配置模式,children模式更加贴近React的组件化编程。但是使用者可能对以下写法不生效会产生困惑。因为大多数组件库只会支持Tab.Item在Tab后面的情况。```jsrenderChildren=()=>{return<><Tab.item>标签一</Tab.item><Tab.item>标签二</Tab.item></>}render(){return(<Tab>{this.renderChildren}</Tab>)}```###Tabs支持传入自定义组件使用React.cloneElement对传入的子组件进行处理是会有问题的,因为此时只能接受HTML节点,而不接受自定义组件的传入;```jsreturnReact.cloneElement(reactElement,{className:cx(),style:{}})```只要做如下改造便可以完成接受自定义组件的传入```jsreturn(<divclassName={cx()}style={}>{React.cloneElement(reactElement}</div>)```###一列长度特别长,一列特别短的特殊处理###性能优化默认情况下,当进一个页面的时候就将tabs每一块内容区数据都请求了一遍,如果每个tab页面接口数非常多的时候,可能会有卡顿问题,提供两种模式来进行优化:方式一:在Tabs组件切换tab时,在触发的onChange中获取相应数据传入对应组件。```js<Tabstabs={tabs}activeTab={page}onChange={(index,_e)=>{if(index===0){/*伪代码:获取数据A*/}elseif(index===1){/*伪代码:获取数据B*/}elseif(index===2){/*伪代码:获取数据C*/}setPage(index)}}><Adata={dataA}/><Bdata={dataB}/><Cdata={dataC}/></Tabs>```方式二:维护逻辑变量,这里以ifRead是否已读(多多圈为例),控制A、B、C组件的显示。```js<Tabstabs={tabs}activeTab={page}onChange={(index,_e)=>setPage(index)}><div>{ifRead0||page===0?<A/>:null}</div><div>{ifRead1||page===1?<B/>:null}</div><div>{ifRead2||page===2?<C/>:null}</div></Tabs>```相比较一的方式,方式二的优势是将请求数据的逻辑被拆分到A、B、C各个子组件中,劣势是需要维护逻辑变量。###Hooks的闭包问题2020-03-24记录:今天遇到了一个bug,花的事件比较久,值得记录下修复心得:![](http://with.muyunyun.cn/0b1ee2a477d39ec2550a1ef88c63987a.jpg)川穹说只有安卓机有问题,ios没问题!很是奇怪,就围绕聚焦和安卓机查资料得到`在安卓机下聚焦会触发resize事件,ios则不会触发resize的结论`,因此定位到罪魁祸首```jswindow.addEventListener('resize',()=>{})```又由于在hooks中进行使用,犯下了闭包陷阱;最终使用useRef解决了问题;"},{name:"TextArea.md",path:"/React/Component_Design/TextArea.md",type:"file",mdconf:{abbrlink:"51ezcvd1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1159,extension:".md",relative:"/React/Component_Design/TextArea.md",isEmpty:!1,content:'\x3c!--abbrlink:51ezcvd1--\x3e###如何实现无限制增加行数逻辑?伪代码:换行的时候重新给`textArea`赋值`scrollHeight`。###注意点*用户输入的汉字和英文是否要区分对待?汉字作为2个字符还是1个字符?命中汉字作为两个字符的逻辑:```jsif(/[^\\x00-\\xff]/gi.test(a)){...}```###用户角度:Textarea组件的maxLength问题关于Textarea组件的超出maxLength是否被截断的问题,思考以下几组情形。1.粘贴过来直接截断,提交后可能出问题，想象:"我是你爸爸的朋友",粘贴后自动截断为"我是你爸爸"还没报错,也没阻塞提交;2.我们不少商家可能在多个销售平台售卖,存在一个平台输入完,其他平台直接粘贴的需求(所以粘贴的case可能比我们以为的多);3.针对直接输入的情况,如果总共允许10个字,在当前为5个字的情况下,我在中文输入法的情况下,连输词组"下午来我家喝下午茶",按空格建后,内容截断为"下午来我家",而且没飘红报错提示,对商家来说,可能不知道你做了截断的行为。'},{name:"VirtualList.md",path:"/React/Component_Design/VirtualList.md",type:"file",mdconf:{abbrlink:"lps6uv7k"},birthtime:"2021-12-08",mtime:"2021-12-08",size:478,extension:".md",relative:"/React/Component_Design/VirtualList.md",isEmpty:!1,content:"\x3c!--abbrlink:lps6uv7k--\x3e虚拟列表###IntersectionObserver*threshold属性:决定了什么时候触发回调函数。```jsnewIntersectionObserver(entries=>{/*...*/},{threshold:[0,0.25,0.5,0.75,1]})```表示当目标元素0%、25%、50%、75%、100%可见时,会触发回调函数。###应用场景*资源懒加载*###link[intersectionobserver_api](https://www.ruanyifeng.com/blog/2016/11/intersectionobserver_api.html)"},{name:"build_mobile_first_animation.md",path:"/React/Component_Design/build_mobile_first_animation.md",type:"file",mdconf:{abbrlink:"n6mg8zen"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4790,extension:".md",relative:"/React/Component_Design/build_mobile_first_animation.md",isEmpty:!1,content:"\x3c!--abbrlink:n6mg8zen--\x3e###在React中构建移动端优先的web动画移动端优先动画是指在移动设备上开发的,旨在在移动浏览器而非桌面浏览器的上下文中工作的动画。它有着类似原生App的交互体验,尤其是体贴的手势交互,同时即使在中低档设备上其也具有不错的流畅体验。###Typesofgestures*Navigationalgestures*Tap*Scrollandpan*Drag*Swipe*Pinch*Actiongestures*Tap*Longpress*Swipe*Transformgestures*Doubletap*Pinch*Compoundgestures>[Typesofgestures](https://material.io/design/interaction/gestures.html#types-of-gestures)###难点罗列*scroll、swipe-to-refresh会受到浏览器默认行为干扰;*触摸反应迟钝,没有直接操作的感觉;*反物理直觉;*兼容中、低设备;###框架方案Thewaytotakeisusually`ananimationlibrary`with`agesturehooks`.*[Framer](https://github.com/koenbok/Framer)*[reactspring](https://github.com/react-spring/react-spring)+[react-use-gesture](https://github.com/react-spring/react-use-gesture)*animationlibrary([anime](https://github.com/juliangarnier/anime))+[react-swipeable](https://github.com/dogfessional/react-swipeable)*animationlibrary([GSAP](https://github.com/greensock/GSAP))+[Hammer.js](https://github.com/hammerjs/hammer.js/)###SomePrinciples*`ImmediateResponse`:Ifnotresponseimmediately,itfeelssuperdisconnected.[demo](https://mobile-first-animation.netlify.com/21)*Carousel组件,目前Tab的滑动存在缺陷;*`ScrollDecay`:TheconceptsofscrolldecaycanhelpusdecidehowourUIsshouldrespecttousersinteraction.[demo](https://mobile-first-animation.netlify.com/23)*`-webkit-overflow-scrolling:touch`;(onlyusedinios>5,butnotsuccess)*Picker/DatePicker组件;*`Rubberbanding`*PopOver组件;###Touchcancellation*Usethe`touch-action`CSSpropertytodisabledefaultbrowserbehaviorswithprecision.usetouch-actionbefore:![](http://with.muyunyun.cn/2f284758868304dabad94d2a25500562.gif)usetouch-actionafter:![](http://with.muyunyun.cn/a458a78d287e08627f4dd6b1502fc33e.gif)*[Interactivetouch-actiondemo](https://www.chenhuijing.com/touch-action/)*[Mozillaintroductiontotouch-action](https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action)###PassiveeventlistenersIfyoudecidenottocancelthescroll,youcansetthe**passive**intheaddEventListener.Ifthat,itcanenablethebrowserstoscrollthepageimmediately.*[passive-event-listeners](https://developers.google.com/web/updates/2016/06/passive-event-listeners)-[][Passiveeventslistenerexplainer](https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md)###ScrollProblem1:scrollchainingWhentheuserreachsa'scrollboundary',thecontentbehindthedrawerormodalstartsscrolling!![](https://developers.google.com/web/updates/images/2017/11/overscroll-behavior/drawer-scroll.mp4?hl=zh_cn)![](http://with.muyunyun.cn/5ad52dbc5716fb92b823898557cc94fa.gif)*[overscroll-behavior](https://drafts.csswg.org/css-overscroll/)*auto:default;*contain:preventscrollchaining,keeptheoverfloweffectswithinthenodeself;*none:preventscrollchaining,preventoverfloweffectswithinthenodeself.![](http://with.muyunyun.cn/130f116b88477fba5725033e4245927a.jpg)>[Overscrollbehavior](https://developers.google.com/web/updates/2017/11/overscroll-behavior):readIntroducingoverscroll-behavior###resourcelinks*[Apple's\"DesigningFluidInterfaces\"talk](https://developer.apple.com/videos/play/wwdc2018/803/)*[ImplementationofiOSanimationprinciples](https://medium.com/@nathangitter/building-fluid-interfaces-ios-swift-9732bb934bf5)*[ProgressiveWebAnimations|AlexandraHolachek](https://www.youtube.com/watch?v=laPsceJ4tTY&list=PLPxbbTqCLbGHPxZpw4xj_Wwg8-fdNxJRh&index=21)###SpringAnimations*[springsinanimations](https://github.com/jenox/UIKit-Playground/tree/master/01-Demystifying-UIKit-Spring-Animations)![](http://with.muyunyun.cn/21585e988e682457131948346fc8949d.jpg)####Springs&Gestures-[][In-depthlookatprojection](https://medium.com/ios-os-x-development/gestures-in-fluid-interfaces-on-intent-and-projection-36d158db7395):以借助这里的Projection公式来优化改进-[][In-depthexplorationofmomentumscrolling](https://ariya.io/2013/08/javascript-kinetic-scrolling-part-1)####Touchontheweb-[][Googleintroductiontotouchontheweb](https://developers.google.com/web/fundamentals/design-and-ux/input/touch)-[][Mozillaintroductiontopointerevents](https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events)"},{name:"site.md",path:"/React/Component_Design/site.md",type:"file",mdconf:{abbrlink:"jp8oqdxn"},birthtime:"2021-12-08",mtime:"2021-12-08",size:583,extension:".md",relative:"/React/Component_Design/site.md",isEmpty:!1,content:"\x3c!--abbrlink:jp8oqdxn--\x3e###点击按钮实现复制文字本质是`document.execCommand()`api的使用,见如下demo:```jsfunctioncopy(str:string){returnnewPromise(function(resolve,reject){letsuccess=falsefunctionlistener(e:any){e.clipboardData.setData('text/plain',str)e.preventDefault()success=true}document.addEventListener('copy',listener)document.execCommand('copy')document.removeEventListener('copy',listener)success?resolve():reject()})}usage:copy(...).then(()=>{})```"},{name:"主题色替换方案.md",path:"/React/Component_Design/主题色替换方案.md",type:"file",mdconf:{abbrlink:"kvqod8vz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5926,extension:".md",relative:"/React/Component_Design/主题色替换方案.md",isEmpty:!1,content:"\x3c!--abbrlink:kvqod8vz--\x3e###方案调研1.https://blog.csdn.net/m0_37792354/article/details/82012278:这个方案可以实现,利用动态切换样式表,每种主题需要一份样式,可以实现但后期维护成本高(不考虑);2.CSSVariables的方案,基于项目本身是scss不考虑此种方案,但是其浏览器支持度还是可以的;![](http://with.muyunyun.cn/fe11d88b92efa1249d58fe13d5c737dd.jpg)3.入口文件引入自定义变量(参照antd/饿了么/taro的方案);因为组内组件使用了cssmodule,所以该方案不能适用我们的业务场景;4.[浏览器端涂色板换色方案](https://github.com/ElemeFE/element/issues/3054#issuecomment-282527907);所以最终方案分为两步:*编译阶段在sass-loader中注入颜色生成算法;*浏览器调色板可以使用element、taro的正则替换思路;###antd1.整理组件将和颜色相关的属性进行整理梳理出一份[default.less](https://github.com/ant-design/ant-design/blob/c6f991d5af/components/style/themes/default.less);2.整理一份[color.less](https://github.com/ant-design/ant-design/blob/c6f991d5af/components/style/color/colors.less)文件,颜色由[colorPalette.less](https://github.com/ant-design/ant-design/blob/c6f991d5af/components/style/color/colorPalette.less)动态生成;用户使用方式:1.选择一个颜色(切换主题色)2.下载3.引用###相关项目1.[theme-preview](实时换色方案):1.先把默认主题文件中涉及到颜色的CSS值替换成关键词：https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L250-L274;2.根据用户选择的主题色生成一系列对应的颜色值：https://github.com/ElementUI/theme-preview/blob/master/src/utils/formula.json;3.把关键词再换回刚刚生成的相应的颜色值：https://github.com/ElementUI/theme-preview/blob/master/src/utils/color.js;4.直接在页面上加style标签，把生成的样式填进去：https://github.com/ElementUI/theme-preview/blob/master/src/app.vue#L198-L211;2.[theme-chalk](https://github.com/ElementUI/theme-chalk);###scss中使用antd来自定义主题如果业务方使用less/css:基于cssmodules的hash不能覆盖的点，~~一个方案是本地打好包给业务方使用方案了(兜底方案)，但是比较笨重(相当于是要打包出多份不同的css样式文件在项目中了,然后业务方每要一种主题就要新增维护一份打包文件)~~如果业务方使用scss:如果cssmoduleshash不能去掉,有一个scss+cssvariable的方案可以代替sass-loader方案(成本是要写相应的插件);如果cssmoduleshash能去掉,可以使用之前提到的taro上的第一种方案,在app进入的地方引入主题色进行覆盖scssVariable;###自适应颜色`colorPalette`函数。RGB可以方便的进行计算机存储和读取,但对人进行颜色判断十分不友好,因此有了HSB/HSV。*RGB:面向硬件*HSB:面向用户HSB(Hue,Saturation,Brightness)分别表示色调(色相),饱和度,亮度。*[HSB模型](https://baike.baidu.com/item/HSB模型)*[HSV模型](https://baike.baidu.com/item/HSV/547122):有关H、S的解释这个更清晰*[antd色彩](https://ant.design/docs/spec/colors-cn)###VersionOne<details><summary>versionone</summary>```scss$theme-color:#1199ee!default;/*mixwhite*/@functiontint($theme-color,$percent){@returnmix(#fff,$theme-color,$percent);}/*mixblack*/@functionshade($theme-color,$percentage){@returnmix(black,$theme-color,$percentage);}/*Therearetencolorinontheme,fromlefttoright,theyare*tint($theme-color,50%),tint($theme-color,40%),tint($theme-color,30%),tint($theme-color,20%),tint($theme-color,10%),*$theme-color,shade($theme-color,10%),shade($theme-color,20%),shade($theme-color,30%),shade($theme-color,40%),*/@functioncolorPallete1($theme-color){@returntint($theme-color,50%);}@functioncolorPallete2($theme-color){@returntint($theme-color,40%);}@functioncolorPallete3($theme-color){@returntint($theme-color,30%);}/*悬停态*/@functioncolorPallete4($theme-color){@returntint($theme-color,20%);}@functioncolorPallete5($theme-color){@returntint($theme-color,10%);}/*主色*/@functioncolorPallete6($theme-color){@return$theme-color;}@functioncolorPallete7($theme-color){@returnshade($theme-color,10%);}/*点击态*/@functioncolorPallete8($theme-color){@returnshade($theme-color,20%);}@functioncolorPallete9($theme-color){@returnshade($theme-color,30%);}@functioncolorPallete10($theme-color){@returnshade($theme-color,40%);}```</details>###Sass踩坑`sass-loader`的options配置要参阅[sass文档](https://sass-lang.com/documentation/js-api)>Ithinkitl'snecessarytopromptwhatfeaturescanbeusedintheoptions.😄Andtheusageofthecustomfunctionisfoundin[thisissue](https://github.com/webpack-contrib/sass-loader/issues/210)insteadofdoc.*[sass中使用JavaScript的口子](https://sass-lang.com/documentation/js-api#new-types-color-red-green-blue-alpha-1)*[tinyColor](https://github.com/bgrins/TinyColor)###设计师的角度####关于悬浮态悬浮态颜色变浅:hover相当于按钮被鼠标吸起来了，所以上升后离光源更近，所以变白了。（类似前面某位同学提到的：距离越近越亮悬浮态颜色变深:商家/客服显示器很差，Hover上去底色变亮了字是白的，有些情况影响识别度###参阅资料*[聊一聊前端换肤](https://juejin.im/post/5ca41617f265da3092006155)*[AntDesign色板生成算法演进之路](https://zhuanlan.zhihu.com/p/32422584)###CSSVariableTODO:*全局/局部变量*或逻辑:var(--a,var(--b))"},{name:"性能指标.md",path:"/React/Component_Design/性能指标.md",type:"file",mdconf:{abbrlink:"bduq3cw2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:134,extension:".md",relative:"/React/Component_Design/性能指标.md",isEmpty:!1,content:"\x3c!--abbrlink:bduq3cw2--\x3e###link*[解读新一代Web性能体验和质量指标](https://juejin.cn/post/6844904168591736846)"},{name:"组件开发实践.md",path:"/React/Component_Design/组件开发实践.md",type:"file",mdconf:{abbrlink:"l25patvw"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6933,extension:".md",relative:"/React/Component_Design/组件开发实践.md",isEmpty:!1,content:"\x3c!--abbrlink:l25patvw--\x3e###循环引用的坑点在组件开发中引用方式写法如下:```tsximportPopupfrom'../Popup'importListfrom'../List'console.log(Popup,List)//fPopupfList```而不要使用如下写法:```tsximport{Popup,List}from'../index'//这样子引用会带进当前开发的组件本省console.log(Popup,List)//undefinedundefined```原因是因为下面这种写法会带进当前开发的组件本身从而导致循环引用。循环引用会导致在编译态输出的结果为undefined。###为什么要受控模式尽管受控模式相对非受控模式会多传入`value`、`onChange`属性,但它能有效避免组件库中碰到的一些反模式的坑。在Dan的[编写具有弹性的组件](https://overreacted.io/writing-resilient-components/)一文中写到如下几个原则:*不要将`props`赋给`state`理由:如果不结合`componentDidUpdate`使用会无法读取到更新的数据;结合了`componentDidUpdate`在其进行`setState`又会进行多一次的render。解决方案*直接在render中获取父组件传下来的数据;结合useMemo进行优化;*只使用受控组件或者只使用非受控组件;>针对一些复杂数据使用useMemo以及memorize-one进行处理。或者`hooks`中在render内使用`useMemo`;`class`中在render内使用`memorize-one`###关于Typescript与DefaultProps的冲突####class针对`TypeScript`中的`interface`中必填可填(是否带?可选)与React中的`defaultProps`是不兼容的。造成的影响是`defaultProps`里若是不填写完整`TypeScript`中的`interface`属性则会标红。为了解决这个现象解决方案如下：```tsinterface{mustFillIn:number,mayFillWithDefaultValue:number,//可选的带默认值的不用带上问号mayFillWithoutDefaultValue?:number//可选的不带默认值的带上问号}```在`TypeScript`中书写`React`时可以这样:```tsclassDividerextendsReact.Component<DividerProps,any>{staticdefaultProps:Pick<DividerProps,'mayFillWithDefaultValue'|'mayFillWithoutDefaultValue'>={mayFillWithDefaultValue:12345}render(){return(<div>demo</div>)}}```*Pick针对有必传值的场景做区分*interface中的?针对有默认值和无默认值做区分####hooks![](http://with.muyunyun.cn/764623d18eeb45724da661a0b6fbb679.jpg)###组件异步的设计*方式一:使用方通过返回Promise来告知组件已完成异步操作;```jsconstdemo=()=>{returnnewPromise((resolve)=>{setTimeout(()=>{console.log('模拟异步接口')resolve()},2000)})}```*方式二:使用方通过调用`done()`来告知组件已完成异步操作;(组件内完成对Promise的封装)```jsconstdemo=(done)=>{setTimeout(()=>{console.log('模拟异步接口')done()},2000)}```从组件设计的角度来说,方式一对组件内部的维护更加友好;从使用者的角度来说,方式二的使用更为便捷,但是重构的成本会变大。如下是针对方式二的组件的封装方式。```js//此处fn为外面传入的demo函数if(fn.length===1){newPromise((resolve:any)=>{fn(resolve)}).then(()=>{...})}```###组件样式覆盖的问题背景:业务a使用了组件包b以及工具包c,其中c也依赖了旧版本的b。此时业务a中会有两个组件包b的样式,此时会碰到修改了组件包b的样式,而样式被老版本的b覆盖的情况。这个时候有什么解决方法呢?*方案一:打包给样式带上版本号;*方案二:让工具包c把组件包b放在`pureDependencies`中,业务方的`dependency`统一维护组件包b;###业务中同时使用Button组件(包含Icon组件)与Icon组件如何避免Icon组件的样式打入两份?方法:src目录下的组件中的style文件中建立index.tsx文件###开源计划*完善mobile组件在pc端站点的浏览效果;*beast-mobile语言包支持、为后续站点切换双语环境做准备;*beast-mobile中、英文文章简版输出,调研专栏环境社区的创建(Medium、Twitter、知乎、Github、StackOverflow、SegmentFault);###组件通用API设计*onDisabled:(record:T)=>boolean*ListView、Checkbox组件公用;*场景:提供给业务更加充分的控制权###link*[The10ComponentCommandments](https://dev.to/selbekk/the-10-component-commandments-2a7f):组件开发方法总结,读下来感觉不错;###组件*scss*语义化样式模板*关联计算逻辑*post-install*e2e测试*randomnotes*沉淀一些常⻅的测试模式,并形成易用的utils(mock&helper)一些参考关键词:date,timer,async&promise,random,user-agent,browserfeaturedetect,console,process.env,jsdomlayout*科学使用snapshot*jest的test.todo挺不错*通过写测试的过程,反过来思考组件发现遗漏Edgecases,实现是否合理可能react-testing-library会更好(enzyme可直接访问state,容易写出一些没意义的测试)*sass技巧*沉淀functionutils,并统一维护•善用list&map维护枚举型配置•善用`interpolation`,让同质化分支模版化•逻辑关系组织:如“颜色管理方案”*[plop](https://github.com/plopjs/plop)*将重复性繁琐工作打包*善用内容型模板*创建一个组件子包•创建一个React组件(classorfunctional)•创建一个完整的demo⻚面•创建一个单独的democase•将组件追加到某个合包里*如何统计组件使用量DRY原则:Don'tRepeatYouselfSomeoftheseCSSpropertieshaveshorthandversionsthatusethenamespaceasthepropertyname.Forthese,youcanwriteboththeshorthandvalueandthemoreexplicitnestedversions.```scss.info-page{margin:auto{bottom:10px;top:2px;}}```###组件属性间尽量减少耦合关系比如添加了A属性B属性在某些情况会失效。又或者C属性必须在D属性存在的时候才生效。比如以Upload组件为例:背景逻辑是:最大上传图片数量是2,当上传了2张图片以后就不显示继续上传了。```jsshowAdd=()=>{const{selectable,maxLength,files}=this.propsif(maxLength!==undefined){if(files.length>=maxLength){returnfalse}returntrue}returnselectable}```业务方举了反例:例如有些商品图片是标品，图片是平台自己控制的，也许不满足最大数，但是不允许商家去修改的。配置了maxLength={10},图片数量只有3张时,不显示增加按钮的需求当前就不能实现。"},{name:"重新认识受控与非受控组件.md",path:"/React/Component_Design/重新认识受控与非受控组件.md",type:"file",mdconf:{abbrlink:"56hn38ez"},birthtime:"2021-12-08",mtime:"2021-12-08",size:8012,extension:".md",relative:"/React/Component_Design/重新认识受控与非受控组件.md",isEmpty:!1,content:"\x3c!--abbrlink:56hn38ez--\x3e###组件设计——重新认识受控与非受控组件![](http://with.muyunyun.cn/21ec115261725fc7a37543143c1e89ed.jpg-400)###重新定义受控与非受控组件的边界![](http://with.muyunyun.cn/3e1327ce86f89d2763d8fed9c169887d.jpg-400)[React官网中](https://reactjs.org/docs/uncontrolled-components.html)对非受控组件与受控组件作了如图中下划线的边界定义。一经推敲,该定义是缺乏了些`完整性`和`严谨性`的,比如针对非表单组件(弹框、轮播图)如何划分受控与非受控的边界?又比如非受控组件是否真的如文案上所说的数据的展示与变更都由dom自身接管呢?在非受控组件中,通常业务调用方只需传入一个`初始默认值`便可使用该组件。以Input组件为例:```js//组件提供方functionInput({defaultValue}){return<inputdefaultValue={defaultValue}/>}//调用方functionDemo(){return<InputdefaultValue={1}/>}```在受控组件中,数值的`展示与变更`则分别由组件的`state`与`setState`接管。同样以Input组件为例:```js//组件提供方functionInput(){const[value,setValue]=React.useState(1)return<inputvalue={value}onChange={e=>setValue(e.target.value)}/>}//调用方functionDemo(){return<Input/>}```有意思的一个问题来了,`Input`组件到底是受控的还是非受控的?我们甚至还可以对代码稍加改动成`<InputdefaultValue={1}/>`的最初调用方式:```js//组件提供方functionInput({defaultValue}){const[value,setValue]=React.useState(defaultValue)return<inputvalue={value}onChange={e=>setValue(e.target.value)}/>}//调用方functionDemo(){return<InputdefaultValue={1}/>}```尽管此时Input组件本身是一个受控组件,但与之相对的调用方失去了更改Input组件值的`控制权`,所以对调用方而言,Input组件是一个非受控组件。值得一提的是,`以非受控组件的使用方式去调用受控组件`是一种反模式,在下文中会分析其中的弊端。如何做到不管对于组件提供方还是调用方Input组件都为受控组件呢?提供方让出控制权即可,调整代码如下[codesandbox](https://codesandbox.io/s/clever-montalcini-kysbg)```js//组件提供方functionInput({value,onChange}){return<inputvalue={value}onChange={onChange}/>}//调用方functionDemo(){const[value,setValue]=React.useState(1)return<Inputvalue={value}onChange={e=>setValue(e.target.value)}/>}```经过上述代码的推演后,概括如下:受控以及非受控组件的边界划分取决于`当前组件对于子组件值的变更是否拥有控制权`。如若有则该子组件是当前组件的受控组件;如若没有则该子组件是当前组件的非受控组件。###职能范围基于调用方对于受控组件拥有控制权这一认知,因此受控组件相较非受控组件能赋予调用方更多的定制化职能。这一思路与软件开发中的[开放/封闭原则](https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E5%B0%81%E9%97%AD%E5%8E%9F%E5%88%99)有异曲同工之妙,同时让笔者受益匪浅的[InversionofControl](https://kentcdodds.com/blog/inversion-of-control)也是类似的思想。借助受控组件的赋能,以Input组件为例,比如调用方可以更为自由地对值进行校验限制,又比如在值发生变更时执行一些额外逻辑。```js//组件提供方functionInput({value,onChange}){return<inputvalue={value}onChange={onChange}/>}//调用方functionDemo(){const[value,setValue]=React.useState(1)return<Inputvalue={value}onChange={e=>//只支持数值的变更if(/\\D/.test(e.target.value))returnsetValue(e.target.value)}/>}```因此综合基础组件`扩展性`与`通用性`的考虑,受控组件的职能相较非受控组件更加宽泛,建议`优先使用受控组件`来构建基础组件。###反模式——以非受控组件的使用方式调用受控组件首先何谓反模式(可以看文末的案例)?笔者将其总结为`增大隐性bug出现概率的模式`,该模式是`最佳实践的对立经验`。如若使用了反模式就不得不花更多的精力去避免潜在bug。官网对反模式也有很好的[概括总结](https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html#common-bugs-when-using-derived-state)。缘何上文提到以非受控组件的使用方式去调用受控组件是一种反模式?观察Input组件的第一行代码,其将defaultValue赋值给value,这种`将props赋值给state`的赋值行为在一定程度上会增加某些隐性bug的出现概率。比如在切换导航栏的场景中,恰巧两个导航中传进组件的defaultValue是相同的值,在导航切换的过程中便会将导航一中的Input的状态值带到导航二中,这显然会让使用方感到困惑。[codesandbox](https://codesandbox.io/s/controllerinput-bobkp)```js//组件提供方functionInput({defaultValue}){//反模式const[value,setValue]=React.useState(defaultValue)React.useEffect(()=>{setValue(defaultValue)},[defaultValue])return<inputvalue={value}onChange={e=>setValue(e.target.value)}/>}//调用方functionDemo({defaultValue}){return<InputdefaultValue={defaultValue}/>}functionApp(){const[tab,setTab]=React.useState(1)return(<>{tab===1?<DemodefaultValue={1}/>:<DemodefaultValue={1}/>}<buttononClick={()=>(tab===1?setTab(2):setTab(1))}>切换Tab</button></>)}```如何避免使用该反模式同时有效解决问题呢?官方提供了两种较为优质的解法,笔者将其留给大家思考。1.方法一:[使用完全受控组件](https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html#recommendation-fully-controlled-component)(更为推荐)2.方法二:[使用完全非受控组件+key](https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html#recommendation-fully-uncontrolled-component-with-a-key)###反模式案例*使用过`getDerivedStateFromProps`么?了解它的反模式么?如何避免?来看下使用Derived会导致的常见bug:####反模式一:无条件复制props到state案例:在开发`Picker组件`的时候,如下图浮层内的数据源有外部传进的props属性以及浮层内进行滑动的state。![](http://with.muyunyun.cn/7614ba8c5be96ee769b8a68112848700.jpg)如果这样子写大家看看是否有问题```jsclassPickerextendsComponent{state={data:this.props.data}getDerivedStateFromProps(props,state){if(JSON.stringify(props.data)!==JSON.stringify(state.data)){return{data:props.data}}returnnull}...}```这样子写代码当在浮层上进行滑动时,state的变化并不会生效,这是为什么呢,官网上截图如下![](http://with.muyunyun.cn/1d13387bf1d927c36cf3d1a0feaf3134.jpg)此时的state变化使Picker父组件重新render后会造成`getDerivedStateFromProps`的调用,导致JSON.stringify(props.data)、JSON.stringify(state.data)间一直会不相等,所以返回的一直是props。####反模式二:当props改变的时候执行重置state```jsclassPickerextendsComponent{state={data:this.props.data}getDerivedStateFromProps(props,state){if(JSON.stringify(props.data)!==JSON.stringify(this.props.data)){return{data:props.data}}returnnull}...}```这样子比第一种情况好,大多数情况是没问题的。但是有时候会出现`JSON.stringify(props.data)`、`JSON.stringify(this.props.data)`相等的情况,这种情况下这样使用就会失效了。"}],type:"directory",size:64420},{name:"Fiber数据结构.md",path:"/React/Fiber数据结构.md",type:"file",mdconf:{abbrlink:"f3uuo1ij"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4516,extension:".md",relative:"/React/Fiber数据结构.md",isEmpty:!1,content:"\x3c!--abbrlink:f3uuo1ij--\x3e###Fiber的数据结构此小节会通过两个`demo`来展示`StackReconciler`以及`FiberReconciler`的数据结构。![](http://with.muyunyun.cn/7621091ae74df1bbd8b00586128a7d44.jpg-300v)首先用代码表示上图节点间的关系。比如`a1节点`下有`b1、b2、b3节点`,就可以把它们间的关系写成`a1.render=()=>[b1,b2,b3]`;```jsvara1={name:'a1',render=()=>[b1,b2,b3]}varb1={name:'b1',render=()=>[c1]}varb2={name:'b2',render=()=>[c2]}varb3={name:'b3',render=()=>[]}varc1={name:'c1',render=()=>[d1]}varc2={name:'c2',render=()=>[]}vard1={name:'d1',render=()=>[d2]}vard2={name:'d2',render=()=>[]}```####StackReconciler在`React16`之前，节点之间的关系可以用数据结构中`树的深度遍历`来表示。如下实现`walk`函数,将深度遍历的节点打印出来。```jswalk(a1)functionwalk(instance){if(!instance)returnconsole.log(instance.name)instance.render().map(walk)}```输出结果为:`a1b1c1d1d2b2c2b3`####FiberReconciler在`React16`中，节点之间的关系可以用数据结构中的`链表`来表示。节点之间的链表有三种情形,用图表示如下:![](http://with.muyunyun.cn/d7378495a2f16e9058c80326705465f4.jpg-300v)1.父节点到子节点(红色虚线)2.同层节点(黄色虚线)3.子节点到父节点(蓝色虚线)>父节点指向第一个子节点,每个子节点都指向父节点，同层节点间是单向链表。首先,构建节点的数据结构,如下所示:```jsvarFiberNode=function(instance){this.instance=instancethis.parent=nullthis.sibling=nullthis.child=null}```然后创建一个将节点串联起来的`connect`函数:```jsvarconnect=function(parent,childList){parent.child=childList.reduceRight((prev,current)=>{constfiberNode=newFiberNode(current)fiberNode.parent=parentfiberNode.sibling=prevreturnfiberNode},null)returnparent.child}```>在JavaScript中实现链表的数据结构可以巧用reduceRight`connect`函数中实现了上述链表关系。可以像这样使用它:```jsvarparent=newFiberNode(a1)varchildFirst=connect(parent,a1.render())```这样子便完成了`a1节点`指向`b1节点`的链表、`b1、b2、b3节点间`的单向链表以及`b1、b2、b3节点`指向`a1节点`的链表。最后剩下`goWalk`函数将全部节点给遍历完。```js//打印日志以及添加列表varwalk=function(node){console.log(node.instance.name)constchildLists=node.instance.render()letchild=nullif(childLists.length>0){child=connect(node,childLists)}returnchild}vargoWalk=function(root){letcurrentNode=rootwhile(true){constchild=walk(currentNode)//如果有子节点if(child){currentNode=childcontinue}//如果没有相邻节点,则返回到父节点while(!currentNode.sibling){currentNode=currentNode.parentif(currentNode===root){return}}//相邻节点currentNode=currentNode.sibling}}//调用goWalk(newFiberNode(a1))```打印结果为`a1b1c1d1d2b2c2b3``Fiber`在一个节点上的执行流程总结如下:*在当前节点下寻找是否有子节点*若有,则进入子节点*若没有,则在当前节点下寻找是否有下一个相邻节点*若有,则进入下一个相邻节点*若没有,则返回它的父节点###FiberReconciler的优势通过分析上述两种数据结构实现的代码，可以得出下面结论:*基于树的深度遍历实现的Reconciler:一旦进入调用栈便无法暂停;*基于链表实现的Reconciler:在`while(true){}`的循环中,可以通过`currentNode`的赋值重新得到需要操作的节点，而在赋值之前便可以'暂停'来执行其它逻辑,这也是`requestIdleCallback`能得以在`FiberReconciler`的原因。###相关链接*[ThehowandwhyonReact’susageoflinkedlistinFibertowalkthecomponent’stree](https://medium.com/react-in-depth/the-how-and-why-on-reacts-usage-of-linked-list-in-fiber-67f1014d0eb7)*[FiberPrinciples:ContributingToFiber](https://github.com/facebook/react/issues/7942):Fiber设计思想相关issue,推荐。"},{name:"Profiler.md",path:"/React/Profiler.md",type:"file",mdconf:{abbrlink:"93kcvu18"},birthtime:"2021-12-08",mtime:"2021-12-08",size:318,extension:".md",relative:"/React/Profiler.md",isEmpty:!1,content:"\x3c!--abbrlink:93kcvu18--\x3e###what'smeansfor0.6msof2.6ms![](http://with.muyunyun.cn/78812d5ed8f8bc0860f13d644f03cadb.jpg)Thefirstnumber(0.6ms)istheselfdurationandthesecondnumber(2.6ms)istheactualduration.Mostlytheselfdurationistheactualdurationminusthetimespentonthechildren."},{name:"React-DevTools.md",path:"/React/React-DevTools.md",type:"file",mdconf:{abbrlink:"9l5ruk3t"},birthtime:"2021-12-08",mtime:"2021-12-08",size:294,extension:".md",relative:"/React/React-DevTools.md",isEmpty:!1,content:"\x3c!--abbrlink:9l5ruk3t--\x3e###ReactDevTools-[x][React-DevTools4.0Changelog](https://github.com/facebook/react/blob/master/packages/react-devtools/CHANGELOG.md#400-august-15-2019);-[x][react-devtools-tutorial](https://react-devtools-tutorial.now.sh):配合上面Changelog使用;"},{name:"React16.x特性剪辑.md",path:"/React/React16.x特性剪辑.md",type:"file",mdconf:{abbrlink:"v5nv35eg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:10797,extension:".md",relative:"/React/React16.x特性剪辑.md",isEmpty:!1,content:"\x3c!--abbrlink:v5nv35eg--\x3e##React特性剪辑(版本16.0~16.9)>Beforeyou'regoingtohateit,thenyou'regoingtoloveit.![](http://with.muyunyun.cn/18be54d827e9dde7d9e29d029e329334.jpg-400)###ConcurrentRender(贯穿16)在18年的[JSConfIceland](https://www.youtube.com/watch?v=v6iR3Zk4oDY)上,Dan神提到ConcurrentRender涉及到CPU以及IO这两方面。![](http://with.muyunyun.cn/1daa3d783a4a7ed7f742882a08a3aa09.jpg-400)TimeSlicing对应解决左侧的问题,Suspense对应解决了右侧的问题。它们共同要解决的是的提升用户体验,在更多的场景下都可以做到`可交互`。而Fiber架构是上述两者的基石。####TimeSlicing在16之前的版本的渲染过程可以想象成一次性潜水30米,在这期间做不了其它事情(StackReconciler);![](http://with.muyunyun.cn/39db8e34ec1ce048695c3bde132a739e.jpg-200)痛点概括:*一次性渲染到底*中途遇到优先级更高的事件无法调整相应的顺序接着拿上面的潜水例子为例,现在变为可以每次潜10米,分3个chunk进行;chunk和chunk之间通过链表连接;chunk间插入优先级更高的任务,先前的任务被抛弃。![](http://with.muyunyun.cn/02a6b5ac36b12b3c676157ef3985fe4a.jpg-200)>开启Fiber后,获取异步数据的方法应放到render后面的生命周期钩子里(phase2阶段)进行,因为render前面的生命周期钩子(phase1阶段)会被执行多次>注意:并没有缩短原先组件的渲染时间(甚至还加长了),但用户却能感觉操作变流畅了。>[requestIdleCallback()](https://developers.google.com/web/updates/2015/08/using-requestidlecallback):借力此api,浏览器能在空闲的时间处理低优先级的事。####Suspense(16.6,16.8,16.9)Suspense意思是能暂停当前组件的渲染,当完成某件事以后再继续渲染。*`codesplitting`(16.6,已上线):文件懒加载。在此之前的实现方式是[react-loadable](https://github.com/jamiebuilds/react-loadable);*`Concurrentmode`(2019年Q1季度):并发模式;*`datafetching`(2019年中):可以控制等所有数据都加载完再呈现出数据;`Suspense`提供一个时间参数,若小于这个值则不进行`loading`加载,若超过这个值则进行`loading`加载;```jsimportReact,{lazy,Suspense}from'react'constOtherComponent=lazy(()=>import('./OtherComponent'))functionMyComponent(){return(<Suspensefallback={<div>loading...</div>}><OtherComponent/></Suspense>)}```一种简单的预加载思路,可参考[preload](https://medium.com/@pomber/lazy-loading-and-preloading-components-in-react-16-6-804de091c82d)```jsconstOtherComponentPromise=import('./OtherComponent');constOtherComponent=React.lazy(()=>OtherComponentPromise);```###render新增的返回类型在React16版本中render()增加了一些返回类型,到目前为止支持的返回类型如下:*Reactelements.*Arraysandfragments.*Portals.*Stringandnumbers.*Booleansornull.>[render](https://reactjs.org/docs/react-component.html#render)其中render()支持返回Arrays能让我们少写一个父节点,如下所示:```jsconstrenderArray=()=>[<divkey=\"A\">A</div><divkey=\"B\">B</div>]```>render()支持返回数组的特性类似[Fragments](https://reactjs.org/docs/fragments.html)(16.2),使用Fragments可以不用写key。###Portals(传送门)将React子节点渲染到指定的节点上案例:实现一个Modal组件,[demo](https://codepen.io/gaearon/pen/yzMaBd)另外关于Portals做到冒泡到父节点的兄弟节点这个现象,[demo](https://codepen.io/gaearon/pen/jGBWpE),我想可以这样子实现:如果组件返回是Portal对象,则将该组件的父组件的上的事件copy到该组件上。其实并不是真的冒泡到了父节点的兄弟节点上。###ErrorBoundariesReact16提供了一个新的错误捕获钩子`componentDidCatch(error,errorInfo)`,它能将子组件生命周期里所抛出的错误捕获,防止页面全局崩溃。[demo](https://codepen.io/gaearon/pen/wqvxGa?editors=0010)componentDidCatch并不会捕获以下几种错误*事件机制抛出的错误(事件里的错误并不会影响渲染)*ErrorBoundaries自身抛出的错误*异步产生的错误*服务端渲染###服务端渲染服务端渲染一般是作为最后的优化手段,这里浅显(缺乏经验)谈下React16在其上的优化。在React16版本中引入了`React.hydrate()`,它的作用主要是将相关的事件`注水`进`html`页面中,同时会比较前端生成的`html`和服务端传到前端的`html`的文本内容的差异,如果两者不一致将前端产生的文本内容替换服务端生成的(忽略属性)。###支持自定义属性在React16版本中,支持自定义属性(推荐`data-xxx`),因而React可以少维护一份attribute白名单,这也是React16体积减少的一个重要因素。###Context(16.3、16.6)Context相当于是用组件化的方式使用global,使用其可以共享认证的用户、首选语言(国际化)等一些全局的信息,而不必通过组件一层层传递。以下是比较冗余的传递:```js<PageriderId={riderId}/>//...whichrenders...<RiderDetailriderId={riderId}/>//...whichrenders...<RiderLevelriderId={riderId}/>//...whichrenders...<AvatarriderId={riderId}/>```在`Context`之前可以传递`<Avatar>`本身(ComponentComposition的思想),写法如下:```jsfunctionPage(props){constavatar=<AvatarriderId={props.riderId}/>return<RiderDetailavatar={avatar}/>}<PageriderId={riderId}/>//...whichrenders...<RiderDetailavatar={avatar}/>//...whichrenders...<RiderLevelavatar={avatar}/>//...whichrenders...{props.avatar}```接着是使用`Context`书写的例子,写法如下:```jsconstRiderContext=React.createContext(1)//这里为默认值functionPage(props){constriderId=props.riderIdreturn(<RiderContext.Providervalue={riderId}><RiderDetail/></RiderContext.Provider>)}functionRiderDetail(){return<RiderLevel/>}classRiderLevelextendsReact.Component{staticcontextType=RiderContextrender(){return<Avataravatar={this.context}/>;}}```###新的生命周期(16.3)![](https://user-images.githubusercontent.com/12389235/41266906-b6a6e75a-6e2b-11e8-8266-9597b2d57f11.png)在未来17的版本中,将移除的生命周期钩子如下:*`componentWillMount()`:移除这个api基于以下两点考虑:*服务端渲染:在服务端渲染的情景下,componentWillMount执行完立马执行render会导致componentWillMount里面执行的方法(获取数据,订阅事件)并不一定执行完;*ConcurrentRender:在fiber架构下,render前的钩子会被多次调用,在componentWillMount里执行订阅事件就会产生内存泄漏;>迁移思路,将以前写在`componentWillMount`的获取数据、时间订阅的方法写进`componentDidMount`中;*`componentWillReceiveProps(nextProps)`:移除这个api基于如下考虑:*语义不太契合逻辑*phase1阶段会多次调用新的钩子`getDerivedStateFromProps()`更加纯粹,它做的事情是将新传进来的属性和当前的状态值进行对比,若不一致则更新当前的状态。```jsgetDerivedStateFromProps(nextProps,prevState){if(nextProps.riderId!==prevState.riderId){return{riderId:nextProps.riderId}}//返回null则表示state不用作更新returnnull}```另外关于componentWillReceiveProps()在15里大量使用的一个场景:比如切换tab时都要重新获取当前页面的数据,之前通常会这么做:```jscomponentWillReceiveProps(nextProps){if(nextProps.riderId!==this.props.riderId){fetchData(nextProps.riderId)}}```在16中可以使用memoize来代替,写法如下:```jsimportmemoizefrom\"memoize-one\"classDemoextendsReact.Component{fetchDataDemo=memoize((riderId)=>fetchData(riderId))componentDidUpdate(){fetchDataDemo(this.props.riderId)}}```*`componentWillUpdate()`:目前将其理解为和`componentWillMount`一样的情况在React16.3的版本中,新加入了两个生命周期:*`getDerivedStateFromProps(nextProps,prevState)`:更加语义化,用来替代`componentWillMount()`和`componentWillReceiveProps(nextProps)`;*`getSnapshotBeforeUpdate(prevProps,prevState)`:可以将该钩子返回的结果传入componentDidUpdate的第三个参数中,从而达到dom数据统一。用来替代componentWillUpdate();>具体demo可见[UpdateonAsyncRendering](https://react.docschina.org/blog/2018/03/27/update-on-async-rendering.html#initializing-state)###React.memo(16.6)`React.memo`是一个高阶组件,它使无状态组件拥有有状态组价中的`shouldComponentUpdate()`以及`PureComponent`的能力。```jsconstMyComponent=React.memo(functionMyComponent(props){...})```###Hooks(16.7)在React16.7之前,React有两种形式的组件,有状态组件(类)和无状态组件(函数)。Hooks的意义就是赋能先前的无状态组件,让之变为有状态。这样一来更加契合了React所推崇的函数式编程。接下来梳理Hooks中最核心的2个api,`useState`和`useEffect`####useStateuseState返回状态和一个更新状态的函数```jsconst[count,setCount]=useState(initialState)```使用Hooks相比之前用class的写法最直观的感受是更为简洁```jsfunctionApp(){const[count,setCount]=useState(0)return(<div><p>Youclicked{count}times</p><buttononClick={()=>setCount(count+1)}>Clickme</button></div>)}```####useEffect(fn)在每次render后都会执行这个钩子。可以将它当成是`componentDidMount`、`componentDidUpdate`、`componentWillUnmount`的合集。因此使用useEffect比之前优越的地方在于:1.可以避免在`componentDidMount、componentDidUpdate`书写重复的代码;2.可以将关联逻辑写进一个`useEffect`(在以前得写进不同生命周期里);###React的未来![](http://with.muyunyun.cn/fd1dd7ca2ba34bebef2d489c63befa25.jpg-200)今年的ReactConf的一张图,可以看到React从出来到现在势头呈稳健上升趋势,并在2018年这个节点上把Jquery拉下了王座。但可以看见React未来还有一段很长的路要走。###相关链接*[reactjs.org](https://reactjs.org/blog/all.html)"},{name:"React17.md",path:"/React/React17.md",type:"file",mdconf:{abbrlink:"xvnmyonq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1204,extension:".md",relative:"/React/React17.md",isEmpty:!1,content:"\x3c!--abbrlink:xvnmyonq--\x3e###React17*![](http://with.muyunyun.cn/1b3163fff33edde81761d580e40f0725.jpg)*17版本之后支持多版本共存。mark,后续跟进。*冒泡机制更改:向原生靠拢;*降低开发心智;###React18####automaticbatchingsetState*React18默认支持在setTimeout、fetch中,automaticbatchingsetState。[discussion](https://github.com/reactwg/react-18/discussions/21)####startTransition*[startTransition](https://github.com/reactwg/react-18/discussions/41)>InatypicalReactapp,mostupdatesareconceptuallytransitionupdates.Butforbackwardscompatibilityreasons,transitionsareopt-in.Bydefault,React18stillhandlesupdatesasurgent,andyoucanmarkanupdateasatransitionbywrappingitintostartTransition.####NewSuspenseSSRArchitectureinReact18*[NewSuspenseSSRArchitectureinReact18](https://github.com/reactwg/react-18/discussions/37)*React18:StreamingHTMLandSelectiveHydration-[][marko](https://tech.ebayinc.com/engineering/async-fragments-rediscovering-progressive-html-rendering-with-marko/)###link*[react-v17](https://reactjs.org/blog/2020/08/10/react-v17-rc.html)"},{name:"React_Hooks深入系列.md",path:"/React/React_Hooks深入系列.md",type:"file",mdconf:{abbrlink:"t3in9kmo"},birthtime:"2021-12-08",mtime:"2021-12-08",size:8172,extension:".md",relative:"/React/React_Hooks深入系列.md",isEmpty:!1,content:"\x3c!--abbrlink:t3in9kmo--\x3e###ReactHooks深入系列在class已经融入React生态的节点下,React推出的Hooks具有如下优势:*更简洁的书写;*相对类中的`HOC`与`renderProps`,Hooks拥有更加自由地组合抽象的能力;###使用Hooks的注意项*在`hooks`中每一次`render`都有自己的`state`和`props`,这与`class`中存在差异,见[Hooks每次渲染都是闭包](https://overreacted.io/a-complete-guide-to-useeffect/#each-render-has-its-own-everything)*`class`中可以用闭包模拟`hooks`的表现,[链接](https://codesandbox.io/s/w7vjo07055),`hooks`中可以使用`ref`模拟`class`的表现,[链接](https://codesandbox.io/s/rm7z22qnlp);*写出useEffect的所用到的依赖在以下demo中,`useEffect`的第二个参数传入`[]`,希望的是`useEffect`里的函数只执行一次(类似在`componentDidMount`中执行一次,但是注意这里仅仅是`类似`,详细原因见上一条注意项),页面上每隔1s递增1。```jsfunctionDemo(){const[count,setCount]=useState(0);useEffect(()=>{constid=setInterval(()=>{setCount(count+1);},1000);return()=>{clearInterval(id);};},[]);returncount;}```但这样达到我们预期的效果了么?[demo](https://codesandbox.io/s/n3o2m1wpj4),可以看到界面上只增加到1就停止了。原因就是传入的第二个参数`[]`搞的鬼,`[]`表示没有外界状态对`effect`产生干扰。流程大致如下:1.第一次调用`useEffect`传入的`count`为0,于是`setCount(0+1)`;2.受`useEffect`第二个参数`[]`的影响，`count`仍然为0,所以相当于还是`setCount(0+1)`;那如何修正上述问题呢?方法有两个(方法一为主,方法二为辅):*方法一:将`[]`改为`[count]`*方法二:将`setCount(count+1)`改为`setCount(count=>count+1)`。这种方法的思想是修正状态的值而不依赖外面传进的状态。不过遇到`setCount(count=>count+1)`的情况就可以考虑使用`useReducer`了。####何时使用useReducer使用`useState`的地方都能用`useReducer`进行替代。相较`useState`,`useReducer`有如下优势:*`useReducer`将`how`(reducer)和`what`(dispatch(action))进行抽离;使用`reducer`逻辑状态进行集中化维护;*相比useState,useReducer没有[闭包问题](https://overreacted.io/a-complete-guide-to-useeffect/#each-render-has-its-own-everything);*当状态的一个state依赖状态中的另一个state时,这种情况最好使用`useReducer`;可以参考[decoupling-updates-from-actions](https://overreacted.io/a-complete-guide-to-useeffect/#decoupling-updates-from-actions)中Dan列举的demo。####处理useEffect中的公用函数```jsfunctionDemo(){const[count,setCount]=useState(0);functiongetFetchUrl(query){return`http://demo${query}`}useEffect(()=>{consturl=getFetchUrl('react')},[getFetchUrl]);useEffect(()=>{consturl=getFetchUrl('redux')},[getFetchUrl]);returncount;}```此时`useEffect`中传入的第二个参数`getFetchUrl`相当于每次都是新的,所以每次都会请求数据,那除了`[getFetchUrl]`将改为`[]`这种不推荐的写法外，有两种解决方法:*.方法一:提升`getFetchUrl`的作用域;*.方法二:使用`useCallback`或者`useMemo`来包裹getFetchUrl;>`React.memo`修饰一个函数组件,`useMemo`修饰一个函数。它们本质都是运用缓存。###ReactHooks内部是怎么工作的为了理解ReactHooks内部实现原理,对`useState`、`useEffect`进行了简单的实现。####useState的简单实现使用闭包来实现`useState`的简单逻辑:```js//这里使用闭包constReact=(function(){let_valreturn{useState(initialValue){_val=_val||initialValuefunctionsetVal(value){_val=value}return[_val,setVal]}}})()```测试如下:```jsfunctionCounter(){const[count,setCount]=React.useState(0)return{render:()=>console.log(count),click:()=>setCount(count+1)}}Counter().render()//0Counter().click()//模拟点击Counter().render()//1```####useEffect的简单实现```jsvarReact=(function(){let_val,_depsreturn{useState(initialValue){_val=_val||initialValuefunctionsetVal(value){_val=value}return[_val,setVal]},useEffect(callback,deps){constifUpdate=!deps//判断Deps中的依赖是否改变constifDepsChange=_deps?!_deps.every((r,index)=>r===deps[index]):trueif(ifUpdate||ifDepsChange){callback()_deps=deps||[]}}}})()```测试代码如下:```jsvar{useState,useEffect}=ReactfunctionCounter(){const[count,setCount]=useState(0)useEffect(()=>{console.log('useEffect',count)},[count])return{render:()=>console.log('render',count),click:()=>setCount(count+1),noop:()=>setCount(count),//保持不变,观察useEffect是否被调用}}Counter().render()//'useEffect'0,'render',0Counter().noop()Counter().render()//'render',0Counter().click()Counter().render()//'useEffect'1,'render',1```####处理多次调用的情形为了在`hooks`中能使用多次`useState`,`useEffect`,将各个`useState`,`useEffect`的调用存进一个数组中,在上面基础上进行如下改造:```jsconstReact=(function(){consthooks=[]letcurrentHook=0return{render(Component){constcomponent=Component()component.render()currentHook=0//重置,这里很关键,将hooks的执行放到hooks队列中,确保每次执行的顺序保持一致。returncomponent},useState(initialValue){hooks[currentHook]=hooks[currentHook]||initialValuefunctionsetVal(value){hooks[currentHook]=value}return[hooks[currentHook++],setVal]},useEffect(callback,deps){constifUpdate=!deps//判断Deps中的依赖是否改变constifDepsChange=hooks[currentHook]?!hooks[currentHook].every((r,index)=>r===deps[index]):trueif(ifUpdate||ifDepsChange){callback()hooks[currentHook++]=deps||[]}}}})()```测试代码如下:```jsvar{useState,useEffect}=ReactfunctionCounter(){const[count,setCount]=useState(0)const[type,setType]=useState('hi')useEffect(()=>{console.log('useEffect',count)console.log('type',type)},[count,type])return{render:()=>console.log('render',count),click:()=>setCount(count+1),noop:()=>setCount(count),//保持不变,观察useEffect是否被调用}}/*如下mock执行了useEffect、render;这里使用React.render的原因是为了重置currentHook的值*/letcomp=React.render(Counter)//useEffect0typehirender0/*如下mock只执行了render*/comp.noop()comp=React.render(Counter)//render0/*如下mock重新执行了useEffect、render*/comp.click()React.render(Counter)//useEffect1,render1```###相关资源*[awesome-react-hooks](https://github.com/rehooks/awesome-react-hooks)*[usehooks](https://github.com/gragland/usehooks)*[deep-dive-how-do-react-hooks-really-work](https://www.netlify.com/blog/2019/03/11/deep-dive-how-do-react-hooks-really-work/)*[a-complete-guide-to-useeffect](https://overreacted.io/a-complete-guide-to-useeffect/):推荐Dan的这篇文章*[Hooks,State,Closures,anduseReducer](https://adamrackis.dev/state-and-use-reducer/):作为[decoupling-updates-from-actions](https://overreacted.io/a-complete-guide-to-useeffect/#decoupling-updates-from-actions)的补充*[ShouldIuseStateoruseReducer](https://kentcdodds.com/blog/should-i-usestate-or-usereducer/):"},{name:"React_Hooks设计模式.md",path:"/React/React_Hooks设计模式.md",type:"file",mdconf:{abbrlink:"96j58x88"},birthtime:"2021-12-08",mtime:"2021-12-08",size:13656,extension:".md",relative:"/React/React_Hooks设计模式.md",isEmpty:!1,content:"\x3c!--abbrlink:96j58x88--\x3e###ReactLogo与Hooks![](http://with.muyunyun.cn/ddbdcec2fc39ba350fc74647f4fad6f5.jpg-300)React的logo是一个原子图案,原子组成了物质的表现。类似的,React就像原子般构成了页面的表现;而Hooks就如夸克,其更接近React本质的样子,但是直到4年后的今天才被真正设计出来。——DaninReactConf(2018)###WHYHOOKS?*`多个组件间逻辑复用`:在Class中使用React不能将带有state的逻辑给单独抽离成function,其只能通过嵌套组件的方式来解决多个组件间逻辑复用的问题,基于嵌套组件的思想存在[HOC](https://github.com/MuYunyun/blog/blob/master/React/从0到1实现React/8.HOC探索.md)与`renderprops`两种设计模式。但是这两种设计模式是否存在缺陷呢?*嵌套地狱,当嵌套层级过多后,数据源的追溯会变得十分困难,导致定位bug不容易;(hoc、renderprops)*性能,额外的组件实例需要存在额外的开销;(Hoc、Renderprops)*命名重复性,在一个组件中同时使用多个hoc,不排除这些hoc里的方法存在命名冲突的问题;(hoc)*`单个组件中的逻辑复用`:Class中的生命周期`componentDidMount`、`componentDidUpdate`甚至`componentWillUnMount`中的大多数逻辑基本是类似的,必须拆散在不同生命周期中维护相同的逻辑对使用者是不友好的,这样也造成了冗余的组件代码量。*Class的其它一些问题:书写Class组件时需要大量样板代码,用户通常会对Class中Constructor的bind以及this的使用感到困惑(Todo:举例);当Class与TypeScript结合一起使用时,需要对defaultValue做额外声明处理;此外ReactTeam表示Class在机器编译优化方面也不是很理想。*[Vue:Update:theClassAPIproposalisbeingdropped.](https://github.com/vuejs/rfcs/pull/17#issuecomment-494242121)-------2020.07.19-------*组件重构*ReactHooks的常见陷阱*闭包陷阱,(useInterval,useFetch)*Hooks规则陷阱(见花媛最新聊天记录),eslint-hooks插件*Hooks不能做到?*Matrix组件*[https://zhuanlan.zhihu.com/p/103150605],分享一篇流畅风趣的hooks文章,文风风趣不错,可以借鉴。----------more---------###useState返回的值为什么是数组而非对象?原因是数组的解构比对象更加方便,可以观察以下两种数据结构解构的差异。返回数组时,可以直接解构成任意名字。```js[name,setName]=useState('路飞')[age,setAge]=useState(12)```返回对象时,却需要多一层的命名。```js{value:name,setValue:setName}=useState('路飞'){value:name,setValue:setName}=useState(12)```###Hooks传递的设计Hooks是否可以设计成在组件中通过函数传参来使用?比如进行如下调用?```jsconstSomeContext=require('./SomeContext)functionExample({someProp},hooks){constcontextValue=hooks.useContext(SomeContext)return<div>{someProp}{contextValue}</div>}```使用传递的劣势是会出现冗余的传递。(可以联想Context解决了什么)###Hooks与Class中调用setState有不同的表现差异么?Hooks中的setState与Class中最大区别在于Hooks不会对多次setState进行合并操作。如果要执行合并操作,可执行如下操作:```jssetState(prevState=>{return{...prevState,...updateValues}})```此外可以对class与Hooks之间`setState`是异步还是同步的表现进行对比,可以先对以下4种情形render输出的个数进行观察分析:class中的setState:```jsexportdefaultclassAppextendsReact.Component{state={name:'路飞',old:12,gender:'boy'}//情形①:class中异步调用setStatecomponentDidMount(){this.setState({name:'娜美'})this.setState({old:13})this.setState({gender:'girl'})}//情形②:class中同步调用setStatecomponentDidMount(){setTimeout(()=>{this.setState({name:'娜美'})this.setState({old:13})this.setState({gender:'girl'})})}render(){console.log('render')const{name,old,gender}=this.statereturn(<>{name}{old}{gender}</>)}}```Hooks中的setState```jsexportdefaultfunction(){const[name,setName]=useState('路飞')const[old,setOld]=useState('12')const[gender,setGender]=useState('boy')//情形③:Hooks中异步调用setStateuseEffect(()=>{setName('娜美')setOld('13')setGender('girl')},[])//情形④:Hooks中同步调用setStateuseEffect(()=>{setTimeout(()=>{setName('娜美')setOld('13')setGender('girl')},0)},[])console.log('render')return(<>{name}{old}{gender}</>)}```情形①、情形②、情形③、情形④中render输出的次数分别是2,4,2,4。可以看出在React中使用class写法和hooks写法是一一对应的。此外`setState的执行是异步还是同步取决于其执行环境`。###如何在Hooks中模拟setState的第二个参数场景:在使用类模式的React中有时会使用setState的第二个参数来完成某些异步回调操作(比如接口请求),在Hooks中如何对齐类模式中的这种用法呢?使用useRef来控制一个标志符;>具体见[issue](https://github.com/facebook/react/issues/14174#issuecomment-437551476)###Hooks中useEffect的执行时间是否与componentDidMount/componentDidUpdate相同在[timing-of-effects](https://reactjs.org/docs/hooks-reference.html#timing-of-effects)中有提到`useEffect`的执行时机是在浏览器下一次layout与paint之后,与之相对的`useLayoutEffect`的执行时机是在浏览器下一次layout与paint之前(同`componentDidMount`/`componentDidUpdate`)。>useLayoutEffect适用的场景为在class模式下在componentDidMount/componentDidUpdate中对样式进行调整的场景;>[this-benchmark-is-indeed-flawed](https://medium.com/@dan_abramov/this-benchmark-is-indeed-flawed-c3d6b5b6f97f):此文用数据比较了useEffect与componentDidMount/componentDidUpdate的执行时机。###Hooks中模拟仅调用componentDidUpdate而不调用componentDidMount思路:借助`useRef`跳过头一次的执行。```jsfunctionDemo(){constmounted=React.useRef(false)React.useEffect(()=>{if(!mounted.current){mounted.current=true}else{//dosomethingmockcomponentDidUpdate}})}```###Hooks中如何获取先前的props以及stateReact官方在未来很可能会提供一个`usePrevious`的hooks来获取之前的props以及state。`usePrevious`的核心思想是用ref来存储先前的值。```jsfunctionusePrevous(value){constref=useRef()useEffect(()=>{ref.current=value})returnref.current}```###Hooks中如何调用实例上的方法在Hooks中使用useRef()等价于在Class中使用this.something。```js/*inafunction*/constX=useRef()X.current//canreadorwrite/*inaClass*/this.X//canreadorwrite```>[Istheresomethinglikeinstancevariables](https://reactjs.org/docs/hooks-faq.html#is-there-something-like-instance-variables)###Hooks中getDerivedStateFromProps的替代方案在[React暗器百解](https://github.com/MuYunyun/blog/blob/master/React/React暗器百解.md)中提到了`getDerivedStateFromProps`是一种反模式,但是极少数情况还是用得到该钩子,Hooks没有该api,那其如何达到getDerivedStateFromProps的效果呢?```jsfunctionScrollView({row}){const[isScrollingDown,setISScrollingDown]=setState(false)const[prevRow,setPrevRow]=setState(null)//核心是创建一个prevRowstate与函数调用方传进来的row进行比较if(row!==prevRow){setISScrollingDown(prevRow!==null&&row>prevRow)setPrevRow(row)}return`Scrollingdown${isScrollingDown}`}```###Hooks中forceUpdate的替代方案可以使用`useReducer`来hack`forceUpdate`,但是尽量避免forceUpdate的使用。```jsconstuseForceUpdate=()=>{returnuseReducer(x=>x+1,0)[1]}functionhandleClick(){constforceUpdate=useForceUpdate()forceUpdate()}```###Hooks中shouldComponentUpdate的替代方案在Hooks中可以使用`useMemo`来作为`shouldComponentUpdate`的替代方案,但`useMemo`只对props进行浅比较。```jsReact.useMemo((props)=>{//yourcomponent})```####useMemo与useCallback的区别```jsuseMemo(()=><component/>)等价于useCallback(<component/>)```*useCallback*缓存函数```jsconstfn=React.useCallback(()=>{setOut(true)},[])```*useMemo*一般用于缓存组件*缓存值:`constdemo=React.useMemo(()=>[...],[])`###是否能使用ReactHooks替代Redux在React16.8版本之后,针对`不是特别复杂`的业务场景,可以使用React提供的`useContext`、`useReducer`实现自定义简化版的redux,可见[todoList](https://github.com/MuYunyun/todoList)中的运用。核心代码如下:```jsimportReact,{createContext,useContext,useReducer}from\"react\"//创建StoreContextconstStoreContext=createContext()//构建Provider容器层exportconstStoreProvider=({reducer,initialState,children})=>{return(<StoreContext.Providervalue={useReducer(reducer,initialState)}>{children}</StoreContext.Provider>)}//在子组件中调用useStoreContext,从而取得Provider中的valueexportconstuseStoreContext=()=>useContext(StoreContext)```但是针对特别复杂的场景目前不建议使用此模式,因为context的机制会有性能问题。具体原因可见[react-reduxv7回退到订阅的原因](https://github.com/reduxjs/react-redux/issues/1177)####依赖列表中移除函数是否是安全的?通常来说依赖列表中移除函数是不安全的。观察如下demo```jsconst{useState,useEffect}=ReactfunctionExample({someProp}){functiondoSomething(){console.log(someProp)//这里只输出1,点击按钮的2并没有输出。}useEffect(()=>{doSomething()},[]//🔴这是不安全的,因为在doSomething函数中使用了someProps属性)return<div>example</div>}exportdefaultfunction(){const[value,setValue]=useState(1)return(<><ExamplesomeProp={value}/><ButtononClick={()=>setValue(2)}>button</Button></>)}```在该demo中,点击button按钮,并没有打印出2。解决上述问题有两种方法。方法一:将函数放入`useEffect`中,同时将相关属性放入依赖项中。因为在依赖中改变的相关属性一目了然,所以这也是首推的做法。```jsfunctionExample({someProp}){useEffect(()=>{functiondoSomething(){console.log(someProp)}doSomething()},[someProps]//相关属性改变一目了然)return<div>example</div>}```方法二:把函数加入依赖列表中```jsfunctionExample({someProp}){functiondoSomething(){console.log(someProp)}useEffect(()=>{doSomething()},[doSomething])return<div>example</div>}```方案二基本上不会单独使用,它一般结合`useCallback`一起使用来处理某些函数计算量较大的函数。```jsfunctionExample({someProp}){constdoSomething=useCallback(()=>{console.log(someProp)},[someProp])useEffect(doSomething(),[doSomething])return<div>example</div>}```####如何避免重复创建昂贵的对象*方法一:使用`useState`的懒初始化,用法如下```jsconst[value,setValue]=useState(()=>createExpensiveObj)```>见[lazy-initial-state](https://reactjs.org/docs/hooks-reference.html#lazy-initial-state);*方法二:使用自定义useRef函数```jsfunctionImage(props){constref=useRef(null)functiongetExpensiveObj(){if(ref.current===null){ref.current=ExpensiveObj}returnref.current}//ifneedExpensiveObj,callgetExpensiveObj()}```###竞态关于竞态(racecondition)的解决方法:方案一:提供一个标志符,在`cleaneffect`阶段中将其置空。代码如下:```jsfunctionArticle({id}){const[article,setArticle]=useState(null);useEffect(()=>{letdidCancel=false;asyncfunctionfetchData(){constarticle=awaitAPI.fetchArticle(id);if(!didCancel){setArticle(article);}}fetchData();return()=>{didCancel=true;};},[id]);//...}```方案二:使用Suspense:Suspense的机制能做到`renderasfetch`。见[solving-race-conditions-with-suspense](https://reactjs.org/docs/concurrent-mode-suspense.html#solving-race-conditions-with-suspense)###相关资料*[HooksRFCS](https://github.com/reactjs/rfcs/pull/68#issuecomment-439314884)*[HooksFAQ](https://reactjs.org/docs/hooks-faq.html)*[MakingSenseofReactHooks](https://medium.com/@dan_abramov/making-sense-of-react-hooks-fdbde8803889)*[VueFunction-basedAPIRFC](https://zhuanlan.zhihu.com/p/68477600)"},{name:"React暗器百解.md",path:"/React/React暗器百解.md",type:"file",mdconf:{abbrlink:"v11si119"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1582,extension:".md",relative:"/React/React暗器百解.md",isEmpty:!1,content:"\x3c!--abbrlink:v11si119--\x3e*React的组件名为什么要大写？```在`render`中,小写会被认为是`html`元素```*你会把向API的数据请求放在哪里执行```视情况考虑:*componentDidMount,可能会导致白屏*constructor,针对数据不变的情况```*虚拟dom中有个`$$typeof`字段，有了解过它的作用么？运用`JSON`里会无视`Symbol`的知识点来完成安全性校验。可以参阅[WhyDoReactElementsHavea$$typeofProperty?](https://overreacted.io/why-do-react-elements-have-typeof-property/)*如何理解`useEffect`中的副作用```操作dom,获取数据，会影响其它组件或者在渲染时没有办法做其它操作,这是目前所理解的副作用。```*组件为什么写成`<Form/>`而不是`Form()`结合编译时能做更多事情*`React.memo()`和`useMemo()`的区别`useMemo()`的粒度比`React.memo()`更细*什么时候使用setState((state,props)=>stateChange)而不用setState({})点击一个按钮,连续使用setState进行三次的增加,如果使用setState({})会造成state的合并,使用setState((state,props)=>stateChange)没有这个问题。>[react-as-a-ui-runtime](https://overreacted.io/react-as-a-ui-runtime/)*HowtojudgeifthereactelementisFragment?```js/***judegeifisReactFragment.*/functionisReactFragment(variableToInspect){if(variableToInspect.type){returnvariableToInspect.type===React.Fragment;}returnvariableToInspect===React.Fragment;}```"},{name:"React设计模式",path:"/React/React设计模式",children:[{name:"Compound_Component.md",path:"/React/React设计模式/Compound_Component.md",type:"file",mdconf:{abbrlink:"29dmryva"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1114,extension:".md",relative:"/React/React设计模式/Compound_Component.md",isEmpty:!1,content:"\x3c!--abbrlink:29dmryva--\x3e###复合组件(CompoundComponent)####使用static来复合组件优点如下:*结构更加清晰```jsxclassToggleextendsReact.Component{staticOn=({on,children})=>on?children:nullstaticOff=({on,children})=>on?null:childrenstaticButton=({on,toggle})=><Switchon={on}onClick={toggle}/>state={on:false}toggle=()=>this.setState(({on})=>({on:!on}),()=>this.props.onToggle(this.state.on),)render(){returnReact.Children.map(this.props.children,reactElement=>{returnReact.cloneElement(reactElement,{on:this.state.on,toggle:this.toggle,})})}}//使用这种设计模式来复合组件,可以看到组件的使用十分清晰<ToggleonToggle={()=>console.log('onToggle')}><Toggle.On>Thebuttonison</Toggle.On><Toggle.Off>Thebuttonisoff</Toggle.Off><Toggle.Button/></Toggle>```###资料*[advanced-react-patterns-v2](https://github.com/demos-platform/advanced-react-patterns-v2/blob/master/src/exercises/02.js)"},{name:"setState回调替代方案.md",path:"/React/React设计模式/setState回调替代方案.md",type:"file",mdconf:{abbrlink:"tvglcw3s"},birthtime:"2021-12-08",mtime:"2021-12-08",size:876,extension:".md",relative:"/React/React设计模式/setState回调替代方案.md",isEmpty:!1,content:'\x3c!--abbrlink:tvglcw3s--\x3e###setState回调替代方案在脚手架中发现setState禁用了回调的使用。因为目前发现使用setState第二个参数的场景是想用setState更新状态后的值。```jsclassAppextenesReact.Component{countName=()=>{if(this.state.name==="xxx"){this.setState({count:this.state.count+1})}}handle=name=>{this.setState({name},this.countName)}}```回调的方式会造成多余一次渲染,可改为`传参`的方式代替回调的方式。```jsclassAppextenesReact.Component{countName=(name)=>{if(name==="xxx"){this.setState({//2count:this.state.count+1})}}handle=name=>{this.countName(name)this.setState({name})}}```'}],type:"directory",size:1990},{name:"SSR.md",path:"/React/SSR.md",type:"file",mdconf:{abbrlink:"5i9afp89"},birthtime:"2021-12-08",mtime:"2021-12-08",size:160,extension:".md",relative:"/React/SSR.md",isEmpty:!1,content:"\x3c!--abbrlink:5i9afp89--\x3e###相关链接*[ReactSSR之原理篇](http://www.ayqy.net/blog/react-ssr-under-the-hood/)客户端兜底接口是否合理"},{name:"Server_Component.md",path:"/React/Server_Component.md",type:"file",mdconf:{abbrlink:"zftwldv5"},birthtime:"2021-12-08",mtime:"2021-12-08",size:413,extension:".md",relative:"/React/Server_Component.md",isEmpty:!1,content:"\x3c!--abbrlink:zftwldv5--\x3e###ServerComponents*Gooduserexperience:用户体验*stableloading*Cheapmaintenance:可维护性*writefetchinoneplace*Fastperformance:性能*promise.all###linkhttps://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html*[如何看待ReactServerComponents？](https://www.zhihu.com/question/435921124/answer/1641702920)"},{name:"component_market.md",path:"/React/component_market.md",type:"file",mdconf:{abbrlink:"x6rniuyk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:130,extension:".md",relative:"/React/component_market.md",isEmpty:!1,content:"\x3c!--abbrlink:x6rniuyk--\x3e###移动端组件库*[NutUI](https://nutui.jd.com/#/intro)*公司:京东*技术栈:vue"},{name:"how_suspense_resolve.md",path:"/React/how_suspense_resolve.md",type:"file",mdconf:{abbrlink:"9ajh17y7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:9966,extension:".md",relative:"/React/how_suspense_resolve.md",isEmpty:!1,content:"\x3c!--abbrlink:9ajh17y7--\x3e###CodeSpliting在16.6版本之前，`code-spliting`通常是由第三方库来完成的，比如[react-loadble](https://github.com/jamiebuilds/react-loadable)(核心思路为:高阶组件+webpackdynamicimport),在16.6版本中提供了`Suspense`和`lazy`这两个钩子,因此在之后的版本中便可以使用其来实现`CodeSpliting`。>目前阶段,服务端渲染中的`code-spliting`还是得使用`react-loadable`,可查阅[React.lazy](https://reactjs.org/docs/code-splitting.html#reactlazy),暂时先不探讨原因。`CodeSpliting`在`React`中的使用方法是在`Suspense`组件中使用`<LazyComponent>`组件:```jsimport{Suspense,lazy}from'react'constDemoA=lazy(()=>import('./demo/a'))constDemoB=lazy(()=>import('./demo/b'))<Suspense><NavLinkto=\"/demoA\">DemoA</NavLink><NavLinkto=\"/demoB\">DemoB</NavLink><Router><DemoApath=\"/demoA\"/><DemoBpath=\"/demoB\"/></Router></Suspense>```源码中`lazy`将传入的参数封装成一个`LazyComponent````jsfunctionlazy(ctor){return{$$typeof:REACT_LAZY_TYPE,//相关类型_ctor:ctor,_status:-1,//dynamicimport的状态_result:null,//存放加载文件的资源};}```观察[readLazyComponentType](https://github.com/MuYunyun/react/blob/29b7b775f2ecf878eaf605be959d959030598b07/packages/react-reconciler/src/ReactFiberLazyComponent.js#L30-L87)后可以发现`dynamicimport`本身类似`Promise`的执行机制,也具有`Pending`、`Resolved`、`Rejected`三种状态,这就比较好理解为什么`LazyComponent`组件需要放在`Suspense`中执行了(`Suspense`中提供了相关的捕获机制,下文会进行模拟实现`),相关源码如下:```jsfunctionreadLazyComponentType(lazyComponent){conststatus=lazyComponent._status;constresult=lazyComponent._result;switch(status){caseResolved:{//Resolve时，呈现相应资源constComponent=result;returnComponent;}caseRejected:{//Rejected时，throw相应errorconsterror=result;throwerror;}casePending:{//Pending时,throw相应thenableconstthenable=result;throwthenable;}default:{//第一次执行走这里lazyComponent._status=Pending;constctor=lazyComponent._ctor;constthenable=ctor();//可以看到和Promise类似的机制thenable.then(moduleObject=>{if(lazyComponent._status===Pending){constdefaultExport=moduleObject.default;lazyComponent._status=Resolved;lazyComponent._result=defaultExport;}},error=>{if(lazyComponent._status===Pending){lazyComponent._status=Rejected;lazyComponent._result=error;}},);//Handlesynchronousthenables.switch(lazyComponent._status){caseResolved:returnlazyComponent._result;caseRejected:throwlazyComponent._result;}lazyComponent._result=thenable;throwthenable;}}}```###AsyncDataFetching为了解决获取的数据在不同时刻进行展现的问题(在[suspenseDemo](https://github.com/demos-platform/suspenseDemo)中有相应演示),`Suspense`给出了解决方案。下面放两段代码，可以从中直观地感受在`Suspense`中使用`AsyncDataFetching`带来的便利。*一般进行数据获取的代码如下:```jsexportdefaultclassDemoextendsComponent{state={data:null,};componentDidMount(){fetchAPI(`/api/demo/${this.props.id}`).then((data)=>{this.setState({data});});}render(){const{data}=this.state;if(data==null){return<Spinner/>;}const{name}=data;return(<div>{name}</div>);}}```*在`Suspense`中进行数据获取的代码如下:```jsconstresource=unstable_createResource((id)=>{returnfetchAPI(`/api/demo`)})functionDemo{constdata=resource.read(this.props.id)const{name}=data;return(<div>{name}</div>);}```可以看到在`Suspense`中进行数据获取的代码量相比正常的进行数据获取的代码少了将近一半！少了哪些地方呢?*减少了`loading`状态的维护(在最外层的Suspense中统一维护子组件的loading)*减少了不必要的生命周期的书写###总结:如何在Suspense中使用DataFetching当前`Suspense`的使用分为三个部分:第一步:用`Suspens`组件包裹子组件```jsimport{Suspense}from'react'<Suspensefallback={<Loading/>}><ChildComponent></Suspense>```第二步:在子组件中使用`unstable_createResource`:```jsimport{unstable_createResource}from'react-cache'constresource=unstable_createResource((id)=>{returnfetch(`/demo/${id}`)})```第三步:在`Component`中使用第一步创建的`resource`:```jsconstdata=resource.read('demo')```###相关思路解读来看下源码中`unstable_createResource`的部分会比较清晰:```jsexportfunctionunstable_createResource(fetch,maybeHashInput){constresource={read(input){...constresult=accessResult(resource,fetch,input,key);switch(result.status){casePending:{constsuspender=result.value;throwsuspender;}caseResolved:{constvalue=result.value;returnvalue;}caseRejected:{consterror=result.value;throwerror;}default://Shouldbeunreachablereturn(undefined:any);}},};returnresource;}```结合该部分源码,进行如下推测:1.第一次请求没有缓存,子组件`throw`一个`thenable`对象,`Suspense`组件内的`componentDidCatch`捕获之,此时展示`Loading`组件;2.当`Promise`态的对象变为完成态后,页面刷新此时`resource.read()`获取到相应完成态的值;3.之后如果相同参数的请求,则走`LRU`缓存算法,跳过`Loading`组件返回结果(缓存算法见后记);官方作者是说法如下:![](http://with.muyunyun.cn/22849313e0b8b19e833df9a9a59a8546.jpg-400)所以说法大致相同,下面实现一个简单版的`Suspense`:```jsxclassSuspenseextendsReact.Component{state={promise:null}componentDidCatch(e){if(einstanceofPromise){this.setState({promise:e},()=>{e.then(()=>{this.setState({promise:null})})})}}render(){const{fallback,children}=this.propsconst{promise}=this.statereturn<>{promise?fallback:children}</>}}```进行如下调用```jsx<Suspensefallback={<div>loading...</div>}><PromiseThrower/></Suspense>letcache=\"\";letreturnData=cache;constfetch=()=>newPromise(resolve=>{setTimeout(()=>{resolve(\"数据加载完毕\");},2000);});classPromiseThrowerextendsReact.Component{getData=()=>{constgetData=fetch();getData.then(data=>{returnData=data;});if(returnData===cache){throwgetData;}returnreturnData;};render(){return<>{this.getData()}</>;}}```![](http://with.muyunyun.cn/90586c1edf33c7d143f2a3ec59667ab4.gif)效果调试可以点击[这里](https://codesandbox.io/s/1zy82mm0j4),在`16.6`版本之后,`componentDidCatch`只能捕获`commitphase`的异常。所以在`16.6`版本之后实现的`<PromiseThrower>`又有一些差异(即将`throwthenable`移到`componentDidMount`中进行)。###ConcurrentMode+Suspense当网速足够快,数据立马就获取到了，此时页面存在的`Loading`按钮就显得有些多余了。(在[suspenseDemo](https://github.com/demos-platform/suspenseDemo)中有相应演示),`Suspense`在`ConcurrentMode`下给出了相应的解决方案,其提供了`maxDuration`参数。用法如下:```js<SuspensemaxDuration={500}fallback={<Loading/>}>...</Suspense>```该Demo的效果为当获取数据的时间大于(是否包含等于还没确认)500毫秒,显示自定义的`<Loading/>`组件,当获取数据的时间小于500毫秒,略过`<Loading>`组件直接展示用户的数据。[相关源码](https://github.com/MuYunyun/react/blob/29b7b775f2ecf878eaf605be959d959030598b07/packages/react-reconciler/src/ReactFiberUnwindWork.js#L232-L242)。需要注意的是`maxDuration`属性只有在`ConcurrentMode`下才生效,可参考[源码中的注释](https://github.com/MuYunyun/react/blob/29b7b775f2ecf878eaf605be959d959030598b07/packages/react-reconciler/src/ReactFiberUnwindWork.js#L270-L277)。在Sync模式下,`maxDuration`始终为0。###后记:缓存算法*`LRU`算法:`LeastRecentlyUsed`最近最少使用算法(根据时间);*`LFU`算法:`LeastFrequentlyUsed`最近最少使用算法(根据次数);>[漫画：什么是LRU算法](https://juejin.im/post/5c0392656fb9a049fb4366fa)若数据的长度限定是`3`,访问顺序为`set(2,2),set(1,1),get(2),get(1),get(2),set(3,3),set(4,4)`,则根据`LRU`算法删除的是`(1,1)`,根据`LFU`算法删除的是`(3,3)`。`react-cache`采用的是`LRU`算法。###相关资料*[suspenseDemo](https://github.com/demos-platform/suspenseDemo):文字相关案例都集成在该demo中*[ReleasingSuspense](https://github.com/facebook/react/issues/13206):`Suspense`开发进度*[thesuspenseiskillingredux](https://medium.com/@ryanflorence/the-suspense-is-killing-redux-e888f9692430)"},{name:"schedule.md",path:"/React/schedule.md",type:"file",mdconf:{abbrlink:"v6uidkki"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5048,extension:".md",relative:"/React/schedule.md",isEmpty:!1,content:"\x3c!--abbrlink:v6uidkki--\x3e###Schedule解决`目标对象更快完成渲染`与`及时响应优先级更高任务`之间的矛盾。###PerceivedPerformancePerceivedperformance可感知到的性能在流畅性的章节中提到将主线程的一个长任务进行`时间分片`可以拆分为多个帧任务,但如果同时存在多个任务则必然会存在一种竞争机制,于是需要一种`Schedule`机制,在时间分片中加入`动态优先级`的概念来真正避免卡顿现象。###Schedule调度算法思想:*任务执行时间得足够短,能在一帧时间内执行完(时间分片);*不同任务存在不同的优先级;###任务的种类在一帧中执行的任务种类有以下几种类别:*`user-blockingtasks`:基于用户的交互的任务(可见),需在当前帧处理;->`input`、`rAF`、`microtask`(顺畅的交互应小于10ms,下同)*`defaulttasks`:基于用户获取数据渲染到界面上的任务(可见),在当前的帧以及下一帧里处理;->`macrotask`(小于100ms)*`idletasks`:和分析、缓存、排序相关的任务(不可见);->`requestIdleCallback`(小于10ms)>不能拆分的任务(执行时间较长的chunk)怎么办？借助`webWorker`###任务的排序机制任务的排序机制是由`expirationtime`这个字段决定的，其值为`callback的注册时间`与`当前任务优先级的值`之和,表示过期时间(值越小,越早执行)。优先级的值分为以下几种类别:*`Immediate`:(0mstimeout)需要实时交互的任务;(Doitnow)*`UserBlock`:(250mstimeout)对页面交互有副作用的任务;(Doitnow)*`Normal`:(5stimeout)不影响交互的任务;(Doitsoon)*`Low`:(10stimeout)可以延迟执行，但最终需要执行的任务;(Doiteventually)*`Idle`:(notimeout)执行与否不影响应用的任务;(Doitifyoucan)在了解了`expirationtime`之后,对`Schedule`的流程进行如下概述:1.所有回调根据`expirationtime`排好序放入一个队列中;2.`Schedule`自己注册一个回调callback调用该队列，并下一个帧中执行它;3.在下一帧中尽可能多地执行队形里的回调;###Schedule源码分析Schedule中4个比较重要的方法的作用罗列如下:*requestHostCallback:提供调用下一帧的能力*cancelHostCallback:提供取消当前任务的能力*shouldYieldToHost:提供暂停当前任务的能力*getCurrentTime:根据该函数获取的值从而判断具体的优先级###JNDJND(JustNoticeableDifference),[JND](https://github.com/MuYunyun/react/blob/0f1e97e7cb67b7e403af5f78f38294dfd33e081e/packages/react-reconciler/src/ReactFiberWorkLoop.js#L2144-L2167)```js//ComputesthenextJustNoticeableDifference(JND)boundary.//Thetheoryisthatapersoncan'ttellthedifferencebetweensmalldifferencesintime.//Therefore,ifwewaitabitlongerthannecessarythatwon'ttranslatetoanoticeable//differenceintheexperience.However,waitingforlongermightmeanthatwecanavoid//showinganintermediateloadingstate.Thelongerwehavealreadywaited,theharderit//istotellsmalldifferencesintime.Therefore,thelongerwe'vealreadywaited,//thelongerwecanwaitadditionally.Atsomepointwehavetogiveupthough.//Wepickatrainmodelwherethenextboundarycommitsataconsistentschedule.//Theseparticularnumbersarevagueestimates.Weexpecttoadjustthembasedonresearch.functionjnd(timeElapsed:number){returntimeElapsed<120?120:timeElapsed<480?480:timeElapsed<1080?1080:timeElapsed<1920?1920:timeElapsed<3000?3000:timeElapsed<4320?4320:ceil(timeElapsed/1960)*1960;}```###ConnectionbetweenTimeSlicingandSuspense`TimeSlicing`isthepremiseof`Suspense`.Becauseineachtimeslicingitcancomparethetaskpriority,andthendeterminewhethertoshowtheloading.![](http://with.muyunyun.cn/6999fa9b5759613e1dde3b2dfec7076d.jpg)###is-input-pending*相比`requestIdleCallback`,其有更简洁的api;*另外其不会受到优先级的限制;>[is-input-pending](https://github.com/WICG/is-input-pending)###相关文章*[scheduling-on-off-main-thread](https://developer.chrome.com/devsummit/schedule/scheduling-on-off-main-thread):讲解了如何在帧里拆分任务以及使用worker的一些限制*[SchedulinginReact](https://philippspiess.com/scheduling-in-react/#fn-1):任务的排序机制*[main-thread-scheduling](https://github.com/WICG/main-thread-scheduling):scheduleAPIinfuture.核心是从最高优先级的任务中挑选时间过去最久的任务。*[SchedulingistheFuture](https://www.youtube.com/watch?reload=9&v=Iyrf52cwxQI&feature=youtu.be&utm_source=tinyreact&utm_medium=email):@ReactEurope2019speaker:@aweary"},{name:"style",path:"/React/style",children:[{name:"CSS-in-JS.md",path:"/React/style/CSS-in-JS.md",type:"file",mdconf:{abbrlink:"nfp7pzds"},birthtime:"2021-12-08",mtime:"2021-12-08",size:699,extension:".md",relative:"/React/style/CSS-in-JS.md",isEmpty:!1,content:"\x3c!--abbrlink:nfp7pzds--\x3e###style-components####用法```jsconstTitle=styled.h1`font-size:1.5em;text-align:center;color:palevioletred;`;```简版style-components的实现```js//WhenIcallthisfunction…functionh1(styles){//…itgeneratesabrand-newReactcomponent…returnfunctionNewComponent(props){//…whichwillrendertheassociatedHTMLelement:return<h1{...props}/>}}```####优点*LazyCSSInjection*实现:利用闭包###link*[https://www.joshwcomeau.com/react/demystifying-styled-components/](https://www.joshwcomeau.com/react/demystifying-styled-components/):实现一个简版的style-component"}],type:"directory",size:699},{name:"suspense_document.md",path:"/React/suspense_document.md",type:"file",mdconf:{abbrlink:"94y7xwlv"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2484,extension:".md",relative:"/React/suspense_document.md",isEmpty:!1,content:'\x3c!--abbrlink:94y7xwlv--\x3e###Suspense设计模式*`fetchonrender`:目前一般数据获取写在componentDidMount阶段,其获取数据的过程中,执行顺序如下所示:1.startfetchA2....`waitTime1`...3.finishfetchA4.startfetchB5....`waitTime2`...6.finishfetchB这么做存在的问题:在B组件中开始请求数据时至少要等上`Time1`时间,是一种`networkwaterfall`而非`并发请求`;*`fetchthenrender`:`调用setState之前先获取数据`,比如在A组件的componentDidMount中使用`Promise.all()`同时执行`fetchA,fetchB`1.startfetchA2.startfetchB3.finishfetchA4.finishfetchB5.`render`这么做存在的问题:A组件和B组件上的数据显示时间取决于请求时间更长的接口,所以`页面上渲染数据必然会存在延时`;*`renderasfetch`:使用Suspense后的效果呢?1.startfetchA2.startfetchB3.`render`4.finishfetchA5.finishfetchB它很好地规避了上述遇到的两个问题:1.解决接口根据render走导致`不能并发请求接口`的痛点;2.解决使用Promise.all带来的`页面数据内容存在延时`的问题;###ConcurrentUIpatterns*`DefaultMode`:Receded→Skeleton→Complete*`PreferredMode`:Pending→Skeleton→Complete总结:*Receded不好的原因是因为其把页面现有的内容给弄丢了。*可以使用`useTransition`进入Pending状态——位于当前页的同时,加载下一页(想象多元宇宙)*如果不想下一个页面的非核心组件延长Pending的时间,用Suspense包裹它;###useDeferredValue`useDeferredValue`的作用:能让组件中的部分内容`延迟加载`。```jsconstdeferredText=useDeferredValue(text,{timeoutMs:5000})```这里第二个参数表示,能确保5s之内输入框内的输入是顺滑的。###SuspenseListSuspenseList中的`revealOrder`字段能控制其里面Suspense节点的输出顺序,`tail`字段控制当前加载的节点数。```jsfunctionProfilePage({resource}){return(<SuspenseListrevealOrder="forwards"tail="collapsed"><ProfileDetailsresource={resource}/><Suspensefallback={<h2>Loadingposts...</h2>}><ProfileTimelineresource={resource}/></Suspense><Suspensefallback={<h2>Loadingfunfacts...</h2>}><ProfileTriviaresource={resource}/></Suspense></SuspenseList>);}```'},{name:"从0到1实现React",path:"/React/从0到1实现React",children:[{name:"0.前置准备.md",path:"/React/从0到1实现React/0.前置准备.md",type:"file",mdconf:{abbrlink:"xn5bap3c"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2609,extension:".md",relative:"/React/从0到1实现React/0.前置准备.md",isEmpty:!1,content:'\x3c!--abbrlink:xn5bap3c--\x3e###前置准备本系列文章在实现cpreact的同时理顺React框架的核心内容(JSX/虚拟DOM/组件/生命周期/diff算法/setState/PureComponent/HOC/onChange事件)[项目地址](https://github.com/MuYunyun/cpreact)###环境准备首先安装以下babel模块,其具体作用会在后文[JSX和虚拟DOM](https://github.com/MuYunyun/blog/blob/master/从0到1实现React/1.JSX和虚拟DOM.md)中提及。>扩展延伸:[babel执行机制](https://github.com/MuYunyun/blog/blob/master/BasicSkill/番外篇/babel执行机制.md)```js"@babel/core":"^7.0.0","@babel/preset-env":"^7.0.0","@babel/preset-react":"^7.0.0","babel-loader":"v8.0.0-beta.0",```同时`.babelrc`配置如下:```js{"presets":[["@babel/preset-env",{"targets":">0.25%,notdead","useBuiltIns":"entry"}],["@babel/preset-react",{"pragma":"cpreact.createElement"//该参数传向transform-react-jsx插件,是前置的一个核心,后文有解释为什么使用cpreact.createElement}]]}```配置好babel后,接着提供两套打包工具的配置方案,读者可以自行选择。####方案1:使用webpackwebpack拥有一个活跃的社区,提供了更为丰富的打包能力。首先安装以下模块:```"webpack":"^4.17.2","webpack-cli":"^3.1.0","webpack-dev-server":"^3.1.8"```在根目录的`webpack.config.js`配置如下:```jsconstwebpack=require(\'webpack\')constpath=require(\'path\')constrootPath=path.resolve(__dirname)module.exports={entry:path.resolve(rootPath,\'test\',\'index.js\'),mode:\'development\',devtool:\'inline-source-map\',devServer:{contentBase:\'./dist\'},output:{filename:\'cpreact.js\',path:path.resolve(rootPath,\'dist\'),libraryTarget:\'umd\'},module:{rules:[{test:/\\.js$/,loader:"babel-loader",}]},}```然后在`package.json`里加上如下配置:```"scripts":{"start":"webpack-dev-server--open",},```具体可以参照[0.4.3版本](https://github.com/MuYunyun/cpreact/blob/master/webpack.config.js)####方案2:使用parcel[parcel](https://parceljs.org/getting_started.html)是一款上手极快的打包工具,使用其可以快速地进入项目开发的状态。在`package.json`加上如下配置,具体可以参照[0.1版本](https://github.com/MuYunyun/cpreact/blob/0.1/package.json)```"scripts":{"start":"parcel./index.html--open-p8080--no-cache"},```'},{name:"1.JSX和虚拟DOM.md",path:"/React/从0到1实现React/1.JSX和虚拟DOM.md",type:"file",mdconf:{abbrlink:"zv9zkp1d"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4562,extension:".md",relative:"/React/从0到1实现React/1.JSX和虚拟DOM.md",isEmpty:!1,content:'\x3c!--abbrlink:zv9zkp1d--\x3e###JSX和虚拟DOM```jsconstelement=(<divclassName="title">hello<spanclassName="content">world!</span></div>)```JSX是一种语法糖,经过[babel](https://babeljs.io/en/repl)转换结果如下,可以发现实际上转化成`React.createElement()`的形式:>扩展:[babel执行机制](https://github.com/MuYunyun/blog/blob/master/BasicSkill/番外篇/babel执行机制.md)```jsvarelement=React.createElement("div",{className:"title"},"hello",React.createElement("span",{className:"content"},"world!"));```[打印](https://preactjs.com/repl)element,结果如下:```js{attributes:{className:"title"}children:["hello",t]//t和外层对象相同key:undefinednodeName:"div"}```因此,我们得出结论:JSX语法糖经过Babel编译后转换成一种对象,该对象即所谓的`虚拟DOM`,使用虚拟DOM能让页面进行更为高效的渲染。我们按照这种思路进行函数的构造:```jsconstReact={createElement}functioncreateElement(tag,attr,...child){return{attributes:attr,children:child,key:undefined,nodeName:tag,}}//测试constelement=(<divclassName="title">hello<spanclassName="content">world!</span></div>)console.log(element)//打印结果符合预期//{//attributes:{className:"title"}//children:["hello",t]//t和外层对象相同//key:undefined//nodeName:"div"//}```###虚拟DOM转化为真实DOM上个小节介绍了JSX转化为虚拟DOM的过程,这个小节接着来实现将虚拟DOM转化为真实DOM(页面上渲染的是真实DOM)。我们知道在React中,将虚拟DOM转化为真实DOM是使用`ReactDOM.render`实现的,使用如下:```jsimportReactDOMfrom\'react-dom\'ReactDOM.render(element,//上文的element,即虚拟domdocument.getElementById(\'root\'))```接着来实现`ReactDOM.render`的逻辑:```jsconstReactDOM={render}/***将虚拟DOM转化为真实DOM*@param{*}vdom虚拟DOM*@param{*}container需要插入的位置*/functionrender(vdom,container){if(_.isString(vdom)||_.isNumber(vdom)){container.innerText=container.innerText+vdom//fix<div>I\'m{this.props.name}</div>return}constdom=document.createElement(vdom.nodeName)for(letattrinvdom.attributes){setAttribute(dom,attr,vdom.attributes[attr])}vdom.children.forEach(vdomChild=>render(vdomChild,dom))container.appendChild(dom)}/***给节点设置属性*@param{*}dom操作元素*@param{*}attr操作元素属性*@param{*}value操作元素值*/functionsetAttribute(dom,attr,value){if(attr===\'className\'){attr=\'class\'}if(attr.match(/on\\w+/)){//处理事件的属性:consteventName=attr.toLowerCase().substr(2)dom.addEventListener(eventName,value)}elseif(attr===\'style\'){//处理样式的属性:letstyleStr=\'\'letstandardCssfor(letklassinvalue){standardCss=humpToStandard(klass)//处理驼峰样式为标准样式value[klass]=_.isNumber(+value[klass])?value[klass]+\'px\':value[klass]//style={{className:\'20\'||\'20px\'}}>styleStr+=`${standardCss}:${value[klass]};`}dom.setAttribute(attr,styleStr)}else{//其它属性dom.setAttribute(attr,value)}}```至此,我们成功将虚拟DOM复原为真实DOM,展示如下:![](http://with.muyunyun.cn/a898514bd3d08df4366e5ceb7843cddf.jpg-400)另外配合热更新,在热更新的时候清空之前的dom元素,改动如下:```jsconstReactDOM={render(vdom,container){container.innerHTML=nullrender(vdom,container)}}```###小结`JSX`经过babel编译为React.createElement()的形式,其返回结果就是`VirtualDOM`,最后通过ReactDOM.render()将VirtualDOM转化为真实的DOM展现在界面上。流程图如下:![](http://with.muyunyun.cn/5e451855ccc9017708b57164f9e221c6.jpg-400)###思考题如下是一个react/preact的常用组件的写法,那么为什么要import一个React或者h呢？```jsximportReact,{Component}from\'react\'//react//import{h,Component}from\'preact\'//preactclassAextendsComponent{render(){return<div>I\'mcomponentA</div>}}render(<A/>,document.body)//组件的挂载```'},{name:"2.组件和state与props.md",path:"/React/从0到1实现React/2.组件和state与props.md",type:"file",mdconf:{abbrlink:"bfdttr5b"},birthtime:"2021-12-08",mtime:"2021-12-08",size:9256,extension:".md",relative:"/React/从0到1实现React/2.组件和state与props.md",isEmpty:!1,content:"\x3c!--abbrlink:bfdttr5b--\x3e###组件即函数在上一篇[JSX和VirtualDOM](https://github.com/MuYunyun/blog/issues/24)中,解释了JSX渲染到界面的过程并实现了相应代码,代码调用如下所示:```jsimportReactfrom'react'importReactDOMfrom'react-dom'constelement=(<divclassName=\"title\">hello<spanclassName=\"content\">world!</span></div>)ReactDOM.render(element,document.getElementById('root'))```本小节,我们接着探究组件渲染到界面的过程。在此我们引入组件的概念,`组件本质上就是一个函数`,如下就是一段标准组件代码:```jsximportReactfrom'react'//写法1:classA{render(){return<div>I'mcomponentA</div>}}//写法2:无状态组件constA=()=><div>I'mcomponentA</div>ReactDOM.render(<A/>,document.body)````<Aname=\"componentA\"/>`是JSX的写法,和[上一篇](https://github.com/MuYunyun/blog/issues/24)同理,babel将其转化为React.createElement()的形式,[转化结果](https://babeljs.io/en/repl#?babili=false&browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=MYGwhgzhAECC0FMAeAXBA7AJjAwgewFsAHPdDFaAbwCgBIAJw0wXoAoBKKuhhFAV3rpoAHkwBLAG4A-AJIByAlRQALMRAB0ReniIb0YAggC-wgPTjpAbjpHqt6sPj7DAXgBEwQiTLoUsN9CmUtRAA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&sourceType=module&lineWrap=true&presets=react&prettier=false&targets=&version=6.26.0&envVersion=)如下所示:```jsReact.createElement(A,null)```可以看到当JSX中是自定义组件的时候,createElement后接的第一个参数变为了函数,在[repl](https://preactjs.com/repl)打印`<Aname=\"componentA\"/>`,结果如下:```{attributes:undefined,children:[],key:undefined,nodeName:ƒA()}```注意这时返回的VirtualDOM中的nodeName也变为了函数。根据这些线索,我们对之前的`render`函数进行改造。```jsfunctionrender(vdom,container){if(_.isFunction(vdom.nodeName)){//如果JSX中是自定义组件letcomponent,returnVdomif(vdom.nodeName.prototype.render){component=newvdom.nodeName()returnVdom=component.render()}else{returnVdom=vdom.nodeName()//针对无状态组件:constA=()=><div>I'mcomponentsA</div>}render(returnVdom,container)return}}```至此,我们完成了对组件的处理逻辑。###props和state的实现在上个小节组件A中,是没有引入任何属性和状态的,我们希望组件间能进行属性的传递(props)以及组件内能进行状态的记录(state)。```jsximportReact,{Component}from'react'classAextendsComponent{render(){return<div>I'm{this.props.name}</div>}}ReactDOM.render(<Aname=\"componentA\"/>,document.body)```在上面这段代码中,看到A函数继承自Component。我们来构造这个父类Component,并在其添加state、props、setState等属性方法,从而让子类继承到它们。```jsfunctionComponent(props){this.props=propsthis.state=this.state||{}}```首先,我们将组件外的props传进组件内,修改render函数中以下代码:```jsfunctionrender(vdom,container){if(_.isFunction(vdom.nodeName)){letcomponent,returnVdomif(vdom.nodeName.prototype.render){component=newvdom.nodeName(vdom.attributes)//将组件外的props传进组件内returnVdom=component.render()}else{returnVdom=vdom.nodeName(vdom.attributes)//处理无状态组件:constA=(props)=><div>I'm{props.name}</div>}...}...}```实现完组件间props的传递后,再来聊聊state,在react中是通过setState来完成组件状态的改变的,在后面的[setState优化](https://github.com/MuYunyun/blog/blob/master/从0到1实现React/5.setState.md)中会实现setState的异步逻辑,此处简单实现如下:```jsfunctionComponent(props){this.props=propsthis.state=this.state||{}}Component.prototype.setState=function(){this.state=Object.assign({},this.state,updateObj)//这里简单实现,后续篇章会深入探究constreturnVdom=this.render()//重新渲染document.getElementById('root').innerHTML=nullrender(returnVdom,document.getElementById('root'))}```此时虽然已经实现了setState的功能,但是`document.getElementById('root')`节点写死在setState中显然不是我们希望的,我们将dom节点相关转移到_render函数中:```jsComponent.prototype.setState=function(updateObj){this.state=Object.assign({},this.state,updateObj)_render(this)//重新渲染}```自然地,重构与之相关的render函数:```jsfunctionrender(vdom,container){letcomponentif(_.isFunction(vdom.nodeName)){if(vdom.nodeName.prototype.render){component=newvdom.nodeName(vdom.attributes)}else{component=vdom.nodeName(vdom.attributes)//处理无状态组件:constA=(props)=><div>I'm{props.name}</div>}}component?_render(component,container):_render(vdom,container)}```在render函数中分离出_render函数的目的是为了让setState函数中也能调用_render逻辑。完整_render函数如下:```jsfunction_render(component,container){constvdom=component.render?component.render():componentif(_.isString(vdom)||_.isNumber(vdom)){container.innerText=container.innerText+vdomreturn}constdom=document.createElement(vdom.nodeName)for(letattrinvdom.attributes){setAttribute(dom,attr,vdom.attributes[attr])}vdom.children.forEach(vdomChild=>render(vdomChild,dom))if(component.container){//注意:调用setState方法时是进入这段逻辑,从而实现我们将dom的逻辑与setState函数分离的目标；知识点:new出来的同一个实例component.container.innerHTML=nullcomponent.container.appendChild(dom)return}component.container=containercontainer.appendChild(dom)}```让我们用下面这个用例跑下写好的react吧！```jsclassAextendsComponent{constructor(props){super(props)this.state={count:1}}click(){this.setState({count:++this.state.count})}render(){return(<div><buttononClick={this.click.bind(this)}>ClickMe!</button><div>{this.props.name}:{this.state.count}</div></div>)}}ReactDOM.render(<Aname=\"count\"/>,document.getElementById('root'))```效果图如下:![](http://with.muyunyun.cn/reactsetstate.gif)至此,我们实现了props和state部分的逻辑。###forceUpdate的实现>声明:这部分为补充章节,可以选择性阅读。涉及到后文[生命周期](https://github.com/MuYunyun/blog/blob/master/BasicSkill/从0到1实现React/3.生命周期.md)、[setState](https://github.com/MuYunyun/blog/blob/master/BasicSkill/从0到1实现React/5.setState.md)章节的知识点。当没有使用setState更新state状态时,通常要结合forceUpdate一起使用,例子如下:```jsclassBextendsComponent{constructor(props){super(props)this.state={count:{value:1}}}shouldComponentUpdate(){//当使用forceUpdate()时,shouldComponentUpdate()会失效returnfalse}click(){this.state.count.value=++this.state.count.value//没有使用setState更新state状态时,通常要结合forceUpdate一起使用this.forceUpdate()}render(){return(<div><buttononClick={this.click.bind(this)}>ClickMe!</button><div>{this.state.count.value}</div></div>)}}```这里要注意一个点`当使用forceUpdate()时,shouldComponentUpdate()会失效`,下面我们来补充forceUpdate()的代码逻辑:```js//forcetoupdateComponent.prototype.forceUpdate=function(cb){this.allowShouldComponentUpdate=false//不允许allowShouldComponentUpdate执行asyncRender({},this,cb)}```相应的在render.js中加上allowShouldComponentUpdate的判断条件:```jsfunctionrenderComponent(component){if(component.base&&component.shouldComponentUpdate&&component.allowShouldComponentUpdate!==false){//加上allowShouldComponentUpdate的判断条件constbool=component.shouldComponentUpdate(component.props,component.state)if(!bool&&bool!==undefined){returnfalse//shouldComponentUpdate()返回false,则生命周期终止}}...}```###小结组件即函数；当JSX中是自定义组件时,经过babel转化后的React.createElement(fn,..)后中的第一个参数变为了函数,除此之外其它逻辑与JSX中为html元素的时候相同；此外我们将state/props/setState等api封装进了父类React.Component中,从而在子类中能调用这些属性和方法。在下篇,我们会继续实现生命周期机制,如有疏漏,欢迎斧正。[项目地址](https://github.com/MuYunyun/cpreact)"},{name:"3.生命周期.md",path:"/React/从0到1实现React/3.生命周期.md",type:"file",mdconf:{abbrlink:"dr9fpnig"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4547,extension:".md",relative:"/React/从0到1实现React/3.生命周期.md",isEmpty:!1,content:"\x3c!--abbrlink:dr9fpnig--\x3e###生命周期先来回顾React的生命周期,用流程图表示如下:![](http://with.muyunyun.cn/77e8b5ceaa1d697f280053be91a87bb3.jpg)该流程图比较清晰地呈现了react的生命周期。其分为3个阶段——生成期,存在期,销毁期。因为生命周期钩子函数存在于自定义组件中,将之前_render函数作些调整如下:```js//原来的_render函数,为了将职责拆分得更细,将virtualdom转为realdom的函数单独抽离出来functionvdomToDom(vdom){if(_.isFunction(vdom.nodeName)){//为了更加方便地书写生命周期逻辑,将解析自定义组件逻辑和一般html标签的逻辑分离开constcomponent=createComponent(vdom)//构造组件setProps(component)//更改组件propsrenderComponent(component)//渲染组件,将dom节点赋值到componentreturncomponent.base//返回真实dom}...}```我们可以在setProps函数内（渲染前）加入`componentWillMount`,`componentWillReceiveProps`方法,setProps函数如下:```jsfunctionsetProps(component){if(component&&component.componentWillMount){component.componentWillMount()}elseif(component.base&&component.componentWillReceiveProps){component.componentWillReceiveProps(component.props)//后面待实现}}```而后我们在renderComponent函数内加入`componentDidMount`、`shouldComponentUpdate`、`componentWillUpdate`、`componentDidUpdate`方法```jsfunctionrenderComponent(component){if(component.base&&component.shouldComponentUpdate){constbool=component.shouldComponentUpdate(component.props,component.state)if(!bool&&bool!==undefined){returnfalse//shouldComponentUpdate()返回false,则生命周期终止}}if(component.base&&component.componentWillUpdate){component.componentWillUpdate()}constrendered=component.render()constbase=vdomToDom(rendered)if(component.base&&component.componentDidUpdate){component.componentDidUpdate()}elseif(component&&component.componentDidMount){component.componentDidMount()}if(component.base&&component.base.parentNode){//setState进入此逻辑component.base.parentNode.replaceChild(base,component.base)}component.base=base//标志符}```###测试生命周期测试如下用例:```jsxclassAextendsComponent{componentWillReceiveProps(props){console.log('componentWillReceiveProps')}render(){return(<div>{this.props.count}</div>)}}classBextendsComponent{constructor(props){super(props)this.state={count:1}}componentWillMount(){console.log('componentWillMount')}componentDidMount(){console.log('componentDidMount')}shouldComponentUpdate(nextProps,nextState){console.log('shouldComponentUpdate',nextProps,nextState)returntrue}componentWillUpdate(){console.log('componentWillUpdate')}componentDidUpdate(){console.log('componentDidUpdate')}click(){this.setState({count:++this.state.count})}render(){console.log('render')return(<div><buttononClick={this.click.bind(this)}>ClickMe!</button><Acount={this.state.count}/></div>)}}ReactDOM.render(<B/>,document.getElementById('root'))```页面加载时输出结果如下:```componentWillMountrendercomponentDidMount```点击按钮时输出结果如下:```shouldComponentUpdatecomponentWillUpdaterendercomponentDidUpdate```###React16.3生命周期调研在这个版本中,新加入了两个生命周期:```getDerivedStateFromProps(nextProps,prevState):更加语义化,可以代替componentWillMount、componentWillReceiveProps(nextProps);getSnapshotBeforeUpdate(prevProps,prevState):可以将结果传入componentDidUpdate里,从而达到dom数据统一,可以替代componentWillUpdate()（缺点就是前面讲的react开启异步渲染,componentWillUpdate()与componentDidUpdate()间获取的dom会不统一）。```后文考虑实现上述api。React16.3生命周期相关文献*[Reactv16.3版本新生命周期函数浅析及升级方案](https://zhuanlan.zhihu.com/p/36062486)*[中文官方文档](https://react.docschina.org/docs/react-component.html)"},{name:"4.diff算法.md",path:"/React/从0到1实现React/4.diff算法.md",type:"file",mdconf:{abbrlink:"3r7gdpzk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6293,extension:".md",relative:"/React/从0到1实现React/4.diff算法.md",isEmpty:!1,content:"\x3c!--abbrlink:3r7gdpzk--\x3e###diff的实现在react中,diff实现的思路是将新老virtualdom进行比较,将比较后的patch（补丁）渲染到页面上,从而实现局部刷新；本文借鉴了[preact](https://github.com/developit/preact)和[simple-react](https://github.com/hujiulong/simple-react)中的diff实现,总体思路是将旧的dom节点和新的virtualdom节点进行了比较,根据不同的比较类型（文本节点、非文本节点、自定义组件）调用相应的逻辑,从而实现页面的局部渲染。代码总体结构如下:```js/***比较旧的dom节点和新的virtualdom节点:*@param{*}oldDom旧的dom节点*@param{*}newVdom新的virtualdom节点*/functiondiff(oldDom,newVdom){...if(_.isString(newVdom)){returndiffTextDom(oldDom,newVdom)//对比文本dom节点}if(oldDom.nodeName.toLowerCase()!==newVdom.nodeName){diffNotTextDom(oldDom,newVdom)//对比非文本dom节点}if(_.isFunction(newVdom.nodeName)){returndiffComponent(oldDom,newVdom)//对比自定义组件}diffAttribute(oldDom,newVdom)//对比属性if(newVdom.children.length>0){diffChild(oldDom,newVdom)//遍历对比子节点}returnoldDom}```下面列出不同比较类型对应的逻辑实现。####对比文本节点首先进行较为简单的文本节点的比较,代码如下:```js//对比文本节点functiondiffTextDom(oldDom,newVdom){letdom=oldDomif(oldDom&&oldDom.nodeType===3){//如果老节点是文本节点if(oldDom.textContent!==newVdom){//这里一个细节:textContent/innerHTML/innerText的区别oldDom.textContent=newVdom}}else{//如果旧dom元素不为文本节点dom=document.createTextNode(newVdom)if(oldDom&&oldDom.parentNode){oldDom.parentNode.replaceChild(dom,oldDom)}}returndom}```####对比非文本节点对比非文本节点,其思路为将同层级的旧节点替换为新节点,代码如下:```js//对比非文本节点functiondiffNotTextDom(oldDom,newVdom){constnewDom=document.createElement(newVdom.nodeName);[...oldDom.childNodes].map(newDom.appendChild)//将旧节点下的元素添加到新节点下if(oldDom&&oldDom.parentNode){oldDom.parentNode.replaceChild(oldDom,newDom)}}```####对比自定义组件对比自定义组件的思路为:如果新老组件不同,则直接将新组件替换老组件；如果新老组件相同,则将新组件的props赋到老组件上,然后再对获得新props前后的老组件做diff比较。代码如下:```js//对比自定义组件functiondiffComponent(oldDom,newVdom){if(oldDom._component&&(oldDom._component.constructor!==newVdom.nodeName)){//如果新老组件不同,则直接将新组件替换老组件constnewDom=vdomToDom(newVdom)oldDom._component.parentNode.insertBefore(newDom,oldDom._component)oldDom._component.parentNode.removeChild(oldDom._component)}else{setProps(oldDom._component,newVdom.attributes)//如果新老组件相同,则将新组件的props赋到老组件上renderComponent(oldDom._component)//对获得新props前后的老组件做diff比较（renderComponent中调用了diff）}}```####遍历对比子节点遍历对比子节点的策略如下:1.比较新旧dom元素相同层级相同位置的节点类型,若节点类型不相等,则直接将新节点替换掉旧节点；2.给节点加上key属性；>在cpreact的代码实现中,1的目的降低了空间复杂度(避免了更深层次的遍历)；2的目的目前看来是少了一次新老类型的判断消耗。代码如下:```js//对比子节点functiondiffChild(oldDom,newVdom){constkeyed={}constchildren=[]constoldChildNodes=oldDom.childNodesfor(leti=0;i<oldChildNodes.length;i++){if(oldChildNodes[i].key){keyed[oldChildNodes[i].key]=oldChildNodes[i]}else{//如果不存在key,则优先找到节点类型相同的元素children.push(oldChildNodes[i])}}letnewChildNodes=newVdom.childrenif(isArray(newVdom.children[0])){//https://github.com/MuYunyun/cpreact/issues/9newChildNodes=newVdom.children[0]}for(leti=0;i<newChildNodes.length;i++){letchild=nullif(keyed[newChildNodes[i].key]){child=keyed[newChildNodes[i].key]keyed[newChildNodes[i].key]=undefined}else{//对应上面不存在key的情形//在新老节点相同位置上寻找相同类型的节点进行比较；如果不满足上述条件则直接将新节点插入；if(children[i]&&isSameNodeType(children[i],newChildNodes[i])){child=children[i]children[i]=undefined}elseif(children[i]&&!isSameNodeType(children[i],newChildNodes[i])){//不是相同类型,直接替代掉children[i].replaceWith(newChildNodes[i])continue}}constresult=diff(child,newChildNodes[i])//如果child为nullif(result===newChildNodes[i]){oldDom.appendChild(vdomToDom(result))}}}```####测试在生命周期的小节中,componentWillReceiveProps方法还未跑通,稍加修改setProps函数即可:```js/***更改属性,componentWillMount和componentWillReceiveProps方法*/functionsetProps(component,attributes){if(attributes){component.props=attributes//这段逻辑对应上文自定义组件比较中新老组件相同时setProps的逻辑}if(component&&component.base&&component.componentWillReceiveProps){component.componentWillReceiveProps(component.props)}elseif(component&&component.componentWillMount){component.componentWillMount()}}```来测试下生命周期小节中最后的测试用例:*生命周期测试![](http://with.muyunyun.cn/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%8B%E8%AF%951.gif)*diff测试![](http://with.muyunyun.cn/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fdiff%E6%B5%8B%E8%AF%951.gif)"},{name:"5.setState.md",path:"/React/从0到1实现React/5.setState.md",type:"file",mdconf:{abbrlink:"um9lmlbq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2391,extension:".md",relative:"/React/从0到1实现React/5.setState.md",isEmpty:!1,content:"\x3c!--abbrlink:um9lmlbq--\x3e###同步setState的问题而在现有setState逻辑实现中,每调用一次setState就会执行render一次。因此在如下代码中,每次点击增加按钮,因为click方法里调用了10次setState函数,页面也会被渲染10次。而我们希望的是每点击一次增加按钮只执行render函数一次。```jsexportdefaultclassBextendsComponent{constructor(props){super(props)this.state={count:0}this.click=this.click.bind(this)}click(){for(leti=0;i<10;i++){this.setState({//在先前的逻辑中,没调用一次setState就会render一次count:++this.state.count})}}render(){console.log(this.state.count)return(<div><buttononClick={this.click}>增加</button><div>{this.state.count}</div></div>)}}```###异步调用setState查阅setState的api,其形式如下:```jssetState(updater,[callback])```它能接收两个参数,其中第一个参数updater可以为对象或者为函数(`(prevState,props)=>stateChange`),第二个参数为回调函数；确定优化思路为:将多次setState后跟着的值进行浅合并,并借助事件循环等所有值合并好之后再进行渲染界面。```jsletcomponentArr=[]//异步渲染functionasyncRender(updater,component,cb){if(componentArr.length===0){defer(()=>render())//利用事件循环,延迟渲染函数的调用}if(cb)defer(cb)//调用回调函数if(_.isFunction(updater)){//处理setState后跟函数的情况updater=updater(component.state,component.props)}//浅合并逻辑component.state=Object.assign({},component.state,updater)if(componentArr.includes(component)){component.state=Object.assign({},component.state,updater)}else{componentArr.push(component)}}functionrender(){letcomponentwhile(component=componentArr.shift()){renderComponent(component)//rerender}}//事件循环,关于promise的事件循环和setTimeout的事件循环后续会单独写篇文章。constdefer=function(fn){returnPromise.resolve().then(()=>fn())}```此时,每点击一次增加按钮render函数只执行一次了。"},{name:"6.ref.md",path:"/React/从0到1实现React/6.ref.md",type:"file",mdconf:{abbrlink:"jee59i99"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3814,extension:".md",relative:"/React/从0到1实现React/6.ref.md",isEmpty:!1,content:"\x3c!--abbrlink:jee59i99--\x3e###ref在react中并不建议使用ref属性,而应该尽量使用[状态提升](https://doc.react-china.org/docs/lifting-state-up.html),但是react还是提供了ref属性赋予了开发者操作dom的能力,react的ref有`string`、`callback`、`createRef`三种形式,分别如下:```js//string这种写法未来会被抛弃classMyComponentextendsComponent{componentDidMount(){this.refs.myRef.focus()}render(){return<inputref=\"myRef\"/>}}//callback(比较通用)classMyComponentextendsComponent{componentDidMount(){this.myRef.focus()}render(){return<inputref={(ele)=>{this.myRef=ele}}/>}}//react16.3增加,其它react-like框架还没有同步classMyComponentextendsComponent{constructor(props){super(props)this.myRef=React.createRef()}componentDidMount(){this.myRef.current.focus()}render(){return<inputref={this.myRef}/>}}```[Reactref的前世今生](https://zhuanlan.zhihu.com/p/40462264)罗列了三种写法的差异,下面对上述例子中的第二种写法(比较通用)进行实现。首先在setAttribute方法内补充上对ref的属性进行特殊处理,```jsfunctionsetAttribute(dom,attr,value){...elseif(attr==='ref'){//处理ref属性if(_.isFunction(value)){value(dom)}}...}```针对这个例子中`this.myRef.focus()`的focus属性需要异步处理,因为调用componentDidMount的时候,界面上还未添加dom元素。处理renderComponent函数:```jsfunctionrenderComponent(component){...elseif(component&&component.componentDidMount){defer(component.componentDidMount.bind(component))}...}```刷新页面,可以发现input框已为选中状态。![](http://with.muyunyun.cn/d35589fbbff45a2437c6c13e24ba8058.jpg-200)处理完普通元素的ref后,再来处理下自定义组件的ref的情况。之前默认自定义组件上是没属性的,现在只要针对自定义组件的ref属性做相应处理即可。稍微修改vdomToDom函数如下:```jsfunctionvdomToDom(vdom){if(_.isFunction(vdom.nodeName)){//此时是自定义组件...for(constattrinvdom.attributes){//处理自定义组件的ref属性if(attr==='ref'&&_.isFunction(vdom.attributes[attr])){vdom.attributes[attr](component)}}...}...}```跑如下测试用例:```jsclassAextendsComponent{constructor(){super()this.state={count:0}this.click=this.click.bind(this)}click(){this.setState({count:++this.state.count})}render(){return<div>{this.state.count}</div>}}classBextendsComponent{constructor(){super()this.click=this.click.bind(this)}click(){this.A.click()}render(){return(<div><buttononClick={this.click}>加1</button><Aref={(e)=>{this.A=e}}/></div>)}}```效果如下:![](http://with.muyunyun.cn/reactref%E6%B5%8B%E8%AF%951)###React.forwardRef使用场景`React.forwardRef`后面跟一个`render`函数。用法如下:```jsfunctionHOCComponent(WrapComponent){returnclassextendsReact.Component{render(){const{ref,...rest}=this.propsreturn<WrapComponentref={ref}{...rest}/>}}}//此时的ref指向的是,高阶组件里包裹的WrapComponent组件。constDemo=React.forwardRef((props,ref)=>{return<HOCComponent{...props}ref={ref}/>})```使用场景:需要引用高阶组件里的子组件节点的时候可以使用`React.forwordRef`"},{name:"7.PureComponent.md",path:"/React/从0到1实现React/7.PureComponent.md",type:"file",mdconf:{abbrlink:"x9xp4uob"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3861,extension:".md",relative:"/React/从0到1实现React/7.PureComponent.md",isEmpty:!1,content:"\x3c!--abbrlink:x9xp4uob--\x3e###PureComponent精髓使用PureComponent是优化React性能的一种常用手段,相较于Component,PureComponent会在render之前自动执行一次shouldComponentUpdate()函数,根据返回的bool值判断是否进行render。其中有个重点是PureComponent在shouldComponentUpdate()的时候会进行shallowEqual(浅比较)。PureComponent的浅比较策略如下:对prevState/nextState以及prevProps/nextProps这两组数据进行浅比较:1.对象第一层数据未发生改变,render方法不会触发；2.对象第一层数据发生改变(包括第一层数据引用的改变),render方法会触发;####PureComponent的实现照着上述思路我们来实现PureComponent的逻辑```jsfunctionPureComponent(props){this.props=props||{}this.state={}isShouldComponentUpdate.call(this)//为每个PureComponent绑定shouldComponentUpdate方法}PureComponent.prototype.setState=function(updater,cb){isShouldComponentUpdate.call(this)//调用setState时,让this指向子类的实例,目的取到子类的this.stateasyncRender(updater,this,cb)}functionisShouldComponentUpdate(){constcpState=this.stateconstcpProps=this.propsthis.shouldComponentUpdate=function(nextProps,nextState){if(!shallowEqual(cpState,nextState)||!shallowEqual(cpProps,nextProps)){returntrue//只要state或props浅比较不等的话,就进行渲染}else{returnfalse//浅比较相等的话,不渲染}}}//浅比较逻辑constshallowEqual=function(oldState,nextState){constoldKeys=Object.keys(oldState)constnewKeys=Object.keys(nextState)if(oldKeys.length!==newKeys.length){returnfalse}letflag=truefor(leti=0;i<oldKeys.length;i++){if(!nextState.hasOwnProperty(oldKeys[i])){flag=falsebreak}if(nextState[oldKeys[i]]!==oldState[oldKeys[i]]){flag=falsebreak}}returnflag}```####测试用例测试用例用在React上提的一个[issue](https://github.com/facebook/react/issues/13438#issuecomment-414128918)中的案例,我们期望点击增加按钮后,页面上显示的值能够加1。```jsclassBextendsPureComponent{constructor(props){super(props)this.state={count:0}this.click=this.click.bind(this)}click(){this.setState({count:++this.state.count,})}render(){return(<div><buttononClick={this.click}>增加</button><div>{this.state.count}</div></div>)}}```然而,我们点击上述代码,页面上显示的0分毫不动！！！揭秘如下:```jsclick(){constt=++this.state.countconsole.log(t===this.state.count)//truethis.setState({count:t,})}```当点击增加按钮,控制台显示`t===this.state.count`为true,也就说明了setState前后的状态是统一的,所以shallowEqual(浅比较)返回的是true,致使shouldComponentUpdate返回了false,页面因此没有渲染。类似的,如下写法也是达不到目标的,留给读者思考了。```jsclick(){this.setState({count:this.state.count++,})}```那么如何达到我们期望的目标呢。揭秘如下:```jsclick(){this.setState({count:this.state.count+1})}```感悟:小小的一行代码里蕴藏着无数的bug。####相关链接*[AdoubtbehaviourusingthePureComponent](https://github.com/facebook/react/issues/13438)*[React的性能优化（一）当PureComponent遇上ImmutableJS](https://juejin.im/post/59cdaaccf265da066f6ac83b)*[React性能优化方案之PureComponent](https://juejin.im/post/5b1caceb5188257d63226743)"},{name:"8.HOC探索.md",path:"/React/从0到1实现React/8.HOC探索.md",type:"file",mdconf:{abbrlink:"hyavrsmu"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4379,extension:".md",relative:"/React/从0到1实现React/8.HOC探索.md",isEmpty:!1,content:"\x3c!--abbrlink:hyavrsmu--\x3e###HOC实践高阶组件(HigherOrderComponent)不属于ReactAPI范畴,但是它在React中也是一种实用的技术,`它可以将常见任务抽象成一个可重用的部分`。这个小节算是番外篇,会结合[cpreact](https://github.com/MuYunyun/cpreact)(前文实现的类react轮子)与HOC进行相关的实践。它可以用如下公式表示:```jsy=f(x),//x:原有组件//y:高阶组件//f():````f()`的实现有两种方法,下面进行实践。####属性代理(PropsProxy)属性代理是装饰器模式的一种运用,通过装饰器函数给原来函数赋能。下面例子在装饰器函数中给被装饰的组件传递了额外的属性`{a:1,b:2}`。>声明:下文所展示的demo均已在[cpreact](https://github.com/MuYunyun/cpreact)测试通过```jsfunctionppHOC(WrappedComponent){returnclassextendsComponent{render(){constobj={a:1,b:2}return(<WrappedComponent{...this.props}{...obj}/>)}}}@ppHOCclassBextendsComponent{render(){return(<div>{this.props.a+this.props.b}{/*输出3*/}</div>)}}```要是将{a:1,b:2}替换成全局共享对象,那么不就是react-redux中的Connect了么?改进上述demo,我们就可以实现可插拔的[受控组件](https://reactjs.org/docs/forms.html#controlled-components),代码示意如下:```jsfunctionppDecorate(WrappedComponent){returnclassextendsComponent{constructor(){super()this.state={value:''}this.onChange=this.onChange.bind(this)}onChange(e){this.setState({value:e.target.value})}render(){constobj={onChange:this.onChange,value:this.state.value,}return(<WrappedComponent{...this.props}{...obj}/>)}}}@ppDecorateclassBextendsComponent{render(){return(<div><input{...this.props}/><div>{this.props.value}</div></div>)}}```效果如下图:![](http://with.muyunyun.cn/hoc%E6%8E%A2%E7%B4%A2%E4%B9%8B%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6.gif)这里有个坑点,当我们在输入框输入字符的时候,并不会立马触发onChange事件(我们想要让事件立即触发,然而现在要按下回车键或者点下鼠标才触发),在react中有个[合成事件](https://reactjs.org/docs/events.html)的知识点,下篇文章[onChange事件](https://github.com/MuYunyun/blog/blob/master/从0到1实现React/9.onChange事件的那点事.md)对react中的onChange事件为何和原生DOM事件中的onchange表现不一致进行揭秘。顺带一提在这个demo中似乎看到了双向绑定的效果,但是实际中React并没有双向绑定的概念,但是我们可以运用HOC的知识点结合setState在React表单中实现伪双向绑定的效果。####继承反转(InheritanceInversion)继承反转的核心是:传入HOC的组件会作为返回类的父类来使用。然后在render中调用`super.render()`来调用父类的render方法。>在[ES6继承与ES5继承的差异](https://github.com/MuYunyun/blog/blob/master/BasicSkill/readES6/继承.md#作为对象调用的-super)中提到了作为对象使用的super指向父类的实例。```jsfunctioniiHOC(WrappedComponent){returnclassextendsWrappedComponent{render(){constparentRender=super.render()if(parentRender.nodeName==='span'){return(<span>继承反转</span>)}}}}@iiHOCclassBextendsComponent{render(){return(<span>InheritanceInversion</span>)}}```在这个demo中,在HOC内实现了渲染劫持,页面上最终显示如下:![](http://with.muyunyun.cn/e7dbedcefd9a61dcd12fbcff89dc19ef.jpg-200)>可能会有疑惑,使用`属性代理`的方式貌似也能实现渲染劫持呀,但是那样做没有`继承反转`这种方式纯粹。###相关链接*[带着三个问题深入浅出React高阶组件](https://juejin.im/post/59818a485188255694568ff2)*[深入理解React高阶组件](https://zhuanlan.zhihu.com/p/24776678?refer=FrontendMagazine)"},{name:"9.onChange事件以及受控组件.md",path:"/React/从0到1实现React/9.onChange事件以及受控组件.md",type:"file",mdconf:{abbrlink:"v3n4ihlt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4821,extension:".md",relative:"/React/从0到1实现React/9.onChange事件以及受控组件.md",isEmpty:!1,content:"\x3c!--abbrlink:v3n4ihlt--\x3e###从一个疑问点开始接上一章[HOC探索](https://github.com/MuYunyun/blog/blob/master/从0到1实现React/8.HOC探索.md#属性代理props-proxy)抛出的问题————react中的onChange事件和原生DOM事件中的onchange表现不一致,举例说明如下:```js//React中的onChange事件classAppextendsComponent{constructor(props){super(props)this.onChange=this.onChange.bind(this)}onChange(e){console.log('键盘松开立刻执行')}render(){return(<inputonChange={this.onChange}/>)}}/*--------------分割线---------------*///原生DOM事件中的onchange事件:<inputid='test'>document.getElementById('test').addEventListener('change',(e)=>{console.log('键盘松开以后还需按下回车键或者点下鼠标才会触发')})```###拨云见雾我们来看下React的一个issue[ReactFire:ModernizingReactDOM](https://github.com/facebook/react/issues/13525)。有两点信息和这篇文章的话题相关。*Drasticallysimplifytheeventsystem*MigratefromonChangetoonInputanddon’tpolyfillitforuncontrolledcomponents从这两点内容我们可以得知下面的信息:React实现了一套[合成事件机制](https://reactjs.org/docs/events.html#event-pooling),也就是它的事件机制和原生事件间会有不同。比如它目前onChange事件其实对应着原生事件中的input事件。在这个issue中明确了未来会使用onInput事件替代onChange事件,并且会大幅度地简化合成事件。有了以上信息后,我们对onChange事件(将来的onInput事件)的代码作如下更改:```jsfunctionsetAttribute(dom,attr,value){...if(attr.match(/on\\w+/)){//处理事件的属性:leteventName=attr.toLowerCase().substr(2)if(eventName==='change'){eventName='input'}//和现阶段的react统一dom.addEventListener(eventName,value)}...}```###自由组件以及受控组件区分自由组件以及受控组件在于表单的值是否由`value`这个属性控制,比较如下代码:```jsconstcase1=()=><input/>//此时输入框内可以随意增减任意值constcase2=()=><inputdefaultValue={123}/>//此时输入框内显示123,能随意增减值constcase3=()=><inputvalue={123}/>//此时输入框内显示123,并且不能随意增减值````case3`的情形即为简化版的受控组件。###受控组件的实现题目可以换个问法:当`input`的传入属性为`value`时(且没有onChange属性),如何禁用用户的输入事件的同时又能获取焦点?![](http://with.muyunyun.cn/0fa301946b3f4bf315d742735c333562.jpg-200)首先想到了html自带属性readonly、disable,它们都能禁止用户的输入,但是它们不能满足获取焦点这个条件。结合前文`onChange`的实现是监听`input`事件,代码分为以下两种情况:1.dom节点包含`value`属性、`onChange`属性2.dom节点包含`value`属性,不包含`onChange`属性代码如下:```jsfunctionvdomToDom(vdom){...if(vdom.attributes&&vdom.attributes.hasOwnProperty('onChange')&&vdom.attributes.hasOwnProperty('value')){//受控组件逻辑...dom.addEventListener('input',(e)=>{changeCb.call(this,e)dom.value=oldValue})...}if(vdom.attributes&&!vdom.attributes.hasOwnProperty('onChange')&&vdom.attributes.hasOwnProperty('value')){//受控组件逻辑...dom.addEventListener('input',(e)=>{dom.value=oldValue})...}...}```可以发现它们的核心都在这段代码上:```jsdom.addEventListener('input',(e)=>{changeCb.call(this,e)dom.value=oldValue})```区别是当有`onChange属性`时,能提供相应的回调函数`changeCb`通过事件循环机制改变表单的值。看如下两个例子的比较:```jsconstApp=()=><inputvalue={123}/>```效果如下:![](http://with.muyunyun.cn/353c8119b3c60a7f8f7696633c97ad28.jpg-200)```jsclassAppextendsComponent{constructor(){super()this.state={num:123}this.change=this.change.bind(this)}change(e){this.setState({num:e.target.value})}render(){return(<div><inputvalue={this.state.num}onChange={this.change}/></div>)}}```这段代码中的`change`函数即上个段落所谓的`changeCb`函数,通过`setState`的事件循环机制改变表单的值。效果如下:![](http://with.muyunyun.cn/aec70ef0cebf603a0871d61f21e93532.gif)至此,模拟了受控组件的实现。"},{name:"15.函数子组件探索.md",path:"/React/从0到1实现React/15.函数子组件探索.md",type:"file",mdconf:{abbrlink:"569yse1c"},birthtime:"2021-12-08",mtime:"2021-12-08",size:313,extension:".md",relative:"/React/从0到1实现React/15.函数子组件探索.md",isEmpty:!1,content:"\x3c!--abbrlink:569yse1c--\x3e###函数子组件使用方式如下,页面渲染出hello,cpreact,至于是否实现先观望一段时间```js//父组件functionApp(){return(<Child>{()=>'hello,cpreact.'}</Child>)}//子组件constChild=({children})=>children()```"},{name:"16.RenderProps.md",path:"/React/从0到1实现React/16.RenderProps.md",type:"file",mdconf:{abbrlink:"h5o4gcg3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2363,extension:".md",relative:"/React/从0到1实现React/16.RenderProps.md",isEmpty:!1,content:"\x3c!--abbrlink:h5o4gcg3--\x3e###RenderProps*概要:属性中传入函数,函数返回组件*目的:封装行为###demo在如下例子中,组件`PassState`即为承载公用逻辑的载体。组件`App`和`UseState`为使用方。```jsclassPassStateextendsComponent{constructor(){super()this.state={name:'muyy'}}render(){return(<>{this.props.render(this.state)}</>)}}classUseStateextendsComponent{render(){const{state}=this.propsreturn<>{state.name}</>}}classAppextendsComponent{render(){return(<PassStaterender={(state)=>(<UseStatestate={state}/>)}/>)}}```这是官方摘取的renderProps例子,只要将render进行替换成children,可以发现日常使用它的情形就很寻常了。```jsclassPassStateextendsComponent{constructor(){super()this.state={name:'muyy'}}render(){return(<>{this.props.children(this.state)}</>)}}classUseStateextendsComponent{render(){const{state}=this.propsreturn<>{state.name}</>}}classAppextendsComponent{render(){return(<PassState>{(state)=>(<UseStatestate={state}/>)}</PassState>)}}```比如beast-mobile中Matrix组件就是这种形式。###renderprops是否都适合转化为Hooks```js<MatrixdataSources={dataSources}>{({src,index})=>{return(<divstyle={{padding:10,background:'#ebebeb',borderRadius:4,fontSize:'12px',color:'#666'}}><divstyle={{fontSize:'12px'}}>name:{src.name}</div><divstyle={{fontSize:'12px'}}>age:{src.age}</div><divstyle={{fontSize:'12px'}}>address:{src.address}</div><divstyle={{fontSize:'12px'}}>index:{index}</div></div>)}}</Matrix>```![](http://with.muyunyun.cn/e99997d480a89b1c5f244d19bd67404a.jpg-400)Matrix组件用于在项目中自动调整行内布局,该组件中renderprops的参数是和当前排列数有关,与`排列数相关`的renderprops没有很好的办法转化为Hooks,因此RenderProps还是有用武之地的。"},{name:"17.CSSinJS.md",path:"/React/从0到1实现React/17.CSSinJS.md",type:"file",mdconf:{abbrlink:"mvnh5wcy"},birthtime:"2021-12-08",mtime:"2021-12-08",size:213,extension:".md",relative:"/React/从0到1实现React/17.CSSinJS.md",isEmpty:!1,content:"\x3c!--abbrlink:mvnh5wcy--\x3e###问题在传统的大型前端项目开发中遇到的CSS问题有以下几点:*CSS全局命名空间*删除不必要的代码不容易*不支持动态计算*压缩"},{name:"18.服务端渲染.md",path:"/React/从0到1实现React/18.服务端渲染.md",type:"file",mdconf:{abbrlink:"w8uuh39t"},birthtime:"2021-12-08",mtime:"2021-12-08",size:122,extension:".md",relative:"/React/从0到1实现React/18.服务端渲染.md",isEmpty:!1,content:"\x3c!--abbrlink:w8uuh39t--\x3e###React服务端渲染实践优点:*SEO*首屏渲染体验*前后端知识共享"}],type:"directory",size:49544},{name:"你不知道的requestIdleCallback.md",path:"/React/你不知道的requestIdleCallback.md",type:"file",mdconf:{abbrlink:"lmjv3sgz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:10534,extension:".md",relative:"/React/你不知道的requestIdleCallback.md",isEmpty:!1,content:"\x3c!--abbrlink:lmjv3sgz--\x3e###你不知道的requestIdleCallback本文副标题是`RequestSchedule源码解析一`。在本章中会介绍`requestIdleCallback`的用法以及其缺陷,接着对React团队对该api的hack部分的源码进行剖析。在下一篇中会结合优先级对React的调度算法进行宏观的解释,欢迎关注[个人博客](https://github.com/MuYunyun/blog)。`React调度算法`与`requestIdleCallback`这个api息息相关。`requestIdleCallback`的作用是是在浏览器一帧的剩余空闲时间内执行优先度相对较低的任务,其用法如下:```jsvartasksNum=10000requestIdleCallback(unImportWork)functionunImportWork(deadline){while(deadline.timeRemaining()&&tasksNum>0){console.log(`执行了${10000-tasksNum+1}个任务`)tasksNum--}if(tasksNum>0){//在未来的帧中继续执行requestIdleCallback(unImportWork)}}````deadline`有两个参数*`timeRemaining()`:当前帧还剩下多少时间*`didTimeout`:是否超时另外`requestIdleCallback`后如果跟上第二个参数`{timeout:...}`则会强制浏览器在当前帧执行完后执行。###requestIdleCallback的缺陷>requestIdleCallbackiscalledonly20timespersecond-Chromeonmy6x2coreLinuxmachine,it'snotreallyusefulforUIwork。——from[ReleasingSuspense](https://github.com/facebook/react/issues/13206#issuecomment-418923831)~~也就是说`requestIdleCallback`的FPS只有`20`,这远远低于页面流畅度的要求！(一般FPS为60时对用户来说是感觉流程的,即一帧时间为16.7ms),这也是React需要自己实现`requestIdleCallback`的原因。~~###源码解析之requestIdleCallback####非DOM环境在不能操作DOM的环境下,可以借助`setTimeout`来模拟`requestIdleCallback`的实现。```jsrequestIdleCallback=(callback)=>{setTimeout(callback({timeRemaining(){returnInfinity}}))}```下面将React源码中关于服务端的实现也呈现出来:```jslet_callback=null;const_flushCallback=function(didTimeout){if(_callback!==null){try{_callback(didTimeout);}finally{_callback=null;}}};requestHostCallback=function(cb){if(_callback!==null){//如果_callback不为空,则将requestHostCallback放到下一个事件队列中再次执行setTimeout(requestHostCallback,0,cb);}else{_callback=cb;setTimeout(_flushCallback,0,false);}};cancelHostCallback=function(){_callback=null;};shouldYieldToHost=function(){returnfalse;};```####DOM环境在浏览器端的环境下,介绍一个与`requestIdleCallback`功能相近的api——`requestAnimationFrame(callback)`,其会在下次重绘前执行指定的回调函数，因此这个api在动效领域得到了广泛的使用。下面通过一个简单的demo来认识它:```jsletframeletn=5functioncallback(timeStamp){console.log(timeStamp)//开始执行回调的时间戳//如果想要产生循环动画的效果,需在回调函数中再次调用requestAnimationFrame()while(n>0){requestAnimationFrame(callback)console.log('测试执行顺序')n--}}frame=requestAnimationFrame(callback)//在下次重绘之前调用回调//如果想要销毁该回调,可以执行cancelAnimationFrame(frame)```执行上述代码,控制台(chrome)打印如下数据:```先输出5次'测试执行顺序'1795953.6491795970.3181795986.9871796003.6561796020.325...```可以看到在浏览器上一帧的时间大致为`16ms`。同时可以看到`requestAnimation(callback)`中的callback也是异步的(只不过它是基于帧与帧间的异步),所以上述打印结果是先打印出5次'测试执行顺序'后再依次打印出5个时间戳。`requestHostCallback`(也就是requestIdleCallback)这部分源码的实现比较复杂,可以将其分解为以下几个重要的步骤(有一些细节点可以看注释):1.步骤一:如果有优先级更高的任务,则通过`postMessage`触发步骤四,否则如果`requestAnimationFrame`在当前帧没有安排任务,则开始一个帧的流程;2.步骤二:在一个帧的流程中调用`requestAnimationFrameWithTimeout`函数,该函数调用了`requestAnimationFrame`,并对执行时间超过`100ms`的任务用`setTimeout`放到下一个事件队列中处理;3.步骤三:执行`requestAnimationFrame`中的回调函数`animationTick`,在该回调函数中得到当前帧的截止时间`frameDeadline`,并通过`postMessage`触发步骤四;4.步骤四:通过`onmessage`接受`postMessage`指令,触发消息事件的执行。在`onmessage`函数中根据`frameDeadline-currentTime<=0`判断任务是否可以在当前帧执行，如果可以的话执行该任务,否则进入下一帧的调用。```jsexportletrequestHostCallback;exportletcancelHostCallback;exportletshouldYieldToHost;exportletgetCurrentTime;constANIMATION_FRAME_TIMEOUT=100;letrAFID;letrAFTimeoutID;//②调用requestAnimationFrame,并对执行时间超过100ms的任务用setTimeout进行处理constrequestAnimationFrameWithTimeout=function(callback){rAFID=requestAnimationFrame(function(timestamp){clearTimeout(rAFTimeoutID);callback(timestamp);//一帧中任务调用的核心流程的实现,接着看第③步});//如果在一帧中某个任务执行时间超过100ms则终止该帧的执行并将该任务放入下一个事件队列中rAFTimeoutID=setTimeout(function(){cancelAnimationFrame(rAFID);callback(getCurrentTime());},ANIMATION_FRAME_TIMEOUT);};getCurrentTime=function(){returnperformance.now();};letscheduledHostCallback=null;//调度器回调函数letisMessageEventScheduled=false;//消息事件是否执行lettimeoutTime=-1;letisAnimationFrameScheduled=false;letisFlushingHostCallback=false;letframeDeadline=0;//当前帧的截止时间//假设最开始的FPS(feetperseconds)为30,但这个值会随着动画帧调用的频率而动态变化letpreviousFrameTime=33;//一帧的时间:1000/30≈33letactiveFrameTime=33;shouldYieldToHost=function(){returnframeDeadline<=getCurrentTime();};constchannel=newMessageChannel();constport=channel.port2;//④接受`postMessage`指令,触发消息事件的执行。在其中判断任务是否在当前帧执行，如果在的话执行该任务channel.port1.onmessage=function(event){isMessageEventScheduled=false;constprevScheduledCallback=scheduledHostCallback;constprevTimeoutTime=timeoutTime;scheduledHostCallback=null;timeoutTime=-1;constcurrentTime=getCurrentTime();letdidTimeout=false;//是否超时//如果当前帧已经没有时间剩余,检查是否有timeout参数，如果有的话是否已经超过这个时间if(frameDeadline-currentTime<=0){if(prevTimeoutTime!==-1&&prevTimeoutTime<=currentTime){//didTimeout为true后,在当前帧中执行(针对优先级较高的任务)didTimeout=true;}else{//在下一帧中执行if(!isAnimationFrameScheduled){isAnimationFrameScheduled=true;requestAnimationFrameWithTimeout(animationTick);}scheduledHostCallback=prevScheduledCallback;timeoutTime=prevTimeoutTime;return;}}if(prevScheduledCallback!==null){isFlushingHostCallback=true;try{prevScheduledCallback(didTimeout);}finally{isFlushingHostCallback=false;}}};//③requestAnimationFrame的回调函数。传入的rafTime为执行该帧的时间戳。constanimationTick=function(rafTime){//如果存在调度器回调函数则在一帧的开头急切地安排下一帧的动画回调(急切是因为如果在帧的后半段安排动画回调的话,就会增大下一帧超过100ms的几率,从而会浪费一个帧的利用,可以结合步骤②来理解这句话),如果不存在调度器回调函数否则立马终止执行。if(scheduledHostCallback!==null){requestAnimationFrameWithTimeout(animationTick);}else{isAnimationFrameScheduled=false;return;}letnextFrameTime=rafTime-frameDeadline+activeFrameTime;//当前帧开始调用动画的时间-上一帧调用动画的截止时间+当前帧执行的时间，这里的nextFrameTime仅仅是临时变量//如果连续两帧的时间都小于当前帧的时间,则说明得调高FPSif(nextFrameTime<activeFrameTime&&previousFrameTime<activeFrameTime){//将activeFrameTime的值减小相当于调高FPS。同时取nextFrameTime与previousFrameTime中较大的一个以让前后两帧都不出问题。activeFrameTime=nextFrameTime<previousFrameTime?previousFrameTime:nextFrameTime;}else{previousFrameTime=nextFrameTime;}frameDeadline=rafTime+activeFrameTime;//当前帧的截止时间(上面几行代码的目的是得到该frameDeadline值,该值在postMessage会用来判断)if(!isMessageEventScheduled){isMessageEventScheduled=true;port.postMessage(undefined);//最后进入第④步,通过postMessage触发消息事件。}};//DOM环境下requestIdleCallback的实现,这里第二个参数在最新的requestIdleCallback中因为对象类型requestHostCallback=function(callback,absoluteTimeout){scheduledHostCallback=callback;//这里的callback为调度器回调函数timeoutTime=absoluteTimeout;if(isFlushingHostCallback||absoluteTimeout<0){//针对优先级较高的任务不等下一个帧，在当前帧通过postMessage尽快执行port.postMessage(undefined);}elseif(!isAnimationFrameScheduled){//①如果rAF在当前帧没有安排任务,则开始一个帧的流程isAnimationFrameScheduled=true;requestAnimationFrameWithTimeout(animationTick);}};cancelHostCallback=function(){scheduledHostCallback=null;isMessageEventScheduled=false;timeoutTime=-1;};```###相关资料*[requestIdleCallbackpolyful](https://github.com/facebook/react/blob/master/packages/scheduler/src/forks/SchedulerHostConfig.default.js)"},{name:"流畅性.md",path:"/React/流畅性.md",type:"file",mdconf:{abbrlink:"13ymm2xq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:7971,extension:".md",relative:"/React/流畅性.md",isEmpty:!1,content:"\x3c!--abbrlink:13ymm2xq--\x3e###流畅性*被动交互:animation*主动交互:鼠标、键盘###被动交互![](http://with.muyunyun.cn/23b109b73c8296e2c0d9178d214f33f0.jpg-400)当前市面上的设备频率在60HZ以上。###主动交互跑如下界面https://code.h5jun.com/pojob通过观察上述demo,可以看到100ms以下的点击是顺畅的,而超过100ms的点击就会有卡顿现象。####让用户感觉到流畅衡量一个网页/App是否流畅有个比较好用的[Rail模型](https://developers.google.com/web/fundamentals/performance/rail),它大概有以下几个评判标准值。```Response——100msAnimation——16.7msIdle——50msLoad——1000ms```###像素管道像素管道一般由5个部分组成。JavaScript、样式、布局、绘制、合成。如下图所示:![](http://with.muyunyun.cn/a4498ef249fafc3d47f1443df4108256.jpg)>[渲染性能](https://developers.google.com/web/fundamentals/performance/rendering/?hl=zh-cn)###保证主动交互让用户感觉流畅```jsfunctionApp(){useEffect(()=>{setTimeout(()=>{conststart=performance.now()while(performance.now()-start<1000){}console.log('done!')},5000)})return(<inputtype=\"text\"/>);}```![](http://with.muyunyun.cn/574ac0a2b41a78fdb00f2db3d250de37.jpg-400)超过50ms认为是`longtask(长任务)`,`longtask`会阻塞`mainthread`的运行。在[chrome74](https://developers.google.com/web/updates/2019/03/devtools#longtasks),对longtask进行了标明:![](http://with.muyunyun.cn/26e2861027babde1248178a0ad2252ed.jpg-400)如下是两种解决方案。####WebWorker`app.js`代码如下:```jsimportReact,{useEffect}from'react'importWorkerCodefrom'./worker'functionApp(){useEffect(()=>{consttestWorker=newWorker(WorkerCode)setTimeout(_=>{testWorker.postMessage({})testWorker.onmessage=function(ev){console.log(ev.data)}},5000)})return(<inputtype=\"text\"/>);}````worker.js`代码如下:```jsconstworkerCode=()=>{self.onmessage=function(){conststart=performance.now()while(performance.now()-start<1000){}postMessage('done!')}}```![](http://with.muyunyun.cn/df7d2b274685c20638cdde68cb54927d.jpg)此时在输入框输入时没有卡顿的感觉。####TimeSlicing下面是另外一种使页面流畅的方法——`TimeSlicing`(时间分片)。#####TimeSlicing的意义如果某个任务超过50ms没有执行完,为了避免阻塞浏览器主线程的执行,该任务应该让出执行的控制权,让浏览器处理完其它任务后再来执行该任务。#####TimeSlicing观察Chrome的Performance,火焰图如下,![](http://with.muyunyun.cn/8cbc0ea884095aa25a79bd9d474ff2e5.jpg)从火焰图可以看出主线程被拆分为了多个时间分片,所以不会造成卡顿。时间分片的代码片段如下所示:```jsfunctiontimeSlicing(gen){if(typeofgen==='function')gen=gen()if(!gen||typeofgen.next!=='function')return(functionnext(){constres=gen.next()//①if(res.done)return//⑤setTimeout(next)//③})()}//调用时间分片函数timeSlicing(function*(){conststart=performance.now()while(performance.now()-start<1000){console.log('执行逻辑')yield//②}console.log('done')//④})```前置知识[Generator](https://github.com/MuYunyun/blog/blob/master/BasicSkill/readES6/Generator.md)下面对该函数进行分析:1.往时间分片函数`timeSlicing`中传入`generator`函数;2.函数的执行顺序——①、②、③、①(此时有个竞赛的关系,如果`performance.now()-start<1000`则继续②、③,如果`performance.now()-start>=1000`则跳出循环执行④、⑤);如何说:1.timeSlicing传入generator函数;2.我们知道generator函数提供了yiled这个暂停口子;3.通过这个口子控制权可以转交到timeSlicing内部;4.通过setTimeout将longtasks切分到多个事件队列中执行;#####避免把任务分解的过于零碎使用`TimeSlising`会让任务的完成时间变长,但为了让用户体验流畅,这种取舍还是有必要的。这个也是在[schedule](https://github.com/MuYunyun/blog/blob/master/BasicSkill/React/schedule.md)中提到的`目标对象更快完成渲染`与`及时响应优先级更高任务`的矛盾。假设某个任务执行时间为`100ms`,假设被分割的任务间隔是`4ms`,分割成2个`50ms`的任务和分割成100个`1ms`的任务分别耗时。```(50+4)*2=108ms(1+4)*100=500ms```针对上述函数作如下调整:```jsfunctiontimeSlicing(gen){if(typeofgen==='function')gen=gen()if(!gen||typeofgen.next!=='function')return(functionnext(){constinit=performance.now()letres=gen.next()while(!res.done&&performance.now()-init<25){//这里相当于是一个控制执行多少的阀门。res=gen.next()}if(res.done)returnsetTimeout(next)})()}```####conclusion针对`longtask`会阻塞`mainthread`的运行的情形,给出两种解决方案:*`WebWorker`:使用`WebWorker`提供的多线程环境来处理`longtask`;*`TimeSlicing`:将主线程上的`longtask`进行时间分片;###保证被动交互让用户感觉流畅保证`16.7ms`有新的一帧传输到界面上。除去用户的逻辑代码,一帧内留给浏览器整合的时间大概只有`6ms`左右,回到像素管道上来,我们可以从这几方面进行优化:####避免CSS选择器嵌套过深Style这部分的优化在css样式选择器的使用,css选择器使用的层级越多,耗费的时间越多。以下是测试css选择器不同层级筛选相同元素的一次测试结果。```div.box:not(:empty):last-of-typespan2.25msindex.html:85.box--lastspan0.28msindex.html:85.box:nth-last-child(-n+1)span2.51ms```####避免布局重排```js//先修改值el.style.witdh='100px'//后取值constwidth=el.offsetWidth```这段代码有什么问题呢?![](http://with.muyunyun.cn/9f446b40c45fa93b26bf91927e84c676.jpg)可以看到它会造成布局重排。![](http://with.muyunyun.cn/02a6a152cb141781df115840495ed356.jpg)应对的策略是调整它们的执行顺序,```js//先取值constwidth=el.offsetWidth//后修改值el.style.witdh='100px'```![](http://with.muyunyun.cn/b84405a014e98f0903703f7d45b9497d.jpg)可以看到经过调换顺序后,后执行的el.style.width会新开一个像素管道,而不会在原先的像素管道进行重排。此外不要在循环中执行如下的操作,```jsfor(vari=0;i<1000;i++){constnewWidth=container.offsetWidth;//①boxes[i].style.width=newWidth+'px';//②}```可以在火焰图中看到它发生了重绘的警告,![](http://with.muyunyun.cn/4ee7202c8d28e685a9cd347061eb39e9.jpg)执行顺序是①②①②①②①...,假若我们在第一个①后面插入一条竖线后①|②①②①②①,其就变成先修改值后取值的情景,所以也就发生了重绘!正确的使用姿势应该如下:```jsconstnewWidth=container.offsetWidth;for(vari=0;i<1000;i++){boxes[i].style.width=newWidth+'px';}```####避免重绘创建Layers(图层)可以避免重绘,```css{transform:translateZ(0);}```###相关链接*[csstriggers](https://csstriggers.com/)里添加了各个CSS属性对重排、重绘、组合的影响。*[时间切片](https://github.com/berwin/Blog/issues/38)*[ReactFiber架构](https://zhuanlan.zhihu.com/p/37095662):\"如何调度时间才能保证流畅\"此小节可以参阅"},{name:"测试",path:"/React/测试",children:[{name:"AB测试.md",path:"/React/测试/AB测试.md",type:"file",mdconf:{abbrlink:"fwcrvd7v"},birthtime:"2021-12-08",mtime:"2021-12-08",size:540,extension:".md",relative:"/React/测试/AB测试.md",isEmpty:!1,content:"\x3c!--abbrlink:fwcrvd7v--\x3e###A/B测试AB测试是一个反复迭代优化的过程，它的基本步骤如下图所示可以划分为![](http://with.muyunyun.cn/036ddf6dae41356524211c8bdf830744.jpg)###周边定理*大数定律与中心极限定理*抽样分布*新属性检验*T检验例子###相关链接*[谷歌是怎么用A/B测试的](https://mp.weixin.qq.com/s/43qcdwNqYP9QdgwdfR5HWA)-[][怎样学习A/BTesting（AB测试）？](https://www.douban.com/note/698028685/)后面如果有需要再看"},{name:"JEST.md",path:"/React/测试/JEST.md",type:"file",mdconf:{abbrlink:"42ftlsp4"},birthtime:"2021-12-08",mtime:"2021-12-08",size:72,extension:".md",relative:"/React/测试/JEST.md",isEmpty:!1,content:"\x3c!--abbrlink:42ftlsp4--\x3etodo:整理JEST与ReactTestingLibrary"},{name:"Jest与ReactTestingLibrary.md",path:"/React/测试/Jest与ReactTestingLibrary.md",type:"file",mdconf:{abbrlink:"cvrgghl3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:8636,extension:".md",relative:"/React/测试/Jest与ReactTestingLibrary.md",isEmpty:!1,content:"\x3c!--abbrlink:cvrgghl3--\x3e###jest与jest-dom(ReactTestingLibrary)###一些配置`jest.config.js`的一些常见配置属性如下:```jsmodule.exports={//可以指定测试环境testEnviroment:'jest-environment-node'|'jest-enviroment-jsdom',//指定模块加载目录moduleDirectories:['node_modules',path.join(__dirname,'src'),'shared']//identity-obj-proxy支持在jest中引入css,同时支持css的模块化moduleNameMapper:{\"\\\\.(css|less|scss)$\":\"identity-obj-proxy\",},//beforejestisloaded(不依赖jest)setupFiles:[]//afterjestisloaded(依赖jest)setupTestFrameworkScriptFile:require.resolve('./test/setup-tests.js')//测试覆盖率收集目录collectCoverageFrom:['src/**/*.js']//指定测试覆盖率需要需要达到的阈值coverageThreshold:{global:{statements:80,branches:80,lines:80,functions:80,}}//增强watch模式体验:$npminstall--save-devjest-watch-typeaheadwatchPlugins:['jest-watch-typeahead/filename','jest-watch-typeahead/testname',]}```>[jest-emotion](https://github.com/emotion-js/emotion):css中具体样式发生更改便重新生成snapshot。###jest-dom`jest-dom`封装了测试dom的方法。报错的信息可以更加准确。```jsimport'jest-dom/extend-expect'```此时可以使用如下方法:```jsexpect(input).toHavaAttribute('type','number')//是否有某个属性expect(..).toHaveTextContent()//是否有某个内容```###dom-test-library`dom-test-library`的优势。*增加了更多的操作,比如根据label找对应的节点;*支持正则匹配;```jsimport{queries}from'dom-testing-library'```###@testing-library/react的使用`@testing-library/react`在`dom-test-library`的基础上查找React组件。```jsimport'react-testing-library/cleanup-after-each'//自动完成每次的回收```*可以使用`react-testing-library`中的debug函数来对子组件进行断点调试。```jstest('...',()=>{const{debug}=render(<Component/>)debug()//ordebug(<SomeComponent/>)})```*TestReactComponentEventHandlerswithfireEventfromreact-testing-library```jsimport{fireEvent}from'react-testing-library'fireEvent.change()```*几种断言方式*方式一:`expect(container).toHaveTextContent(/thenumberisinvalid/i)`*方式二:`getByText(/thenumberisinvalid/i)`*方式三:`expect(getByText(/thenumberisinvalid/i)).toBeTruthy()`*方式四:配合`data-testid`属性可以使用`expect(getByTestId('...')).toHaveTextContent(/thenumberisinvalid/i)`*Testpropupdateswithreact-testing-library```jstest('...',()=>{const{rerender}=render(<Component/>)rerender(<SomeComponent/>)})```*`getByLabelText`(forminputs)*`getByPlaceholderText`(onlyifyourinputdoesn’thavealabel—lessaccessible!)*`getByText`(buttonsandheaders)*`getByAltText`(images)*`getByTestId`(usethisforthingslikedynamictextorotherwiseoddelementsyouwanttotest)上述每一个方法都有对应的`queryByFoo`替代方法。以`query`开头的方法找不到的话会返回null,以`get`开头的方法找不到的话会throw。如果这些都不会让你确切地知道你在找什么,render方法也会返回映射到container属性的DOM元素，所以也可以像`container.querySelector('body#root')`一样使用它。*MockHTTPRequestswithjest.mockinReactComponentTests```jsimport{render,fireEvent,wait}from'react-testing-library'import{loadGreetingasmockLoadGreeting}from'../api'jest.mock('../api',()=>{return{loadGreeting:jest.fn(subject=>Promise.resolve({data:{greeting:`Hi${subject}`}}),),}})test('loadsgreetingsonclick',()=>{const{getByLabelText,getByText,getByTestId}=render(<GreetingLoader/>)constnameInput=getByLabelText(/name/i)constloadButton=getByText(/load/i)nameInput.value='Mary'fireEvent.click(loadButton)awaitwait(()=>expect(getByTestId('greeting')).toHaveTextContent())expect(mockLoadGreeting).toHaveBeenCalledTimes(1)expect(mockLoadGreeting).toHaveBeenCalledWith('Mary')})```*Mockreact-transition-groupinReactComponentTestswithjest.mock比如`react-transition-group`动画库也是存在异步库,它会在1s后将Children隐藏,这时候可以使用`mock`来处理。```jsjest.mock('react-transition-group',()=>{return{CSSTransition:props=>(props.in?props.children:null),}})```*将`console.error()`mock掉```jsbeforeEach(()=>{jest.spyOn(console,'error').mockImplementation(()=>{})})afterEach(()=>{console.error.mockRestore()})``````js//componentDidCatch里的两个参数consterror=expect.any(Error)constinfo={componentStack:expect.stringContaining('Bomb')}expect(mockReportError).toHaveBeenCalledWith(error,info)```*[jest-dom](https://github.com/testing-library/jest-dom)*[toBeVisible](https://github.com/testing-library/jest-dom#tobevisible)###mock测试####mock请求后端接口数据当测试需要请求后端接口数据的UI组件(比如图片上传组件),为了防止接口不稳定等影响到测试用例通过,通常需要对请求后端接口数据进行mock。>当需要测试接口返回的真实数据时可以对其进行集成测试。```jsjest.spyOn(global,'fetch').mockImplementation(()=>{Promise.resolve({json:()=>Promise.resolve(mockData)})})```####mock浏览器节点信息在使用JEST测试一些需要浏览器位置信息的组件(比如PullToRefresh、Scrollbar组件等等)时,需要将浏览器节点信息给mock掉。1.将获取位置的方法抽离到util包中;*这也是为什么尽量将`函数力度拆细`的原因。2.mockutil包中的该方法;####mock模块/组件如果存在对当前组件的测试影响不大的第三方模块,可以将相关模块/组件进行mock,从而可以提高测试的效率。```jsjest.mock('someComponent',()=>{return(props)=>{return<span>mockComponent</span>}})```####mock时间类api如果测试用例中遇到`setTimeout(fn,5000)`真的等上5s后才执行fn测试效率是非常低效的,因此可以使用jest提供的`jest.useFakeTimers()`来mock与时间有关的api。```js//mocksoutsetTimeoutandothertimerfunctionswithmockfunctions.jest.useFakeTimers()//usejest.runAllTimers()tomakesureallperfofcallback.jest.runAllTimers()//moveaheadintimeby100msact(()=>{jest.advanceTimersByTime(100)})```###act`act`确保其函数里跟的单元方法(比如rendering、用户事件、数据获取)在执行步骤`makeassertions`之前已经全部执行完。```jsact(()=>{//rendercomponents})//makeassertions```###书写一个测试函数测试函数有两种风格,BDD(行为驱动开发)以及TDD(测试驱动开发)。*BDD风格:`foo.should.equal('bar')`或者`expect(foo).to.equal('bar')`;*TDD风格:`assert.equal(foo,'bar','fooequalbar')`;>[几种断言类型](https://www.chaijs.com/guide/styles/)下面我们来书写基于BDD风格的test函数:```jsasyncfunctiontest(title,callback){try{awaitcallback()console.log(`✓${title}`)}catch(error){console.error(`✕${title}`)console.error(error)}}````expect`函数:```jsfunctionexpect(actual){return{toBe(expected){if(actual!==expected){thrownewError(`${actual}isnotequalto${expected}`)}}}}```应用:```jsconstsum=(a,b)=>a+btest(\"sumaddsnumbers\",async()=>{constresult=awaitsum(3,7)constexpected=10expect(result).toBe(expected)})```###不得不测实例上的方法?如果在'@testing-library/react'中测试某些组件暴露给业务方的钩子,记录了下可以这样子测试```jsit('testinstanceexist',()=>{letinstancerender(<Componentref={node=>{instance=node}}/>)expect(Object.prototype.toString.call(instance.A)).toBe('[objectFunction]')expect(Object.prototype.toString.call(instance.B)).toBe('[objectFunction]')})```###link*[react-testing-3-jest-and-react-testing-library/](https://blog.sapegin.me/all/react-testing-3-jest-and-react-testing-library/)"},{name:"React现代化测试.md",path:"/React/测试/React现代化测试.md",type:"file",mdconf:{abbrlink:"xghy9857"},birthtime:"2021-12-08",mtime:"2021-12-08",size:7932,extension:".md",relative:"/React/测试/React现代化测试.md",isEmpty:!1,content:"\x3c!--abbrlink:xghy9857--\x3e###测试的动机测试用例的书写是一个风险驱动的行为,每当收到Bug报告时,先写一个单元测试来暴露这个Bug,在日后的代码提交中,若该测试用例是通过的,开发者就能更为自信地确保程序不会再次出现此bug。>测试的动机是有效地提高开发者的自信心。###前端现代化测试模型前端测试中有两种模型,`金字塔模型`与`奖杯模型`。金字塔模型摘自[MartinFowler'sblog](https://martinfowler.com/bliki/TestPyramid.html),模型示意图如下:![](http://with.muyunyun.cn/d97821c98ca86b161ac650198e6b44fd.jpg-300)金字塔模型自下而上分为单元测试、集成测试、UI测试,之所以是金字塔结构是因为单元测试的成本最低,与之相对,UI测试的成本最高。所以单元测试写的数量最多,UI测试写的数量最少。同时需注意的是越是上层的测试,其通过率给开发者带来的信心是越大的。奖杯模型摘自KentC.Dodds提出的[TheTestingTrophy](https://twitter.com/kentcdodds/status/960723172591992832?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E960723172591992832&ref_url=https%3A%2F%2Fkentcdodds.com%2Fblog%2Fwrite-tests),该模型是笔者比较认可的前端现代化测试模型,模型示意图如下:![](http://with.muyunyun.cn/0453d50194dfa1cbf7a4aeb70252c438.jpg-300)奖杯模型中自下而上分为静态测试、单元测试、集成测试、e2e测试,它们的职责大致如下:*`静态测试`:在编写代码逻辑阶段时进行报错提示。(代表库:eslint、flow、TypeScript)*`单元测试`:在奖杯模型中,单元测试的职责是对一些边界情况或者特定的算法进行测试。(代表库:[jest](https://github.com/facebook/jest)、[mocha](https://github.com/mochajs/mocha))*`集成测试`:模拟用户的行为进行测试,对网络请求、获取数据库的数据等依赖第三方环境的行为进行mock。(代表库:[jest](https://github.com/facebook/jest)、[react-testing-library](https://github.com/testing-library/react-testing-library))*`e2e测试`:模拟用户在真实环境上操作行为(包括网络请求、获取数据库数据等)的测试。(代表库:[cypress](https://github.com/cypress-io/cypress))越是上层的测试给开发者带来的自信是越大的,与此同时,越是下层的测试测试的效率是越高的。奖杯模型综合考虑了这两点因素,可以看到其在集成测试中的占比是最高的。###基于用户行为去测试书写测试用例是为了提高开发者对程序的自信心的,但是很多时候书写测试用例给开发者带来了觉得在做无用功的沮丧。导致沮丧的感觉出现往往是因为开发者对组件的具体实现细节进行了测试,如果换个角度站在用户的行为上进行测试则能极大提高测试效率。测试组件的具体细节会带来的两个问题:1.测试用例对代码`错误否定`;2.测试用例对代码`错误肯定`;以`轮播图组件`为例,依次来看上述问题。轮播图组件伪代码如下:```jsclassCarouselextendsReact.Component{state={index:0}/*跳转到指定的页数*/jump=(to:number)=>{this.setState({index:to})}render(){const{index}=this.statereturn<><SwipecurrentPage={index}/><buttononClick={()=>this.jump(index+1)}>下一页</button><span>`当前位于第${index}页`</span></>}}```如下是基于`enzyme`的api写的测试用例:```jsimport{mount}from'enzyme'describe('CarouselTest',()=>{it('testjump',()=>{constwrapper=mount(<Carousel><div>第一页</div><div>第二页</div><div>第三页</div></Carousel>)expect(wrapper.state('index')).toBe(0)wrapper.instance().jump(2)expect((wrapper.state('index')).toBe(2)})})```恭喜,测试通过✅。某一天开发者觉得`index`的命名不妥,对其重构将`index`更名为`currentPage`,此时代码如下:```jsclassCarouselextendsReact.Component{state={currentPage:0}/*跳转到指定的页数*/jump=(to:number)=>{this.setState({currentPage:to})}render(){const{currentPage}=this.statereturn<><SwipecurrentPage={currentPage}/><buttononClick={()=>this.jump(currentPage+1)}>下一页</button><span>`当前位于第${currentPage}页`</span></>}}```再次跑测试用例,此时在`expect(wrapper.state('index')).toBe(0)`的地方抛出了错误❌,这就是所谓的测试用例对代码进行了`错误否定`。因为这段代码对于使用方来说是不存在问题的,但是测试用例却抛出错误,此时开发者不得不做'无用功'来调整测试用例适配新代码。调整后的测试用例如下:```diffdescribe('CarouselTest',()=>{it('testjump',()=>{...-expect(wrapper.state('index')).toBe(0)+expect(wrapper.state('currentPage')).toBe(0)wrapper.instance().jump(2)-expect((wrapper.state('index')).toBe(2)+expect((wrapper.state('currentPage')).toBe(2)})})```然后在某一天粗心的小明同学对代码做了以下改动:```diffclassCarouselextendsReact.Component{state={currentPage:0}/*跳转到指定的页数*/jump=(to:number)=>{this.setState({currentPage:to})}render(){const{currentPage}=this.statereturn<><SwipecurrentPage={currentPage}/>-<buttononClick={()=>this.jump(currentPage+1)}>下一页</button>+<buttononClick={this.jump(currentPage+1)}>下一页</button><span>`当前位于第${index}页`</span></>}}```小明同学跑了上述单测,测试通过✅,于是开心地提交了代码。结果上线后线上出现了问题!这就是所谓测试用例对代码进行了`错误肯定`。因为测试用例测试了组件内部细节(此处为`jump`函数),让小明误以为已经覆盖了全部场景。测试用例`错误否定`以及`错误肯定`都给开发者带来了挫败感与困扰,究其原因是测试了组件内部的具体细节所至。而一个稳定可靠的测试用例应该脱离组件内部的实现细节,越接近用户行为的测试用例能给开发者带来越充足的自信。相较于enzyme,[react-testing-library](https://github.com/testing-library/react-testing-library)所提供的api更加贴近用户的使用行为,使用其对上述测试用例进行重构:```jsimport{render,fireEvent}from'@testing-library/react'describe('CarouselTest',()=>{it('testjump',()=>{const{getByText}=render(<Carousel><div>第一页</div><div>第二页</div><div>第三页</div></Carousel>)expect(getByText(/当前位于第一页/)).toBeInTheDocument()fireEvent.click(getByText(/下一页/))expect(getByText(/当前位于第一页/)).not.toBeInTheDocument()expect(getByText(/当前位于第二页/)).toBeInTheDocument()})})```关于`react-testing-Library`的用法总结将在下一章节[Jest与react-testing-Library](https://github.com/MuYunyun/blog/blob/master/React/测试/Jest与ReactTestingLibrary.md)具体介绍。如果对React技术栈感兴趣,欢迎关注[个人博客](https://github.com/MuYunyun/blog)。###相关链接*[write-tests](https://kentcdodds.com/blog/write-tests)*[Testing](https://reactjs.org/docs/testing-recipes.html)*[TestingImplementationDetails](https://kentcdodds.com/blog/testing-implementation-details)*[why-i-never-use-shallow-rendering](https://kentcdodds.com/blog/why-i-never-use-shallow-rendering)*[react-testing-1-best-practices](https://blog.sapegin.me/all/react-testing-1-best-practices/)"},{name:"mobile_test.md",path:"/React/测试/mobile_test.md",type:"file",mdconf:{abbrlink:"x2orssyg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:782,extension:".md",relative:"/React/测试/mobile_test.md",isEmpty:!1,content:"\x3c!--abbrlink:x2orssyg--\x3e###移动端组件测试指北移动端组件测试分为以下几个环节1.单元测试2.模拟真机测试3.真机测试###单元测试使用过`jest`+`ensyme`/`react-test-library`,推荐`react-test-library`。###ios机型测试首先需注意的是`低版本的手机是`不支持ES6的,所以打包到线上环境的代码应该是编译成ES5。![](http://with.muyunyun.cn/fcec13352f1a210d2f9718281ffca685.jpg)然后使用Xcode中的Simulator配合Sarari进行模拟真机测试。####如何在simulator中测试双指拖拽放大缩小按住shift+alt按键进行锁定区域。###安卓机型测试1.startupdevelopermodeinandroidapp;2.input[url](chrome://inspect)Chrometotest;"},{name:"测试之旅.md",path:"/React/测试/测试之旅.md",type:"file",mdconf:{abbrlink:"n6uxpy3o"},birthtime:"2021-12-08",mtime:"2021-12-08",size:435,extension:".md",relative:"/React/测试/测试之旅.md",isEmpty:!1,content:"\x3c!--abbrlink:n6uxpy3o--\x3e如果想让程序更加健壮,那就必须让它经过更加系统/全面的测试。###ssr测试1.@testing-library是不能用于在server端渲染的,所以服务端渲染要用enzyme的render方法;2.ant-design所有组件都会跑一份共同的[服务端测试文件](https://github.com/ant-design/ant-design/blob/a754d9f60a565acf73c05a2ce78ecb827f621366/tests/shared/demoTest.ts)"},{name:"自动化测试.md",path:"/React/测试/自动化测试.md",type:"file",mdconf:{abbrlink:"gudtegr3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:166,extension:".md",relative:"/React/测试/自动化测试.md",isEmpty:!1,content:"\x3c!--abbrlink:gudtegr3--\x3e-[][前端自动化测试探索](https://fex.baidu.com/blog/2015/07/front-end-test/):介绍测试比较广泛。包括样式测试。"},{name:"静态测试.md",path:"/React/测试/静态测试.md",type:"file",mdconf:{abbrlink:"753pz3s3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:628,extension:".md",relative:"/React/测试/静态测试.md",isEmpty:!1,content:'\x3c!--abbrlink:753pz3s3--\x3e###prettier的使用```yarnaddprettier-D````prettier`项目的全部文件```"scripts":{"format":"prettier--write\\"**/*.+(js|jsx|json|yml|yaml|css|less|scss|ts|tsx|md|mdx|graphql|vue)\\""},```--list-diffetent:列出需要prettier的列表```js"format":"npmrunprettier----write","prettier":"prettier\\"**/*.+(js|jsx|json|yml|yaml|css|less|scss|ts|tsx|md|graphql|mdx)\\"","validate":"npmrunlint&&npmrunprettier----list-different"```*`hawsky`:内置大量可以配合git命令执行的钩子*`lint-staged`:把范围缩小为操作更改的文件'}],type:"directory",size:19191},{name:"深入Fiber架构.md",path:"/React/深入Fiber架构.md",type:"file",mdconf:{abbrlink:"bqtcq53y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5584,extension:".md",relative:"/React/深入Fiber架构.md",isEmpty:!1,content:"\x3c!--abbrlink:bqtcq53y--\x3e###名词解释在介绍`Fiber`之前,需要对官网中出现的以下名词有个深刻的认知。*`Reconciliation`:调和算法,得出`VirtualDom(针对Web)`之间的差异;*`Scheduling`:调度。`Recct`通过内部的调度来安排不同优先级的任务在`最佳时刻`执行(在Reconciler中调用);*`Render`:将`Reconciliation`的结果刷新到界面上;*`Fiber`:链表数据结构的`React`实现(个人理解)。>平常大家说的'Fiber'其实是由上面这些名词组成的架构,Fiber真正意义上只是一个链表数据结构的React实现版本。>在Fiber的数据结构下有助于实现concurrent以及errorboundary,你觉得如何实现？*并发这个考虑`Promise.all`?*可以通过链表锁定到具体的报错，让相应的`errorboundary`展现###Fiberfiber架构是一个增量渲染。```jscurrenttree=>workInProgresstree=>currenttree```workInProgresstree:fibernode+othernode(由virtualdom创建)，fiber里包含了创造节点后的[work](https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/shared/ReactSideEffectTags.js),比如对于组件的生命周期、对于html组件的增加、改、删除都属于副作用。[fiber的根节点](https://github.com/facebook/react/blob/0dc0ddc1ef5f90fe48b58f1a1ba753757961fc74/packages/react-reconciler/src/ReactFiberRoot.js#L31)###FiberConstructor如下是`Fiber`的属性,Fiber完整属性可参考[这里](https://github.com/facebook/react/blob/6e4f7c788603dac7fccd227a4852c110b072fe16/packages/react-reconciler/src/ReactFiber.js#L78)，各个属性的作用是什么呢?```js{stateNode:newClickCounter,type:ClickCounter,//组件的类型alternate:null,key:null,updateQueue:null,memoizedState:{count:0},pendingProps:{},//已经更新的dom但还未展示到页面上memoizedProps:{},//showlastrenderingtag:1,//Fiber的类型effectTag:0,nextEffect:null}```下面是对`fiber`对象中各属性的解释。*`type`:组件的类型*`key`:根据`key`字段判断该`fiber`对象是否可以复用*`child`:子链表的引用*`sibling`:相邻链表的引用*`return`:父链表的引用*`pendingProps`:和`memoizedProps`一起使用,若`pendingProps`与`memoizedProps`相等,则可以复用上一个fiber相关的输出*`memoizedProps`*`pendingWorkPriority`:代表优先级的数字。数字越大，优先级越低(例外0——nowork)。这个字段是否更改，待确认*`alternate`:指向其对应的`workInProgressfiber`*`effectTag`:副作用类型,这个effect作用于`commit`阶段(总共有render、commit阶段)*`nextEffect`:下一个副作用*`output`:输出值###Renderphase`HostRoot`上使用[renderRoot](https://github.com/facebook/react/blob/95a313ec0b957f71798a69d8e83408f40e76765b/packages/react-reconciler/src/ReactFiberScheduler.js#L1132)*[performUnitOfWork](https://github.com/facebook/react/blob/95a313ec0b957f71798a69d8e83408f40e76765b/packages/react-reconciler/src/ReactFiberScheduler.js#L1056)*[beginWork](https://github.com/facebook/react/blob/cbbc2b6c4d0d8519145560bd8183ecde55168b12/packages/react-reconciler/src/ReactFiberBeginWork.js#L1489)*[completeUnitOfWork](https://github.com/facebook/react/blob/95a313ec0b957f71798a69d8e83408f40e76765b/packages/react-reconciler/src/ReactFiberScheduler.js#L879)*[completeWork](https://github.com/facebook/react/blob/cbbc2b6c4d0d8519145560bd8183ecde55168b12/packages/react-reconciler/src/ReactFiberCompleteWork.js#L532)`performUnitOfWork、completeUnitOfWork`完成遍历，主要工作发生在`beginWork、completeWork`中。###Commitphase*[completeRoot](https://github.com/facebook/react/blob/95a313ec0b957f71798a69d8e83408f40e76765b/packages/react-reconciler/src/ReactFiberScheduler.js#L2306):起始于这个方法*[commitRoot](https://github.com/facebook/react/blob/95a313ec0b957f71798a69d8e83408f40e76765b/packages/react-reconciler/src/ReactFiberScheduler.js#L523):Commitphase阶段主要执行的方法,更新dom以及调用commit阶段执行的生命周期方法。>找finishedWork可以这样找:fiberroot-currentproperty->currenttree->hostfiber-alternate->workInProgress(finshedWork)treecommitRoot的简单概要如下:```jsfunctioncommitRoot(root,finishedWork){commitBeforeMutationLifecycles()//getSnapShotBeforeUpdatecommitAllHostEffects();//operatedom,componentWillUnmountroot.current=finishedWork;//将finishedWorktree置为currenttreecommitAllLifeCycles();//remaininglifecycles}```*提问:为什么称呼从`diff`转为`reconciliation`###Fiber的三个阶段*开始阶段:[ReactFiberBeginWork](https://github.com/MuYunyun/react/blob/master/packages/react-reconciler/src/ReactFiberBeginWork.js)*完成阶段:[ReactFiberCompleteWork](https://github.com/MuYunyun/react/blob/master/packages/react-reconciler/src/ReactFiberCompleteWork.js)*提交阶段:[ReactFiberCommitWork](https://github.com/MuYunyun/react/blob/master/packages/react-reconciler/src/ReactFiberCommitWork.js)###资料推荐*[InsideFiber:in-depthoverviewofthenewreconciliationalgorithminReact](https://medium.com/react-in-depth/inside-fiber-in-depth-overview-of-the-new-reconciliation-algorithm-in-react-e1c04700ef6e)*[react-fiber-architecture](https://github.com/acdlite/react-fiber-architecture)"},{name:"源码分析",path:"/React/源码分析",children:[{name:"React.Children.map.md",path:"/React/源码分析/React.Children.map.md",type:"file",mdconf:{abbrlink:"h62jej6e"},birthtime:"2021-12-08",mtime:"2021-12-08",size:867,extension:".md",relative:"/React/源码分析/React.Children.map.md",isEmpty:!1,content:"\x3c!--abbrlink:h62jej6e--\x3e###React.Children.map```jsfunctionParent(props){//React.Children.map会对第二个函数输出的值进行铺平操作console.log(React.Children.map(props.children,r=>[[r],r]));returnReact.Children.map(props.children,r=>[[r],r]);}functionApp(){return(<Parent><div>React.Children.map</div></Parent>);}```>[React.Children.map](https://codesandbox.io/s/4r08jvpk9w)###React.Children.map源码流程图`React.Children.map`的源码中有两个递归,一个是针对`React.Children`的递归,另外个是针对React.Children.map传入的第二个参数,如果其返回的是数组则会再次递归,目的是对数组中的数据进行铺平。![](https://github.com/MuYunyun/blog/blob/master/React/image/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/React.Children.map.png)"},{name:"React源码解读.mindnode",path:"/React/源码分析/React源码解读.mindnode",children:[{name:"QuickLook",path:"/React/源码分析/React源码解读.mindnode/QuickLook",children:[],type:"directory",size:0},{name:"style.mindnodestyle",path:"/React/源码分析/React源码解读.mindnode/style.mindnodestyle",children:[],type:"directory",size:0}],type:"directory",size:0},{name:"articles.md",path:"/React/源码分析/articles.md",type:"file",mdconf:{abbrlink:"zxuamh6y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:188,extension:".md",relative:"/React/源码分析/articles.md",isEmpty:!1,content:"\x3c!--abbrlink:zxuamh6y--\x3e一些对阅读源码的文章###link*[howtowritecustomReactRenderer](https://medium.com/@agent_hunt/hello-world-custom-react-renderer-9a95b7cd04bc)"},{name:"expirationTime的计算.md",path:"/React/源码分析/expirationTime的计算.md",type:"file",mdconf:{abbrlink:"waiqiqhz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2367,extension:".md",relative:"/React/源码分析/expirationTime的计算.md",isEmpty:!1,content:"\x3c!--abbrlink:waiqiqhz--\x3e###计算公式```jsconstMAX_SIGNED_31_BIT_INT=Math.pow(2,30)-1exportconstNoWork=0;exportconstNever=1;constUNIT_SIZE=10;constMAGIC_NUMBER_OFFSET=MAX_SIGNED_31_BIT_INT-1;//1unitofexpirationtimerepresents10ms.exportfunctionmsToExpirationTime(ms){//Alwaysaddanoffsetsothatwedon'tclashwiththemagicnumberforNoWork.returnMAGIC_NUMBER_OFFSET-((ms/UNIT_SIZE)|0);}exportfunctionexpirationTimeToMs(expirationTime){return(MAGIC_NUMBER_OFFSET-expirationTime)*UNIT_SIZE;}functionceiling(num,precision){return(((num/precision)|0)+1)*precision;}functioncomputeExpirationBucket(currentTime,expirationInMs,bucketSizeMs){return(MAGIC_NUMBER_OFFSET-ceiling(MAGIC_NUMBER_OFFSET-currentTime+expirationInMs/UNIT_SIZE,bucketSizeMs/UNIT_SIZE,));}exportconstLOW_PRIORITY_EXPIRATION=5000;exportconstLOW_PRIORITY_BATCH_SIZE=250;exportfunctioncomputeAsyncExpiration(currentTime){returncomputeExpirationBucket(currentTime,LOW_PRIORITY_EXPIRATION,LOW_PRIORITY_BATCH_SIZE,);}exportconstHIGH_PRIORITY_EXPIRATION=__DEV__?500:150;exportconstHIGH_PRIORITY_BATCH_SIZE=100;exportfunctioncomputeInteractiveExpiration(currentTime){returncomputeExpirationBucket(currentTime,HIGH_PRIORITY_EXPIRATION,HIGH_PRIORITY_BATCH_SIZE,);}````computeAsyncExpiration`函数化简后得到如下公式,针对这个公式目前的心得如下:1.抹平传入的`bucketSizeMs`精度误差,为batch作准备;2.`currentTime`越大,相应的`expirationTime`的结果如下图所示;![](http://with.muyunyun.cn/16a5237163f1e4f2967711442ec03a4c.jpg-200)```jsconstMAX_SIGNED_31_BIT_INT=Math.pow(2,30)-1constMAGIC_NUMBER_OFFSET=MAX_SIGNED_31_BIT_INT-1;functionceiling(num,precision){return(((num/precision)|0)+1)*precision;}functioncomputeExpirationBucket(currentTime){return(MAGIC_NUMBER_OFFSET-ceiling(MAGIC_NUMBER_OFFSET-currentTime+500,25,));}````ceiling`函数的作用:根据`precision`的精度取值```jsceiling(25,25)//50ceiling(26,25)//50ceiling(27,25)//50...ceiling(49,25)//50ceiling(50,25)//75ceiling(51,25)//75```"},{name:"image",path:"/React/源码分析/image",children:[],type:"directory",size:0},{name:"react-dom.md",path:"/React/源码分析/react-dom.md",type:"file",mdconf:{abbrlink:"rfxe2tr7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:275,extension:".md",relative:"/React/源码分析/react-dom.md",isEmpty:!1,content:"\x3c!--abbrlink:rfxe2tr7--\x3e###react-dom本章目的梳理`react-dom`模块做了的事情。验证以下几件事。*.创建`ReactRoot`*.创建`FiberRoot`;*expiretime*看到scheduleWork收尾*update[React源码解析](https://react.jokcy.me/)"},{name:"setState.md",path:"/React/源码分析/setState.md",type:"file",mdconf:{abbrlink:"55kdze2t"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2255,extension:".md",relative:"/React/源码分析/setState.md",isEmpty:!1,content:'\x3c!--abbrlink:55kdze2t--\x3e###setState是同步还是异步的?```jsclassAppextendsReact.Component{state={num:0};analyze=()=>{this.setState({num:this.state.num+1});console.log("num",this.state.num);this.setState({num:this.state.num+1});console.log("num",this.state.num);this.setState({num:this.state.num+1});console.log("num",this.state.num);};handleClick=()=>{this.analyze();//①//setTimeout(()=>{//②//this.analyze();//},0);};render(){return<buttononClick={this.handleClick}>clickbutton</button>;}}```①处代码打印结果:000;②处代码打印结果:123;>[demo演示](https://codesandbox.io/s/6l98prq3nk)为什么会出现这样的现象呢,相关源码如下:```js//如果满足一定条件,则对setState做批量更新functionbatchedUpdates(fn){constpreviousIsBatchingUpdates=isBatchingUpdates;isBatchingUpdates=true;try{returnfn(a);//相当于所有setState都在这里执行,相当于就是异步执行setState了。可见上述demo}finally{isBatchingUpdates=previousIsBatchingUpdates;if(!isBatchingUpdates&&!isRendering){performSyncWork();}}}//setState会进这个函数functionrequestWork(root,expirationTime){addRootToSchedule(root,expirationTime);if(isRendering){return;}if(isBatchingUpdates){//Flushworkattheendofthebatch.if(isUnbatchingUpdates){//...unlesswe\'reinsideunbatchedUpdates,inwhichcaseweshould//flushitnow.nextFlushedRoot=root;nextFlushedExpirationTime=Sync;performWorkOnRoot(root,Sync,false);}return;}//如果isBatchingUpdates为false则执行这里,相当于setState每次调用这里,就是同步的了if(expirationTime===Sync){performSyncWork();}else{scheduleCallbackWithExpirationTime(root,expirationTime);}}```依赖上下文中`isBatchingUpdates`等相关布尔值,如果`isBatchingUpdates`为`true`则进行批量更新,如果`isBatchingUpdates`为`false`则进行同步更新'},{name:"位运算符.md",path:"/React/源码分析/位运算符.md",type:"file",mdconf:{abbrlink:"736q491q"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1075,extension:".md",relative:"/React/源码分析/位运算符.md",isEmpty:!1,content:"\x3c!--abbrlink:736q491q--\x3e###位运算符小数和0使用位运算符能得到对应的整数。这个知识点在计算`expirationTime`中有用到。```js1.1|0=>1```###位运算在React的运用可以看到在React中存在大量对位运算声明的环境信息。比如下面摘自[源码](https://github.com/MuYunyun/react/blob/bf8c904110dfd4ba6870a952e3291d78136308cb/packages/react-reconciler/src/ReactTypeOfMode.js#L12-L15)。```jsvarNoContext=0b000;varConcurrentMode=0b001;varStrictMode=0b010;varProfileMode=0b100;```使用二进制的数字声明变量有什么好处呢?答案是简单易用。*判断是否是`ConcurrentMode````jsNoContext&ConcurrentMode//0```*使用`ConcurrentMode````jsNoContext|ConcurrentMode//1```*使用`ConcurrentMode`以及`StrictMode````jsvarcontext=NoContext|ConcurrentMode|StrictMode//3context&ConcurrentMode//1context&StrictMode//2```###相关链接*[位运算符在JS中的妙用](https://juejin.cn/post/6844903568906911752)"}],type:"directory",size:7027},{name:"源码贡献之路.md",path:"/React/源码贡献之路.md",type:"file",mdconf:{abbrlink:"8xo3hdcb"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3927,extension:".md",relative:"/React/源码贡献之路.md",isEmpty:!1,content:"\x3c!--abbrlink:8xo3hdcb--\x3e###逆向工程思维阅读源码可以分三步走:1.观察2.假设3.验证####一些技巧*使用逆向工程思维阅读源码可以一边在本地看`source`代码(结合IDE找代码更加快)，一边使用[AddReacttoaWebsite](https://reactjs.org/docs/add-react-to-a-website.html)的方式调试demo/验证猜想;*读源码的时候可以将零星的知识记录下来，最后合成一张思维导图;*有些复杂的递归逻辑可以结合自己的原生知识在需要的位置上进行断点调试;*`debugger`在`chrome`上运用`decorator`,如下图;![debugger在chrome上的方法](https://cdn-images-1.medium.com/max/1600/1*h9Uo6Su5-Y1LcVRfox4UqA.jpeg)###一些注意*pr到master分支*[good-first-issues](https://github.com/facebook/react/issues?q=is:open+is:issue+label:%22good+first+issue%22)###代码库概览>[官网repo](https://github.com/reactjs/reactjs.org)、[React依赖的工具库](https://github.com/facebook/fbjs)####根目录*[packages](https://github.com/facebook/react/tree/master/packages):核心模块*[fixtures](https://github.com/facebook/react/tree/master/fixtures):一些测试App*build:开发者本地执行yarnbuild后生成####monorepo*[packages/react](https://github.com/facebook/react/tree/master/packages/react):包含React.createElement()、React.component、React.children;*[packages/react-dom](https://github.com/facebook/react/tree/master/packages/react-dom):浏览器端渲染;*[packages/events](https://github.com/facebook/react/tree/master/packages/events):合成事件;*[packages/scheduler](https://github.com/facebook/react/tree/master/packages/scheduler):调度事件;*[packages/react-native-renderer](https://github.com/facebook/react/tree/master/packages/react-native-renderer):`React-Native`端渲染*[packages/react-test-renderer](https://github.com/facebook/react/tree/master/packages/react-test-renderer):用在`jest`的`SnapshotTest`中;*[packages/react-art](https://github.com/facebook/react/tree/master/packages/react-art):`Canvas`,`SVG`等渲染;*[packages/react-reconciler](https://github.com/facebook/react/tree/master/packages/react-reconciler):`FiberReconciler`的实现;*[packages/shared](https://github.com/facebook/react/tree/master/packages/shared):共享工具函数;>最为重要的是前4块内容。###React中的设计原则*组合。组件是可以互相组合的函数。*抽象。`React`只会抽象一些确实对使用者有帮助的特性(比如`State、LifeCycle`)，而不会抽象一些使用者自己可以实现的功能。`React团队`会在[BigPicture](https://github.com/facebook/react/issues?q=is:open+is:issue+label:%22Type:+Big+Picture%22)中和大家商榷这些抽象。###React项目运行###React16之后的打包方式*16之前是每个文件单独打包在lib文件夹下,[15.6.2](https://unpkg.com/react@15.6.2/lib/)*16版本只暴露两个包在umd文件夹下,[16.0.0](https://unpkg.com/react@16.0.0/umd/)>打包方式有这个转变的原因是因为之前打成多个包的形式对于打包器来说是低效的(会多出大量胶水代码)。###相关资源*[LevelUpYourReverseEngineeringSkills](https://blog.angularindepth.com/level-up-your-reverse-engineering-skills-8f910ae10630):这篇文章中介绍了逆向工程思维是什么——去探究新知识点，并为之兴奋;*[Practicalapplicationofreverse-engineeringguidelinesandprinciples](https://medium.com/react-in-depth/practical-application-of-reverse-engineering-guidelines-and-principles-784c004bb657):结合React介绍逆向工程思维;*[HowtoContribute](https://reactjs.org/docs/how-to-contribute.html)*[RepositoryInfrastructure](https://react.docschina.org/blog/2017/12/15/improving-the-repository-infrastructure.html)"},{name:"相关技术栈",path:"/React/相关技术栈",children:[{name:"GraghQL.md",path:"/React/相关技术栈/GraghQL.md",type:"file",mdconf:{abbrlink:"pzfuz7mc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:217,extension:".md",relative:"/React/相关技术栈/GraghQL.md",isEmpty:!1,content:"\x3c!--abbrlink:pzfuz7mc--\x3e###link*[阻碍你使用GraphQL的十个问题](https://leetcode-cn.com/articles/%E9%98%BB%E7%A2%8D%E4%BD%A0%E4%BD%BF%E7%94%A8-graphql-%E7%9A%84%E5%8D%81%E4%B8%AA%E9%97%AE%E9%A2%98/)"},{name:"React-DnD.md",path:"/React/相关技术栈/React-DnD.md",type:"file",mdconf:{abbrlink:"oz3ab9b8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:154,extension:".md",relative:"/React/相关技术栈/React-DnD.md",isEmpty:!1,content:"\x3c!--abbrlink:oz3ab9b8--\x3e*[React-Dnd](https://github.com/react-dnd/react-dnd)*[React-DnD使用](http://www.phperz.com/article/16/0115/183290.html)"},{name:"Redux-Saga实践.md",path:"/React/相关技术栈/Redux-Saga实践.md",type:"file",mdconf:{abbrlink:"iyizcnh2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:484,extension:".md",relative:"/React/相关技术栈/Redux-Saga实践.md",isEmpty:!1,content:"\x3c!--abbrlink:iyizcnh2--\x3e来看为什么有如下api:###call/put本质目的是让测试用例不必再发起多一次函数调用,取而代之转为比较对象是否相同。*使用`call`替代使用`fetch`*使用`put`替代使用`dispatch{action}`###fork*使用`fork`:模拟多个线程###redux-saga相较于redux-thunk的一些优点*对测试用例较为友好(比较函数和传入参数)*对异步操作流程的操作颗粒度更加细"},{name:"Redux与Mobx适用场景.md",path:"/React/相关技术栈/Redux与Mobx适用场景.md",type:"file",mdconf:{abbrlink:"idu7szrn"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1209,extension:".md",relative:"/React/相关技术栈/Redux与Mobx适用场景.md",isEmpty:!1,content:"\x3c!--abbrlink:idu7szrn--\x3e###Redux的简易实现```jsfunctioncreateStore(reducer,initialState){letstate=initialStateconsteventList=[]functiongetState(){returnstate}functiondispatch(action){state=reducer(state,action)eventList.map(r=>r(state))}functionsubscribe(event){eventList.push(event)}return{getState,subscribe,dispatch,}}```测试用例```jsconstreducer=function(state,action){switch(action.type){case'update':returnaction.payloadbreakcase'update1':return{...state,a:action.payload,}breakdefault:returnstate}}conststore=createStore(reducer,{a:1,b:2})store.subscribe((state)=>{console.log(state)})store.dispatch({type:'update',payload:{a:1,b:2}})//{a:1,b:2}store.dispatch({type:'update1',payload:3})//{a:3,b:2}console.log(store.getState())//{a:3,b:2}```###Redux与Mobx适用场景####redux*store-view-action的闭环*Redux颗粒度更细,相对更安全####mobx*store-view的闭环*使用了类双向绑定的思维"},{name:"dva.md",path:"/React/相关技术栈/dva.md",type:"file",mdconf:{abbrlink:"uerht7ui"},birthtime:"2021-12-08",mtime:"2021-12-08",size:381,extension:".md",relative:"/React/相关技术栈/dva.md",isEmpty:!1,content:"\x3c!--abbrlink:uerht7ui--\x3e###dva看看`dva`需要实现哪些部分。*dva-cli:搭建项目脚手架*roadhog:就是对`webpack`的封装*dva:对`react`、`redux`、`redux-saga`的封装*umi:工具+路由,和`roadhog`有一定重叠,解放dva让其做数据流的工作####use[分析dva的工程演进](https://github.com/demos-platform/dva)"},{name:"relay.md",path:"/React/相关技术栈/relay.md",type:"file",mdconf:{abbrlink:"2bcxyoc2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1299,extension:".md",relative:"/React/相关技术栈/relay.md",isEmpty:!1,content:'\x3c!--abbrlink:2bcxyoc2--\x3e###RelayIt\'snotjusta`GraghQLclient`butalsoaframeworkfor`declarativedata-fetching`.###FetchingDataUsingRESTAPI:```js//FetchthelistofstoryIDsbutnottheirdetails:rest.get(\'/stories\').then(stories=>//Thisresolvestoalistofitemswithlinkedresources://`[{href:"http://.../story/1"},...]`Promise.all(stories.map(story=>rest.get(story.href)//Followthelinks))).then(stories=>{//Thisresolvestoalistofstoryitems://`[{id:"...",text:"..."}]`console.log(stories);});```请求接口次数为`n+1`;```jsgraphql.get(`query{stories{id,text}}`).then(stories=>{//Alistofstoryitems://`[{id:"...",text:"..."}]`console.log(stories);});```###links*[Relaydocument](https://relay.dev/docs/en/experimental/step-by-step)*[step-by-step](https://relay.dev/docs/en/experimental/step-by-step):done*[ThinkinginGraghQL](https://relay.dev/docs/en/thinking-in-graphql):toread*[ThinkinginRelay](https://relay.dev/docs/en/thinking-in-relay):toread*[relay-examples](https://github.com/relayjs/relay-examples/tree/master/issue-tracker)*[suspense-experimental](https://github.com/gaearon/suspense-experimental-github-demo)'},{name:"router的简易实现.md",path:"/React/相关技术栈/router的简易实现.md",type:"file",mdconf:{abbrlink:"163w51fk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1983,extension:".md",relative:"/React/相关技术栈/router的简易实现.md",isEmpty:!1,content:"\x3c!--abbrlink:163w51fk--\x3e###router的简易实现###基于hash的实现以下为`hashChange`的简版实现```jsclassRouter{constructor(){this.router={}window.addEventListener('hashchange',(e)=>{consttag=location.hash.slice(1)this.router[tag]&&this.router[tag]()})}route(path,fn){this.router[path]=fn}}constrouter=newRouter()constchangeColor=(color)=>{document.body.style.background=color}router.route('red',()=>{changeColor('red')})router.route('yellow',()=>{changeColor('yellow')})router.route('blue',()=>{changeColor('blue')})``````html<ul><ahref=\"#red\">red</a><ahref=\"#yellow\">yellow</a><ahref=\"#blue\">blue</a></ul>```###基于history的实现>以下代码需要运行在http端口。```jsclassRouter{constructor(){this.router={}window.addEventListener('popstate',(e)=>{constpath=e.state.paththis.router[path]&&this.router[path]()})}route(path,fn){this.router[path]=fn}go(path){history.pushState({path:path},null,path)//核心思路,pushState进去的第一个对象会在点击回退/前进按钮时触发popstatethis.router[path]&&this.router[path]()}}constrouter=newRouter()constchangeColor=(color)=>{document.body.style.background=color}router.route('red',()=>{changeColor('red')})router.route('yellow',()=>{changeColor('yellow')})router.route('blue',()=>{changeColor('blue')})document.getElementsByTagName('ul')[0].addEventListener('click',(e)=>{router.go(e.target.innerText)})``````html<ul><lihref=\"red\">red</li><lihref=\"yellow\">yellow</li><lihref=\"blue\">blue</li></ul>```###路由的监听*hash路由window.addEventListener('hashchange')*history路由###参考[面试官:你了解前端路由吗?](https://juejin.im/post/5ac61da66fb9a028c71eae1b)"},{name:"在react使用immutable数据的优势.md",path:"/React/相关技术栈/在react使用immutable数据的优势.md",type:"file",mdconf:{abbrlink:"4sdxeudx"},birthtime:"2021-12-08",mtime:"2021-12-08",size:933,extension:".md",relative:"/React/相关技术栈/在react使用immutable数据的优势.md",isEmpty:!1,content:"\x3c!--abbrlink:4sdxeudx--\x3e###疑问>在知乎上提了个[使用immutable.js后有什么优势？](https://www.zhihu.com/question/297323663)###自答假如要更新4,immutable.js只在绿色这条线做了特殊处理,其它紫色的部分保持不变。相当于是优化了深拷贝的实现,数据结构方面可以想象成链表,因此在深拷贝的时候没有递归那么耗费性能,同时也更利于数据的获取。因为最顶部的对象变化了,React就提前知道需要重新渲染了(可以弥补PureComponent只作浅比较的不足)。不过Updatedtree里的每一个节点还是会重新diff的,不过在数据前后比较的这个层面上讲,immutable.js的效率确实会高一些。![](http://with.muyunyun.cn/aeef08a94abebda30e9a5fa68e201fa8.jpg)另外,使用immutable.js的话需要将所有的state,props都转化成其定义的形式。成本还是有的。"},{name:"多端",path:"/React/相关技术栈/多端",children:[{name:"taro.md",path:"/React/相关技术栈/多端/taro.md",type:"file",mdconf:{abbrlink:"36xsjh9a"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1633,extension:".md",relative:"/React/相关技术栈/多端/taro.md",isEmpty:!1,content:"\x3c!--abbrlink:36xsjh9a--\x3e###@tarojs/components```jsimport{View,Text,Navigator,Image}from'@tarojs/components'```块级元素->View行内元素->Textimg->Image跳转不同页面->Navigator*在小程序端，React/Nerv指向mini/index.js，Vue无需使用此包。*在H5端，React/Nerv指向h5/react/index.js，Vue指向h5/vue/index.js。H5端使用stencil把组件编译为WebComponents以提供跨框架调用。原则:在满足B端移动视觉规范的基础上,优先将beast-mobile组件迁移成小程序组件,*跨平台开发*通过内置环境变量来解决*[View](https://taro-docs.jd.com/taro/docs/components/viewContainer/view)*[Text](https://taro-docs.jd.com/taro/docs/components/base/text)*[swiper](https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html),[swiperintaro](https://taro-docs.jd.com/taro/docs/components/viewContainer/swiper):考虑可用*[progress](https://developers.weixin.qq.com/miniprogram/dev/component/progress.html):考虑可用*[button](https://developers.weixin.qq.com/miniprogram/dev/component/button.html)*[checkbox](https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html)*[input](https://developers.weixin.qq.com/miniprogram/dev/component/input.html)*[switch](https://developers.weixin.qq.com/miniprogram/dev/component/switch.html)###link*[小程序跨框架开发的探索与实践](https://mp.weixin.qq.com/s?__biz=MzU3NDkzMTI3MA==&mid=2247483770&idx=1&sn=ba2cdea5256e1c4e7bb513aa4c837834)*[入门教程](https://taro-docs.jd.com/taro/docs/guide/)"},{name:"textArea.md",path:"/React/相关技术栈/多端/textArea.md",type:"file",mdconf:{abbrlink:"1g5en3hr"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5146,extension:".md",relative:"/React/相关技术栈/多端/textArea.md",isEmpty:!1,content:"\x3c!--abbrlink:1g5en3hr--\x3e###文档比如textArea组件距离需要看两份文档。1.[tarotextArea](http://taro-docs.jd.com/taro/docs/components/forms/textarea.html)2.[微信小程序文档textArea](https://developers.weixin.qq.com/miniprogram/dev/component/textarea.html)###关于textArea的坑点1.原生的组件永远的层级永远大于非原生组件的层级2.[textArea在iphone手机中存在内边距](https://segmentfault.com/a/1190000017086890)目前一种方案是对textArea组件进行了相应封装,展示的时候显示为自定义组件,输入的时候使用原生textArea.`basicTextArea.js````jsimportTaro,{Component}from'@tarojs/taro'import{Textarea,View}from'@tarojs/components'importcxfrom'classnames'import'./index.scss'interfaceBasicTextAreaProps{onChange:(...arg)=>voidonFocus:(...arg)=>voidonBlur:(...arg)=>voidplaceholder?:stringmaxlength?:numbervalue:stringfocus:boolean}constnoop=()=>{}exportdefaultclassBasicTextAreaextendsComponent<BasicTextAreaProps,any>{staticdefaultProps:BasicTextAreaProps={onChange:noop,onFocus:noop,onBlur:noop,placeholder:'',maxlength:-1,value:'',focus:false}handleInput=(...arg)=>this.props.onChange(...arg)handleFocus=(...arg)=>this.props.onFocus(...arg)handleBlur=(...arg)=>this.props.onBlur(...arg)render(){const{platform}=Taro.getSystemInfoSync()const{value,focus,placeholder,maxlength}=this.propsreturn(<ViewclassName={cx({textarea_ios:platform==='ios','textarea_android-placeholder':platform==='android'&&!value})}><TextareaclassName={cx('textarea_text')}value={value}onInput={this.handleInput}focus={focus}onBlur={this.handleBlur}placeholder={placeholder}maxlength={maxlength}/></View>)}}````textArea.ts`,切换相应组件的代码主要在这里进行处理。```jsimportTaro,{Component}from'@tarojs/taro'import{View,Text,ScrollView}from'@tarojs/components'importcxfrom'classnames'importBasicTextAreafrom'./basicTextArea'import'./index.scss'interfaceTextAreaProps{placeholder?:stringmaxlength?:numberonChange:(e:{detail:{value:string}})=>voidvalue:string}exportdefaultclassTextAreaextendsComponent<TextAreaProps,any>{staticdefaultProps:Pick<TextAreaProps,'placeholder'|'maxlength'>={placeholder:'',maxlength:-1,}state={isFocus:false,}handleChange(e){const{onChange}=this.propsonChange(e)}//处理原生textArea失焦/聚焦bindTextareaHandle(type:string){if(type=='blur'){this.setState({isFocus:false,})}elseif(type=='focus'){this.setState({isFocus:true,})}}render(){const{isFocus}=this.stateconst{placeholder,maxlength,value}=this.propsconst{platform}=Taro.getSystemInfoSync()return(<View>{this.state.isFocus?<ViewclassName='textarea_content'><BasicTextAreavalue={value}onChange={this.handleChange.bind(this)}focus={isFocus}onBlur={this.bindTextareaHandle.bind(this,'blur')}maxlength={maxlength}placeholder={placeholder}/></View>:<ViewonClick={this.bindTextareaHandle.bind(this,'focus')}><ScrollViewscrollY={true}className={'textarea_content'}><TextclassName={cx('textarea_text',{'textarea_text-placeholder':!value,'textarea_text-ios':platform==='ios',})}>{value?value:placeholder}</Text></ScrollView></View>}</View>)}}````index.scss````css.textarea_content{width:100%;height:192px;padding-top:24px;padding-bottom:24px;font-size:32px;line-height:48px;border-radius:16px;background-color:#FFF;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;}.textarea_text{word-break:break-all;width:100%;font-size:32px;line-height:48px;-webkit-appearance:none;height:144px;overflow:scroll;&-placeholder{color:#999;/*模拟光标占位*/padding-left:2px;}&-ios{/*尽可能模拟原生textArea的字间距*/letter-spacing:0.1px;}}/*微信原生textareaplaceholder颜色,误删*/.textarea-placeholder{color:#999;font-size:32px;}/*修复ios下有padding的问题*/.textarea_ios{margin-top:-12px;margin-left:-8px;}/*安卓手机上的placeholder会偏上,但是目前这解法会有一个影响用户的动画*/.textarea_android-placeholder{margin-top:8px;}```"},{name:"小程序.md",path:"/React/相关技术栈/多端/小程序.md",type:"file",mdconf:{abbrlink:"c3a5sn2w"},birthtime:"2021-12-08",mtime:"2021-12-08",size:280,extension:".md",relative:"/React/相关技术栈/多端/小程序.md",isEmpty:!1,content:"\x3c!--abbrlink:c3a5sn2w--\x3e###MiniProgram*微信开发者工具使用[NW.js](https://github.com/nwjs/nw.js)编写###跨段小程序*[wepy](https://github.com/Tencent/wepy)*[mpvue](https://github.com/Meituan-Dianping/mpvue)*[taro](https://github.com/NervJS/taro)"}],type:"directory",size:7059},{name:"定制自己的react-script.md",path:"/React/相关技术栈/定制自己的react-script.md",type:"file",mdconf:{abbrlink:"ymisqdg2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:961,extension:".md",relative:"/React/相关技术栈/定制自己的react-script.md",isEmpty:!1,content:"\x3c!--abbrlink:ymisqdg2--\x3e###基于create-react-app的改动基于`create-react-app`fork的脚手架有以下两点好处:*`facebook`团队帮忙更新迭代新技术*自定义模板/脚本抽离出来后从而在其它项目能进行复用>`fork`的项目需要定期和`create-react-app`保持同步,上次同步时间:`2019-02-16`###使用自定义模板/脚本创建项目只需要维护`packages/scripts`的文件就行。*更改`packages/scripts`目录下的`package.json`的各种配置信息,比如将`react-script`里的`name`更名为`react-siren-scripts`;*`react-scripts/scripts/init.js`添加`console.log()`;*`react-scripts/template`:修改模板文件;```npxcreate-react-appmy-app--scripts-versionreact-siren-scripts```目前其集成了`scss`###参考文章*[Customizingcreate-react-app:HowtoMakeYourOwnTemplate](https://auth0.com/blog/how-to-configure-create-react-app/)"},{name:"富文本编辑器.md",path:"/React/相关技术栈/富文本编辑器.md",type:"file",mdconf:{abbrlink:"vk4ikovw"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3882,extension:".md",relative:"/React/相关技术栈/富文本编辑器.md",isEmpty:!1,content:"\x3c!--abbrlink:vk4ikovw--\x3e###富文本编辑器的层级*L0*L1:兼容性层面的优化,自行实现undo/redo栈;*L2:移动端/国际化适配;>一个好的框架设计:尽量少的提前做的假设限制!####L01.给元素上加上`contenteditable`属性2.给选中元素执行`document.execCommand()`>另外一种方法是内嵌iframe,并将其designmode属性设置为true。(有跨域问题,日后填坑)###Slate框架###调试可以使用`editor.value.toJSON()`打印tree结构,便于调试;###slate设计模式*兜底原则*`normalizeNode`,除指定节点外都走该normalize机制;###有序列表的设计1.小圆点+数字作为一个结构;2.点击有序列表,当前节点的同级兄弟节点都会变为有序列表;3.点击可以取消有序列表;4.当在有序列表的节点建立兄弟节点或子节点时,自动设置为有序列表;5.子节点规则1——1.1——1.1.1——1.1.1.1;6.当把某个子节点从有序节点变为无序节点时,该节点的兄弟节点也变为无序;该节点的子节点从1开始计数;7.原则:兄弟节点必须都为有序或无序,子节点可以无序也可以有序;结论:1.因此对selection是不敏感的,即操作一个都会同时对同层级所有节点生效;###slate开发坑点*一种方式开发完之后,在某些情况下是不满足的,因此需要返工。*example:输入@、#进行筛选最初是使用set方式实现的,一开始这样设计是没问题的,但是考虑未来在多人协作过程中会造成一份数据的互相影响,因此将其重构调整为将筛选的数据绕开set的方式,取而代之的是外面传递进来。###smalltipsmalltipinslateeditorWheninputbafterainpage#slate#editor.```jsconsole.log(editor.value.texts.get(0))//'a';requestAnimationFrame(()=>{console.log(editor.value.texts.get(0))//'ab'})```###WebExcel*GoogleSheets*Office365*WPSWeb*钉钉表格*可扩展的表格*棋盘模型*Range模型*协同的表格*名词*cp(CheckPoint):全量表格数据*op(Operation):单次操作的表达*OT(OperationTransform)是协同算法的关键。*上限更高的COT调度算法要求OT同时运行在服务端与客户端*Rust+WASM实现OT,已验证最小闭环*高性能的表格*选择canvas渲染表格主界面,不用DOM的原因是浪费在DOMPipeline的开销很大*分层渲染管线*双缓冲画布,支持流畅的滚动*自研排版引擎###协同编辑*[etherpad-lite](https://github.com/ether/etherpad-lite)*基于OT开发的从底层支持协同编辑的框架。*代表:飞书、石墨*问题:十年前代码、技术栈陈旧*核心方法:*apply*compose*follow:解决两个changeset冲突问题*inverse:反操作,undo*Changeset*代表对文档的一次修改*eg:Z:4>1=1*0+1$2*Z:代表是一个Changeset*4>1:源文档4个字符长度,本次修改增加一个字符*=1:跳过第一个字符**0+1:插入一个字符,并且带上属性0*$2:插入的具体字符*[ChangesetIterator](https://github.com/marcelklehr/changesets),解析上述Changeset的库*渲染流程*内联属性*行属性:标题*块属性:图片*问题一:follow为什么要对A与B都要处理,可否只对一处进行处理?*问题二:etherpad-lite服务端与客户端协同的处理?(要有一个master)1.服务端设置为true2.客户端设置为false*问题三:*弱网情况下,如何优化协同问题?(比如输入拼音,被截断,无法删除)###link*[编辑器初体验](https://zhuanlan.zhihu.com/p/90931631)"}],type:"directory",size:18562},{name:"错误处理.md",path:"/React/错误处理.md",type:"file",mdconf:{abbrlink:"5ygpjsua"},birthtime:"2021-12-08",mtime:"2021-12-08",size:104,extension:".md",relative:"/React/错误处理.md",isEmpty:!1,content:"\x3c!--abbrlink:5ygpjsua--\x3e-[][错误处理值得阅读](https://aweary.dev/fault-tolerance-react/)"}],type:"directory",size:248293},{name:"BasicSkill",path:"/BasicSkill",children:[{name:"Shorcuts",path:"/BasicSkill/Shorcuts",children:[{name:"chrome.md",path:"/BasicSkill/Shorcuts/chrome.md",type:"file",mdconf:{abbrlink:"6e5ls1fr"},birthtime:"2021-12-08",mtime:"2021-12-08",size:457,extension:".md",relative:"/BasicSkill/Shorcuts/chrome.md",isEmpty:!1,content:"\x3c!--abbrlink:6e5ls1fr--\x3e###ChromeSkill###快捷键```无痕模式:cmd+shift+n```###debugger*`step`:多步执行;*`stepover`:单步执行,遇到子函数会将子函数当成是一个整体执行;*`stepinto`:单步执行,遇到子函数进入子函数;###TakeFullSizeScreenshots1.Press`Cmd+Shift+P`;2.Type`Capturefullsizescreenshot`;###切换chrome://flags/#enable-force-dark,enabled启动暗黑"},{name:"git.md",path:"/BasicSkill/Shorcuts/git.md",type:"file",mdconf:{abbrlink:"8pf6qkue"},birthtime:"2021-12-08",mtime:"2021-12-08",size:7128,extension:".md",relative:"/BasicSkill/Shorcuts/git.md",isEmpty:!1,content:'\x3c!--abbrlink:8pf6qkue--\x3e###操作远程文件```bashgitpushorigin:[branch]删除远程分支gitrm-r--cached[file]删除远程文件```###gitcommit提交规范```bashfeat:新功能fix:修复bugtest:增加/修改测试用例chore:修改工具相关docs:修改文档perf:提升性能reflactor:重构,不影响当前逻辑style:修改样式deps:升级依赖```###PR相关```bashgitremote-v列出远程仓库urlgitremoteadd[name][url]添加远程仓库urlgitfetch[name]拉取远程仓库最新代码gitmerge[name]/master合并远程分支最新代码到本地```###gitpull和gitfetch的区别`gitpull`等价于`gitfetch`和`gitcheckout-b`###gitmerge和gitrebase的区别*`gitmerge`会多产生一次merge的log记录;*`gitrebase`会将主干新增的日志记录前置到当前分支之前;>gitmerge--no-ff在每次合并都会产生一个新的合并记录;gitmerge的话只有解决冲突的时候才会产生一个新的合并记录。###gitreset和gitrevert的区别*gitrevert回退会产生一个新的commit,是向前的操作*gitreset回退不会产生一个新的commit,是向后的操作###gitreset撤销操作以下都为`commit`了的情况,下面对`--mixed`、`--hard`、`--soft`*gitreset--softHead~1:撤销到上个分支,撤销到commit之前,add之后,保留代码*gitreset--mixedHead~1:撤销到上个分支,撤销到add之前,保留代码*gitreset--hardHead~1:撤销到上个分支,不保留代码>可以看到从上往下回复程度是在加强的。###gitcherry-pick使用场景:在一个分支中拉取另外一个分支`某一个commit`或`一段区间的commit````bashgitcherry-pick<commitid>gitcherry-pick371c2…971209//(2,5]gitcherry-pick371c2^…971209//[2,5]```###gitlog美化git日志```bashgitconfig--globalalias.lg"log--color--graph--pretty=format:\'%Cred%h%Creset-%C(yellow)%d%Creset%s%Cgreen(%cr)%C(boldblue)<%an>%Creset\'--abbrev-commit"```查看文件修改内容```jsgitlg-p```###对线上代码(master分支)进行修复1.在`master`分支上使用`gitreset--hardxxxxxx`;2.使用`gitcheckout-b`创建`fix/xxx`分支,在该分支上进行bug修复;3.回到`master`分支,可以使用`gitreflog`查看之前reset过来的分支节点,再执行`gitreset--hardxxxxxx`回到那个节点。4.在master的最新节点上使用`gitmerge--no-fffix/xxx`###github使用技巧选择一句话,按r对该话进行引用回复。###关于pullrequest如果是比较复杂的Feature可以在开发过程提pr(标为WIP),这样子可以提早的指出问题代码。当有人提了`pr`,需要观察pr的代码是否存在问题。比如使用如下命令:```bashgitremoteaddlanyincaogit@github.com:snakeUni/snake-design.git```###gitrefloggitreflog可以查看所有分支的所有操作记录###一个痛点输入`gitbranch`分支情况如下:![](http://with.muyunyun.cn/c5586a56a252a983713f306ea2902255.jpg)输入`gitbranch--merged`后查看已合并的分支![](http://with.muyunyun.cn/38861f42cde27e6d1ae0ecc73a7f2357.jpg)如何一键快速删除这些已合并的分支并删除远端的分支呢参考此脚本,后续跟进。###操作tag添加tag:```bashgittagv0.1//本地推标签gitpushorginv0.1//远端推标签```删除tag:```bashgittag-dv0.1//删除本地标签gitpushorigin:refs/tags/v0.1//删除远端标签```###git项目大小写git默认初始化的项目是不区分文件名大小写的,可以执行下这行命令```jsgitconfigcore.ignorecasefalse```###查看两个分支的差异```jsgitdiffxxxxxx>my.patch```###误提交敏感信息到github怎么办thefirststep:```bashgitfilter-branch--force--index-filter\\"gitrm--cached--ignore-unmatchyarn.lock"\\--prune-empty--tag-name-filtercat----all```thesecondstep:```bashgitpushorigin--force--all```*[removing-sensitive-data-from-a-repository](https://help.github.com/en/github/authenticating-to-github/removing-sensitive-data-from-a-repository)askforContact[GitHubSupport](https://support.github.com/contact)or[GitHubPremiumSupport](https://premium.githubsupport.com/),askingthemtoremovecachedviewsandreferencestothesensitivedatainpullrequestsonGitHub.###cleanupgitcommit使用交互式rebase则有更多的功能，可以细致的操作每一条commit，这样我们就能合并，修改commit```gitrebase-i[start-commit][end-commit]#(start-commit,end-commit]前开后闭区间，默认end-commit为当前HEAD```forexample```gitrebase-iHEAD~4``````1pick05a703dfix:左右按键遇见label标签、加粗文字,光标位置与预期不符2sa716c1dfix:修复P0报错34#Rebased974fa9..a716c1dontod974fa9(2command(s))5#6#Commands:7#p,pick=usecommit8#r,reword=usecommit,buteditthecommitmessage9#e,edit=usecommit,butstopforamending10#s,squash=usecommit,butmeldintopreviouscommit11#f,fixup=like"squash",butdiscardthiscommit\'slogmessage12#x,exec=runcommand(therestoftheline)usingshell13#d,drop=removecommit14#15#Theselinescanbere-ordered;theyareexecutedfromtoptobottom.16#17#IfyouremovealinehereTHATCOMMITWILLBELOST.18#19#However,ifyouremoveeverything,therebasewillbeaborted.20#21#Notethatemptycommitsarecommentedout```删除不想保留的commit。###Howdoyoumakechangesonaspecificcommit```bash1.gitrebase-i<EarlierCommit>2.editthecommitinfoyouwantchangefrom`pick`to`edit`3.gitcommit--amend--author="MuYunyun<328375795@qq.com>"4.gitrebase--continue```###SettingyourGitusername*foreveryrepository```$gitconfig--globaluser.name"MonaLisa"$gitconfig--globaluser.name```*forasinglerepository```$gitconfiguser.name"MuYunyun"$gitconfiguser.name$gitconfiguser.email"328375795@qq.com"$gitconfiguser.email```###Howtochecktheconflictoftwobranch,butnotneedtomergethem?[Howtochecktheconflictoftwobranch,butnotneedtomergethem?](https://stackoverflow.com/questions/10879331/how-to-check-the-conflict-of-two-branch-but-not-need-to-merge-them)gitdocument:>--ff>Donotgenerateamergecommitifthemergeresolvedasafast-forward,onlyupdatethebranchpointer.Thisisthedefaultbehavior.>-no-ff>Generateamergecommitevenifthemergeresolvedasafast-forward.>--commit>Performthemergeandcommittheresult.Thisoptioncanbeusedtooverride--no-commit.>--no-commit>With--no-commitperformthemergebutpretendthemergefailedanddonotautocommit,togivetheuserachancetoinspectandfurthertweakthemergeresultbeforecommitting.'},{name:"host_modify.md",path:"/BasicSkill/Shorcuts/host_modify.md",type:"file",mdconf:{abbrlink:"gzbn6qx6"},birthtime:"2021-12-08",mtime:"2021-12-08",size:176,extension:".md",relative:"/BasicSkill/Shorcuts/host_modify.md",isEmpty:!1,content:"\x3c!--abbrlink:gzbn6qx6--\x3e###修改host文件```sudovi/etc/hosts```>github访问慢一般可以修改该目录。[方法](https://zhuanlan.zhihu.com/p/94521827)"},{name:"iTerm2.md",path:"/BasicSkill/Shorcuts/iTerm2.md",type:"file",mdconf:{abbrlink:"iw386qpg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:159,extension:".md",relative:"/BasicSkill/Shorcuts/iTerm2.md",isEmpty:!1,content:"\x3c!--abbrlink:iw386qpg--\x3e###iTerm2快捷键```ctrl+a:到行首ctrl+e:到行尾ctrl+u:删除当前行ctrl+w:删除光标当前单词```"},{name:"vscode.md",path:"/BasicSkill/Shorcuts/vscode.md",type:"file",mdconf:{abbrlink:"ues1uzcj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:999,extension:".md",relative:"/BasicSkill/Shorcuts/vscode.md",isEmpty:!1,content:"\x3c!--abbrlink:ues1uzcj--\x3e###vscode快捷键*全局替换:Command+Shift+H*当前页面全局替换:Command+option+F*格式化:shift+option+F*实时预览md文件:command+shift+V*格式化表格:alt+shift+F*向下复制当前行:shift+alt+↓###左侧栏*command+shift+E打开资源*command+shift+F打开搜索*ctrl+shift+G打开git*command+shift+D打开调试*command+shift+X打开扩展*command+shift+r打开bookmarks*command+shift+0:toggleactivitybar:[setting](https://stackoverflow.com/questions/30878856/is-there-a-shortcut-to-hide-the-side-bar-in-visual-studio-code)###推荐字体*[vscode](https://github.com/sdras/night-owl-vscode-theme)###插件开发*本地开发调试*打包：`vscepackage`*扩展视图命令下拉菜单中使用`InstallfromVSIX`命令安装###其它filestoexclude:用多个,作为分隔符隔开,每个,间可以用正则。"},{name:"图床迁移.md",path:"/BasicSkill/Shorcuts/图床迁移.md",type:"file",mdconf:{abbrlink:"pm57mnq3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:583,extension:".md",relative:"/BasicSkill/Shorcuts/图床迁移.md",isEmpty:!1,content:"\x3c!--abbrlink:pm57mnq3--\x3e###使用qshell转移bucket文件到另一bucket```1.下载qshell2.解压,将qshell-darwin-x64放到/usr/local/bin或~/bin下3.更名qshell-darwin-x64为qshell4.添加账号:qshellaccountaksk5.导出Abucket文件信息:qshelllistbucketAA.list.txt6.格式化文件信息:awk'{print$1}'A.list.txt>list.txt7.转移到Bbucket:qshellbatchcopyABlist.txt```>[相关文章](https://github.com/FaiChou/faichou.github.io/blob/master/_posts/2018-10-09-%E4%B8%83%E7%89%9B%E5%85%8D%E8%B4%B9%E4%B9%8B%E5%9D%91.md)"},{name:"易读错音的程序词汇.md",path:"/BasicSkill/Shorcuts/易读错音的程序词汇.md",type:"file",mdconf:{abbrlink:"oh2njhvb"},birthtime:"2021-12-08",mtime:"2021-12-08",size:115,extension:".md",relative:"/BasicSkill/Shorcuts/易读错音的程序词汇.md",isEmpty:!1,content:"\x3c!--abbrlink:oh2njhvb--\x3e###易读错音的前端英文词汇*cache:[美:kæʃ]*babel:[美:'beibəl]"}],type:"directory",size:9617},{name:"animation",path:"/BasicSkill/animation",children:[{name:"lottie",path:"/BasicSkill/animation/lottie",children:[{name:"lottie.md",path:"/BasicSkill/animation/lottie/lottie.md",type:"file",mdconf:{abbrlink:"hieljug1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5509,extension:".md",relative:"/BasicSkill/animation/lottie/lottie.md",isEmpty:!1,content:"\x3c!--abbrlink:hieljug1--\x3e###Lottie*针对营销动画场景,业界用的较多的是使用Lottie来开发。*优点*AE香*还原度高*缺点*不支持动态数据*沟通、适配成本*低端机性能问题*官方文档匮乏*使用css来完成营销动效的效果(比如光影、滤镜效果)不会很好。*支付宝营销动效方案:*在线制作->发布优化->播放JSON*类lottie方案,提供网页ae,https://render.alipay.com/p/s/mars-editor/,转化为WebGl*[网易云音乐年度报告从设计到代码](https://zhuanlan.zhihu.com/p/57576659)。###场景*直播:手势拜年特效*素材属性编辑*内容平台操作###实时动画*还原度*还原曲线描点等数据*不同平台的渲染差异*性能*MarsPlayer:https://render.alipay.com/p/s/mars-editor/*图层、粒子、拖尾、模型、交互*WebGl*Oasis3d(蚂蚁):https://oasis-engine.github.io/动画引擎、Hilo3d(淘宝开源)*小程序、H5、Web3D游戏*稳定性###Lottie库使用lottie-webgzip压缩后大小有40kb的大小。如果使用npm包的形式进行加载,那么vendor.js会增加40kb的大小,这样会使页面性能下降。*方案一:采用script标签的形式来加载lottie文件,并且使用defer或async属性来进行异步加载。一般情况下,我们只需要svg格式的动画,所以可以使用lottie_light版本（仅支持svg渲染）。*方案二:因为lottie目前只在商家年度之夜中使用,因此在特定路由中进行按需引入加载。####JSON文件通过bodymovin插件导出的动画JSON文件大小也可能比较大(复杂的动画达到上百kb),所以不建议将JSON数据内联到页面中,而最好是当做一个JSON文件来进行下载。####lottie-web的基本用法```jsconstanimation=bodymovin.loadAnimation({container:element,//要包含该动画的dom元素renderer:'svg',//渲染方式,svg、canvas、html（轻量版仅svg渲染）loop:true,//是否循环播放autoplay:true,//是否自动播放animationData,//动画JSON文件(优先级比path高)path:animateJsonPath,//动画JSON文件路径});```####lottie-web常用方法lottie-web提供了很多的控制动画播放的方法,下面是一些常用的方法。animation等于上面代码中的animation。```jsanimation.play();//播放该动画,从目前停止的帧开始播放animation.stop();//停止播放该动画,回到第0帧animation.pause();//暂停该动画,在当前帧停止并保持animation.goToAndStop(value,isFrame);//跳到某个时刻/帧并停止。isFrame(默认false)指示value表示帧还是时间(毫秒)animation.goToAndPlay(value,isFrame);//跳到某个时刻/帧并进行播放animation.goToAndStop(30,true);//跳转到第30帧并停止animation.goToAndPlay(300);//跳转到第300毫秒并播放animation.playSegments(arr,forceFlag);//arr可以包含两个数字或者两个数字组成的数组,forceFlag表示是否立即强制播放该片段animation.playSegments([10,20],false);//播放完之前的片段,播放10-20帧animation.playSegments([[0,5],[10,18]],true);//直接播放0-5帧和10-18帧animation.setSpeed(speed);//设置播放速度,speed为1表示正常速度animation.setDirection(direction);//设置播放方向,1表示正向播放,-1表示反向播放animation.destroy();//删除该动画,移除相应的元素标签等。在unmount的时候,需要调用该方法```####lottie-web常用的事件lottie-web中可能也需要监听一些事件,比如加载完动画JSON文件时的data_ready事件。监听方法如下:```jsanimation.addEventListener('data_ready',()=>{console.log('animationdatahasloaded');});```除了`data_ready`事件,下面还有一些其他常用的事件可以监听:*complete:播放完成（循环播放下不会触发）*loopComplete:当前循环下播放（循环播放/非循环播放）结束时触发*enterFrame:每进入一帧就会触发,播放时每一帧都会触发一次,stop方法也会触发*segmentStart:播放指定片段时触发*playSegments、resetSegments等方法刚开始播放指定片段时会发出,如果playSegments播放多个片段,多个片段最开始都会触发。*data_ready:动画JSON文件加载完毕触发*DOMLoaded:动画相关的dom已经被添加到html后触发*destroy:将在动画删除时触发####lottie-web部分高阶用法1.在制作AE动画时,将图层命名为#svgId格式,前端加载该动画后,相应的图层的id会被设置为svgId,可以通过dom方法获取该元素并做相应的操作;2.在制作AE动画时,将图层命名为.svgClass格式,前端加载该动画后,相应的图层的class会被设置为svgClass,可以通过dom方法获取这些元素并做相应的操作;###相关链接*[lottie动效社区资源](https://lottiefiles.com/featured)*[现在你可以把Lottie动画导回AE了](https://zhuanlan.zhihu.com/p/104751997)*经验证,简单的动效可以,复杂的不行。-[][剖析lottie-web动画实现原理](https://juejin.cn/post/6914835547588395022)-[][使用Lottie快速开发动画](https://jelly.jd.com/article/5fcf44b5a1c4e30142d0a472)"},{name:"practice",path:"/BasicSkill/animation/lottie/practice",children:[{name:"makeLottie.md",path:"/BasicSkill/animation/lottie/practice/makeLottie.md",type:"file",mdconf:{abbrlink:"v6ny9zc6"},birthtime:"2021-12-08",mtime:"2021-12-08",size:916,extension:".md",relative:"/BasicSkill/animation/lottie/practice/makeLottie.md",isEmpty:!1,content:"\x3c!--abbrlink:v6ny9zc6--\x3e###安装的坑*在macOSBigSur中需要使用2020版本。*安装bodyMovin###MakeALottie*打开AE,新建composition*![](http://with.muyunyun.cn/45a2f4f3dcfec5830d0aaab22e936f38.jpg-400)*![](http://with.muyunyun.cn/5fc938f542b38c956bea71f12cb9cb3a.jpg-400)*每个区域的作用分别是:*Project:管理当前项目以及一些项目参数的预览*Resource:导入到AE中的所有外部资源如图像等在这里进行统一管理*Layer:在这里为每一个图层添加/编辑关键帧和属性*Timeline:在这里可以编辑动画的关键帧和曲线*Preview:动画和编辑实时预览/编辑窗口*Toolbar:各种工具的集合,如文字工具、图形工具等*Props:在这里编辑元素的属性>小作业:[面向前端的LottieAE动画手把手入门教学](https://zhuanlan.zhihu.com/p/35540035)"}],type:"directory",size:916}],type:"directory",size:6425}],type:"directory",size:6425},{name:"basis",path:"/BasicSkill/basis",children:[{name:"DOM.md",path:"/BasicSkill/basis/DOM.md",type:"file",mdconf:{abbrlink:"nw16jj7h"},birthtime:"2021-12-08",mtime:"2021-12-08",size:993,extension:".md",relative:"/BasicSkill/basis/DOM.md",isEmpty:!1,content:'\x3c!--abbrlink:nw16jj7h--\x3e###样式相关1.elt.style*优点:能使用api或者直接改写style内的样式*缺点:只能针对内嵌样式2.window.getComputedStyle(elt[,pseudoElt])*优点:支持内联样式\\外联样式*缺点:只能进行只读操作,不支持IE3.elt.getBoundingClientRect()>在设置了width的前提下,在标准盒模型下(box-sizing:content-box)margin不算入其中,padding算入其中;*能获得位置相关信息###操作已存在的dom元素这个点藏得比较深,如果`appendChild/insertBefore`操作已经存在的dom,则原来的dom会移除。(只有一份实例)。```html<form><selectid="select1"><option>1</option></select><selectid="select2"><option>2</option></select></form><script>varselect2=document.getElementById(\'select2\')select2.appendChild(select1.options[0])<\/script>```如上demo中,`select1`的option就会被转移到`select2`下'},{name:"HTML5.md",path:"/BasicSkill/basis/HTML5.md",type:"file",mdconf:{abbrlink:"oizmpcx4"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5676,extension:".md",relative:"/BasicSkill/basis/HTML5.md",isEmpty:!1,content:"\x3c!--abbrlink:oizmpcx4--\x3e###HTML5DOM1.getElementsByClassName2.遍历相关,如下左侧属性>只涉及元素节点的操作(不涉及其它节点),建议使用左侧的属性替代右侧的属性:|属性名|被替代的属性||:-:|:-:||children|childNodes||childElementCount|childNodes.length||previousElementSibling|previousSibling||nextElementSibling|nextSibling||firstElementChild|firstChild||lastElementChild|lastChild|3.ele.scrollIntoView()调用ele.scrollIntoView(),ele元素顶端会移动到可视区域的顶端;若传入参数alignToTop:false,则ele移到屏幕底部;###HTML5事件1.contextmenu<details><summary>contextmenu使用demo</summary>```html<ulid=\"myMenu\"style=\"position:absolute;visibility:hidden;background-color:silver\"><li>111</li><li>222</li><li>333</li></ul><script>varmenu=document.getElementById('myMenu')document.addEventListener('contextmenu',(event)=>{event.preventDefault()menu.style.left=event.clientX+'px'menu.style.top=event.clientY+'px'menu.style.visibility='visible'},false)document.addEventListener('click',(event)=>{menu.style.visibility='hidden'},false)<\/script>```</details>2.DOMContentLoaded优于window.onload执行3.readystatechange可用来判断动态载入的script、link标签是否加载完成。demo如下:```jsconstscript=document.createElement('script')script.addEventListener('readystatechange',functioneventListener(event){if(event.readyState==='loaded'||event.readyState==='complete'){//hack的手段,浏览器自身的问题script.removeEventListener('readystatechange',eventListener)}})script.src='example.js'document.body.appendChild(script)```4.hashchange###HTML5表单*input/textarea里新增`autoFocus()`字段*表单校验api使用`checkValidate()`校验`required`、`pattern=\"\\d+\"`属性###HTML5脚本*跨文档消息传输(XDM),核心是`postMessage`*拖放api<details><summary>拖放api使用示例</summary>```html<head><style>#draggable{width:200px;height:20px;text-align:center;background:white;}.dropzone{width:200px;height:20px;background:blueviolet;margin-bottom:10px;padding:10px;}</style></head><body><divclass=\"dropzone\"><divid=\"draggable\"draggable=\"true\"ondragstart=\"event.dataTransfer.setData('text/plain',null)\">Thisdivisdraggable</div></div><divclass=\"dropzone\"></div><divclass=\"dropzone\"></div><divclass=\"dropzone\"></div><script>window.onload=function(){vardraggeddocument.addEventListener(\"dragstart\",function(event){dragged=event.target},false)document.addEventListener(\"dragover\",function(event){//preventdefaulttoallowdropevent.preventDefault()},false)document.addEventListener(\"drop\",function(event){//preventdefaultaction(openaslinkforsomeelements)event.preventDefault()if(event.target.className==\"dropzone\"){dragged.parentNode.removeChild(dragged)event.target.appendChild(dragged)}},false)}<\/script></body>```</details>*媒体元素`<video>`、`<audio>`*浏览器状态管理(history)###HTML5存储*`sessionStorage`:大小上限为2.5Mb(不同浏览器会有差异),页面关闭时便清空;*`localStorage`:大小上限为2.5Mb(不同浏览器会有差异),页面关闭时不会清空;它们的api也是一致的,有如下几个:*setItem(key,value)*getItem(key)*removeItem(key)*clear()>在HTML5范围之外与存储相关的技术还有cookie(存放在客户端,可以由客户端也可以由服务端生成,大小上限为4kb)、IndexedDB(大小上限为5Mb)、cacheStorage(ServiceWorker)。###HTML5JavaScriptApi*`requestAnimationFrame(callback)`:表示在下次重绘前执行指定的回调函数，下面通过一个简单的demo来认识它。```jsletframeletn=5functioncallback(timeStamp){console.log(timeStamp)//开始执行回调的时间戳//如果想要产生循环动画的效果,需在回调函数中再次调用requestAnimationFrame()while(n>0){requestAnimationFrame(callback)console.log('测试执行顺序')n--}}frame=requestAnimationFrame(callback)//在下次重绘之前调用回调//如果想要销毁该回调,可以执行cancelAnimationFrame(frame)```执行上述代码,控制台(chrome)打印如下数据:```先输出5次'测试执行顺序'1795953.6491795970.3181795986.9871796003.6561796020.325...```可以看到在浏览器上一帧的时间大致为`16ms`。同时可以看到`requestAnimation(callback)`中的callback也是异步的(只不过它是基于帧与帧间的异步),所以上述打印结果是先打印出5次'测试执行顺序'后再依次打印出5个时间戳。requestAnimation不仅可以用在动画上,更是被React团队用来hackrequestIdleCallback的实现。可以阅读[你不知道的requestIdleCallback](https://github.com/MuYunyun/blog/blob/master/React/requestIdleCallback.md)*`WebWorker`JavaScript是一门单线程的语言,借助WebWorker能在浏览器上模拟线程的概念。*`ServiceWorker`:基于WebWorker的api来处理网络请求以及缓存,可以将其理解为是`WebWorker+cachestorage`的组合。同时其也是PWA依赖的最为重要的技术。###浏览器支持HTML5情况可以在html5test.com查询浏览器支持HTML5情况。"},{name:"JavaScript在引擎方面的执行过程.md",path:"/BasicSkill/basis/JavaScript在引擎方面的执行过程.md",type:"file",mdconf:{abbrlink:"l1m72o6p"},birthtime:"2021-12-08",mtime:"2021-12-08",size:681,extension:".md",relative:"/BasicSkill/basis/JavaScript在引擎方面的执行过程.md",isEmpty:!1,content:"\x3c!--abbrlink:l1m72o6p--\x3e###引子```js(0,function(arg){...})(this)```>[commaoperator](Thecommaoperatorevaluateseachofitsoperands(fromlefttoright)andreturnsthevalueofthelastoperand.)```js(0,fn)()===fn()``````jsvarglobal='outer';(()=>{varglobal='inner';eval('console.log(\"calldirectly:\"+global)');(0,eval)('console.log(\"calldirectly:\"+global)');})()//calldirectly:inner//calldirectly:outer```###link*[1](https://stackoverflow.com/questions/40967162/what-is-the-meaning-of-this-code-0-function-in-javascript)*[2](https://stackoverflow.com/questions/9107240/1-evalthis-vs-evalthis-in-javascript)"},{name:"askself",path:"/BasicSkill/basis/askself",children:[{name:"answer.md",path:"/BasicSkill/basis/askself/answer.md",type:"file",mdconf:{abbrlink:"cbynd661"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4798,extension:".md",relative:"/BasicSkill/basis/askself/answer.md",isEmpty:!1,content:"\x3c!--abbrlink:cbynd661--\x3e这是一套基本的由浅入深考察前端知识体系的清单,自测用:###CSS*什么是CSS盒模型```包含content,margin,border,padding```*标准模型和IE模型有什么不同```是否将padding和border算进content的width中,即在IE模型下,padding和border会挤压content的空间```*CSS如何设置这两种模型```cssbox-sizing:content-box;//标准模型(默认)box-sizing:border-box;//IE模型```*JS如何设置获取盒模型对应的宽和高```jsdom.style.width//只支持内联样式dom.currentStyle.width//只有IE支持window.getComputedStyledom.getBoundingClientRect```*如何实现垂直居中见[垂直居中](https://github.com/MuYunyun/blog/blob/master/BasicSkill/css/%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD.html)*Flex布局居中```cssjustify-content:center；//水平居中align-item:center;//垂直居中```*BFC的基本概念*BFC的原理*如何创建BFC前三个问题的解答看:[聊聊BFC](https://github.com/MuYunyun/blog/blob/master/BasicSkill/css/聊聊BFC.md),对如何创建BFC这个问题答主水平有限,只实验了overflow:hidden这个属性,个人建议回答好BFC原理即可。###DOM事件类*DOM事件的级别了解吗```DOM0:dom.onClickDOM2:dom.addEventListener('click',()=>{},false)DOM3:在1的基础上加了鼠标键盘事件```>dom.addEventListener()的第二个参数能跟`{handleEvent:()=>{}}`*DOM事件模型了解吗```存在冒泡阶段和捕获阶段```*DOM事件流了解吗```事件通过捕获到目标阶段,目标阶段再进行冒泡```*描述DOM事件捕获的具体流程```事件捕获=>window=>document=>html=>body=>目标元素```*讲一下事件委托(事件代理)```将绑定在子元素的事件绑定到父元素上,然后可以通过e.target取到目标节点```*自定义事件了解吗```jsvarevent=newEvent('custom')dom.addEventListener('custom',()=>{})dom.dispatchEvent(event)```###类型转换*了解显式转换、隐式转换吗？```显示转换:隐式转换:四则运算、if语句、native调用(console.log())```*了解显式转换的过程吗###HTTP相关>见https://github.com/MuYunyun/blog/blob/master/BasicSkill/http/http.md###原型链类*创建对象有几种方法*聊聊原型、构造函数、实例、原型链*instanceof的原理了解吗*new运算符的原理了解吗```jsconstnew2=function(func){consto=Object.create(func.prototype)constresult=func.call(o)if(typeof(result)==='object'){returnresult}else{returno}}```###面向对象类*如何进行类的声明*如何生成实例*如何实现继承*各继承方式的优缺点###通信类*什么是同源策略及限制*如何创建Ajax```jsconstxhr=newHttpRequest()xhr.open('Get','/abc',false)xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200||xhr.status===304){console.log(xhr.responseText)}}}xhr.send(null)```甚至可以结合Promise与HttpRequest来封装fetch。```jsfunctionfetch(url){returnnewPromise((resolve,reject)=>{varxhr=newXMLHttpRequest()xhr.open('GET',url,true)xhr.onreadystatechange=function(){if(this.readyState===4&&this.status===200){resolve(this.responseText)}else{reject(newError(this.status))}}xhr.send(null)})}fetch('/post.json').then((fulfilled)=>{console.log(fulfilled)}).catch((rejected)=>{console.log(rejected)})```*跨域通信的几种方式###安全类*了解CSRF吗？如何防止CSRF*了解XSS吗？如何防止XSS*session与token有什么区别*session(会话)存放在服务端,每次打开网站就产生一个session,注销网站,session就会销毁*token(令牌)通常是由`密码`、`时间戳`混合盐算法一起生成>既然聊到了cookie的大小,另外两个相关的###渲染机制类*什么是DOCTYPE及作用*浏览器解析和渲染过程*重排Reflow```1.增减dom元素2.元素的位置发生移动3.元素尺寸(外间距、内间距、长宽)发生改变4.浏览器的窗口大小改变```*重绘Repaint```1.重排必然会导致重绘2.重绘不一定重排,比如元素的颜色发生变化,只会发生重绘```###运行机制类*如何理解JS的单线程没办法同时做两件事情*什么是EventLoop###页面性能类*提升页面性能的方法有哪些"},{name:"menuknowledge.md",path:"/BasicSkill/basis/askself/menuknowledge.md",type:"file",mdconf:{abbrlink:"290a4219"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2328,extension:".md",relative:"/BasicSkill/basis/askself/menuknowledge.md",isEmpty:!1,content:"\x3c!--abbrlink:290a4219--\x3e这是一套基本的由浅入深考察前端知识体系的清单,自测用:###CSS*什么是CSS盒模型*标准模型和IE模型有什么不同*CSS如何设置这两种模型*JS如何设置获取盒模型对应的宽和高*如何实现垂直居中*Flex布局居中*BFC的基本概念*BFC的原理*如何触发(消除)BFC###DOM事件类*DOM事件的级别了解吗*DOM事件模型了解吗*DOM事件流了解吗*描述DOM事件捕获的具体流程*讲一下事件委托(事件袋里)*自定义事件了解吗###类型转换*了解显式转换、隐式转换吗？*了解显式转换的过程吗###HTTP相关*HTTP协议主要特点*HTTP报文组成部分```请求报文:请求行请求头空行请求体响应报文:响应行响应头空行响应体```*HTTP协议类:POST和GET的区别*HTTP状态码*强缓存和协商缓存[资料](https://www.cnblogs.com/lyzg/p/5125934.html)*持久连接*管线化###原型链类*创建对象有几种方法*聊聊原型、构造函数、实例、原型链*instanceof的原理了解吗*new运算符的原理了解吗```jsconstnew2=function(func){consto=Object.create(func.prototype)constresult=func.call(o)if(typeof(result)==='object'){returnresult}else{returno}}```###面向对象类*如何进行类的声明*如何生成实例*如何实现继承*各继承方式的优缺点###通信类*什么是同源策略及限制*如何创建Ajax```jsconstxhr=newXMLHttpRequest()xhr.open('GET','/api',false)xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200||xhr.status===304){console.log(xhr.responseText)}}}xhr.send(null)```*跨域通信的几种方式###安全类*了解CSRF吗？如何防止CSRF*了解XSS吗？如何防止XSS*cookie与token有什么区别###渲染机制类*什么是DOCTYPE及作用*浏览器解析和渲染过程*重排Reflow*重绘Repaint###运行机制类*如何理解JS的单线程没办法同时做两件事情*什么是EventLoop###页面性能类*提升页面性能的方法有哪些"}],type:"directory",size:7776},{name:"bind函数实现.md",path:"/BasicSkill/basis/bind函数实现.md",type:"file",mdconf:{abbrlink:"9mpxxj5w"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1747,extension:".md",relative:"/BasicSkill/basis/bind函数实现.md",isEmpty:!1,content:"\x3c!--abbrlink:9mpxxj5w--\x3e##bind函数实现###第一版:借助call/apply```jsFunction.prototype.bind1=function(context){constself=thisreturnfunction(){returnself.call(context)}}//测试:constobj={value:'muyy',}functiontestBind(){console.log(this.value)}constresultBind=testBind.bind1(obj)resultBind()//muyy```###第二版:借助arguments```jsFunction.prototype.bind2=function(context){constarr=Array.prototype.slice.call(arguments,1)constself=thisreturnfunction(){constrestArr=Array.prototype.slice.call(arguments)returnself.apply(context,arr.concat(restArr))}}```>这种方式的实现其实是函数柯里化的变版比如在监听事件时可以这样子用:```jsdom.addEventListener('click',fn.bind(this))```进行如下测试:```jsconstobj2={value:'muyy',}functiontestBind2(age,gender){console.log(this.value)//muyyconsole.log(age)//23console.log(gender)//male}constresultBind2=testBind2.bind2(obj2,23)resultBind2('male')```###第三版:区分环境,是普通调用还是new调用```jsFunction.prototype.bind3=function(context){constarr=Array.prototype.slice.call(arguments,1)constself=thisreturnfunction(){constrestArr=Array.prototype.slice.call(arguments)returnself.apply(this!==windows?this:context,arr.concat(restArr))}}//测试:使用new以后this会指向newObjconstobj3={value:'muyy',}functiontestBind3(age,gender){console.log(this.value)console.log(age)console.log(gender)}constresultBind3=testBind3.bind3(obj3,23,'male')constnewObj=newresultBind3()```"},{name:"call函数实现.md",path:"/BasicSkill/basis/call函数实现.md",type:"file",mdconf:{abbrlink:"q1q3ra8u"},birthtime:"2021-12-08",mtime:"2021-12-08",size:795,extension:".md",relative:"/BasicSkill/basis/call函数实现.md",isEmpty:!1,content:"\x3c!--abbrlink:q1q3ra8u--\x3e###call函数实现*将函数引用到对象里*调用函数*删除对象里的函数```jsFunction.prototype.call1=function(context){context.fn=this//this指向实例context.fn()deletecontext.fn}//测试:constobj={value:'muyy',}functiontestCall(){console.log(this.value)}constresultCall=testCall.call1(obj)//muyy```###传入参数的实现```jsFunction.prototype.call2=function(context){constarr=Array.prototype.slice.call(arguments,1)context.fn=this//this指向实例context.fn(...arr)deletecontext.fn}//测试:constobj2={value:'muyy',}functiontestCall2(age){console.log(this.value,age)//muyy23}constresultCall=testCall2.call2(obj2,23)```"},{name:"error_handle.md",path:"/BasicSkill/basis/error_handle.md",type:"file",mdconf:{abbrlink:"4te5mocr"},birthtime:"2021-12-08",mtime:"2021-12-08",size:867,extension:".md",relative:"/BasicSkill/basis/error_handle.md",isEmpty:!1,content:"\x3c!--abbrlink:4te5mocr--\x3e##错误处理###捕获和抛出异常的时机*使用第三方库通常需要进行捕获;*写给他人使用的第三方库则通常需要抛出相应异常;###自定义错误类型下面提供`ES5`和`ES6`两种自定义错误类型的写法```js//ES6classCustomErrorextendsError{constructor(message){super(message)this.name='CustomError'}}//ES5functionCustomError(message){this.name='CustomError'this.message=messageError.captureStackTrace(this,CustomError)}CustomError.prototype=newError()CustomError.prototype.constructor=CustomError```###记录错误日志记录错误日志通常使用`<img>`标签,其可以避免跨域,用法如下:```jsfunctionlogError(msg){constimg=newImage()img.src=`/log?${encodeURIComponent(msg)}`}```"},{name:"event.md",path:"/BasicSkill/basis/event.md",type:"file",mdconf:{abbrlink:"8lf1n2j9"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1918,extension:".md",relative:"/BasicSkill/basis/event.md",isEmpty:!1,content:"\x3c!--abbrlink:8lf1n2j9--\x3e###事件类型*load:window/img/script>img标签上设置src属性,就开始请求资源;script设置完src要加载到dom上才开始请求资源。###事件委托在`document`上使用事件委托,好处如下:*添加时机不受限(在dom任何生命周期的里都可添加)*添加事件更快*内存消耗也更小*减少事件的垃圾回收(如果绑定在低层级的标签上,标签内容消失时,还需要手动执行清空事件内存)>[事件机制优化](https://github.com/MuYunyun/cpreact/issues/13)####区分target和currentTarget*`currentTarget`可以用于确定是`具体元素`上触发的事件;*`target`用于事件委托;具体差异可以看以下`demo`,当点击`你好`时,控制台输出两个`true`;当点击`muyunyun`时,控制台输出一个`true`和一个`false`。```html<body><pid=\"test\">你好,<span>muyunyun</span></p><script>constcontent=document.getElementById('test')content.addEventListener('click',function(e){console.log('currentTarget',e.currentTarget,'target',e.target)console.log(this===e.currentTarget)//trueconsole.log(this===e.target)//false})<\/script></body>```###自定义事件(笔者认为)自定义事件可以归类到发布订阅模式下。```html<inputid=\"sec\"/><script>//订阅document.getElementById('sec').addEventListener('custom',function(obj){console.log(obj.detail)//{demo:thisiaademo}})//发布varev=newCustomEvent('custom',{detail:{demo:'thisisademo'}})document.getElementById('sec').dispatchEvent(ev)<\/script>```###stopPropagationvsstopImmediatePropagation*stopPropagation:stoppropagation`fromchildelementtoparentelement`;*stopImmediatePropagation:stoppropagation`theremainingsameeventtypeinoneelement`;"},{name:"script标签.md",path:"/BasicSkill/basis/script标签.md",type:"file",mdconf:{abbrlink:"b5b2aidi"},birthtime:"2021-12-08",mtime:"2021-12-08",size:905,extension:".md",relative:"/BasicSkill/basis/script标签.md",isEmpty:!1,content:"\x3c!--abbrlink:b5b2aidi--\x3e###script```js<html><body>...<scriptsrc='a.js'><\/script><scriptsrc='b.js'><\/script></body></html>```这段代码的含义是:在文档资源执行完毕后,然后`a.js`、`b.js`并发下载(浏览器机制),顺序执行。下面这种写法与上面这种写法效果相同:```js<html><head><scriptsrc='a.js'defer><\/script><scriptsrc='b.js'defer><\/script></head><body>...</body></html>```注意到关键词`defer`,它的特点如下:*并发下载,`顺序执行`;*渲染完再执行;再来看如下写法:```js<html><head><scriptsrc='a.js'async><\/script><scriptsrc='b.js'async><\/script></head><body>...</body></html>```此时的关键词是`async`,它的特点如下:*并发下载,`异步执行`(谁先下载好先执行谁);*下载完就执行;"},{name:"xss_csrf.md",path:"/BasicSkill/basis/xss_csrf.md",type:"file",mdconf:{abbrlink:"fieex7n3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:298,extension:".md",relative:"/BasicSkill/basis/xss_csrf.md",isEmpty:!1,content:"\x3c!--abbrlink:fieex7n3--\x3e###xss(crosssitescript)*内容型xss:后端返回前端的模板内容里掺杂脚本*反射型xss:url里带有脚本*domxss:脚本通过domapi插入页面防止措施:正则过滤###csrf(crosssiterequestforgery)防止措施:校验token"},{name:"二刷高程.md",path:"/BasicSkill/basis/二刷高程.md",type:"file",mdconf:{abbrlink:"cudw5n7t"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6236,extension:".md",relative:"/BasicSkill/basis/二刷高程.md",isEmpty:!1,content:"\x3c!--abbrlink:cudw5n7t--\x3e###红皮书里的细节>理念:尽信书则不如无书###重载`Java/C++`中是有函数重载的(即相同函数名,但传的参数不同是当成不同函数的),而`JavaScript`没有函数重载,旧其本质是因为`JavaScrit`中函数是一个对象。函数名类似一个指针。###label语句的用法区分以下两段函数:```jsletnum=0for(leti=0;i<10;i++){for(letj=0;j<10;j++){if(i===5&&j===5){break}num++}}console.log(num)//95```使用label语句:```jsletnum=0outPoint:for(leti=0;i<10;i++){for(letj=0;j<10;j++){if(i===5&&j===5){breakoutPoint}num++}}console.log(num)//55```###函数声明和函数表达式*以`function`开头的是函数声明,不是以`function`开头的则是函数表达式*函数声明具有函数声明提升的概念(functiondeclerationhoisting)```js//函数声明functiontest(){}//函数表达式consttest=function(){}//函数表达式(function(){})()```函数声明提升```jsvara=function(){test()functiontest(){console.log('函数声明提升')}}a()```###属性类型大体针对`Object.defineProperty()`、`Object.defineProperties`这两个api来讲的。使用这两个api创建的对象里的数据类型和访问器类型默认为false(Configuble、Enummerable、Writable)以及undefined(Value、Set、Get)。>注意:在对象上直接定义的属性,Configurable、Enumerable、Writable默认为true####数据类型*Configurable:是否能delete*Enumerable*Writable*Value####访问器类型*Configurable*Enumerable*Writable*Get*Set###创建对象的方式这部分知识点和继承相通,可联系起来；####工厂模式```jsfunctioncreatePeople(name,age){constobj=newObject()obj.name=nameobj.age=agereturnobj}createPeople('Jack',10)```缺点:不知道创造的对象属于什么类####构造函数模式```jsfunctionPeople(name,age){this.name=namethis.age=agethis.sayHi=function(){console.log('hi')}}constpeople1=newPeople('Jack',10)constpeople2=newPeople('Lucy',8)people1.sayHi===people2.sayHi//false```优点:能将自定义参数传入构造函数缺点:没有解决公共方法的复用性(是缺点也是优点,后面有用到这个特性)####原型链模式```jsfunctionPeople(name,age){this.name=namethis.age=age}People.prototype.sayHi=function(){console.log('hi')}People.prototype.habbit=['reading']constpeople1=newPeople('Jack',10)constpeople2=newPeople('Lucy',8)```>原型模式实际上必须结合构造函数一起使用,但在这里为了说明原型模式的缺点,单独列了出来。```js//结果people1.sayHi===people2.sayHi//truepeople1.habbit.push('drawing')people2.habbit//['reading',drawing]```优点:解决公共方法的复用性(sayHi)；缺点:也正是复用性,所以在一个实例上修改prototype上的属性会对其它实例也产生相同影响(habbit)；####构造函数模式+原型链模式这个模式也是目前被大家最为认可的一种方式,对上述例子稍作修改:```jsfunctionPeople(name,age){this.name=namethis.age=agethis.habbit=['reading']}People.prototype.sayHi=function(){console.log('hi')}constpeople1=newPeople('Jack',10)constpeople2=newPeople('Lucy',8)//结果people1.sayHi===people2.sayHi//truepeople1.habbit.push('drawing')people2.habbit//[\"reading\"]```现在能直观地看到,people1和people2公用同一个sayHi方法,但是其它的属性name、age、habbit都是各自独立拥有的。>结论:所谓的构造函数模式+原型链模式即公有方法使用原型链模式,私有方法使用构造函数模式；从而发挥各自的优点。###继承>[继承优化](https://github.com/MuYunyun/blog/blob/master/BasicSkill/readES6/继承.md)###const/let出现的原因提到块级作用域可以联系到'const/let出现的原因'或者'var的缺点'```js//案例1vara=1varaa//1------------//案例2vara=1vara=2a//2```可以看到使用var并不会告知之前是否已经声明过该变量,案例1直接无视了后续的声明,案例2后续的声明覆盖了前面的声明,这样子使用起来便有些混乱了。这也是const/let出现的原因,const专注案例1的情形,let则专注案例2的情形。```js//案例1consta=1consta//UncaughtSyntaxError:Missinginitializerinconstdeclaration------------//案例2leta=1leta=2a//2```###块级作用域关键字:匿名函数```js(function(){//块级作用域})()```因为没有引用指向匿名函数,所以执行完就可以垃圾回收,不造成内存浪费。###作用域安全的构造函数```jsfunctionSafe(value){if(thisinstanceofSafe){this.name=value}else{returnnewSafe(value)}}```这种写法不管使用`newSafe()`还是`Safe()`能保证它们返回结果一致(作用域一致)。###防篡改对象*`Object.preventExtensions(obj)`:obj不能添加属性*`Object.seal(obj)`:obj不能添加/删除属性*`Object.freeze(obj)`:obj不能添加/删除/修改属性###防抖和节流函数最简版防抖:多次触发事件只执行一次(适用于断续的事件,比如`click`、`input`)```jsfunctiondebounce(fn,time){lettimeoutreturn()=>{if(timeout){clearTimeout(timeout)}timeout=setTimeout({fn},time)}}```>建议:面试的时候先写出如上形式,如果有时间再考虑实现带`immediate`形式的防抖函数。节流:在指定时间内多次触发事件只执行一次(适用于连续的事件,比如`scroll`)```jsfunctionthrottle(fn,time){letpreTime=0return()=>{constremainTime=time-(Date.now()-preTime)if(remainTime<=0){fn()preTime=Date.now()}}}```"},{name:"前端协议.md",path:"/BasicSkill/basis/前端协议.md",type:"file",mdconf:{abbrlink:"5ur6xjo3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:773,extension:".md",relative:"/BasicSkill/basis/前端协议.md",isEmpty:!1,content:"\x3c!--abbrlink:5ur6xjo3--\x3e###前端实时协议*`websocket`*`poll`(轮询)*`long-poll`(长轮询):场景:移动端扫pc端二维码,从而pc端完成登入`long-poll`的含义就是设定一定的超时时间进行挂起,在这个时间范围内如果收到服务端的返回信息则发给客户端响应报文,若超过这时间没有服务端的返回信息则再次发起`long-poll`###hybride的通信####在web中调用native1.`Native`先注册`Schema`协议的URL。在app的JS代码中请求该URL就能调用相应Schema中的原生方法2.`addJavaScriptInterface`:这个是针对android的,使用这个api添加的方法就能在app的JS代码里进行调用;####在native中调用JS1.`loadUrl`"},{name:"基本类型和引用类型.md",path:"/BasicSkill/basis/基本类型和引用类型.md",type:"file",mdconf:{abbrlink:"y1e31jpn"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1618,extension:".md",relative:"/BasicSkill/basis/基本类型和引用类型.md",isEmpty:!1,content:"\x3c!--abbrlink:y1e31jpn--\x3e###基本类型和引用类型|类型种类|访问类型|存储类型||:------:|:--------:|:------:||基本类型|按值访问|栈内存||引用类型|按引用访问|堆内存|####函数参数是'按值传递'的此处的按值传递和上面提到的按值访问是两个不一样的概念,此处指的是给函数传入参数后,我们操作的是`复制参数后的值`。①.当传入参数为基本类型时:```jsconstcount=0functionadd(num){num=++numreturnnum}constresult=add(count)console.log(count)//0可以看到传入参数仍然是0console.log(result)//1```当count作为参数传入函数add时,在栈内存中就会复制一份count的值,我们操作的其实是复制后的这个值。可用下图表示:![](http://with.muyunyun.cn/dae97b9a4ef1022ae56e9bf5b9c1c727.jpg-200)②.当传入参数为引用类型时:```jsconstreference={num:0}functionadd(obj){obj.num=1obj=newObject()//①此处函数参数的引用发生改变obj.num=2returnobj}constresult=add(reference)console.log(reference)//{num:1}console.log(result)//{num:2}```类似的,reference作为参数传入函数add时,栈内存中会多出一个指向堆内存的值(类似hash值)。可用下图表示:![](http://with.muyunyun.cn/b12b36ce345d26881486de403b79cbee.jpg)当执行`obj=newObject()`实际上是更改了hash2的指向(hash1的指向并没有发生变化),所以更改函数参数的引用是不会影响到原参数的。"},{name:"探寻JavaScript精度问题.md",path:"/BasicSkill/basis/探寻JavaScript精度问题.md",type:"file",mdconf:{abbrlink:"dzjdfedl"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6352,extension:".md",relative:"/BasicSkill/basis/探寻JavaScript精度问题.md",isEmpty:!1,content:"\x3c!--abbrlink:dzjdfedl--\x3e#探寻JavaScript精度问题阅读完本文可以了解到`0.1+0.2`为什么等于`0.30000000000000004`以及JavaScript中最大安全数是如何来的。###十进制小数转为二进制小数方法拿173.8125举例如何将之转化为二进制小数。①.针对整数部分173,采取`除2取余,逆序排列`;```js173/2=86...186/2=43...043/2=21...1↑21/2=10...1|逆序排列10/2=5...0|5/2=2...1|2/2=1...01/2=0...1```得整数部分的二进制为`10101101`。②.针对小数部分0.8125,采用`乘2取整,顺序排列`;```js0.8125*2=1.625|0.625*2=1.25|顺序排列0.25*2=0.5|0.5*2=1↓```得小数部分的二进制为`1101`。③.将前面两部的结果相加,结果为`10101101.1101`;###小心,二进制小数丢失了精度！根据上面的知识,将十进制小数`0.1`转为二进制:```js0.1*2=0.20.2*2=0.4//注意这里0.4*2=0.80.8*2=1.60.6*2=1.20.2*2=0.4//注意这里,循环开始0.4*2=0.80.8*2=1.60.6*2=1.2...```可以发现有限十进制小数`0.1`却转化成了无限二进制小数`0.00011001100...`,可以看到精度在转化过程中丢失了！能被转化为有限二进制小数的十进制小数的最后一位必然以5结尾(因为只有0.5*2才能变为整数)。所以十进制中一位小数`0.1~0.9`当中除了`0.5`之外的值在转化成二进制的过程中都丢失了精度。###推导0.1+0.2为何等于0.30000000000000004在JavaScript中所有数值都以IEEE-754标准的`64bit`双精度浮点数进行存储的。先来了解下IEEE-754标准下的[双精度浮点数](https://zh.wikipedia.org/wiki/%E9%9B%99%E7%B2%BE%E5%BA%A6%E6%B5%AE%E9%BB%9E%E6%95%B8)。![](http://with.muyunyun.cn/dda7d5b38676abfa13afb344f8a792ed.jpg-300)这幅图很关键,可以从图中看到IEEE-754标准下双精度浮点数由三部分组成,分别如下:*sign(符号):占1bit,0表示正,1表示负;*exponent(指数):占11bit,表示范围;*mantissa(尾数):占52bit,表示精度,多出的末尾如果是1需要进位;推荐阅读[JavaScript浮点数陷阱及解法](https://github.com/camsong/blog/issues/9),阅读完该文后可以了解到以下公式的由来。![](http://with.muyunyun.cn/5c268e4bd6e0bf2466598d9d5cb58a16.jpg-200)>精度位总共是53bit,因为用科学计数法表示,所以首位固定的1就没有占用空间。即公式中(M+1)里的1。另外公式里的1023是2^11的一半。小于1023的用来表示小数,大于1023的用来表示整数。>指数可以控制到2^1024-1,而精度最大只达到2^53-1,两者相比可以得出JavaScript实际可以精确表示的数字其实很少。`0.1`转化为二进制为`0.0001100110011...`,用科学计数法表示为`1.100110011...x2^(-4)`,根据上述公式,`S`为`0`(1bit),`E`为`-4+1023`,对应的二进制为`01111111011`(11bit),`M`为`1001100110011001100110011001100110011001100110011010`(52bit,另外注意末尾的进位),`0.1`的存储示意图如下:![](http://with.muyunyun.cn/5b7c0dcc0b1770b6eed238e288eb4c0e.jpg-300)同理,`0.2`转化为二进制为`0.001100110011...`,用科学计数法表示为`1.100110011...x2^(-3)`,根据上述公式,`E`为`-3+1023`,对应的二进制为`01111111100`,`M`为`1001100110011001100110011001100110011001100110011010`,`0.2`的存储示意图如下:![](http://with.muyunyun.cn/cb0ef89aa0ed6e8d32b90d1a29cfc9e1.jpg-300)`0.1+0.2`即2^(-4)x1.1001100110011001100110011001100110011001100110011010与2^(-3)x1.1001100110011001100110011001100110011001100110011010之和```js//计算过程0.000110011001100110011001100110011001100110011001100110100.0011001100110011001100110011001100110011001100110011010//相加得0.01001100110011001100110011001100110011001100110011001110````0.01001100110011001100110011001100110011001100110011001110`转化为十进制就是`0.30000000000000004`。验证完成!###JavaScript的最大安全数是如何来的根据双精度浮点数的构成,精度位数是`53bit`。安全数的意思是在`-2^53~2^53`内的整数(不包括边界)与唯一的双精度浮点数互相对应。举个例子比较好理解:```jsMath.pow(2,53)===Math.pow(2,53)+1//true````Math.pow(2,53)`竟然与`Math.pow(2,53)+1`相等！这是因为Math.pow(2,53)+1已经超过了尾数的精度限制(53bit),在这个例子中`Math.pow(2,53)`和`Math.pow(2,53)+1`对应了同一个双精度浮点数。所以`Math.pow(2,53)`就不是安全数了。>最大的安全数为`Math.pow(2,53)-1`,即`9007199254740991`。###业务中碰到的精度问题以及解决方案了解JavaScript精度问题对我们业务有什么帮助呢？举个业务场景:比如有个订单号后端Java同学定义的是long类型,但是当这个订单号转换成JavaScript的Number类型时候精度会丢失了,那没有以上知识铺垫那就理解不了精度为什么会丢失。解决方案大致有以下几种:1.针对大数的整数可以考虑使用BigInt类型(目前在~~stage3~~stage4阶段)；2.使用[bigNumber](https://github.com/MikeMcl/bignumber.js),它的思想是转化成string进行处理,这种方式对性能有一定影响;3.可以考虑使用[long.js](https://github.com/dcodeIO/long.js),它的思想是将长度为64位的long类型值转化成两个精度为32位的双精度类型的值。4.针对小数的话可以使用[number-precision](https://github.com/nefe/number-precision),该库将小数转为整数后再作处理;###相关链接*[代码之谜系列](http://justjavac.com/codepuzzle/2012/11/11/codepuzzle-float-who-stole-your-accuracy.html)*[JavaScript浮点数陷阱及解法](https://github.com/camsong/blog/issues/9):推荐阅读*[javascript里最大的安全的整数为什么是2的53次方减一](https://www.zhihu.com/question/29010688)*[IEEE-754进制转换图生成](http://www.binaryconvert.com/convert_double.html):工具*[在线进制转换工具](https://www.sojson.com/hexconvert.html):工具"},{name:"正则表达式.md",path:"/BasicSkill/basis/正则表达式.md",type:"file",mdconf:{abbrlink:"81uasrob"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3826,extension:".md",relative:"/BasicSkill/basis/正则表达式.md",isEmpty:!1,content:"\x3c!--abbrlink:81uasrob--\x3e###数量限定符|数量限定符|解释||:---------|:----------------------------------------------------------------------------------------||`x+`|1或多个||`x*`|0或多个||`x?`|0或1个||`x{n}`|n个||`x{n,}`|至少n个||`x{n,m}`|n至m个,遵循贪婪原则,会尽可能匹配多个;如果在后面加个?(如x{n,m}?),遵循非贪婪原则|>贪婪可以理解成从后往前遍历,非贪婪可以理解为从前向后遍历###字符限定符|字符限定符|解释||:---------|:------------------------------------------------||`\\d`|匹配一个数字字符,[0-9]||`\\D`|匹配一个非数字字符,[^0-9]||`\\w`|匹配单词字符(包括数字下划线在内),[0-9A-Za-z_]||`\\W`|匹配非单词字符(包括数字下划线在内),[^0-9A-Za-z_]||`\\s`|匹配空白字符(空格、回车、制表符)||`\\S`|匹配非空白字符||`.`|匹配`除换行符(\\n)以外`的任何单个字符|根据使用方法可以进行如下分类:|使用|解释||:------------|:-------||`[0-9a-zA-Z]`|范围字符||`[abcd]`|任意字符||`[^a-z]`|范围字符|###定位符|定位符|解释||:-----|:---------||`^`|开头标识||`$`|结尾标识||`\\b`|单词边界||`\\B`|非单词边界|###转义符`\\`:用于匹配某些特殊字符>/^(\\d)\\1+$/.test(333),比如这里的\\1表示第一个括号里的值,达到判断重复数字的效果###选择匹配符`|`:可以匹配多个规则###特殊用法|特殊用法|解释||:-------|:---|◊------||`?=`正向预查|匹配以指定内容结束的字符串||`?!`负向预查|匹配不是以指定内容结束的字符串||`?`|不把选择匹配符的内容放到缓冲区|###正则表达式在JavaScript下的使用方法在JavaScript下使用正则表达式,有两种方法:第一种方法:使用`RegExp`类提供的方法有:(正则表达式在前面)*`test(str)`:在字符串匹配是否有匹配模式的字符串,返回`true/false`*`exec`:如果正则表达式中有子表达式,使用`exec`方法,返回`result[0]=匹配结果,result[1]=子表达式1的匹配结果……`第二种方法是:使用`String`类提供的方法有:(正则表达式在后面)*`search`返回匹配模式的字符串出现的位置,如果没有,返回-1;*`match`返回匹配模式匹配到的字符串,如果有,返回数组,无,返回null;*`replace`将匹配模式匹配到的字符串进行替换;*`split`将字符串已匹配模式为分隔符进行字符串分隔,返回数组;###分析```js('&ab=').match(/([^&]+)=/g)//[\"ab=\"]```分析:^一般表示开头,但是注意此处中括号里的`^`表示非###i、g、m*/i:忽略大小写*/g:全局*/m:多行查找###update[?<=](https://github.com/tc39/proposal-regexp-lookbehind):nowsupportmatchfromrighttoleft."},{name:"类型.md",path:"/BasicSkill/basis/类型.md",type:"file",mdconf:{abbrlink:"co2uxga9"},birthtime:"2021-12-08",mtime:"2021-12-08",size:836,extension:".md",relative:"/BasicSkill/basis/类型.md",isEmpty:!1,content:'\x3c!--abbrlink:co2uxga9--\x3e###BooleanAquicktiptoremoveallfalsy(false,null,undefined,0,NaNoranemptystring)itemsoutofanarray:```jsvara=[1,2,"b",0,{},"",NaN,3,undefined,null,5]varb=a.filter(Boolean);//[1,2,"b",{},3,5]```SinceBooleanconstructorisalsoafunction,itreturnseithertruefor\'truthy\'argumentorfalsefor\'falsy\'argument.Forexample:```jsBoolean(0)//falseBoolean(true)//trueBoolean(1)//trueBoolean("")//falseBoolean("false")//true."false"isaregular,non-emptystring```Andwriting```jsb=a.filter(Boolean)```isactuallythesameaswriting:```jsb=a.filter(function(x){returnBoolean(x)})```###隐式转化*符号计算*表达式*console.log易错告警:`\'\'?1:0`结果是0,记住了`\'\'`隐式转化boolean为false。'},{name:"重学前端.md",path:"/BasicSkill/basis/重学前端.md",type:"file",mdconf:{abbrlink:"ni1jporq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:183,extension:".md",relative:"/BasicSkill/basis/重学前端.md",isEmpty:!1,content:"\x3c!--abbrlink:ni1jporq--\x3e此文档为`winter`老师极客时间摘要笔记###学习方法以下也是需改进的点*构建学习架构图*追本溯源(比如看mdn)"}],type:"directory",size:41480},{name:"chart",path:"/BasicSkill/chart",children:[{name:"README.md",path:"/BasicSkill/chart/README.md",type:"file",mdconf:{abbrlink:"mnc7po2e"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2126,extension:".md",relative:"/BasicSkill/chart/README.md",isEmpty:!1,content:"\x3c!--abbrlink:mnc7po2e--\x3e###link*移动端数据图表组件调研*chart.js*文档:[chartjs](https://github.com/chartjs/Chart.js)*github48000+star*类型：6种图表类型（折线图，条形图，雷达图，饼图，柱状图和极地区域区）*特性：颜色，字体，边框和它们的尺寸都可以定制，图表可以动画的形式加载，非常炫*兼容：支持canvas的所有现代浏览器和大部分手机浏览器，自动针对retina屏幕做缩放*其他：图表如果使用动画效果，在PC端流畅，但是在移动端效果产生抖动延迟现象；如果不使用动画效果在移动端则正常显示*分析：移动端表现佳，课通过自适应宽度来使得图表宽度与设备屏幕适配。适当缩小图表，合理展示数据。兼容能力强，API使用不复杂。*highcharts*文档:[hcharts](https://github.com/highcharts/highcharts)*技术:基于SVG*类型：直线图、曲线图、面积图、柱状图、饼图、散点图等多达18种不同类型的图表*其他：支持移动端，根据页面宽度定义图表宽度。需要商业授权*F2*文档:[F2](https://github.com/antvis/f2/)比较当前社区图表库下来,在移动端表现可以的有chart.js(移动端展现ok,貌似有动画的场景表现欠佳)、hightcharts(需商用授权)、F2(图形语法上手成本高),因为现在业务是基于f2(https://f2.antv.vision/zh/examples/basic)开发的,因此现在的思路是封装F2为React组件,类似社区的[bizGoblin](https://bizcharts.net/products/bizGoblin/api/chart),[https://github.com/ant-design/ant-design-mobile-chart](https://github.com/ant-design/ant-design-mobile-chart)。*[选择Canvas还是SVG](https://www.yuque.com/antv/g2-docs/tutorial-renderers)*[antv语雀](https://www.yuque.com/antv)*[antvf2](https://f2.antv.vision/zh/examples/candlestick/basic)*[antdesignpro](https://v2-pro.ant.design/components/charts-cn)*[BizCharts](https://bizcharts.net/product/bizcharts/category/7/page/12)"},{name:"canvas.md",path:"/BasicSkill/chart/canvas.md",type:"file",mdconf:{abbrlink:"fyhtxlx8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1351,extension:".md",relative:"/BasicSkill/chart/canvas.md",isEmpty:!1,content:"\x3c!--abbrlink:fyhtxlx8--\x3e###Canvas因为Canvas相对更加底层,在处理图像交互上更具优势,也因此目前市面上看到的Web端图表库基本都是基于Canvas进行绘制的。###API*`线性渐变`*createLinearGradient(x0:number,y0:number,x1:number,y1:number)*addColorStop(offset:number,color:string):void*`径向渐变`*createRadialGradient(x0:number,y0:number,r0:number,x1:number,y1:number,r1:number)*`路径`*开始一段新路径:ctx.beginPath()*开始:ctx.moveTo(x,y)*经过:ctx.lineTo(x,y)*路径为线:ctx.stroke()*设置线的颜色:ctx.strokeStyle=gradient*`曲线`:ctx.bezierCurveTo(cplx,cp1y,cp2x,cp2y,x,y)*`圆`*ctx.arc(x,y,radius,startAngle,endAngle[,counterclockwise])*`方形`*ctx.fillRect(x,y,width,height)*`画布的变换`*注意:画布变换的操作需要前置。*`画布平移`:ctx.translate(x,y)*`画布旋转`:ctx.rotate(Math.PI/180*10):旋转10°*`画布缩放`:ctx.scale(x,y)*沿原点镜像:ctx.scale(-1,-1)*沿x轴镜像:ctx.scale(1,-1)*沿y轴镜像:ctx.scale(-1,1)*`状态`*ctx.save()*ctx.restore()*`文字`*在(x,y)位置绘制文字:ctx.fillText('文字',x,y)*测量文字:ctx.measureText('文字')"},{name:"line-chart.md",path:"/BasicSkill/chart/line-chart.md",type:"file",mdconf:{abbrlink:"9q9hazvf"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2215,extension:".md",relative:"/BasicSkill/chart/line-chart.md",isEmpty:!1,content:"\x3c!--abbrlink:9q9hazvf--\x3e###折线图绘制思路*绘制坐标轴*利用Canvas画布缩放的能力![](http://with.muyunyun.cn/3cddc860aa1d667d3e80744702fc8d1f.jpg-muyy)```jsconstcreateCoordinateSystem=()=>{context.scale(1,-1)context.translate(0,-height)context.beginPath()context.moveTo(0,0)context.lineTo(width,0)context.stroke()context.strokeStyle='#000'context.beginPath()context.moveTo(0,0)context.lineTo(0,height)context.stroke()context.strokeStyle='#000'}```*绘制平行X轴的线条![](http://with.muyunyun.cn/978bbe881bdf396138967c982cefc793.jpg-muyy)```jsfor(leti=0;i<6;i++){context.translate(0,30)createLine(0,0,width,0)}```*绘制刻度![](http://with.muyunyun.cn/24cffb873d13e569b67340ab474dc2bf.jpg-muyy)```jscontext.save()//绘制坐标轴...context.restore()for(leti=0;i<8;i++){createLine(0,0,0,-5)context.lineWidth=0.2context.translate(45,0)}```*绘制x轴下方文字![](http://with.muyunyun.cn/669b57db2cdd078a375c1ba871c35cf1.jpg-muyy)```js//绘制x轴下方文字ctx.save()ctx.scale(1,-1)for(leti=0;i<xArr.length;i++){ctx.fillStyle='#000'if(i===0){consttextWidth=ctx.measureText(xArr[i])ctx.translate(perXLength/2-textWidth.width/2,15)}else{ctx.translate(perXLength,0)}ctx.fillText(xArr[i],0,0)}ctx.restore()```*绘制折线与圆```js//绘制折线ctx.save()for(leti=0;i<xArr.length-1;i++){ctx.fillStyle='#000'constcurPointX=(1/2+i)*perXLengthconstcurPointY=valueArr[i]constnextPointX=(1/2+i+1)*perXLengthconstnextPointY=valueArr[i+1]this.drawLine({ctx:ctx,x0:curPointX,y0:curPointY,x1:nextPointX,y1:nextPointY})}ctx.restore()//绘制圆ctx.save()for(leti=0;i<xArr.length-1;i++){ctx.fillStyle='#000'constpointX=(1/2+i+1)*perXLengthconstpointY=valueArr[i+1]ctx.beginPath()ctx.arc(pointX,pointY,2,0,Math.PI*2,true)ctx.stroke()}ctx.restore()```>todo:平滑的折线图:https://juejin.cn/post/6950684708443258894#heading-23"}],type:"directory",size:5692},{name:"composition_principle",path:"/BasicSkill/composition_principle",children:[{name:"计算机组成原理.md",path:"/BasicSkill/composition_principle/计算机组成原理.md",type:"file",mdconf:{abbrlink:"tq8wd9nw"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2137,extension:".md",relative:"/BasicSkill/composition_principle/计算机组成原理.md",isEmpty:!1,content:"\x3c!--abbrlink:tq8wd9nw--\x3e#计算机组成原理##计算机的发展历史计算机发展的四个阶段![](http://with.muyunyun.cn/20f4d05194338094b21defa7977c357e.jpg)*第一阶段:电子管计算机![](http://with.muyunyun.cn/981859a7e9a5f642c802559466682ac1.jpg-300)![](http://with.muyunyun.cn/fdb522e3b98b19ec07dac13b147ad5a3.jpg-300)*第二阶段:晶体管计算机![](http://with.muyunyun.cn/3740ffbc8eedba24e33c53ce4f59b32e.jpg-400)*第三阶段:集成电路计算机![](http://with.muyunyun.cn/4afca0d86589e900ffd34193b27261de.jpg-300)*第四阶段:超大规模集成电路计算机![](http://with.muyunyun.cn/fbbcdc55d25e0266ff29a3154496c5d0.jpg)##现代计算机的结构![](http://with.muyunyun.cn/fe5d989d5af9d9fa2798ce1f78e303b7.jpg-400)##计算机的层次与编程语言*编译型语言:*常见语言:C、C++、Object-C、Golang;*经过编译器将高级语言转化生成为计算机实际执行的语言;*解释型语言:*常见语言:JavaScript、Python、Php、Perl、Lua;*经过解释器(低级语言写的程序)转换为实际执行的语言;*编译+解释型语言:*Java、C#、Kotlin;以C语言和JavaScript语言为例,C语言要编写完整,然后使用编译器编译成一个二进制文件才可以执行,在编译的过程会把整个程序进行彻底的翻译和优化,再输出平台可以直接运行的二进制文件。而JavaScript是在浏览器V8引擎解释执行的,写好直接就可以运行了,没有经过编译阶段,直接是把JavaScript代码一句一句解释执行的。##计算机的计算单位容量单位![](http://with.muyunyun.cn/5cb5ecfcdb8dc250e1c981268d0b990d.jpg)*为什么网上买的移动硬盘500G,格式化之后只有465G了?答:因为硬盘生产商一般用10^3来便于沟通交流。可以进行如下换算得出:```js500*(1024^3)/(1000^3)≈465```速度单位*为什么电信拉的100M光纤,测试峰值速度只有12M每秒。因为网络常用单位是Mbps;```100M/s===100Mbit/s===(100/8)B/s```ReadTo:3-6"}],type:"directory",size:2137},{name:"css",path:"/BasicSkill/css",children:[{name:"INHERITED_AND_NON-INHERITED.md",path:"/BasicSkill/css/INHERITED_AND_NON-INHERITED.md",type:"file",mdconf:{abbrlink:"nehdqz9q"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3526,extension:".md",relative:"/BasicSkill/css/INHERITED_AND_NON-INHERITED.md",isEmpty:!1,content:"\x3c!--abbrlink:nehdqz9q--\x3e###INHERITEDANDNON-INHERITEDINCSSWhenIlookupcsspropertiesinMDN'sspecificationssection,therearesomepropertiesinitanditseemsunfamiliartome.SoItrytofindoutsomeofthemtoday.![](http://with.muyunyun.cn/b22bcdb94d354d3f301cae7997d9cd17.jpg)Thefollowlisttrytogiveonewordtospecifythemeaningofthem.*Initialvalue:SpecifytheCSSproperty'sdefaultvalue;*Appliesto:Specifywhichelementstoapplyto;*Inherited:SpecifytheCSSpropertyisinheritedornon-inherited;*[Media](https://www.w3.org/TR/css3-mediaqueries/):Specifyhowadocumentistobepresentedondifferentmedia;*[Computedvalue](https://developer.mozilla.org/en-US/docs/Web/CSS/computed_value):TheCSSpropertythatistransferredfromparenttochild;*[Animationtype](https://drafts.csswg.org/web-animations/#animation-type)*[Canonicalorder](https://developer.mozilla.org/en-US/docs/Glossary/Canonical_order):SomeCSSproperties(font、background...)havetheirownCSSpropertyvalueorder.Andthisarticleistodiscussthetopicabouttheknowledgeofinheritedandnon-inherited.###Initialvaluebetweeninheritedandnon-inheritedTheinitialvalueofaCSSpropertyisitsdefaultvalue.TheInitialvaluehastwodifferentbehaviorbetween`inheritedproperties`and`non-inheritedproperties`.For`inheritedproperties`,theinitialvalueis`usedontherootelementonly`.```html<spanstyle=\"color:red\">hello,<em>CSS</em></span>```Theresultisthecolorofboth`span`and`em`elementarered.Becausethecolorisaninheritedproperty,theelementwillgetthecolorpropertyfromtheparentrecursivelyuntiltodocument.For`non-inheritedproperties`,theinitialvalueis`usedoneveryelement`.Whennovalueforanon-inheritedpropertyhasbeenspecifiedonanelement,theelementgetstheinitialvaluedirectly.```html<spanstyle=\"border:1pxsolidblack\">hello,<em>CSS</em></span>```Theresultistheborderisonlyeffectedon`span`element,not`em`.Becausetheborderisanon-inheritedproperty,andthereisnoborderpropertyspecifiedontheem,sotheemgettheborder'sinitialvalue`none`.Itmentionedmuchtimesaboutinheritedvalueandnon-inheritedvalueabove,andnowwesortoutcssproperties.###InheritedTypeI'vecollectedsomeinheritedtypesincss,theyarelistedasfollow:*`FontType`:font-style、font-variant、font-weight、font-stretch、font-size、font-family、color、line-height;*`SpaceType`:letter-spacing、word-spacing、white-space;*`LetterType`:text-align、text-indent、text-shadow、text-transform;*`ListType`:list-style、list-style-type、list-style-position;*`Others`:visibility、cursor;###Non-InheritedTypeIntheoppositeofinheritedtype,thenon-inheritedtypesarelistedasfollow:*`LayoutType`:float、position、left、right、top、bottom、z-index、display*`BoxType`:width、max-width、min-width、height、max-height、min-height、margin、padding、border;*`BackgroundType`:background-size、background-image、background-clip、background-color、background-origin、background-position、background-repeat;*`Others`:overflow、text-overflow、vertical-align;###todo*inherit*initial*unset*revert###RecapThesesectionintroducestheinheritedconceptinCSS,anddistinguishsomeinheritedtypeandsomenon-inheritedtypefromcssproperties.Hopeit'shelpfulforyou."},{name:"README.md",path:"/BasicSkill/css/README.md",type:"file",mdconf:{abbrlink:"52h4xe5y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:394,extension:".md",relative:"/BasicSkill/css/README.md",isEmpty:!1,content:"\x3c!--abbrlink:52h4xe5y--\x3e###针对目前阶段CSS的学习方案:使用[codepen](https://codepen.io/MuYunyun/pens/public/)进行整理相应demo。-[]整理相应的`CSS`揭秘中觉得可以用得到的组件-[]css属性顺序调研-比如`transform:translate(-50%,-50%)rotate(50deg)`与`transform:rotate(50deg)translate(-50%,-50%)`-其它属性todo"},{name:"css_knowledge.md",path:"/BasicSkill/css/css_knowledge.md",type:"file",mdconf:{abbrlink:"v9b53vi6"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1988,extension:".md",relative:"/BasicSkill/css/css_knowledge.md",isEmpty:!1,content:'\x3c!--abbrlink:v9b53vi6--\x3e###css是什么`css(cascadingstylesheet)`层叠样式表。###盒模型*标准模型(默认)*IE模型由`box-sizing`属性来控制*content-box(默认)*border-box>它们的核心区别是是否将border以及padding算入content的width中(在设置了width的前提下)。###超过行内容显示省略号```css.demo{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}```###verticle-align*verticle-align:top>[行高与基线](https://blog.csdn.net/lulujiajiawenwen/article/details/8245201)###样式表*内联样式表```css.font{color:red}<divclass="font">hello,cpreact</div>```*外联样式表```css<linkrel="stylesheet"href="">```###边框*圆角效果`border-radius````css.demo{border-radios:100px/10px(水平半径100,垂直半径10)}```*阴影`box-shadow`:X轴偏移量Y轴偏移量[阴影模糊半径][阴影扩展半径][阴影颜色][投影方式];（阴影模糊半径：只能是正值；阴影扩展半径：可以是正负值）（自带边框）>外阴影x和y(正值)出现在右下；内阴影x和y(正值)出现在左上;###input的宽度——并不是给元素设置display:block就会自动填充父元素宽度。input就是个例外，其默认宽度取决于size特性的值。![](https://user-gold-cdn.xitu.io/2019/7/29/16c3d4f6fef0a871?imageslim)###object-fitIt\'sacsspropertythatcanbeeaqualtothebackground-size,ithasfivetypes:*`fill`:default*`contain`*`cover`:usedinimagePicker*`none`*`scale-down`:iftheimage\'ssizeisimallerthanbox,it\'llkeeptheimage\'ssize,otherwiseit\'llequaltocontain.Youcanlookforit[here](https://codepen.io/chrisnager/pen/XJgJqN)###style里的样式过长该怎么办*第一步:`$0.innerText`;*第二步:点击`Showmore(221kB)`;###如何覆盖伪元素的样式(可作面试题)'},{name:"css_little_book",path:"/BasicSkill/css/css_little_book",children:[{name:"字体排印.md",path:"/BasicSkill/css/css_little_book/字体排印.md",type:"file",mdconf:{abbrlink:"r4hbi1fx"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1812,extension:".md",relative:"/BasicSkill/css/css_little_book/字体排印.md",isEmpty:!1,content:'\x3c!--abbrlink:r4hbi1fx--\x3e###font属性使用font属性时:`font-size`以及`font-family`属性在尾部必填而且必须得照这个顺序。其它可选属性还有:font-weight、font-style等。此外还能使用line-height属性,使用line-height的格式为font-size/line-height。###和字体相关的css*连字符断行:`hyphens:auto`*插入换行:替代`<br/>`可以使用如下使用:```css.demo::after{content:\'/A\';/*表示Unicode里的`0x000A`/*/white-space:pre;/*保留空格*/}```###字体单位*相对视窗*`1vw`:视窗宽度的1/100,100vw等于整个视窗宽度;*`1vh`:视窗高度的1/100,100vh等于整个视窗高度;*`1vmin`:取视窗宽度和视窗高度最小值的1/100;*`1vmax`:取视窗宽度和视窗高度最大值的1/100;*相对`font-size`*`rem`:相对`html`中的`font-size`进行转换(如果根元素的font-size小于12px则以12px来计算);*`em`:相对父元素(或者自己层级)的`font-size`进行转换;font-size:1em等价于font-size:100%;`px`与`vw`单位间的转换:```js1vw=document.documentElement.clientWidth(px)/100(100/document.documentElement.clientWidth)vw=1px```####rem的使用通常将`1rem`设置为`100px`,(经过测试10px/1px也是可以的)<details><summary>相关测试</summary>```html<!DOCTYPEhtml><htmllang="en"><head><style>html{font-size:calc(100vw/375)}</style></head><body><divclass="test"style="font-size:16rem;margin-top:16rem;padding:16rem">测试</div></body></html>```</details>```csshtml{font-size:calc(100vw/3.75)/*表示在1dpr屏上,此时1rem相当于是100px*/}```-[]阅读到文本行的斑马条纹'},{name:"文本属性.md",path:"/BasicSkill/css/css_little_book/文本属性.md",type:"file",mdconf:{abbrlink:"mbmn6zoi"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1906,extension:".md",relative:"/BasicSkill/css/css_little_book/文本属性.md",isEmpty:!1,content:"\x3c!--abbrlink:mbmn6zoi--\x3e###文本属性*`text-indent`:文本缩进。*注意只能用于块级元素;*子元素使用百分数等相关声明值的时候孙子元素继承的是具体值;*`text-align`:对齐方式。*有`left、center、right、justify`这几个属性;*justify的含义是两边缘对齐,中间用空格填补;*`line-height`:行高。*行高与`font-size`之差为行间距;*文本垂直居中可以这样写:```css.demo{font-size:13px;line-height:13px;}/*效果等于*/.demo{font-size:13px;line-height:1;}```*`vertical-align`:垂直对齐文本。*适用于`行内元素`以及表格元素;*后面跟百分数是相对使用该属性节点本身`line-height`计算的;![](http://with.muyunyun.cn/0183be5dea65edfa32a0fc5e7b0b3d12.jpg)解答:vertical-align默认属性是baseline,多出的高度是「幽灵空白节点」的line-height的占位。详细解答可见[CSS深入理解vertical-align和line-height的基友关系](https://www.zhangxinxu.com/wordpress/2015/08/css-deep-understand-vertical-align-and-line-height/)*`text-transform`:文本转换。*`uppercase`、`lowercase`、`capitalize`*`text-decration`:文本装饰。*`underline`、`outerline`、`line-through`;*该属性不会继承;*`white-space`:处理换行符。*其属性值见下列表格,不太好记忆,用得最多的是normal(默认)以及nowrap,大体知道带pre的是会保留换行符的,用到的时候查表。|值|空白符|换行符|自动换行||:-------|:-----|:-----|:-------||normal|合并|忽略|允许||nowrap|合并|忽略|不允许||pre|保留|保留|不允许||pre-line|合并|保留|允许||pre-wrap|保留|保留|允许|阅读完第6章"},{name:"用户体验.md",path:"/BasicSkill/css/css_little_book/用户体验.md",type:"file",mdconf:{abbrlink:"vir7dctj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1095,extension:".md",relative:"/BasicSkill/css/css_little_book/用户体验.md",isEmpty:!1,content:"\x3c!--abbrlink:vir7dctj--\x3e###选用合适的鼠标光标*选用合适的鼠标光标:`cursor`的`not-allowed`和`none`使用比较常见###扩大可选区域大小*[扩大可选区域大小](https://codepen.io/MuYunyun/pen/YgNxBL):使用伪元素###自定义复选框*[自定义复选框](https://codepen.io/MuYunyun/pen/jJyYyJ):见[CheckBox组件](https://github.com/MuYunyun/blog/blob/master/React/%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91/CheckBox.md)开发###遮罩层*遮罩层以下这种方案比较稳妥。可以在遮罩层监听相应的事件。```css.overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);}.show{position:absolute;z-index:1;}```###通过模糊来弱化背景*[通过模糊来弱化背景](https://codepen.io/MuYunyun/pen/qvRGvJ)###通过point-events:none来禁用触发事件场景:ImagePicker组件点击图片禁止其在app中弹出底部图片;`point-events:none`类似button的disabled属性,但是其能涵盖到其它任意属性。"},{name:"结构与布局.md",path:"/BasicSkill/css/css_little_book/结构与布局.md",type:"file",mdconf:{abbrlink:"i9853vz1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2513,extension:".md",relative:"/BasicSkill/css/css_little_book/结构与布局.md",isEmpty:!1,content:'\x3c!--abbrlink:i9853vz1--\x3e###display(布局)*`block`:有宽高,不在同一行;*`inline-block`:有宽高，在同一行;(父节点上使用inline-block会`自动获取子节点的宽度`)*`inline`:无宽高,在同一行;###inline-block的问题Hereisdemo:```html<htmllang="en"><style>li{display:inline-block;background:red;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:30px}.demo{width:90px;}.clearfix{overflow:visible;}</style><body><ulclass="demo"><li>testtest</li><li>testtest</li><li>testtest</li><li>testtest</li><li>testtest</li><li>testtest</li></ul></body></html>```I\'mconfusedwhyisit,Iwanttouseoverflow:hiddenandnotexpectthestrangegap,howcanIdo?![](http://with.muyunyun.cn/79377b5f34efca7b6574fff146c37f56.jpg)原因是因为代码间的标签符号之间包含空格，浏览器也会处理这部分占位，因此解决方法如下:Thesolvewayistoadd`line-height:0`or`font-size:0`totheclassdemoandadd`line-height:12px`or`font-size:12px`tothetagli.>[there-is-an-strange-distance-when-using-overflow-hidden](https://stackoverflow.com/questions/60482616/there-is-an-strange-distance-when-using-overflow-hidden)###position(位置)*relative:元素根据正常的文档流相进行定位;*absolute:脱离当前文档流,相对其最近的`position`属性值为非`static`祖先元素进行定位,直到body;*fixed:脱离当前文档流,相对视窗定位。注意:当父元素上有这几个属性时,`transform`,`perspective`,`filter`时,fixed定位会失效;*sticky:relative与fixed的结合;使用sticky布局有一些限制:```html<div><divstyle="position:sticky;top:20px;background:pink;margin-top:50px;">Header</div><divstyle="height:1000px">Content</div>//比如这一行不可或缺</div>```###margin`margin`的百分比值是以父元素的宽度作为解析基准的。###自适应内部元素宽度*[自适应内部元素宽度](https://codepen.io/MuYunyun/pen/eXgqpa)###精确控制表格列宽```css.demo{table-layout:fixed;/*固定表格布局算法*/width:100%;}```###背景占屏幕全宽，内容的长度定宽```css.footer{padding:1emcalc(100%-450px);/*暗藏内容宽度为900px*/background:#ccc;}```'},{name:"背景与边框.md",path:"/BasicSkill/css/css_little_book/背景与边框.md",type:"file",mdconf:{abbrlink:"gk71zyg4"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1813,extension:".md",relative:"/BasicSkill/css/css_little_book/背景与边框.md",isEmpty:!1,content:'\x3c!--abbrlink:gk71zyg4--\x3e###背景与边框以下为与背景与边框相关比较有用的属性。*`background-origin`:属性值有`border-box/padding-box/content-box`。默认为`padding-box`。*`background-clip`:Thebackground-clipCSSpropertysetswhetheranelement\'sbackgroundextendsunderneathitsborderbox,paddingbox,orcontentbox.属性值有`border-box/padding-box/content-box`。默认值为`border-box`。####图片自适应```css.demo{width:200px;height:100px;background-size:cover;}```####半透明边框```html<style>body{background:black;}.translucent-border{width:100px;height:100px;border:10pxsolidrgba(255,255,255,.5);background:white;background-clip:padding-box;/*这个属性能让背景和边框分离*/}</style><body><divclass="translucent-border"></div></body>```效果图![](http://with.muyunyun.cn/8e59c47dabc2eef7eb923b25811d1e44.jpg-200)[半透明边框](https://codepen.io/MuYunyun/pen/vPyOpB)####多重边框*方案一:`box-shadow````css.demo{background:white;box-shadow:00010px#655,00015pxdeeppink;}```*方案二:`outline`>Itseemdnowaytosetradiuswithoutline.```css.demo{background:white;border:10pxsolid#655;outline:5pxsoliddeeppink;}```![](http://with.muyunyun.cn/622ab7417df7af16671522a3849690b7.jpg-200)####背景定位*偏移量与容器内边距相同[background-origin属性用法](http://play.csssecrets.io/background-origin)*使用`calc`:[calc使用](http://dabblet.com/gist/b5fcb42d055427ab6c1a)```css.demo{background-position:calc(100%-20px)calc(100%-10px)/*calc里面的-、+前后要各加个空格*/}```-[]阅读到边框内圆角'},{name:"过渡与动画.md",path:"/BasicSkill/css/css_little_book/过渡与动画.md",type:"file",mdconf:{abbrlink:"tc5w4yiz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3034,extension:".md",relative:"/BasicSkill/css/css_little_book/过渡与动画.md",isEmpty:!1,content:"\x3c!--abbrlink:tc5w4yiz--\x3e本文介绍和动画相关的两个属性。###transition(过渡)描述一个属性由一个状态过渡到另外一个状态;```css.trantion-thing{transition:color2s100ms;}```*次数:执行一次;*粒度:可以对多个属性生效;*兼容:即时动画不生效也不影响动作的终始状态;```scss.transtion-thing{transition:$props$duration$timing-function(optional)$transition-delay(optional)}```###animation(动画)相比`transition`,animation比transition多了个执行次数的属性;```css.animated-thing{animation:black-to-white1slinear1;}@keyframesblack-to-white{0%{background:#000;}100%{background:#fff;}}```注意animation最后的一个数字1,其表示执行次数,如果不传该值,默认为1。来看下animation的几个属性```scss.animated-thing{animation:$name(相比transition独有)$duration$timing-function(optional)$animation-delay(optional)$iteration-count(optional)(相比transition独有)}```*动画`animation`*调用动画:`animation:name`要与@keyframes连用;*设置动画播放时间:`animation-duration:2s`完成从0%到100%一次动画所需时间;*设置动画播放方式:`animation-timing-function`。`step()`逐帧效果;此外还有`linear`、`ease`等线性效果,也可以使用`cubic-bezier`;(记忆方法:可将ease理解成slow,slowin就是减速,slowout就是加速;)*设置动画开始播放的时间:`animation-delay`;*设置动画播放次数:`animation-iteration-count`:infinate(无限次);*设置动画播放方向:`animation-direction`:normal(默认)、alternate(偶数次反方向播放);*设置动画的播放状态:`animation-play-state`:running(默认)、paused(暂停效果);借由该属性可以完成鼠标移动移出时的暂停、播放效果;*设置动画时间外属性:`animation-fill-mode`:none/forwards/backwords/both;[行走的猫](https://codepen.io/MuYunyun/pen/ZEzxBYb)###whentouseTransitionorAnimation现阶段理解:`Animation`的可控粒度比`Transition`更为细致,transition可以实现的效果animation都能实现。然后有以下几种动效必须使用animation。1.需重复执行的动画;2.需要改变方向的动画;3.需要暂停/继续执行的动画;###一些案例*缓动效果:[小球落地](https://codepen.io/MuYunyun/pen/EMmNZN):涉及到弹框效果的动画,可以参考此节;*打字效果:如果是`单行的打字效果`可以使用css进行实现,思路借助`animaition`的`step`以及文本的宽度;###缓动算法-[][缓动算法](https://www.zhangxinxu.com/wordpress/2017/01/share-a-animation-algorithm-js/),有时间进行read。###transition属性使用坑点在变化前后的两个位置上,改变布局相关属性会使动画失效。比如`display、text-align`。"},{name:"选择器.md",path:"/BasicSkill/css/css_little_book/选择器.md",type:"file",mdconf:{abbrlink:"6lj5kmln"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2092,extension:".md",relative:"/BasicSkill/css/css_little_book/选择器.md",isEmpty:!1,content:"\x3c!--abbrlink:6lj5kmln--\x3e###选择器####子类选择器(>)*`p>span{}`意为p元素后面直接跟着span的情形样式才生效>对比:`pspan{}`意为p元素后面跟着span的情形####相邻选择器(~)*`p~span{}`意为与p元素`同级别`且位于p元素之后`所有`的span标签会生效####相邻选择器(+)*`p+span{}`意为与p元素`同级别`且位于p元素之后`相邻`的span标签会生效>踩坑:注意与.a.b{}的区别####伪类选择器和伪元素选择器*伪类选择器:`:link`、`:visited`、`:hover`、`:active`(前面4个可以记忆成LoVe-HA)、`:nth-child`*伪元素选择器:`::before`、`::after``p:first-child{}`含义:某元素的第一个子元素为p情形时的样式。>注意:不是p的第一个子元素。结构性伪类选择器:`:not()`、`:empty`、`:first-child`、`:last-child`、`:nth-child(n)`、`:nth-last-child(n)`*`:first-of-type`、`:nth-of-type(n)`、`:last-of-type`、`:nth-last-of-type(n)`、`only-child`、`only-of-type`>括号中的n可以是`2n+1`、`-n+5`、`even`、`odd`等此外还有一些特殊的伪类选择器*`:enabled`、`:disabled`*`:checked`(选择框加点变化示例)、`::selection`(改变用鼠标选择网页文本的样式)*`:read-only`(与html中readonly='readonly'配合使用)、`:read-write`(与:read-only选择器相反,主要用来指定当元素处于非只读状态时的样式。)###选择器优先级排序```jsId选择器>类选择器|属性选择器>元素>通配选择器```>伪类选择器的优先级是否是最低的呢?在input的style设置`font-size:30px`,::placeholder{font-size:12px},最终的font-size是多少呢?当前的事实是12px,那么伪元素选择器的优先级究竟排在哪个位置呢?答案后续揭晓。###JavaScript与伪元素选择器进行通信可以使用css方法`attr()`获取节点上`data-xx`的属性信息。比如:```css.demo::after{content:attr(data-msg);...}```"}],type:"directory",size:14265},{name:"css_module.md",path:"/BasicSkill/css/css_module.md",type:"file",mdconf:{abbrlink:"a8r369v5"},birthtime:"2021-12-08",mtime:"2021-12-08",size:964,extension:".md",relative:"/BasicSkill/css/css_module.md",isEmpty:!1,content:"\x3c!--abbrlink:a8r369v5--\x3e###[css-loader](https://github.com/webpack-contrib/css-loader)来看下面这一组webpack的配置项，```js{test:/\\.less$/,use:[require.resolve('style-loader'),{loader:require.resolve('css-loader'),options:{modules:true,//开启css模块化importLoaders:2,},},{loader:require.resolve('postcss-loader'),options:{...},},{loader:require.resolve('less-loader'),options:{...},},],},```它们执行顺序是`less-loader`、`postcss-loader`、`css-loader`、`style-loader`。我们来理一下各module的作用：*`less-loader`:将less解析为css*`postcss-loader`:将css兼容各浏览器加上相应前缀*`css-loader`:将css转化为common.js模块*`style-loader`:将common.js模块注入`style`标签中>[Linkissue](https://github.com/MuYunyun/reactSPA/issues/52)"},{name:"flex_props.md",path:"/BasicSkill/css/flex_props.md",type:"file",mdconf:{abbrlink:"8mmijalz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2453,extension:".md",relative:"/BasicSkill/css/flex_props.md",isEmpty:!1,content:"\x3c!--abbrlink:8mmijalz--\x3e###flex基本用法```css.demo{flex:11100px;}```三个值分别为:*`flex-grow`:占比,默认为0;*`flex-shrink`:缩减比例,0为不缩减,默认为1;*`flex-basis`:flex基本尺寸,默认为auto;###Howtocalculatetheflex-shrink![](http://with.muyunyun.cn/1431bcfc07c05820a123d5716955b860.jpg)Thecalculatestepisalittledifficulty,youcanseeitinthe[how-to-calculate-flex-shrink](https://stackoverflow.com/questions/36550840/how-to-calculate-flex-shrink-when-flex-items-have-a-different-flex-basis).###justify-content*space-around:Thespacingbetweeneachpairofadjacentitemsisthesame,Theemptyspacebeforethefirstandafterthelastitemequals`halfofthespace`betweeneachpairofadjacentitems.*space-evenly:Thespacingbetweeneachpairofadjacentitems,themain-startedgeandthefirstitem,andthemain-endedgeandthelastitem,`areallexactlythesam`###flex特殊用法####flex+z-index*我们知道`z-index`要与定位元素(absolute、relative、absolute、sticky)一起使用,但使用了flex布局后,尽管仍然是`position:static`,`z-index`仍然是生效的。####flex+margin`flex`和`margin`结合使用能达到垂直居中的妙用。>见[水平垂直居中]([./水平垂直居中](https://github.com/MuYunyun/blog/blob/master/BasicSkill/css/水平垂直居中.md).md)场景:右侧图标的导航栏的场景也适用此方式。![](http://with.muyunyun.cn/234bae5566a4662a6995ff01191865e3.jpg)方法:在flex布局中,使用`margin-left:auto`。####flex+height:100%在ios10以下的ios版本中,在flex布局中不推荐与`height:100%`一起连用;*原因一:父元素为flex布局,若父元素不设置`height:100%`,子元素设置`height:100%`是继承不到父元素的高度的;*原因二:父元素为flex布局,即使父元素设置了`height:100%`,子元素使用`height:100%`继承的高度也是有偏差的;一般使用`flex:1`取代`height:100%`,此外要让父元素的高度传给子元素通常需要配合`flex-direction`。使用如下:```css.parentDemo{display:flex;flex-direction:column;}```####Flex布局中省略号失效Flex布局中,省略号属性是失效的。```css.demo{display:flex;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}```"},{name:"matrix.md",path:"/BasicSkill/css/matrix.md",type:"file",mdconf:{abbrlink:"7r8xdrqp"},birthtime:"2021-12-08",mtime:"2021-12-08",size:921,extension:".md",relative:"/BasicSkill/css/matrix.md",isEmpty:!1,content:"\x3c!--abbrlink:7r8xdrqp--\x3e###transform-functionAlineartransformationfunctionisdescribedasa`2x2`matrix,likethis:![](http://with.muyunyun.cn/32d9ec359e0199ddbb0741b0b79bc1a9.jpg)Thetransformationfunctionisapplyiedtoanelementbyusingmatrixmultiplication.Thuseachcordinatechangesisbasedonthematrixvalue.![](http://with.muyunyun.cn/74244bb9e6cb2e93a5756021b2c5895d.jpg)Ifseveraltransformationworkonthethesameelement,itcanbewriteninarow.![](http://with.muyunyun.cn/3de22426e661a9d6faefe0f608d444f2.jpg)###matrix()Theresultofmatrixisequalto`<transform-function>`.`matrix(a,b,c,d,tx,ty)`isequallikethis:-------占位--------###link*[matrix-multiplication](http://www.ruanyifeng.com/blog/2015/09/matrix-multiplication.html):byRuanYifeng*[transform-function](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function)"},{name:"scssGuidelines.md",path:"/BasicSkill/css/scssGuidelines.md",type:"file",mdconf:{abbrlink:"7cpwtx8o"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1487,extension:".md",relative:"/BasicSkill/css/scssGuidelines.md",isEmpty:!1,content:"\x3c!--abbrlink:7cpwtx8o--\x3e###核心原则以简为美，简约至上。>可以当成一门新语言来学###String*`SCSS`的属性应该使用单引号;*但有一些特殊的属性(比如`sans-serif/initial`)无须使用引号,例子如下:```SCSS$font-type:sans-serif```###Number*`0`作为长度时后面不应该带有单位;*给数字添加单位应该使用乘法,例子如下:```SCSS$value:42//yep$length:$value*1px//nope$length:$value+1px```*数字间计算需要带上括号,例子如下:```SCSS//yep.foo{width:(100%/3);}```###嵌套选择器```SCSS.foo{.bar{&:hover{color:red}}}```生成`css`为:```css.foo.bar:hover{color:red;}``````SCSS.foo{&-bar{color:red;}}```生成`css`为:```css.foo-bar{color:red;}```###混合宏在`SCSS`中提供函数的支持```SCSS@mixindummy($a,$b,$c){//...}@includedummy(true,1,'pdd')```###条件语句```scss@if($support-legacy){//..}@else{//..}```###循环一般使用`each````scss@each$key,$valuein$map{//...}```结合伪类可以使用`for````scss@for$ifrom0through10{.foo:nth-of-type(#{$i}){//...}}```###继承```scss.demo1{}.demo{@extend.demo1}```###参考文献*[sassguidelines](https://sass-guidelin.es/)*[sassguidelines中文文档](https://sass-guidelin.es/zh)"},{name:"水平垂直居中.md",path:"/BasicSkill/css/水平垂直居中.md",type:"file",mdconf:{abbrlink:"468zxcwa"},birthtime:"2021-12-08",mtime:"2021-12-08",size:966,extension:".md",relative:"/BasicSkill/css/水平垂直居中.md",isEmpty:!1,content:'\x3c!--abbrlink:468zxcwa--\x3e###flex+margin:auto父节点使用`display:flex`,子节点使用`margin:auto````html<style>.flex{display:flex;width:300px;height:300px;background:#ccc;margin-bottom:5px;}.flexp{margin:auto;}</style><divclass="flex"><p>content</p></div>```###flex结合justify-content、align-items```html<style>.flex2{display:flex;width:300px;height:300px;background:#ccc;align-items:center;justify-content:center;margin-bottom:5px;}</style><divclass="flex2"><p>content</p></div>```###绝对定位+相对定位```html<style>.position{position:relative;width:300px;height:300px;background:#ccc;}.positionp{position:absolute;top:50%;left:50%;transform:translateX(-50%)translateY(-50%);}</style><divclass="position"><p>content</p></div>```'},{name:"水平布局解决方案.md",path:"/BasicSkill/css/水平布局解决方案.md",type:"file",mdconf:{abbrlink:"mf7g91hg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4501,extension:".md",relative:"/BasicSkill/css/水平布局解决方案.md",isEmpty:!1,content:'\x3c!--abbrlink:mf7g91hg--\x3e###场景场景:假设高度已知,请写出三栏布局,其中左、右栏宽度各为300px,中间自适应。本文针对这种场景罗列出以下几种方案。###float布局```html<body><style>.left{float:left;background:red;width:300px;}.middle{background:purple;}.right{float:right;background:green;width:300px;}</style><divclass="left">floatlayout</div><divclass="right">floatlayout</div><divclass="middle">floatlayout</div></body>```>float布局要注意`class="middle"`这行书写的位置###position布局```html<body><style>.left{background:red;position:absolute;left:0;width:300px;}.middle{position:absolute;left:300px;right:300px;background:purple;}.right{background:green;position:absolute;right:0;width:300px;}</style><divclass="left">positionlayout</div><divclass="middle">positionlayout</div><divclass="right">positionlayout</div></body>```###flex布局```html<style>.flexbox{display:flex;}.left{background:red;width:300px;}.middle{flex:1;background:purple;}.right{background:green;width:300px;}</style><sectionclass="flexbox"><divclass="left">flexlayout</div><divclass="middle">flexlayout</div><divclass="right">flexlayout</div></section>```>flex布局是兼容性较好的布局###grid布局```html<body><style>.gridbox{display:grid;grid-template-columns:300pxauto300px;}.left{background:red;}.middle{background:purple;}.right{background:green;}</style><sectionclass="gridbox"><divclass="left">gridlayout</div><divclass="middle">gridlayout</div><divclass="right">gridlayout</div></section></body>```>使用grid目前记住`columns-template-rows`和`columns-template-columns`###table布局```html<body><style>.tablebox{display:table;width:100%;}.left{display:table-cell;background:red;width:300px;}.middle{display:table-cell;background:purple;}.right{display:table-cell;background:green;width:300px;}</style><sectionclass="tablebox"><divclass="left">tablelayout</div><divclass="middle">tablelayout</div><divclass="right">tablelayout</div></section></body>```>table布局也是和flex布局一样兼容性较高的方案###其它解决方案针对两边宽度固定,中间宽度自适应还有以下两种方案:####圣杯布局核心思想:将内容两边宽度提前空出来,然后将块级元素进行移动`填补`。```html<body><style>.bd{padding:0200px0200px;}.main{float:left;width:100%;height:200px;background-color:#ddd;}.left{float:left;width:200px;height:200px;background-color:#da4242;/*产生布局效果的属性*/margin-left:-100%;position:relative;left:-200px;}.right{float:left;width:200px;height:200px;background-color:#4ddef1;/*产生布局效果的属性*/margin-left:-200px;position:relative;left:200px;}</style><divclass="bd"><divclass="main">main</div><divclass="left">left</div><divclass="right">right</div></div></body>```####双飞翼布局核心思想:将内容宽度占满父容器,然后将块级元素进行移动`覆盖`。```html<body><style>.main{float:left;width:100%;height:200px;background-color:#ddd;}.left{float:left;width:200px;height:200px;background-color:#da4242;/*产生布局效果的属性*/margin-left:-100%;}.right{float:left;width:200px;height:200px;background-color:#4ddef1;/*产生布局效果的属性*/margin-left:-200px;}</style><divclass="main"></div><divclass="left">left</div><divclass="right">right</div></body>```'},{name:"竖直布局解决方案.md",path:"/BasicSkill/css/竖直布局解决方案.md",type:"file",mdconf:{abbrlink:"p67qhttd"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2343,extension:".md",relative:"/BasicSkill/css/竖直布局解决方案.md",isEmpty:!1,content:'\x3c!--abbrlink:p67qhttd--\x3e>本文是水平布局解决方案的姊妹篇###题目题目:假设宽度已知,请写出三栏布局,其中上、下栏高度各为`100`px,中间自适应。###position布局```html<body><style>html,body,.box{height:100%;}.box{position:relative;}.head{position:absolute;width:100%;top:0;height:100px;background:red;}.middle{position:absolute;width:100%;top:100px;bottom:100px;background:yellow;}.bottom{position:absolute;width:100%;bottom:0;height:100px;background:red}</style><divclass="box"><sectionclass="head"></section><sectionclass="middle"></section><sectionclass="bottom"></section></div></body>```###flex布局```html<body><style>html,body,.box{height:100%;}.box{display:flex;flex-direction:column;height:100%;}.head{height:100px;background:red;}.middle{flex:1;background:yellow;}.bottom{height:100px;background:red}</style><divclass="box"><sectionclass="head"></section><sectionclass="middle"></section><sectionclass="bottom"></section></div></body>```###grid布局```html<body><style>html,body,.box{height:100%;}.box{display:grid;grid-template-columns:100%;grid-template-rows:100pxauto100px;}.head{height:100px;background:red;}.middle{bottom:100px;background:yellow;}.bottom{height:100px;background:red}</style><divclass="box"><sectionclass="head"></section><sectionclass="middle"></section><sectionclass="bottom"></section></div></body>```###table布局```html<body><style>html,body,.box{height:100%;width:100%;}.box{display:table;}.head{display:table-row;width:100%;height:100px;background:red;}.middle{display:table-row;width:100%;background:yellow;}.bottom{display:table-row;width:100%;height:100px;background:red}</style><divclass="box"><sectionclass="head">123</section><sectionclass="middle">456</section><sectionclass="bottom">789</section></div></body>```'},{name:"聊聊BFC.md",path:"/BasicSkill/css/聊聊BFC.md",type:"file",mdconf:{abbrlink:"5wjknen4"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3191,extension:".md",relative:"/BasicSkill/css/聊聊BFC.md",isEmpty:!1,content:'\x3c!--abbrlink:5wjknen4--\x3e###BFC含义块级格式化上下文(BlockFormattingContext)###BFC特性*同一个BFC内元素外边距会发生重合(见案例一)*BFC内可以有浮动元素(见案例二)*BFC内可以分离浮动元素(见案例三)####案例一```html<style>div{width:100px;height:100px;background-color:red;margin:100px;}</style><body><div></div><div></div></body>```![](http://with.muyunyun.cn/4e86e658780009017a22bbb025043276.jpg-300)可以看到此时两个div之间的间距并不是200px,而是100px此时可以在父节点加上`overflow:hidden`使其变为BFC元素,从而避免重叠。```html<style>div{overflow:hidden;}p{width:100px;height:100px;background-color:red;margin:100px;}</style><body><div><p></p></div><div><p></p></div></body>```![](http://with.muyunyun.cn/ffa04ee49e9b4d221361929324236c05.jpg-300)此时,可以看到两个div之间的距离已变为期望的200px；####案例二```html<style>.border{border:1pxsolid#000;}.content{width:100px;height:100px;background-color:red;float:left;}</style><body><divclass="border"><pclass="content"></p></div></body>```子节点加上`float:left`后,其脱离了文档流,所以只看到一条1px的线条,如下:![](http://with.muyunyun.cn/6b657c7f8d985992c97269fb61bb8678.jpg-300)此时在父节点中加上`overflow:hidden`使其变为BFC元素从而消除浮动,代码如下:```html<style>.border{border:1pxsolid#000;overflow:hidden;//在此处加上overflow:hidden;可以消除浮动}.content{width:100px;height:100px;background-color:#ff0000;float:left;}</style><body><divclass="border"><pclass="content"></p></div></body>```![](http://with.muyunyun.cn/6bde303c9e6c57a7d1ce73543d4c8dcc.jpg-300)####案例三```html<style>.content1{width:100px;height:100px;background-color:red;float:left;}.content2{width:200px;height:200px;background-color:green;}</style><body><divclass="content1"></div><divclass="content2"></div></body>```相邻节点中的一个节点使用`float:left`,其脱离文档流,从而两个div标签发生了重叠,![](http://with.muyunyun.cn/c7ebcfce5a7c58142fc9004a7d545852.jpg-300)此时在普通流节点上使用`overflow:hidden`使其变为BFC元素从而使BFC元素和浮动元素分离:```html<style>.content1{width:100px;height:100px;background-color:red;float:left;}.content2{width:200px;height:200px;background-color:green;overflow:hidden;}</style><body><divclass="content1"></div><divclass="content2"></div></body>```![](http://with.muyunyun.cn/cb83333e3e31f59d4946e0d3cdd2a56a.jpg-300)###如何触发BFC```*overflow:不为visible;*position:不为static以及relative;*float:不为none;*display:为inline-box、table-ceil、flex;```'}],type:"directory",size:36999},{name:"db",path:"/BasicSkill/db",children:[{name:"concepts.md",path:"/BasicSkill/db/concepts.md",type:"file",mdconf:{abbrlink:"7xl39wal"},birthtime:"2021-12-08",mtime:"2021-12-08",size:888,extension:".md",relative:"/BasicSkill/db/concepts.md",isEmpty:!1,content:"\x3c!--abbrlink:7xl39wal--\x3e###DDL与DML*数据定义语言(DDL):DataDefinitionLanguage```js1.CREATE-tocreateobjectsinthedatabase2.ALTER-altersthestructureofthedatabase3.DROP-deleteobjectsfromthedatabase4.TRUNCATE-removeallrecordsfromatable,includingallspacesallocatedfortherecordsareremoved5.COMMENT-addcommentstothedatadictionary6.RENAME-renameanobject```*数据操纵语言(DML):DataManipulationLanguage```js1.SELECT-retrievedatafromtheadatabase2.INSERT-insertdataintoatableUPDATE-updatesexistingdatawithinatable3.DELETE-deletesallrecordsfromatable,thespacefortherecordsremain4.MERGE-UPSERToperation(insertorupdate)5.CALL-callaPL/SQLorJavasubprogram6.EXPLAINPLAN-explainaccesspathtodata7.LOCKTABLE-controlconcurrency```"},{name:"kibana.md",path:"/BasicSkill/db/kibana.md",type:"file",mdconf:{abbrlink:"tm5s78cm"},birthtime:"2021-12-08",mtime:"2021-12-08",size:644,extension:".md",relative:"/BasicSkill/db/kibana.md",isEmpty:!1,content:"\x3c!--abbrlink:tm5s78cm--\x3e###Kibana用户手册*`搜索数据`*直接输入文本字符串来进行简单文本搜索。`eg:safari`*根据key:value进行搜索。`eg:error_msg:200`*可以通过中括号指定范围搜索，[START_VALUETOEND_VALUE]。`error_msg:[200TO499]`*您可以通过布尔操作符AND、OR和NOT来指定更多的搜索条件。例如，搜索状态为4xx而且扩展名为php或html的条目，您可以输入`error_msg:[200TO499]AND(extension:phpORextension:html)`。*可视化*[创建可视化视图](https://www.elastic.co/guide/cn/kibana/current/createvis.html)"},{name:"mysql.md",path:"/BasicSkill/db/mysql.md",type:"file",mdconf:{abbrlink:"tc8dauos"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6307,extension:".md",relative:"/BasicSkill/db/mysql.md",isEmpty:!1,content:"\x3c!--abbrlink:tc8dauos--\x3e###关系型数据库使用多个表格管理的数据库。###创建数据库```jsCREATEDATABASE数据库名;```###删除数据库```jsDROPDATABASE数据库名;```###数据库类型数据库类型分为数字类型、时间类型、字符串类型。|类型|用途|格式||:---------:|:--------------:|:----------:||INT(INEGER)|大整数值|||FLOAT|单精度|||DATE|日期值|'YYYY-MM-DD'||TIME|时间值或持续时间|'HH:MM:SS'||YEAR|年份值|'YYYY'||DATETIME|混合日期和时间值|'YYYY-MM-DD'||VARCHAR|变长字符串||###创建数据表```jsCREATETABLEtable_name(column_namecolumn_type);```###删除数据表```jsDROPTABLEtable_name;```###插入数据```jsINSERTINTOtable_name(field1,field2,...fieldN)VALUES(value1,value2,...valueN)```###查询数据```jsSELECTfield1,field2FROMtable_name1,table_name2[WHEREcondition1[AND[OR]]condition2[GROUPBY][HAVING][ORDERBY][LIMITN][OFFSETM]```*`FROM`:可以从多个table中进行查询*`WHERE`*WHERE相当于编程语言中的if。*可以使用在SELECT、UPDATE、DELETE语句中。*可以使用AND或者OR指定一个或多个条件。*操作符有`=`、`>`、`<`、`>=`、`<=`、`!=or<>`、`ISNULL`、`ISNOTNULL`*`Like`:类似于`=`,SQL提供了四种匹配方式。*`%`:表示任意0个或多个字符。可匹配任意类型和长度的字符,有些情况下若是中文,请使用两个百分号（%%）表示。*eg:查询包含javascript字段的信息:`SELECT*FROMpositionWHEREnameLIKE'%java%';`*`_`:表示任意单个字符。匹配单个任意字符,它常用来限制表达式的字符长度语句。*[]:表示括号内所列字符中的一个（类似正则表达式）。指定一个字符、字符串或范围,要求所匹配对象为它们中的任一个。*[^]:表示不在括号所列之内的单个字符。其取值和[]相同,但它要求所匹配对象为指定字符以外的任一个字符。查询内容包含通配符时,由于通配符的缘故,导致我们查询特殊字符“%”、“_”、“[”的语句无法正常实现,而把特殊字符用“[]”括起便可正常查询。*`REGEXP`:可以使用正则进行筛选。*eg:`SELECTnameFROMperson_tblWHEREnameREGEXP'^st';`*`GROUPBY`:对SELECT查询出来的结果集按照某个字段或者表达式进行分组，获得一组组的集合。*`WITHROLLUP`:可以实现在分组统计数据基础上再进行相同的统计(SUM,AVG,COUNT等)。*![](http://with.muyunyun.cn/1d8a95a812f6ffc91d6f5a357fe9755c.jpg)*`coalesce`:针对上图null处,可以使用coalesce(a,b,c)语法,其等价于JavaScript中`a||b||c||null`*![](http://with.muyunyun.cn/8530fc78779c7024f41053a51c160196.jpg)*`HAVING`:用于对WHERE和GROUPBY查询出来的分组经行过滤，查出满足条件的分组结果。(场景使用存疑:后续有场景进行补充)*`ORDERBY`:*可设置多个字段来排序:`ORDERBYfield1[ASC[DESC][默认ASC]],[field2...][ASC[DESC][默认ASC]]`;*可设置`ASD`(ascending)或`DESD`(descending)来表示升序或降序,默认ascending。*拼音场景:如果字符集采用的是utf8(万国码)而非gbk，需要先对字段进行转为gbk码然后排序:*`ORDERBYCONVERT(titleusinggbk);`*`LIMIT`:可以设置查询返回条数*`OFFSET`:可以设置起始查询条数*`limitN,M`:相当于LIMITMOFFSETN,从第N条记录开始,返回M条记录###UPDATE```jsUPDATEtable_nameSETfield1=new-value1,field2=new-value2[WHERECLAUSE]```###DELETE```jsDELETEFROMtable_name[WHERECLAUSE]```###UNIONUNION操作符用于连接两个以上的SELECT语句的结果组合到一个结果集合中。```jsSELECTfield1,field2FROMtable_name1,table_name2[WHEREcondition1[AND[OR]]condition2UNION[ALL|DISTINCT]```*`DISTINCT`:默认值,表示多个SELECT语句会删除重复的数据。*`All`:表示多个SELECT语句不会删除重复的数据。###连接的使用真正的应用中经常需要从多个数据表中读取数据。此时可以使用JOIN在两个或多个表中读取数据。*INNERJOIN(内连接)*![](http://with.muyunyun.cn/b6fb7c5a37b37586b7c36f7b524294bd.jpg)*`SELECTfield1,field2FROMtable_name1INNERJOINtable_name2ONcondition;`*LEFTJOIN(左连接)*![](http://with.muyunyun.cn/52e7cfa17e2c2ff5983a2ba3c6f3eb8e.jpg)*`SELECTfield1,field2FROMtable_name1LEFTJOINttable_name2ONcondition;`*RIGHTJOIN(右连接)*![](http://with.muyunyun.cn/d79d96273e72c6c308ba8744b507f562.jpg)*`SELECTfield1,field2FROMtable_name1RIGHTJOINtable_name2ONcondition;`###事务事务主要用于处理操作量大，复杂度高的数据。笔者认为事务就像数据库语句中引入git操作。*MySQL中使用了Innodb引擎的数据库或表支持事务;*事务用来管理insert、update、delete语句;MYSQL事务控制语句*BEGIN:开始一个事务*ROLLBACK:事务回滚*COMMIT:事务确认###ALTER修改表名或者修改表字段就要使用ALTER命令。*删除表字段*DROP:`ALTERTABLEtestalter_tblDROPi;`*添加表字段*ADD:`ALTERTABLEtestalter_tblADDiINT;`*修改表字段类型及名称*MODIFY:`altertabletableNamemodifyname1type1first|aftername2;`*name1为想要修改的字段*type1为该字段原来类型*first与after二选一,first放在第一位,after放在name2字段后面*CHANGE:`ALTERTABLEtestalter_tblCHANGEijBIGINT;`*将i字段重命名为j字段###索引空间换时间。使用索引可以加快数据库内部找寻数据的速度。*创建索引*`CREATEINDEXindexNameONtable_name(column_name)`*删除索引*`DROPINDEX[indexName]ONmytable;`###SQL注入线上应用应该注意防范SQL注入。"}],type:"directory",size:7839},{name:"efficiency",path:"/BasicSkill/efficiency",children:[{name:"MindNode思维导图.md",path:"/BasicSkill/efficiency/MindNode思维导图.md",type:"file",mdconf:{abbrlink:"ca2yliw2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:123,extension:".md",relative:"/BasicSkill/efficiency/MindNode思维导图.md",isEmpty:!1,content:"\x3c!--abbrlink:ca2yliw2--\x3e###MindNode快捷键整理`shift`+`enter`:创建新节点`cmd+0`:移到屏幕中央"},{name:"alfred_workflow.md",path:"/BasicSkill/efficiency/alfred_workflow.md",type:"file",mdconf:{abbrlink:"5brmoiek"},birthtime:"2021-12-08",mtime:"2021-12-08",size:782,extension:".md",relative:"/BasicSkill/efficiency/alfred_workflow.md",isEmpty:!1,content:"\x3c!--abbrlink:5brmoiek--\x3e###演讲一:alfredworkflow是什么可定制化工具流,能用脚本(node.js、python、php、ruby、perl)提高我们日常效率，比如个人比较常用的有以下几种——查文档，查单词，查npm包,上传图床快捷操作等等。归纳下可以完成以下几类操作*查询信息并可以跳转到相应界面(npm、豆瓣、yd、canIUse)*监听键盘按键完成特定事件(yd)*和mac上的软件进行联动(dash、ip)*手机和mac的远端通信###演讲二:一些实用的插件演示一些常用的软件>一些有用传插件可查看[alfred-workflows](https://github.com/willfarrell/alfred-workflows)###实用快捷键`shift+cmd+c`:找寻近期复制到剪切板中的内容。"},{name:"apple",path:"/BasicSkill/efficiency/apple",children:[{name:"apple_skill.md",path:"/BasicSkill/efficiency/apple/apple_skill.md",type:"file",mdconf:{abbrlink:"1vso6n27"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2102,extension:".md",relative:"/BasicSkill/efficiency/apple/apple_skill.md",isEmpty:!1,content:'\x3c!--abbrlink:1vso6n27--\x3e###Mac####mac快捷键*`shift+cmd+5`:截屏/录屏幕*`cmd+tab`:应用切换*`ctrl+cmd+空格`:表情输入*`alt+cmd+v`:图床*`shift+cmd+c`:复制过的内容####管理iphone的图库痛点:照片越来越多,占用icloud体积1.连接iphone和Mac,在Mac上使用Photos这个软件将iphone的照片都导入Library,勾选iphone中导入的图片自动删除;2.在Mac端将喜欢的照片打星,然后右键点击favourite里的图片create到一个新文件;3.可以右键点击Share/Airdrop将最终筛选好的图片传回iphone;####邮箱加密```bashechoxxx|base64```得到bXVqdWVAcGluZHVvZHVvLmNvbQo=```bashechobXVqdWVAcGluZHVvZHVvLmNvbQo=|base64-D```####网易云音乐迁移到applemusic使用TuneMyMusic导入。1.打开https://yyrcd.com/2018/11/14/n2s-zh/,填入网易云歌单的ID。假如歌单地址是https://music.163.com/#/playlist?id=2651036663,那么便填写2651036663;2.接下来点击Search,会显示歌单列表,然后复制生成的文字版歌单。导出歌单后，打开[TuneMyMusic](https://www.tunemymusic.com/zh-cn/);3.导入来源选择从文本,目的地选择AppleMusic即可;####ForeignBooksResource首先支持正版图书,但是在预算有限的情况下安利下[LibraryGenesis](https://librarygenesis.net/),亲测能获取各类外文图书资源。####app*MarginNote3:PDFResourceReader*Eudic:dictianary;####1password快捷键*cmd+\\:网页上使用自动填充/其它地方使用直接打开网页+填充登入疑问点:转换密码项到登录项>[1PasswordforMac使用指南](https://sspai.com/post/35195)###applepencel*Markupascreenshot###ipad/iphone*shortcuts:具有创造力的一个功能点;###输出当前项目目录结构```jstree-L3-I"node_modules"```###注册美区AppleID账号名(美区):muyy95@gmail.com账户名(国区):328375795@qq.com>[注册美区AppleID](https://zhuanlan.zhihu.com/p/36574047)'},{name:"ipad.md",path:"/BasicSkill/efficiency/apple/ipad.md",type:"file",mdconf:{abbrlink:"m2y2fm2p"},birthtime:"2021-12-08",mtime:"2021-12-08",size:158,extension:".md",relative:"/BasicSkill/efficiency/apple/ipad.md",isEmpty:!1,content:"\x3c!--abbrlink:m2y2fm2p--\x3e###ipad*[为什么我推荐用iPad来记手写笔记？iPad手写笔记良心指南](https://post.smzdm.com/p/ar07q09g/);"},{name:"mac",path:"/BasicSkill/efficiency/apple/mac",children:[{name:"disassembly.md",path:"/BasicSkill/efficiency/apple/mac/disassembly.md",type:"file",mdconf:{abbrlink:"byf1gwh1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:943,extension:".md",relative:"/BasicSkill/efficiency/apple/mac/disassembly.md",isEmpty:!1,content:"\x3c!--abbrlink:byf1gwh1--\x3e###背景外接显示屏变卡,影响编程效率。###策略*查询[mac外接显示器卡成狗](https://www.v2ex.com/t/359003)*重置SMC*经验证无效果。*换HDMI线*判定不靠谱。*清灰&涂硅脂。###清灰&涂硅脂过程记录*清灰前*![](http://with.muyunyun.cn/36cde335f7451943a1f932b162338a24.jpg)*清灰中*![](http://with.muyunyun.cn/84704b6eae637593b873397c699f3dcf.jpg)*涂硅脂*![](http://with.muyunyun.cn/5a23f3695611c536e1e8550f3e80817b.jpg)*参考资料*[MacbookPro2015款15寸拆机清灰步骤，详细教程+照片](https://www.feng.com/post/11459339)*[MacbookProRetina15'A1398（2013年末，i7，GT750M）拆卸、清洁、重新组装](https://www.bilibili.com/video/BV1mt4y197L5?p=1&share_medium=iphone&share_plat=ios&share_source=WEIXIN&share_tag=s_i&timestamp=1627138586&unique_k=KsvsAH)"},{name:"env.md",path:"/BasicSkill/efficiency/apple/mac/env.md",type:"file",mdconf:{abbrlink:"mddcenfz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1552,extension:".md",relative:"/BasicSkill/efficiency/apple/mac/env.md",isEmpty:!1,content:'\x3c!--abbrlink:mddcenfz--\x3e###执行brewinstall命令长时间卡在UpdatingHomebrew的解决方法执行brew命令安装软件的时候，跟以下3个仓库地址有关：1.brew.git```bash#替换成阿里巴巴的brew.git仓库地址:cd"$(brew--repo)"gitremoteset-urloriginhttps://mirrors.aliyun.com/homebrew/brew.git#=======================================================#还原为官方提供的brew.git仓库地址cd"$(brew--repo)"gitremoteset-urloriginhttps://github.com/Homebrew/brew.git```2.homebrew-core.git```bash#替换成阿里巴巴的homebrew-core.git仓库地址:cd"$(brew--repo)/Library/Taps/homebrew/homebrew-core"gitremoteset-urloriginhttps://mirrors.aliyun.com/homebrew/homebrew-core.git#=======================================================#还原为官方提供的homebrew-core.git仓库地址cd"$(brew--repo)/Library/Taps/homebrew/homebrew-core"gitremoteset-urloriginhttps://github.com/Homebrew/homebrew-core.git```3.homebrew-bottles```js#替换成阿里巴巴的homebrew-bottles访问地址:echo\'exportHOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles\'>>~/.zshrcsource~/.zshrc#=======================================================#还原为官方提供的homebrew-bottles访问地址vi~/.zshrc#然后，删除HOMEBREW_BOTTLE_DOMAIN这一行配置source~/.zshrc```>see[执行brewinstall命令长时间卡在UpdatingHomebrew的解决方法](https://learnku.com/articles/18908)'},{name:"migrate.md",path:"/BasicSkill/efficiency/apple/mac/migrate.md",type:"file",mdconf:{abbrlink:"be6usutl"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1025,extension:".md",relative:"/BasicSkill/efficiency/apple/mac/migrate.md",isEmpty:!1,content:"\x3c!--abbrlink:be6usutl--\x3e##Mac快速迁移方案###同步vscode配置多端设备之间同步Vscode配置。*上传端*cmd+shift+p后输入`Sync:AdvancedOptions`->opensettings*输入相关字段解释:*`GistID`:以笔者的gisturl为例，https://gist.github.com/MuYunyun/fc7a4a0269a459785782797ff83e65a1，gistid为fc7a4a0269a459785782797ff83e65a1。*`AccessToken`:位于github中，路径为Settings/Developersettings/Personalaccesstokens。*UploadKey:shift+alt+u。*使用*DownloadKey:shift+alt+d。>[VisualStudioCodeSettingsSynchronization](http://shanalikhan.github.io/2015/12/15/Visual-Studio-Code-Sync-Settings.html)，该插件与LanguageSupportforjava插件会产生冲突，使用时候先disableLanguageSupportforjava插件。###chrome插件*Infinity标签支持备份数据###TimeMachine*使用移动硬盘备份数据*[Mac分区](https://www.zhihu.com/question/37544123/answer/125566154)"}],type:"directory",size:3520},{name:"software.md",path:"/BasicSkill/efficiency/apple/software.md",type:"file",mdconf:{abbrlink:"i3ywrvsg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:349,extension:".md",relative:"/BasicSkill/efficiency/apple/software.md",isEmpty:!1,content:"\x3c!--abbrlink:i3ywrvsg--\x3e本文档收集整理苹果各设备中好用的软件。###Mac*[timetreeapp.com](https://timetreeapp.com/):多人共享日历###Iphone###Ipad*[duet](https://zh.duetdisplay.com/pro):分屏,16前mac使用SideCar功能;*[Typeeto]:useonekeyboardtooperateeverydevice(Macbook、ipad、iphone);"},{name:"watch.md",path:"/BasicSkill/efficiency/apple/watch.md",type:"file",mdconf:{abbrlink:"xvy8k5bx"},birthtime:"2021-12-08",mtime:"2021-12-08",size:195,extension:".md",relative:"/BasicSkill/efficiency/apple/watch.md",isEmpty:!1,content:"\x3c!--abbrlink:xvy8k5bx--\x3e###smallskill*将手掌覆盖在AppleWatch的屏幕上时,屏幕会被熄灭。*找手机。*遥控拍照。*开车接电话。*(todo)乘坐地铁。"}],type:"directory",size:6324},{name:"data_analyze.md",path:"/BasicSkill/efficiency/data_analyze.md",type:"file",mdconf:{abbrlink:"ziao6mzy"},birthtime:"2021-12-08",mtime:"2021-12-08",size:65,extension:".md",relative:"/BasicSkill/efficiency/data_analyze.md",isEmpty:!1,content:"\x3c!--abbrlink:ziao6mzy--\x3e*PV:PAGEVIEW*UV:UniqueVisitor"},{name:"draw.md",path:"/BasicSkill/efficiency/draw.md",type:"file",mdconf:{abbrlink:"jascm1az"},birthtime:"2021-12-08",mtime:"2021-12-08",size:177,extension:".md",relative:"/BasicSkill/efficiency/draw.md",isEmpty:!1,content:"\x3c!--abbrlink:jascm1az--\x3e###画图工具*[灵魂画图](https://excalidraw.com/)*[流程图](https://app.diagrams.net/)*[数学画图](https://www.mathway.com/Graph)"},{name:"github.md",path:"/BasicSkill/efficiency/github.md",type:"file",mdconf:{abbrlink:"zi379j1j"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1731,extension:".md",relative:"/BasicSkill/efficiency/github.md",isEmpty:!1,content:"\x3c!--abbrlink:zi379j1j--\x3e###chromeplugin*[gitzip](https://chrome.google.com/webstore/detail/gitzip-for-github/ffabmkklhbepgcgfonabamgnfafbdlkn):quickdownloadonedetailedfile###usefulwebsetsThispagewillcollectsomeusefulwebsets.*[ssfreeaccount](https://github.com/Alvin9999/new-pac/wiki/ss%E5%85%8D%E8%B4%B9%E8%B4%A6%E5%8F%B7)*[v2rayfreeaccount](https://github.com/Alvin9999/new-pac/wiki/v2ray%E5%85%8D%E8%B4%B9%E8%B4%A6%E5%8F%B7)*[awesome-github-profile-readme](https://github.com/abhisheknaiidu/awesome-github-profile-readme)###probot*[probot](https://probot.github.io/apps/)*[Auto-comment](https://probot.github.io/apps/auto-comment/)*[pull](https://probot.github.io/apps/pull/)*![](http://with.muyunyun.cn/a6745efdee034049cea71c2b2d52b998.jpg)*[delete-merged-branch](https://github.com/svanboxel/delete-merged-branch)*[stale](https://probot.github.io/apps/stale/):use###skils*[GithubHost](https://github.com/ButterAndButterfly/GithubHost)*原理:[解决Github网页上图片显示失败的问题](https://blog.csdn.net/qq_38232598/article/details/91346392)>待验证:[GitHub无法访问、443Operationtimedout的解决办法](https://juejin.cn/post/6844904193170341896)###修改host文件```sudovi/etc/hosts```>github访问慢一般可以修改该目录。[方法](https://zhuanlan.zhihu.com/p/94521827),经验证该方法同样适用于gitpush推不上的case###FAQQ:remote:SupportforpasswordauthenticationwasremovedonAugust13,2021.Pleaseuseapersonalaccesstokeninstead.A:https://stackoverflow.com/questions/68775869/support-for-password-authentication-was-removed-please-use-a-personal-access-to"},{name:"how-to-improve-english.md",path:"/BasicSkill/efficiency/how-to-improve-english.md",type:"file",mdconf:{abbrlink:"2rqkvb3y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5073,extension:".md",relative:"/BasicSkill/efficiency/how-to-improve-english.md",isEmpty:!1,content:"\x3c!--abbrlink:2rqkvb3y--\x3e>目标:可以观看英文视频，提高阅读英文文章的效率![](http://with.muyunyun.cn/02b02b787e23b6233d63a2fbf798d1a0.jpg)*1000单词能理解75%内容。*7000单词是一个分水岭,能理解90%内容。>超量输入:通过背诵大量的单词并快速复习，遗忘率虽然相对于定量背诵高，但是可以以量取胜。比如:一天背20个词，一个月能背600个，假设形成长期记忆的占80%，那最后能记住的便是480个。但是如果我用相同时间，每天快速看100个词，一个月能看3000个。假设能记住30%，最后能记住900个，远远大于第一种方式。适用于在1000~7000词汇量这个学习阶段。*[单词篇](https://byoungd.gitbook.io/english-level-up-tips/part-i/2-vocabulary)云单词本*当前阶段,适合超量学习。*[听力篇](https://byoungd.gitbook.io/english-level-up-tips/part-i/3-listening)*多选一:确认VOA、BBC、各种Podcast*误区:很多人一开始就尝试VOA，这是不推荐的；即使是VOA慢速英语，你也会遇到生词太多导致卡住、丧失继续听下去的兴趣的情况；有些喜欢钻牛角尖的同学会问：听一遍没听懂，那我听10遍呢？事实上如果你不去通过听力材料提供的文本将生词这关先过了，听100遍也是收效甚微的。这与我们提倡的高效学习相悖。英美剧对初学者来说就更不是`友好`的学习材料，根据自己的词汇量选择合适的听力材料，一步步来，循序渐进。*精听:*《新概念英语》第三册和第四册*泛听*电视剧*老友记、摩登家庭*电影*《怦然心动》-《教父》-《机器人总动员》-《控方证人》-《桃色公寓》*Podcast和带lrc的美剧录音比纯看美剧要少很多干扰，在同时摄入的信息量上减少了视觉信息这部分，学习效果更好。*频道*[EnglishLessons4U-LearnEnglishwithRonnie![engVid]](https://www.youtube.com/c/engvidRonnie/videos):力荐学习英语的基础语法，很多小技巧都挺实用。最最重要的是，Ronnie老师实在是太幽默啦，学习的过程中你会感受到快乐！*[TopMovieClip](https://www.youtube.com/channel/UClVbhSLxwws-KSsPKz135bw)漫威超级英雄电影精彩剪辑，很养眼。*[BestClips4](https://www.youtube.com/channel/UC8BQGqcCSFq6RC9feEGUGFA)超级英雄电影相关*[DisneyUK](https://www.youtube.com/channel/UCQphRgAhj5UxktrQNP3WF5g):冰雪奇缘主题曲FROZEN的播放量高达10亿!*[SiaVEVO](https://www.youtube.com/channel/UCmKdSrwf1e8coqAzUsrVHZw):个人非常喜欢，视频质量感人，引人深思###连读技巧*[元音连读](https://mp.weixin.qq.com/s?__biz=MzI5ODE3NDQ0OQ==&mid=100000160&idx=1&sn=c7247b9fadb68c91d6338200d13c08d3&scene=19#wechat_redirect),若单词末和单词头是元音标相邻,则再其间加上`/y/`或者`/w/`(哪个顺畅读哪个)*[辅音连读]*[d-you](https://mp.weixin.qq.com/s?__biz=MzI5ODE3NDQ0OQ==&mid=100000166&idx=1&sn=69662dcba92ff228c790eea0f70c591d&scene=19#wechat_redirect):`/d/+/j/`连读为`/dʒ/`,`d-you`的连读音标为`didʒu`,Forexample:woul`dy`ou*[s-you](https://mp.weixin.qq.com/s?__biz=MzI5ODE3NDQ0OQ==&mid=100000175&idx=1&sn=ae7480dc72f5f44d60dab9d2ac73de6b&scene=19#wechat_redirect):辅音`/s/`与`/j/`连读时,被同化为`/∫/`,Forexample:mis`sy`ou、cros`sy`ourmind*[t-you](https://mp.weixin.qq.com/s?__biz=MzI5ODE3NDQ0OQ==&mid=100000252&idx=1&sn=073056ac9cf5880748031cc6b797a53d&scene=19#wechat_redirect):辅音`/t/`与`/j/`连读时，被同化为`/t∫/`,Forexample:ge`ty`ou、withou`ty`ou*[z-you](https://mp.weixin.qq.com/s?__biz=MzI5ODE3NDQ0OQ==&mid=100000271&idx=1&sn=af737ffae12ad46bc522acd38d3d258e&scene=19#wechat_redirect):辅音`/z/`与`/j/`连读时，被同化为`/ʒ/`,Forexample:A`su`sual、Iloveyoubecau`sey`ouareyou.*`wanna`*非正式情景下，wanna常用来代替wantto或wanta.*eg:Iwannahearhimsay*`gonna`*口语中,gonna常常用于代替goingto*Nothing'sgonnachangemyloveforyou.*I'mnotgonnamissyou.*`gotta`*口语中，gotto常常缩写为gotta,和have/hasto意思接近;表示不得不、必须。*`kinda`*在非正式情景中,kindof可以用`kinda`代替。*`'cause/'cos`*在口语中,because常常简略为`'cause/'cos`。*`ain’t`*口语中,是amnot/isnot/arenot/havenot/hasnot/willnot的缩写。-[][learningEnglishthroughlisteningtomusic](http://mp.weixin.qq.com/mp/homepage?__biz=MzI5ODE3NDQ0OQ==&hid=2&sn=9b6dd88b8303196473c2a6c28b995c42&scene=25#wechat_redirect):当前看到第14节###resource-[English-level-up-tips-for-Chinese](https://github.com/byoungd/English-level-up-tips-for-Chinese):github16kstar.-[gitbook](https://byoungd.gitbook.io/english-level-up-tips/)"},{name:"oh-my-zsh.md",path:"/BasicSkill/efficiency/oh-my-zsh.md",type:"file",mdconf:{abbrlink:"lsuxkvce"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1556,extension:".md",relative:"/BasicSkill/efficiency/oh-my-zsh.md",isEmpty:!1,content:"\x3c!--abbrlink:lsuxkvce--\x3e###oh-my-zsh在Unix/Linux的世界里，人机交互的工具就是shell了，由于各个发行版的系统默认shell都是bash，所以bash是最为人所知的。其实还有一款效率远远超过bash的shell，叫做zsh。其实zsh在1990年的时候就出现了，只比bash晚一年，而且zsh在bash的基础上做了很多功能上、性能上的改进。zsh有很多bash所没有的功能，但是zsh的初期配置太过繁琐，流行率一直不高，直到github上[oh-my-zsh](https://github.com/ohmyzsh/ohmyzsh)项目的出现，使大家使用zsh的便捷性大大提高，从macOSCatalina版开始默认使用zsh，使得zsh得到了更加广泛的关注。现在KailLinux也默认是使用zsh。###查看当前shell```bashecho$SHELL#返回:/bin/bash```###安装zshUbuntu:```bashsudoaptinstallzsh```###设置zsh为默认shell```bashsudosusudochsh-s/bin/zshecho$SHELL#返回:/bin/zsh```###安装oh-my-zsh```bashsh-c\"$(wget-O-https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"```###oh-my-zsh常见快捷键*take:创建一个文件夹并进入该文件夹>[oh-my-zsh常见快捷键](https://github.com/robbyrussell/oh-my-zsh/wiki/Cheatsheet)###快捷git命令查阅```bashcat~/.oh-my-zsh/plugins/git/git.plugin.zsh```一些常用命令:```bashga.&gcmsg'..'&gpgst===gitstatusgco===gitcheckoutgcb===gitcheckout-bgb===gitbranch```"},{name:"omniGraffle流程图.md",path:"/BasicSkill/efficiency/omniGraffle流程图.md",type:"file",mdconf:{abbrlink:"o3h6kdg8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:147,extension:".md",relative:"/BasicSkill/efficiency/omniGraffle流程图.md",isEmpty:!1,content:"\x3c!--abbrlink:o3h6kdg8--\x3e###流程图相关操作*cmd+d:复制在图形的4个边都可进行磁性链接:Edit-magnets-position"},{name:"如何进行code-review.md",path:"/BasicSkill/efficiency/如何进行code-review.md",type:"file",mdconf:{abbrlink:"4b2hs2y1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:122,extension:".md",relative:"/BasicSkill/efficiency/如何进行code-review.md",isEmpty:!1,content:"\x3c!--abbrlink:4b2hs2y1--\x3e[如何codereview](https://dev.to/jnschrag/10-lessons-learned-conducting-code-reviews-5di6)"},{name:"沟通的智慧.md",path:"/BasicSkill/efficiency/沟通的智慧.md",type:"file",mdconf:{abbrlink:"cazfwhy6"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1668,extension:".md",relative:"/BasicSkill/efficiency/沟通的智慧.md",isEmpty:!1,content:"\x3c!--abbrlink:cazfwhy6--\x3e###场景组内有两个人,在一堆任务中部分任务是双方都想做的,部分任务是双方都不想做的。这种情况该如何处理？解决方法:一个人分任务,另一个人挑任务。###兵长语录在团队内建立「反馈」机制，通过'做事儿'的方式，逐步形成自己的方法论和节奏。要刻意锻炼划分问题、达成共识的沟通技巧。劝君：莫论阳春白雪，更喜闻下里巴人蹙蹙靡骋，字字斟酌，不若侃侃如也，融融自乐怡然佳句，返璞去饰，贵「真」矣！*盘点`价值`,探索抓手;*目标量化,快速试错;*专项投入,做深做透;*定期复盘,以终为始;####如无必要,勿增实体如何根据团队主要目标制定项目目标呢？其中一个有效方法是：多问几个`为什么`。*xxx解决了项目或团队中遇到的什么问题（`现状分析，基础质量，迭代效率`）？*如果不投入人力研发xxx，会遇到哪些问题（`场景演绎`）？*研讨会开下来，框架使用者反馈如何（`合作方反馈，满意度`）？*有多少团队/平台/业务线/项目可能使用xxx（`调用量`）？他们为什么愿意用，我们如何推广（`影响力`）？*xxx框架有哪些竞品？是否有替代品（`行业价值`）？*一期项目开发的里程碑是什么（`指标与进展`）？做到最终形态项目是怎样的（`「终局观」意识`）？###个人感悟多使用小黄鸭笔记法,就能理出眉目,理逻辑的时候可能觉得浪费时间,但是这往往是解决问题最高效的方法。"},{name:"重构改善既有代码的设计.md",path:"/BasicSkill/efficiency/重构改善既有代码的设计.md",type:"file",mdconf:{abbrlink:"wqq5fekb"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1487,extension:".md",relative:"/BasicSkill/efficiency/重构改善既有代码的设计.md",isEmpty:!1,content:"\x3c!--abbrlink:wqq5fekb--\x3e###重构改善既有代码的设计本文是重构改善既有代码的设计阅读笔记###重构与性能优化*重构:目标是更易理解;(面向人)*性能优化:目标是使程序运行更快;(面向机器)###重构的好处1.帮助快速找到bug2.提高编程速度###重构手段####提炼函数(ExtractFunction)背景:一整段函数不利于阅读;方式:按语义进行重构,将不利于阅读的函数其拆分成小份,并给它们取上恰当的名字以便于阅读;####内联函数(InlineFunction)背景:函数拆得太细,和提炼函数相反的一种重构手段;方式:可以逐行替换;####函数重命名当希望修改的函数名存在大量使用时,可以采用渐进式的做法(旧代码调用旧函数,旧函数调用新函数)对函数重命名:```jsfunctioncircum(radius){return2*Math.PI*radius}``````jsfunctioncircum(radius){returncircumference(radius)}functioncircumference(radius){return2*Math.PI*radius}```>如何给一个function起好名字:先给function写一段注释,再把该注释压缩为函数的名字。####统一访问原则```jsclassTest{a(){return'a'}getb(){return'b'}}vartest=newTest()test.a()//'a'test.b//'b'```推崇`get`的写法,用户调用该类的时候无需关系是字段还是推演计算的值。当前阅读到:拆分阶段。"}],type:"directory",size:19255},{name:"html",path:"/BasicSkill/html",children:[{name:"Know_About_HTML.md",path:"/BasicSkill/html/Know_About_HTML.md",type:"file",mdconf:{abbrlink:"u873wh2i"},birthtime:"2021-12-08",mtime:"2021-12-08",size:805,extension:".md",relative:"/BasicSkill/html/Know_About_HTML.md",isEmpty:!1,content:'\x3c!--abbrlink:u873wh2i--\x3e###ReadingtheHTMLintheMDN![](http://with.muyunyun.cn/6ffc01e7309a9456198b4c3336d23fda.jpg)*Contentcategories;*Permittedcontent;*Tagomission:ifthestartorendtagcanbeomit;*Permittedparents;*PermittedARIAroles;*DOMinterface;###Contentcategories![](http://with.muyunyun.cn/4bd17ab21f9619c48f08f3d6092d1db9.jpg-400)###Question1:Whatistheheightofspan?```html<spanstyle="font-size:16px;line-height:1">hello</span>```From[RulesBetweenBlockElementsAndInlineBlocks](https://web.stanford.edu/class/cs193x/lectures/05/block-inline#height-and-width-of-inline-elements),wecanlearnthat`youcan\'tsetanywith/height/line-heightcsspropertytoinline-element.`Sotheheightofspanisdependeonthedefaultbrowser.'}],type:"directory",size:805},{name:"http",path:"/BasicSkill/http",children:[{name:"cross-domain.md",path:"/BasicSkill/http/cross-domain.md",type:"file",mdconf:{abbrlink:"j7uygw6y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:10555,extension:".md",relative:"/BasicSkill/http/cross-domain.md",isEmpty:!1,content:"\x3c!--abbrlink:j7uygw6y--\x3e###跨域二三事![](http://oqhtscus0.bkt.clouddn.com/62b89b89373dc86916a60efc28bdd15e.jpg-muyy)跨域是日常开发中经常开发中经常会接触到的一个重难点知识，何不总结实践一番，从此心中对之了无牵挂。###同源策略之所以会出现跨域解决方案，是因为同源策略的限制。同源策略规定了如果`两个url的协议、域名、端口中有任何一个不等，就认定它们跨源了`。比如下列表格列出和`http://127.0.0.1:3000`比较的同源检测的结果，>因为跨域的前置条件是两个url,所以跨域一般是针对`客户端场景`。|url|结果|原因||:-------------------------:|:---:|:------:||http://127.0.0.1:3000/index|同源|||https://127.0.0.1:3000|跨源|协议不同||https://localhost:3000|跨源|域名不同||http://127.0.0.1:3001|跨源|端口不同|那跨源有什么后果呢?归纳有三*不能获取Cookie、LocalStorage、IndexedDB;*不能获取dom节点;*不能进行一般的Ajax通信;跨域解决方案的出现就是为了解决以上痛处。###JSONP跨域提到JSONP跨域，不得不先提到`script`标签，和`img`、`iframe`标签类似，这些标签是不受同源策略限制的，JSONP的核心就是通过动态加载script标签来完成对目标url的请求。先来看一段JSONP调用的`Headers`部分，字段如下：```httpRequestURL:http://127.0.0.1:3000/?callback=handleResponseRequestMethod:GETStatusCode:200OKRemoteAddress:127.0.0.1:3000```可以很鲜明地发现在`RequestURL`中有一句`?callback=handleResponse`，这个callback后面跟着的handleResponse即回调函数名（可以任意取），服务端会接收到这个参数然后拼接成形如`handleResponse(JSON)`的形式返还给前端(这也是JSONP==JSONwithpadding的原因吧)，如下图，这时候浏览器就会自动调用我们事先定义好的handleResponse函数。![](http://oqhtscus0.bkt.clouddn.com/3a484a1ca0fbb4be46fed582828c5847.jpg-200)前端代码示例：(源为http://127.0.0.1:3001)```jsfunctionhandleResponse(res){console.log(res)//{text:\"jsonp\"}}constscript=document.createElement('script')script.src='http://127.0.0.1:3000?callback=handleResponse'document.head.appendChild(script)```服务端代码示例：(源为http://127.0.0.1:3000)```jsconstserver=http.createServer((req,res)=>{if(~req.url.indexOf('?callback')){//简单处理JSONP跨域的时候constobj={\"text\":'jsonp',}constcallback=req.url.split('callback=')[1]constjson=JSON.stringify(obj)constbuild=callback+`(${json})`res.end(build)//这里返还给前端的是拼接好的JSON对象}});```可以看出JSONP具有直接访问响应文本的优点，但是要想确认JSONP是否请求失败并不容易，因为script标签的onerror事件还未得到浏览器广泛的支持，此外它仅能支持GET方式调用。###CORS跨域CORS(Cross-OriginResourceSharing)可以理解为加强版的Ajax，也是目前主流的跨域解决方案。它的核心思想即`前端与后端进行Ajax通信时，通过自定义HTTP头部设置从而决定请求或响应是否生效`。比如前端代码(url为http://127.0.0.1:3001)写了段Ajax，代码如下：```jsconstxhr=newXMLHttpRequest()xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status>=200&&xhr.status<300||xhr.status===304){console.log('responseTesx:'+xhr.responseText)}}}xhr.open('get','http://127.0.0.1:3000',true)xhr.send()```因为端口不一致的关系这时候导致不同源了，这时候会在RequestHeaders中发现多了这么一行字段，```httpOrigin:http://127.0.0.1:3001```而且控制台中会报出如下错误:```httpFailedtoloadhttp://127.0.0.1:3000/:Responsetopreflightrequestdoesn'tpassaccesscontrolcheck:No'Access-Control-Allow-Origin'headerispresentontherequestedresource.Origin'http://127.0.0.1:3001'isthereforenotallowedaccess.```这时候就需要在服务端设置字段`Access-Control-Allow-Origin`，它的作用就是设置允许来自什么源的请求，如果值设置为`*`，表明允许来自任意源的请求。服务端代码示例如下：```jshttp.createServer((req,res)=>{res.setHeader('Access-Control-Allow-Origin','http://127.0.0.1:3001')//设置允许来自http://127.0.0.1:3001源的请求})```CORS分为简单请求以及非简单请求。可以这么区分，如果请求方法为`POST`、`GET`、`HEAD`时为简单请求，其它方法如`PUT`、`DELETE`等为非简单请求，如果是非简单请求的话，可以在chrome的Network中看到多了一次`RequestMethod`为`OPTIONS`的请求。如下图:![](http://with.muyunyun.cn/f397ac2c565828f38516c8be2ebc1b4b.jpg-400)可以把这个请求称为预请求，用白话文翻译下，浏览器询问服务器，'服务器大哥，我这次要进行PUT请求，你给我发张通行证呗'，服务器大哥见浏览器小弟这么殷勤，于是给了它发了张通行证，叫作`Access-Control-Allow-Methods:PUT`，接着浏览器就能愉快地进行PUT请求了。服务端代码示例如下：```jshttp.createServer((req,res)=>{res.setHeader('Access-Control-Allow-Origin','http://127.0.0.1:3001')res.setHeader('Access-Control-Allow-Methods','http://127.0.0.1:3001')})```聊完简单请求和非简单请求的区别后，再来看看如何利用CORS实现Cookie的跨域传送，首先在服务器随意设置个Cookie值下发到浏览器，如果非跨域的情况下，浏览器再次请求服务器时就会带上服务器给的Cookie，但是跨域的时候怎么办呢？不卖关子了，需在服务端设置`Access-Control-Allow-Credentials`字段以及在客户端设置`withCredentials`字段，两者缺一不可，代码如下：前端代码示例：(源为http://127.0.0.1:3001)```jsconstxhr=newXMLHttpRequest()...xhr.withCredentials=true//传cookie的时候前端要做的xhr.open('get','http://127.0.0.1:3000',true)xhr.send()```服务端代码示例:(源为http://127.0.0.1:3000)```jsconstserver=http.createServer((req,res)=>{res.setHeader('Access-Control-Allow-Origin','http://127.0.0.1:3001')//必填：接受域的请求res.setHeader('Set-Cookie',['type=muyy'])//下发cookieres.setHeader('Access-Control-Allow-Credentials',true)//②选填：是否允许浏览器传cookie到服务端，只能设置为trueres.end('datefromcors')})```至此介绍了几个比较关键HTTP头在CORS中的实践运用，更为详细的资料可以参阅[Cross-OriginResourceSharing](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS)，最后概括下CORS的优缺点，优点是支持所有类型的HTTP方法，缺点是有些老的浏览器不支持CORS。###hash+iframe在文章最开始提到过iframe标签也是不受同源策略限制的标签之一，hash+iframe的跨域核心思想就是，在A源中通过动态改变iframe标签的src的哈希值，在B源中通过`window.onhashchange`来捕获到相应的哈希值。思路不难直接上代码：A页面代码示例(源为http://127.0.0.1:3000)```html<body><iframesrc=\"http://127.0.0.1:3001\"></iframe><script>constiframe=document.getElementsByTagName('iframe')[0]iframe.setAttribute('style','display:none')constobj={data:'hash'}iframe.src=iframe.src+'#'+JSON.stringify(obj)//①关键语句<\/script></body>```B页面代码示例(源为http://127.0.0.1:3001)```jswindow.onhashchange=function(){//①关键语句console.log('来自page2的代码'+window.location.hash)//来自page2的代码#{\"data\":\"hash\"}}```刷新A页面，可以发现在控制台打印了如下字段，至此实现了跨域。```js来自page2的代码#{\"data\":\"hash\"}```这种方式进行跨域优点是支持页面和页面间的通信，缺点也是只支持GET方法和单向的跨域通信。###postMessage为了实现跨文档传送(cross-documentmessaging)，简称XDM。HTML5给出了一个api——postMessage，postMessage()方法接收两个参数：`发送消息`以及`消息接收方所在域的字符串`。代码示例如下:A页面代码示例(源为http://127.0.0.1:3000)```html<body><iframesrc=\"http://127.0.0.1:3001\"></iframe><script>constiframe=document.getElementsByTagName('iframe')[0]iframe.setAttribute('style','display:none')iframe.onload=function(){//此处要等iframe加载完毕，后续代码才会生效iframe.contentWindow.postMessage('asecret','http://127.0.0.1:3001')}<\/script></body>```B页面代码示例(源为http://127.0.0.1:3001)```jswindow.addEventListener('message',function(event){console.log('Frompage1'+event.data)console.log('Frompage1'+event.origin)},false)```刷新A页面，可以发现在控制台打印了如下字段，至此实现了跨域。```Frompage1asecretFrompage1http://127.0.0.1:3000```这种跨域方式优点是是支持页面和页面间的双向通信，缺点也是只能支持GET方法调用。###WebSocketsWebSockets属于HTML5的协议，它的目的是在一个持久连接上建立全双工通信。由于WebSockets采用了自定义协议，所以优点是客户端和服务端发送数据量少，缺点是要额外的服务器。基础的使用方法如下：```jsconstws=newWebSocket('ws://127.0.0.1:3000')ws.onopen=function(){//连接成功建立}ws.onmessage=function(event){//处理数据}ws.onerror=function(){//发生错误时触发，连接中断}ws.onclose=function(){//连接关闭时触发}```当然一般我们会使用封装好WebSockets的第三方库[socket.io](https://github.com/socketio/socket.io)，这里具体就不展开了。###项目地址前文所述五种跨域实践的demo已上传至[cross-domain](https://github.com/MuYunyun/cross-domain)，前端环境基于create-react-app搭建，后端环境用node搭建。当然跨域方式还有一些其他方式的实现，后续酌情慢慢填坑~"},{name:"http.md",path:"/BasicSkill/http/http.md",type:"file",mdconf:{abbrlink:"mx6wr51s"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2347,extension:".md",relative:"/BasicSkill/http/http.md",isEmpty:!1,content:"\x3c!--abbrlink:mx6wr51s--\x3e###HTTP协议主要特点无状态,无连接###HTTP报文组成部分*请求报文:请求行请求头空行请求体*响应报文:响应行响应头空行响应体>请求行里包括请求方法,url,http版本;响应行里包括状态码,http版本,状态说明;###HTTP协议类:POST和GET的区别*Get有长度限制,Post没有*Get请求,倒退按钮是无害的,Post会重新发起请求*Get会主动缓存,Post不会*Get请求通过url传递,Post通过requestbody传递###HTTP状态码>1xx:*101:需要切换协议(使用Websocket开始阶段是http协议,中间切换到WebSocket协议,此时返回的状态码是101表示后续协议还需切换)>2xx:成功状态码>3xx:重定向状态码*301:永久重定向*302:临时重定向*304:notModified(永久重定向中搜索引擎不会保留原有的地址,临时重定向中搜索引擎会保留原有的地址)>4xx:客户端错误状态码*400:BadRequest(错误的请求)*401:Unauthorized(未认证)*403:ForbiddenRequest(拒绝访问)*404:NotFound(未找到)>5xx:服务端错误状态码###HTTP事物时延DNS解析、连接、传输、处理。###HTTP连接管道化连接:依赖于Http/1.1是持久连接的。###强缓存和协商缓存>强缓存是不经过服务器的,协商缓存是经过服务器的*强缓存相关字段(Expires(响应头),Cache-Control(响应头))*协商缓存相关字段(Last-Modified(响应头),If-Modified-Since(请求头),Etag(响应头),If-None-Match(请求头))如下为HTTP缓存机制流程图:![](http://with.muyunyun.cn/7aa47d51ccc2fe5a66f75c542f014f2e.jpg-400)###HTTP2.0*二进制流*多路复用*资源推送优先级###HTTPS客户端和服务端都有自己的公钥和私钥,下面来表述下HTTPS的双向加密建立。1.客户端通知服务端建立请求2.服务端发送公钥3.客户端发送'验证串+服务端公钥'&&客户端公钥4.服务端使用私钥取得验证串与客户端公钥一起发送给客户端5.客户端使用客户端私钥来获取验证串是否匹配####协议解析多了一个`upgrade-insecure-requests`的字段。该字段让页面打开后的请求自动变为`https`。"},{name:"http权威指南.md",path:"/BasicSkill/http/http权威指南.md",type:"file",mdconf:{abbrlink:"25mom817"},birthtime:"2021-12-08",mtime:"2021-12-08",size:58,extension:".md",relative:"/BasicSkill/http/http权威指南.md",isEmpty:!1,content:"\x3c!--abbrlink:25mom817--\x3eToREAD:116*Web服务器"},{name:"浏览器相关知识点.md",path:"/BasicSkill/http/浏览器相关知识点.md",type:"file",mdconf:{abbrlink:"knamutmb"},birthtime:"2021-12-08",mtime:"2021-12-08",size:438,extension:".md",relative:"/BasicSkill/http/浏览器相关知识点.md",isEmpty:!1,content:"\x3c!--abbrlink:knamutmb--\x3e>题目:浏览器从加载页面到渲染页面的过程加载阶段:*dns服务器将域名解析成ip*向这个ip发送http请求*服务器处理返回的相应的http请求*浏览器得到返回的内容渲染阶段:*将HTML渲染成DOM*将CSS渲染成CSSOM*将DOM和CSSOM合并成RenderTree*根据RenderTree开始渲染和展示*遇到script、link会阻塞"},{name:"网络协议.md",path:"/BasicSkill/http/网络协议.md",type:"file",mdconf:{abbrlink:"gmwc6tcx"},birthtime:"2021-12-08",mtime:"2021-12-08",size:639,extension:".md",relative:"/BasicSkill/http/网络协议.md",isEmpty:!1,content:"\x3c!--abbrlink:gmwc6tcx--\x3e###七层协议*应用层:http*表示层:加密*会话层:RPC*传输层:TCP、UDP-----*网络层:IP地址*数据链路层*物理层###TCP特性关于可靠,有以下两点:*按序传输*可以将数据拆分成任意大小的包进行传输###TCP和UDP的区别TCP(TransmissionControlProtocal):传输控制协议UDP(UserDataProtocal):用户数据报协议*TCP是连接的,UDP是无连接的;*TCP对系统资源消耗相对更多,UDP对资源消耗相对较少;*TCP能确保数据的正确性,UDP可能丢包而且包的顺序性也不能保证;"}],type:"directory",size:14037},{name:"life",path:"/BasicSkill/life",children:[{name:"Alexa.md",path:"/BasicSkill/life/Alexa.md",type:"file",mdconf:{abbrlink:"dlr3zqap"},birthtime:"2021-12-08",mtime:"2021-12-08",size:156,extension:".md",relative:"/BasicSkill/life/Alexa.md",isEmpty:!1,content:"\x3c!--abbrlink:dlr3zqap--\x3e###Alexa相关资源*[Alexa站点](https://pitangui.amazon.com/)*[Alexa使用](https://www.jianshu.com/p/a04fb4c4ac62)"},{name:"books",path:"/BasicSkill/life/books",children:[{name:"the_little_prince.md",path:"/BasicSkill/life/books/the_little_prince.md",type:"file",mdconf:{abbrlink:"h6tirwxs"},birthtime:"2021-12-08",mtime:"2021-12-08",size:291,extension:".md",relative:"/BasicSkill/life/books/the_little_prince.md",isEmpty:!1,content:"\x3c!--abbrlink:h6tirwxs--\x3e###TheLittlePrinceI`asktheindulgenceofthechildren`whomayreadthisbookfor`dedicatingitto`agrownup.*dedicate:GIVETIME/ENERGY###I###译文链接*[小王子](https://www.zhihu.com/pub/reader/119964114/chapter/1288857467019948032)"},{name:"the_mythical_man_month.md",path:"/BasicSkill/life/books/the_mythical_man_month.md",type:"file",mdconf:{abbrlink:"sqxxa3d7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4520,extension:".md",relative:"/BasicSkill/life/books/the_mythical_man_month.md",isEmpty:!1,content:"\x3c!--abbrlink:sqxxa3d7--\x3e###人月神话*焦油坑*程序->编程系统产品`成本x9`*编程产品(通用化、测试、文档、维护)`成本x3`*编程系统(接口系统集成)`成本x3`*编程的乐趣*创建事物的快乐;*开发对其他人有用的东西的乐趣;*组装零部件拼凑成类似迷宫的乐趣;*面对不重复的任务,不断学习的乐趣;*工作在如此易于驾驭的介质上的乐趣——纯粹的思维活动;*固有的苦恼*由其它人设定目标;*笔者的观点:这点其实是可以转移的,增强主管能动性。*任何创造性活动都伴随着枯燥艰苦的劳动;*人们通常期望项目接近结束时,软件项目能收敛得快一些,然而,情况却是越接近完成,收敛得越慢。*产品在完成前总面临着陈旧过时的威胁。*人月神话(`人月是危险和带有欺骗性的神话,因为它暗示人员数量和时间是可以相互替换的`)*`缺乏合理的进度排期`是造成项目滞后的最主要原因。1.错误的假设「一切到将运作良好」。2.错误的假设「人和月可以互换」,即错误的认为开发人数越多,进度越快。3.未给系统测试预留时间。*1⁄3计划*1⁄6编码*1⁄4构件测试和早期系统测试*1⁄4系统测试,所有的构件已完成4.对进度缺少跟踪和监督。5.当意识到进度偏移时,下意识的反应是增加人力。*外科手术队伍*优秀的专业程序员的生产率是较差的程序员的10倍。*一位首席程序员,类似于外科手术队伍的团队架构提供了一种方法:既能获得由少数头脑产生的产品完整性,又能得到多位协助人员的总体生产率,还彻底地减少了沟通的工作量。*贵族专制、民主政治与系统设计*`概念的完整性`是系统设计中最重要的考虑因数。其设计必须由一个人或具有共识的小型团队完成。*功能与理解上的复杂程度的比值(`易用性`)才是系统设计的最终测试标准。*纪律、规则对行业是有益的。外部的体系结构规定实际上是增强,而不是限制实现小组的创造性。*体系结构(architecture)、设计实现(implementation)、物理实现(realization)的许多工作可以并行。*画蛇添足*`尽早交流`与`持续沟通`使结构师有较好的成本意识,同时使开发人员获得对设计的信心。*自律——尤其是在设计第二个系统时。*往往设计第一个系统时会比较谨慎,其中碰见的一些装饰、润色功能往往会被安排至第二个系统中,此时要格外谨慎。*贯彻执行*`形式化地设计定义`保证精确性;`记叙性定义`来加深理解。*周会、年会*为什么巴比伦塔会失败*巴比伦塔项目的失败是因为缺乏交流以及交流的结果——组织。*增加沟通、`交流`频次*非正式地进行`简要技术陈述的常规项目会议`*共享的`正式项目工作手册`*电话、email*组织架构*团队组织的目标是为了减少必要的交流和协作量。*为了减少交流,组织结构包括了`人力划分`和`限定指责范围`。*组织中的交流是网状而不是树状,以克服树状组织结构中交流缺乏的困难。*个人理解:扁平化管理*每个子项目具有两个领导角色——产品负责人、技术主管。(产品负责人和技术主管可以是同个人,但这两个角色的职能有很大的区别)*胸有成竹*程序开发的复杂度随程序规模的而指数增长。*未雨绸缪*系统的丢弃和重新设计可以一步完成,也可以一块块地实现,但这是`必须完成`的步骤。*为舍弃而计划。*干将莫邪*目标机器的使用需求量刚开始非常低,突然出现爆发性的增长,接着趋于平缓。*整体部分*剔除bug的设计*测试规格说明(文档)*`自上而下`的设计(精化步骤)*没有银弹*现代软件系统中无法规避的内在特性*复杂度*保持一致性(导致复杂度)*可变性*不可见性*应对措施*借力(开源、第三方专业产品)*需求精练、`快速原型化`来验证*`增量`开发*识别、培养顶级设计人员"},{name:"关键沟通.md",path:"/BasicSkill/life/books/关键沟通.md",type:"file",mdconf:{abbrlink:"76mqkl2b"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1424,extension:".md",relative:"/BasicSkill/life/books/关键沟通.md",isEmpty:!1,content:"\x3c!--abbrlink:76mqkl2b--\x3e###关键沟通>拷问现实,真诚地表达自我,给与他人纯粹的关注,带着勇气与同理心对峙问题、听从直觉。*原则一:拿出勇气,`拷问现实`*官方真相&战场真相,要分析`战场真相`。*成功的另一种定义:我是什么样的人与我过着什么样的生活相一致的程度。*原则二:`走出自我`,投入对话,让对话变得真实。*生活中的问题很少与别人有关,基本全部和自己有关。*原则三:`保持专注`,不分心。*原则四:今天就解决你最棘手的问题。*场景:下属很有才华,但为人太露锋芒,该如何沟通?*误区开场白:*最近进展怎么样?*用恭维拉开对峙*信息表达太过委婉*对话前为对方的话写剧本*咆哮与逃跑*练习开场白(时间控制在1分钟之内):1.界定问题2.选择一个具体例子,阐述你想要改变的行为与情况3.描述你对这个问题的感受4.澄清其中的利害关系5.说明你对这个问题该负说明责任6.表明你解决这个问题的愿景7.邀请对方回应*原则五:听从自己的直觉。*说话不是道出所知,说话是弄清我到底知道什么。*原则六:为自己的情绪尾迹承担责任*原则七:让沉默施展力量"},{name:"写给大家看的设计书.md",path:"/BasicSkill/life/books/写给大家看的设计书.md",type:"file",mdconf:{abbrlink:"u44u2g4w"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2700,extension:".md",relative:"/BasicSkill/life/books/写给大家看的设计书.md",isEmpty:!1,content:"\x3c!--abbrlink:u44u2g4w--\x3e###四大基本原则*`亲密性`*目的:实现`组织性`;*实现方式:将相关联的元素分在一组以建立更近的亲密性。*要避免的问题:一个页面上有太多孤立的元素。*`对齐`*目的:使页面`统一而有条理`;*要避免的问题:要避免在页面上混合使用多种对齐方式。优先使用`左对齐`、`右对齐`而不是`居中对齐`。*`重复`*目的:使页面`统一`,并增强视觉效果。*实现方式:把现有的一致性更向前推进一步。最初,可以只是找出现有的重复,然后将其加强。熟悉了这种思想之后,再开始创建新的重复元素。*要避免的问题:要避免太多地重复一个元素。*`对比`*目的:`增强页面的效果`,有助于信息的`组织`;###颜色运用*`色轮`*`概念`*`三原色`:红、黄、蓝*`三间色`*`第三色`*`关系`*`互补`*`三色组`*`分裂互补三色组`*`类似色`*>采用以上几种关系的颜色都会比较和谐。*`亮色与暗色`*亮色:加白*暗色:加黑*`单色`*`暖色与冷色`*暖色:加红、加黄*冷色:加蓝*`CMYK`:Cyan(青)、Magenta(品红)、Yellow、Key(通常是黑色)*原理:光反射*应用:印刷品*`RGB`*原理:显示器直接传入眼睛的光*应用:显示器###字体设计*字体*特殊符号*开单引号`‘`:option+]*闭单引号`’`:option+shift+]*开双引号`“`:option+[*闭双引号`”`:option+shift+[*一字线`–`:option+-*破折号`—`:option+shift+-*省略号`…`:option+;*分数斜线`1⁄2`:option+shift+!*按下`fn`打开字符检查器*重音符号:按下fn打开字符检查器,选择左侧边栏上的拉丁语打卡重音符号列表*`字体类别`*字体间的关系*协调*冲突(通常由相似的字体造成)*对比*大小、粗细、结构(衬线体/无衬线体)、形状(大小写)、方向、颜色*种类*`Oldstyle`(旧式体)*![](http://with.muyunyun.cn/af9d00410581710e48fdd2b4854c84b5.jpg)*使用场景:大量文本*`Mordern`(现代体)*`Slabserif`(粗衬线体)*使用场景:儿童图书*`Sansserif`(无衬线体)*`Script`(手写体)*`Decorative`(花体)*字体对比*衬线体vs无衬线体*全大写vs全小写*罗马体vs斜体*罗马体表示所有字体中从上到下竖直的字体*方向对比*颜色对比"},{name:"未来世界的幸存者.md",path:"/BasicSkill/life/books/未来世界的幸存者.md",type:"file",mdconf:{abbrlink:"zm82bprc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2238,extension:".md",relative:"/BasicSkill/life/books/未来世界的幸存者.md",isEmpty:!1,content:"\x3c!--abbrlink:zm82bprc--\x3e###未来世界的幸存者*现实篇*世界会走向哪里?*白领岗位的消亡*case:*「税务顾问」岗位在美国消亡。*「银行职员」、「信贷员」、「风险控制」、「信用记录」、「外汇交易」。*未来优势的岗位*人性化与人格魅力。*创意。*决策和领导力。*为什么世界上没有安全的工作?*穷忙的人生*弱者越弱,越来越惨*为什么你可以不读大学*我们的学习和教育制度已经完全过时，传授的知识有用的少，没用的多；传授方法仍然依靠灌输和记忆，而不是启发和理解，极其低效，浪费学生的时间，打击学习热情，磨灭对知识的兴趣;*职业篇*为什么雇佣制度对工人不利*母鸡与前端工程师*你应该选择，那些让你产生最大兴趣和热情的职业。因为未来所有行业，低端的、低技能的岗位都会被机器取代，只有技能最强、最有创造性的人不会被淘汰。兴趣，也只有兴趣，才会让你产生不倦的热情，钻研下去，变得更优秀。*为什么退休金是靠不住的*方法篇*为什么创业。*如果你不喜欢自己现在的状况,又看不到希望的话,创业是一条可以考虑的路。*“自我雇佣”*如何确定创业方向*项目计划书1、给谁用?2、他们用这个产品来解决什么问题?3、这个问题对他们而言有多重要?4、我们的方法是否足够简单方便?5、他们要付出的代价与所得是否匹配?*行为准则*比完美更重要的是完成。(Doneisbetterthanperfect.)*快速行动，破除陈规。(Movefastandbreakthings.)*保持专注，持续发布。(Stayfocusedandkeepshipping.)*不要在功能上竞争*市场定位更重要*案例篇*个性也是一种竞争力*papi酱*要聊天,先付费*即将来临的卖文时代*微媒体时代*大媒体->微媒体*未来的娱乐业*技术教育的兴起*未来篇*高级人类的崛起"},{name:"黑客与画家.md",path:"/BasicSkill/life/books/黑客与画家.md",type:"file",mdconf:{abbrlink:"2rj2qlm2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:537,extension:".md",relative:"/BasicSkill/life/books/黑客与画家.md",isEmpty:!1,content:"\x3c!--abbrlink:2rj2qlm2--\x3e###黑客与画家*hacker*好玩、高智商、探索精神*价值观:分享、民主、自由*为什么书呆子不受欢迎:*10+岁心智的不健全。*中学阶段,「书呆子」不受欢迎。但是小学阶段「书呆子」没啥影响,进入社会后,「书呆子」更受欢迎。*黑客与画家*论述了黑客与画家的一些共同点。*创造性*不能说的话*要多问几个为什么。增加自己判断力。*良好的坏习惯*read52."}],type:"directory",size:11710},{name:"financial.md",path:"/BasicSkill/life/financial.md",type:"file",mdconf:{abbrlink:"dnvrpdfr"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1389,extension:".md",relative:"/BasicSkill/life/financial.md",isEmpty:!1,content:"\x3c!--abbrlink:dnvrpdfr--\x3e###goldprice*4.14371*5.17391*7.15400.85*8.07436*8.12407*10.15404*12.15379myopinion:*360~370buy*415+sell###基金*不定投指数基金。*投资能力本质是`认知的提升`。*如何挑选基金*挑选对应指数*![指数分类](http://with.muyunyun.cn/a21b4868c7b34f5e3c52c6efb0af5bff.jpg)*上证50指数*沪深300指数*中证500指数*创业板指数*常见选择:沪深300指数+中证500指数*参考[买好基金](https://www.howbuy.com/fundtool/filter.htm)*按基金类型筛选、指数型*复制方式:增强型*信息比率:前四分之一*基金评级:晨星评级(支付宝基金页面)###程序员在投资领域的优势与劣势*优势*投资需要持续学习。*数字、计算公式敏感。*量化交易(不是特别清楚,未来可以去了解)。*劣势*容易错失短线交易买入卖出的时机。###投资的几项能力-[]财务报表-[]独立思考投资方向与前景###投资话术https://www.zhihu.com/question/445888287-[]爆仓-[]平仓-[]杠杆-[]做多-[]做空-[]大盘###链接*[基金定投这么好，为什么能坚持下来的人那么少](https://www.zhihu.com/question/267534527/answer/1337504443)"},{name:"hacker-laws.md",path:"/BasicSkill/life/hacker-laws.md",type:"file",mdconf:{abbrlink:"plrro1qk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1752,extension:".md",relative:"/BasicSkill/life/hacker-laws.md",isEmpty:!1,content:"\x3c!--abbrlink:plrro1qk--\x3e*二八法则*90-9-1法则表明，在诸如维基这样的互联网社区中，90%的用户只看内容并不参与互动，9%的用户会参与讨论，而只有1%的用户会创造内容。*破窗效应(TheBrokenWindowsTheory)*破窗理论已应用于软件开发中，它表明劣质代码(或TechnicalDebt)可能会影响后续优化的效率，从而进一步造成代码劣化；随着时间的推移，这种效应将会导致代码质量大幅下降。*布鲁克斯法则(Brooks'sLaw)*谚语九个女人不能在一个月内生一个孩子与布鲁克斯法则同出一辙，特别是某些不可分割或者并行的工作。*人月神话中心主题。*坎宁汉姆定律(Cunningham'sLaw)*在网络上想得到正确答案的最好方法不是提问题，而是发布一个错误的答案。*邓巴数字(Dunbar'sNumber)*邓巴数字是对一个人能够保持稳定社会关系的人数的认知极限——在这种关系中，一个人知道每个人是谁，也知道每个人与其他人的关系如何。邓巴指出，人仅能轻松地维持150个稳定的关系。*和人与人之间稳定的关系一样，开发人员与代码库的关系也需要努力维护。*盖尔定律(Gall'sLaw)*一个切实可行的复杂系统势必是从一个切实可行的简单系统发展而来的。从头开始设计的复杂系统根本不切实可行，无法修修补补让它切实可行。你必须由一个切实可行的简单系统重新开始。*侯世达定律(Hofstadter'sLaw)*即使考虑到侯世达定律，它也总是比你预期的要长。阅读到隐式接口定律###link[link](https://github.com/nusr/hacker-laws-zh)"},{name:"house",path:"/BasicSkill/life/house",children:[{name:"decorate.md",path:"/BasicSkill/life/house/decorate.md",type:"file",mdconf:{abbrlink:"wv43l94h"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5262,extension:".md",relative:"/BasicSkill/life/house/decorate.md",isEmpty:!1,content:"\x3c!--abbrlink:wv43l94h--\x3e###装修*关于居家*找出`核心区`*找出`居心地`*设计不要太满,做七分就好*装修前*施工队好,还是设计师好*结论:`优先选择设计师`*选照片*格局挑与家里差不多的*挑地板颜色与家差不多的*记录家当以作收纳设计*记下自己与家的互动关系*学会听建议,下决定并负责*签了设计约后,要在合同中列明`平面图`、`天花板图`、`水电图`、`立面图`、`厨具图`###装修流程*开始:前期作业*确定格局平面图*灯具配置*家具、建材*步骤一:拆除工程*拆除时需要注意的事情*断水断电断煤气*检查漏水*检查蛀虫*窗框拆除,内角水泥层一起敲*窗外的瓷砖是否敲除,得先告知施工队*拆窗后,要用帆布封窗*消防管线、洒水喷头不能移位或拆除*拆除注意四个坑点*`打地板时,千万小心排粪管`。*策略一:排粪管换不换,要先想清楚,然后拆除、水电与瓦工师傅三方都要知道。*策略二:有状况要与施工队长沟通。*策略三:施工队交接时,要带接手的施工队一起检查。*策略四:看工地时多拍照,每个房间与细节都要拍,日后要检讨工法时,说不定就能派上用场。*`原瓷砖地够平整,可直接铺不地板`*地板名:爱尔兰风铃、圣象地板*铺多层复合或强化复合木地板,原本瓷砖地板只要够平整,可不必拆除;若有瓷砖起鼓变形,仍要拆除。*地板要不要拆除见底,要看铺什么类型的地砖,以及要考量新大门的门槛高度。*跟施工队沟通,要知道的是不同做法会有什么不同的结果。*`千万别乱拆墙,以免结构受损`*`不拆不换的地板、橱柜,通通包好做保护`*瓦楞板+多层板*预算够的话:PVC防潮布+瓦楞板+多层板*`拆除,你该注意的事`*先断水断电断煤气*检查漏水*检查有没有蛀虫*窗框拆除,内角水泥层一起敲*窗外的瓷砖是否敲除,要先告知施工队*拆窗后,要用帆布封窗*步骤二:水电工程*水电安装要注意的事*材料进场的监工*水电预算千万不要省*坑点*防止`漏电断路器被掉包`*`空气开关`*功能:电线短路或电量超载时,它会跳闸。*注意:`要选“CCC”产品`。*`漏电断路器`(近水处需安装)*功能:漏电时,它会跳掉。*注意:`防止用空气开关代替`。*`漏电断路器不要安装总开关`。*确认冷、热水管与电线的位置*灯具、厨具、空调的位置*步骤三:瓦工工程(卫生间防水、贴砖在此阶段)*水泥质量不好、比例不对，易有裂痕。*`调水泥砂浆时，水泥与砂的比例打底1:3，面层1:2`。*面层铺好后要养护，天数要28天（没有这个条件，至少要14天）。*从抛光砖了解不同地砖施工要点。*干铺*适合：地面*优点：砖面平整度高，砖底不易有空隙，不易变形。*缺点：工时较长，工资较高。*其它：大片瓷砖一般用干铺，要加黏着剂。*湿铺*适合：墙面、地面*优点：工时快，工资便宜。*缺点：平整度较差，转内易有空气，日后易起鼓。*地板拆除后，可在墙面标出高度。*砖墙vs.轻钢墙*(砖墙)红砖一定要先浇湿或泡水。*砌墙一定要拉线。*新墙与旧墙之间要打钢筋或植钢筋。*墙不能一天就砌完。*窗户施工要注意以下几个点*窗的四周要填新水泥，接下来要用弹性发泡填缝剂加压灌入窗框与墙体的缝隙。*若拆窗时有拆掉瓷砖，需要把砖给补回来。同时要做泄水坡。*铝窗与外墙间要补玻璃胶。*其它提醒*回填墙壁、地面孔洞时，要注意是否补平。*瓷砖记得留备料，以备日后维修。*步骤四:厨卫工程*卫生间要做防水层*基底层要够平、够干净*防水浆料要“薄涂多层”，等干透才能进行下一道*防水浆料涂完后，养护3~7天才能贴砖*步骤五:木工工程*步骤六:油漆*记得做好保护工程*步骤七:粗略清洁*步骤八:设备进场*步骤九:仔细清洁*步骤十:家具窗帘进场148~241###装修保命符*老房子花在基础工程，新房子花在通风采光与格局。*列出建材与工法，分开计价一项项比。拿到合同时，该注意的事。1.要附图样与报价单。2.追加预算或变更设计要经书面签字同意，才能动工。3.尾款可多留点，验收通过才付尾款。(若没有其他保障，争取到20%)4.防公司倒闭条款(可把设计师个人列为保证人，记得核对姓名与身份证)。5.要定工期、保修期与罚款。"},{name:"shanghai_house_knowledge.md",path:"/BasicSkill/life/house/shanghai_house_knowledge.md",type:"file",mdconf:{abbrlink:"62ujugis"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2416,extension:".md",relative:"/BasicSkill/life/house/shanghai_house_knowledge.md",isEmpty:!1,content:'\x3c!--abbrlink:62ujugis--\x3e*宏观政策与分析*城市定位*上海2035规划*五个中心:国际经济、金融、贸易、航运、科技创新中心*形成"主城区-新城-新市镇-乡村"的市域城乡体系*主城区:中心城以及`宝山`、`闵行`、`虹桥`、`川沙`4个主城片区*新城:`嘉定`、`松江`、`青浦`、`南桥`、`南汇`5个新城*人口目标*2035年:2500万人左右*了解自己的需求*刚需or改善:刚需*居住需求or投资保值需求:居住需求的话就会对于`地段`,`小区`,`户型`等`整体居住条件的考虑和权衡`;如果是投资需求的话,可以看最近几年来年化的投资回报,在过去的15年间,从这个时间尺度看,差不多投资回报在年化`7%-10%`左右。*学区房:no*新房or二手房:todo*老房子or次新房:todo*房产信息渠道*贝壳:大家看到链家在一线城市店铺比较多,可能会觉得贝壳链家的房源可能占市场房源的一半或者更多,其实贝壳链家房源数可能只占到少一部分,并且不同城市有当地区域做的比较好的中介品牌,没有上贝壳,可能在安居客或者幸福里中,甚至只在中介自己的系统中,所以最好多看一些.贝壳比较好的地方是真房源和价格真实,这部分确实是其他几个平台不具有的。*安居客*幸福里APP|字节跳动旗下*兔博士App看成交价走势和一些行情比较好,和上面几家一样,有很多鱼龙混杂的房源。*大房鸭最近在上海到处打广告比较凶的,主打中介费固定且少,不过房源质量和真假还需自己判断。*公众号等自媒体*真叫卢俊：微信号zhenjiaolujun0426,认认真真聊地产,实实在在谈买房。*小胖看房：微信号xiaopangkf,上海新房&二手房权威资讯平台,小胖君（xpkf039）为您提供前滩,内环,中环等热门板块*新房快捷信息,解答您限购,二套,学区房,地铁房,房贷月供,公积金等购房知识问题*魔都房房房：微信号modufff,楼市谈经论道买房大家来说*地段位置###link*[shanghai_house_knowledge](https://github.com/ayuer/shanghai_house_knowledge#321-%E6%9F%A5%E8%AF%A2%E8%87%AA%E5%B7%B1%E7%A4%BE%E4%BF%9D%E7%BC%B4%E7%BA%B3%E6%83%85%E5%86%B5)'},{name:"smart_home.md",path:"/BasicSkill/life/house/smart_home.md",type:"file",mdconf:{abbrlink:"7l6yd69v"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6503,extension:".md",relative:"/BasicSkill/life/house/smart_home.md",isEmpty:!1,content:"\x3c!--abbrlink:7l6yd69v--\x3e###智能家居*网关*设备*`Aqara网关1个`*特性:能接入“米家”APP，还能接入“Homekit”APP*价格:299元*`自动拉窗帘`*设备:*方案一:`Aqara智能窗帘电机1个`*方案二:欧瑞博WIFI版窗帘电机*`自动开空调/热水器`*设备*`AqaraAqara智能墙壁114910A插座114910A插座1个`，用于普通电器小米有品官网、App。(适合装修时安装)*替代插座:米家智能插座(ZigBee版):转接头式插座，直接插在家里原有插座上就能用。*功能:*自动通、断电*定时开关*统计用电量*和其他智能设备联动:比如联动温湿度计，当家里温度超过27°C时，插座通电，于是空调打开。*`Aqara空调伴侣N19916A插座1个`，用于大功率电器*`睡前自动熄灯`*设备:*Aqara智能墙壁开关1个*`零火版`:给开关位置预留零线。*零火版最低功率没有限制。*零火版最高功率2500W，可以接大功率的灯具(比如浴霸灯、LED灯带)。*零火版可以统计电量，即每一路灯用了多少电。*灯光体验优化*让灯光慢慢地暗下来，可以考虑支持调光的、支持接入米家App的智能灯具(小米、yeelight、飞利浦、宜家)。*`进门自动亮灯`*背景:1.晚上一进家门，玄关灯自动打开;人走到客厅或卧室，2分钟后，玄关灯自动关掉。2.半夜口渴进厨房，厨房动自动开灯，喝完水回去睡觉，厨房灯2分钟后自动关掉。*设备:*Aqara智能墙壁开关1个。*Aqara人体传感器1个。*米家门窗传感器1个，149元。*`远程监控家里`*背景:人离开家以后，摄像头开始监控，窗户上的门窗传感器一旦发现异常，摄像头录下视频，发送到手机“米家”App中。*设备:*小米米家智能门锁1个。*小米米家智能摄像机1个，放在门锁附近。*米家门窗传感器1个。*`看电视自动关灯、选节目`*背景:在沙发上坐定，说“小爱同学，看电视”，电视自动打开。同时，客厅主灯关了，氛围等变成暗黄色。*设备:*小米电视1台。*`远程燃气报警`(可以延后安装)*背景:出门在外，一旦有燃气泄漏异常，燃气阀自动关闭，同时手机收到报警。*设备:*烟雾警报器1149###设备清单|设备名|个数|价格(￥)|场景|功能||:----------------------------------------------------------------------------------------------------:|:---:|:-----------:|:--------------------:|:------------------------------------------:||Aqara网关|1|299|房子中心|中心控制||Aqara智能窗帘电机|1|1199|主卧窗帘|卧室自动拉窗帘，`客厅是否需要智能窗帘待讨论`||Aqara空调伴侣|2|169x2=338|客厅、主卧|自动控制空调开关||Aqara智能墙壁插座|?|129x?|代替传统插座|||米家智能插座(ZigBee版)|x|49x?||||Aqara智能墙壁开关(零火版)|4|189x4=756|卧室、客厅、走廊、玄关|自动控制电器运行、停止(亮灯、熄灯)||Aqara人体传感器|2|89x2=178|玄关、厨房|玄关、厨房走廊自动亮灯||米家门窗传感器|1|49|大门|开门自动亮灯、远程监控家里联动||小米米家智能门锁|1|≈2000|大门|远程监控家里联动||小米米家智能摄像机|1|已有|玄关|放在门锁附近，远程监控家里联动||小米烟雾报警器|1|199|厨房|装在厨房||智能灯具([小米智能吸顶灯](https://www.mi.com/yeelight-ceilinglamp?cfrom=list)、yeelight、飞利浦、宜家)|x|||||小米电视(待商榷)|1||客厅|||小米智能洗衣机(待商榷)|1|1499||||智米智能马桶盖(待商榷)|1||卫生间||###link*[智能家居你只知道小米？这份超简单上手指南，省钱还实用](http://www.yidoutang.com/guide-49050.html)"}],type:"directory",size:14181},{name:"inspiration.md",path:"/BasicSkill/life/inspiration.md",type:"file",mdconf:{abbrlink:"aze81hlv"},birthtime:"2021-12-08",mtime:"2021-12-08",size:128,extension:".md",relative:"/BasicSkill/life/inspiration.md",isEmpty:!1,content:"\x3c!--abbrlink:aze81hlv--\x3e###Inspiration可以取的项目名:百灵鸟、合欢树、seed、扑克牌回忆录、daphne"},{name:"movie",path:"/BasicSkill/life/movie",children:[{name:"Game_of_Thrones.md",path:"/BasicSkill/life/movie/Game_of_Thrones.md",type:"file",mdconf:{abbrlink:"uibyt3r4"},birthtime:"2021-12-08",mtime:"2021-12-08",size:515,extension:".md",relative:"/BasicSkill/life/movie/Game_of_Thrones.md",isEmpty:!1,content:"\x3c!--abbrlink:uibyt3r4--\x3e###GameOfThrones![](http://with.muyunyun.cn/149bd36ec2c46d8c789da45ce9ec9f7d.jpg-400)`WINTERFELL``KingsLanDing``Pentos`###goodword*Nothingsomeonesaysbefore'but'reallycounts.*Myfatherunderstandsmercy,whenthisisaroomforit.*得饶人处且饶人S0900:00###links*[resource](http://www.qxfun.com/game-of-thrones.html)*[downloadthesubtitles](https://secure.assrt.net/search2/Sub:%E6%9D%83%E5%8A%9B%E7%9A%84%E6%B8%B8%E6%88%8F+s01/?page=2)"}],type:"directory",size:515},{name:"package_gift_box.md",path:"/BasicSkill/life/package_gift_box.md",type:"file",mdconf:{abbrlink:"jbc6xmpx"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1061,extension:".md",relative:"/BasicSkill/life/package_gift_box.md",isEmpty:!1,content:"\x3c!--abbrlink:jbc6xmpx--\x3e###方糖型包装1.把包装纸裁剪成长是盒子周围长度+2~3厘米,宽是盒子的宽度+3厘米,盒底朝上置于纸张中央;2.将右侧的纸张沿盒子向内折入,并保持纸的边缘位于盒子中央;3.再把左侧的纸向内折入;4.用透明胶或双面胶带将纸张重叠处固定;5.两侧的纸沿着盒子向内折入;6.按照顺序，把纸张折成漂亮的梯形;7.在上下折纸的交接处轻轻做上标记;8.保持标记与边缘平行,折叠下面的纸;9.用双面胶带或用漂亮的贴约将接合处固定,再将另一侧包好,翻到盒子正面,用丝带或花装饰一下就完成了。![](http://with.muyunyun.cn/62b33e8a41f88835ecf25de101f38eec.jpg)![](http://with.muyunyun.cn/04a72955723425fcad4cff7288b74d03.jpg)###打蝴蝶结方法1.在线的一半处穿过礼物盒;2.交叉旋转;![](http://with.muyunyun.cn/7d2ffb72e7deacf8c1665c39d0817a6a.jpg-300)>[礼物包装方法](http://www.mimidiy.com/2012/0919/li-wu-bao-zhuang-fa.html)"},{name:"recipe",path:"/BasicSkill/life/recipe",children:[{name:"recipe.md",path:"/BasicSkill/life/recipe/recipe.md",type:"file",mdconf:{abbrlink:"r9nfe1zq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2965,extension:".md",relative:"/BasicSkill/life/recipe/recipe.md",isEmpty:!1,content:"\x3c!--abbrlink:r9nfe1zq--\x3e###Recipe![](http://with.muyunyun.cn/5ec7ed84857ab45413f82b1c2da5e4e4.jpg)####葱油鲈鱼配料，鲈鱼(ban鱼)一条（请卖鱼的人杀好修理干净）、小葱二两、油、料酒、生抽（鲜味酱油）、生姜一小块。1.锅里加满一些水，放进`鱼`、`生姜`，`料酒`，盖上锅盖;2.烧开水把鱼煮熟，用筷子在鱼身体戳一下，🐟鱼身容易戳穿就是熟了，如果硬穿不过去就是未熟，还需再煮会儿;3.盘里加些`生抽酱油`，捞出鱼放盘里，葱切成`葱米`放在鱼上面;4.锅里的水倒掉冲洗干净，`锅烧干`烧热，倒`一两五勺油`左右，油烧高温后热油淋到葱鱼上;####青菜豆腐皮1.洗好青菜切断、豆腐皮浸泡一会儿撕碎;2.锅烧热倒少许油放进青菜翻炒，加些许水，放进豆腐皮加锅盖烧一分半左右，掀开盖加少许盐再翻炒几下搅匀盐;####肉末豆腐配料：方块豆腐，大蒜四瓣，葱四根，瘦肉二两，生抽酱油，料酒。1.豆腐中间用刀划个十字架，放进锅里，加水豆腐一半齐。2.大蒜放在菜板上用刀拍压碎去皮取蒜，切片后再剁碎些放旁边，把瘦肉冲洗放菜板用菜刀切片切条剁成肉泥（此时肉泥和蒜可以合在一起再用刀剁剁），剁成肉沫后加一点点盐用手去和抓一下，让盐均匀分布。3.蒜肉泥平放在豆腐上，`料酒`两勺淋在肉沫豆腐上，`酱油`一勺儿半也淋上去，`葱梗`（下半段）切葱花也放上肉沫处。4.加锅盖起大火冒热气后中小火炖5到8分钟肉蒸熟，掀开锅盖用菜铲子在锅底豆腐处轻轻起豆腐移移，防止豆腐粘粘在锅底，葱绿叶那段切葱米撒在肉沫上加盖一分钟关火，用菜铲子托住豆腐块连肉沫移在盘里倒汤####秋葵秋葵洗好切段，不切段正条也可以。锅里放水煮到将要滚开时放进秋葵，煮两三分钟应该就可以捞出来了。锅里的水倒掉冲洗锅，开火锅烧热后至小火，倒两三滴油、两勺酱油、大蒜末翻搅几下哦，关火，酱油调料倒在小碟子上蘸着吃，（醋如需可以直接倒少许）####红烧黄刺鱼配料：黄刺鱼四条（请卖鱼的修好）料酒，酱油，生姜，青大蒜两根，油。1、鱼冲洗干净尽量水沥干（防止油锅里进水嗤嗤爆锅）姜蒜切好备用。2、起火烧锅倒适量油，先放生姜翻炒几下（防止鱼会粘锅）后，把姜推锅一边，放进鱼稍稍煎一下，把姜铲到鱼中间来，加料酒、酱油，盐（先放少些，防止过咸），加些许水，用菜铲子移挪一下鱼底处（防止粘锅）加大蒜下半段切小小段放进锅里。3、大火后中小火烧熟鱼后加入切好的大蒜叶再烧上一两分钟，可以尝一尝盐淡味道，如果太淡再加点点盐，关火连鱼带汤鱼头统一方向装盘。"}],type:"directory",size:2965},{name:"sport",path:"/BasicSkill/life/sport",children:[{name:"jump.md",path:"/BasicSkill/life/sport/jump.md",type:"file",mdconf:{abbrlink:"ssjf3dzc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:225,extension:".md",relative:"/BasicSkill/life/sport/jump.md",isEmpty:!1,content:"\x3c!--abbrlink:ssjf3dzc--\x3e###Sport*[每天坚持跳绳1000个，一个月后会有什么变化？](https://www.zhihu.com/question/400648101/answer/1680793795)-小婉青青的回答-知乎-[]购买磨砂膏"}],type:"directory",size:225},{name:"starbucks.md",path:"/BasicSkill/life/starbucks.md",type:"file",mdconf:{abbrlink:"qahuqw46"},birthtime:"2021-12-08",mtime:"2021-12-08",size:213,extension:".md",relative:"/BasicSkill/life/starbucks.md",isEmpty:!1,content:"\x3c!--abbrlink:qahuqw46--\x3e###那些年呆过的星巴克###杭州金逸影城店(2018年5月~2018年12月)###上海华新路店(2019年1月~2019年9月)名仕苑店(2019年10月)"},{name:"summary",path:"/BasicSkill/life/summary",children:[{name:"The-annual-summary-of-2017.md",path:"/BasicSkill/life/summary/The-annual-summary-of-2017.md",type:"file",mdconf:{abbrlink:"f3dh3zah"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6603,extension:".md",relative:"/BasicSkill/life/summary/The-annual-summary-of-2017.md",isEmpty:!1,content:'\x3c!--abbrlink:f3dh3zah--\x3e![](http://with.muyunyun.cn/6114931ddce0b5e56ade13b45e2b3ec6.jpg-muyy)>不久前年会主题征集活动中，我提交的主题是《在路上》，和骑手们一样，我们亦不是在路上呢？\x3c!--more--\x3e恰逢踏入社会一年之际写下第一篇年终总结，百感交集，有初融入团队的喜悦、有独自完成需求的兴奋、有一次次团建的畅饮也有过为自己能力不足的懊恼以及与好友离别的感伤。通过这篇总结，希望能记录些琐事，并给2018年的自己定下promise。###启程按捺不住走出校园的兴奋，走入我达新世界的大门。当时未进公司的时候，在朋友圈中看到的小伙伴们的照片，当时心中一阵惊叹，"这么帅！！要拖后腿了"，不曾想到后来几个月和每个人发生的故事，已然成为生命中不可或缺的色彩了。时隔一年当再次回味这张照片时，似乎里面藏着初心。![](http://with.muyunyun.cn/dd07286ed73f1c2f6091521254b9abf5.jpg-300)春节结束后公司如期举行了年会，我在倒数第二个节目中独奏了二胡~，前端部门的年会中奖率也是全公司最高的，一度让其他部门的人说是改了脚本o(╯□╰)o。运气也是实力的一部分吧，不过我没有中奖。再接着是为期15天的小黑屋封闭式开发快递模块，这也是我第一次感觉到了挫败感，让[林师傅](http://blog.5udou.cn/)帮填了好多坑。期间李开复老师来参观我们公司，我也跑去趁了张合照。同时迎来了陪我渡过短暂岁月的小伙伴虾球。一只可爱的猫咪。现在在新主人家过得很好。###batman&&hawkeye在往后的一段时间，前端部门内部进行了更细致的分工划分，我被划分到了直营业务组，主要负责batman(客服关系系统)以及hawkeye(运维系统)的开发与维护，期间经历了并参与了batman、hawkeye的技术栈迭代，从老鹰眼的reflux到redux，以及batman网关独立抽离成一个ts项目。为了更好的熟悉react全家桶的工作流程，五月份的时候在仿照batman和hawkeye写了个[demo](https://github.com/MuYunyun/reactSPA)，现在收获了几百的Star，也算今年的一大收获吧。o(╯□╰)o下面谈谈今年在做项目的收获和成长：*首先是带我进入了奇妙的React技术栈和ES6世界，对相关的知识点进行了实践；*能合理对组件进行拆分；*对JS异步流程有了一定认知；*对底层组件的设计有了一定的认知；*对git多人合作的流程有了一定的实践；*在遇到不懂的知识时学会进行翻相关文档以及阅读源码；*最后在npm上尝试发布了[第一个包](https://github.com/MuYunyun/diana)，并用到了batman中;谈完收获再来谈谈不足：*知识点体系没有梳理成网，比较零散；*知识面广度和深度都还欠缺;*在项目优化的层面没有特别上心;*在和别人交谈时，抓重点能力以及逻辑整合能力有待加强；*效率不足，容易被琐事影响；###高山仰止分享一位同行的博客中让我感慨良多的话：`行远自迩，登高自卑`。在写这篇总结前我曾以为这句话是说当你登高的途中看到比你站在更高更远处的人的时候会产生自卑感，现在不经莞尔一笑，`风起于青萍之末，浪成于微澜之间`，那些让我高高仰望的人不正是有着一颗常人难能企及的大毅力和大心脏吗？而我呢，希望能离那群人能近一点是一点吧。想到现在负责的项目名为batman，突然谐音想到了better-man。新年计划做一个让别人靠得住的better-man。###番外随笔今年刷了好多动漫，整体偏热血、玄幻类型，也入了B站刷了几部小清新动漫，如四月是你的谎言、宝石之国~，和朋友一起刷了几部有意义的电影，比如爱乐之城、寻梦环游记~；另外从4月份开始使用网易云音乐来，累计听了七八千首歌吧，基本码代码的时候都会带着耳机~，以英文歌、民谣为主，[我的歌单如下](https://music.163.com/#/user/home?id=472504060)；在游戏方面发挥稳定，王者荣耀上了最强王者以及为团队拿下个冠军，不过感觉花了太多时间在上面，浪费了不少原定的计划~，不过也算是青春的成长吧。公司年假即将会去曼巴玩上一段时间，也将算是我第一次出国。看书方面主要是技术类的，大概阅读了6、7本，这个比较尴尬了，看书看得慢而且看过的知识点也不是完全吃透了，新年期待改善。个人产出方面也比较低产，翻译文章和原创文章加起来十几篇~，我把它们集合在了[blog](https://github.com/MuYunyun/blog)这个项目里。不过也有值得高兴的事，搭建了自己的博客，并且写文章的深度自己感觉有所提高(虽然依然菜)。然后很遗憾的是今年的技术交流会一场也没参加成，怪自己的消息不灵通加上水平的不足。###总结展望篇这部分是对自己打算要成为一个better-man的一个promise吧。就结合文章中提到的不足点进行相应的改善(自己想到解决方案的先记下来了)，也就是新年的计划。望监督。|problen|flag||:------------------:|:----------------------------------------------------------------------------------------------:||知识点碎片化|对已有的知识点进行思维脑图的整理，对将来的知识点也采取思维脑图的方式进行学习||知识面广度和深度欠缺|参与到一个千星Star的开源项目的改善，提高阅读源码的能力，阅读6本技术书籍，阅读1本非技术书籍||项目优化方面没有用心|课外学习积累相关方面知识并尝试用到公司项目中||没去成技术交流会|带有目的性地参加1到2场前端技术交流会||沟通能力不足|避免讲话结巴，加强语言组织能力和逻辑能力，没想清楚问题之前不要轻易回答||效率不足|加强自控能力，规定的时间做规定的事情，做到按时起睡，不晚于8点半起床|'},{name:"The-annual-summary-of-2018.md",path:"/BasicSkill/life/summary/The-annual-summary-of-2018.md",type:"file",mdconf:{abbrlink:"9z6vq8ax"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4429,extension:".md",relative:"/BasicSkill/life/summary/The-annual-summary-of-2018.md",isEmpty:!1,content:"\x3c!--abbrlink:9z6vq8ax--\x3e![](http://with.muyunyun.cn/19d9a998a632b464fed6d929326b0271.jpg-muyy)>度过在点我达两年欢快的时光，开启在拼多多的新的旅程。###life![](http://with.muyunyun.cn/cbc85e6d794d9e52b0f60aa6fa18950b.jpg-400)*2月:在老家的方岩山上跨了年；*3月:和w做了过山车；*4月：面基了[小小倩](https://juejin.im/user/584d7a3e2f301e00572fb7fc);参加了杭州的草莓音乐节；*5月：参加了掘金在杭的线下交流会,初识[染陌](https://juejin.im/user/58f87ae844d9040069ca7507)、[阿相](https://juejin.im/user/58f876dc5c497d0058e38ae1)、静霞等掘金小伙伴，缘起；*6月：和小伙伴们游玩崇明岛，逛了魔都夜景；参加了GraphQL的专题技术分享,和带我入门前端的scott老师握了手;*9月:和小伙伴们在浙大玉泉校区参加nodeparty;*11月：面基了刃捷兄，参加了VueConf；加入[前端九部](https://github.com/frontend9)；期间用脚本叫r起床并播报天气预报，脚本坚持了两周;*12月：去黄山山顶吃到了热腾腾的泡面;在nodeparty上,贺老对语言特性的深刻见解只有敬佩。*1月：接连两天的SEE`、d2大会除了干货满满，俨然成为了追星大会。见到了玉伯、张秋怡等大大的真容，和情封前辈进行了深度交流,同时和九部的小伙伴也进行了线下聚餐。###Siren`Siren`是星巴克`Logo`上双尾女海妖的名字。本意是希望星巴克的咖啡就像`Siren`的歌声那样美妙,除此之外它还有个引申意——克制欲望。![](http://with.muyunyun.cn/aafa6d3e872bb6f9bef26b5ef6d228e5.jpg-400)18年下半年的周末大多待在下城区金逸影城(也就是18年`VueConf`的举办地)的星巴克里看看书之类,这家星巴克在喧嚣和安静之间保持了恰当好处,坐在周围的可能是谈论艺术的大学教授，或者是带小朋友做作业的家长，又或者是看书的同学。自由、温馨，时间在这里可快可慢。![](http://with.muyunyun.cn/f9b9be1e727cb817fc78668cc31b3191.jpg-400)###18年——见闻色以下是对[18年计划](http://muyunyun.cn/posts/b9cd3f63/)的review|flag|完成情况||:-----------------------------------------------------------------------------------------:|:------------------------------------------------------------------------:||对知识点采取思维脑图的方式进行学习|创建了[blog](https://github.com/MuYunyun/blog)项目进行了知识点的整理输出||参与到一个千星Star的开源项目的改善，提高阅读源码的能力，阅读6本技术书籍，1本非技术书籍|在开源项目的参与深度上有所欠缺,书籍阅读指标基本达成||课外学习积累相关方面知识并尝试用到公司项目中|指标达成||避免讲话结巴，加强语言组织能力和逻辑能力，没想清楚问题之前不要轻易回答|沟通交流能力需持续加强||加强自控能力,规定的时间做规定的事情，做到按时起睡，不晚于8点半起床|自控能力有所提高，按时起睡指标未达成|###19年——武装色*阅读5本技术书籍，1本非技术书籍，学习函数式编程*落地一个有价值的项目*深入`React.js`社区，提一次pr*研读`node.js`文档*提升沟通交流能力,做一次party分享*请挚友喝星巴克(保底12杯)###感谢感恩亦师亦友的愚安boss,以及给我帮助的点我达小伙伴们;感激对我给予肯定的刃捷、明江前辈;感激与我聊到凌晨的兵长兄;感谢给我提供前行指引的死月、芙兰姐;感谢掘金社区让我结识了小小倩、染陌、相学长等好友。感谢所有内推、面试过我的前辈,让我认识到自己的不足。最后感谢所有杭州的朋友们，期待下次更好的遇见！"},{name:"The-annual-summary-of-2019.md",path:"/BasicSkill/life/summary/The-annual-summary-of-2019.md",type:"file",mdconf:{abbrlink:"5rbl6qc5"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4739,extension:".md",relative:"/BasicSkill/life/summary/The-annual-summary-of-2019.md",isEmpty:!1,content:"\x3c!--abbrlink:5rbl6qc5--\x3eTimeisflying,itarrivesattheendofyearagain.ThisismyfirstyearworkinginPinDuoDuoincanditseemsIarriveinthecompanyyesterday.Thispointisagoodchancetotalkwith(recognize)myselfagain.Itrytoconcludefrom`work`,`output`,`life`and`destination`.###LearnfromworkThefirstcourseIlearnfrommyteamisabout`startingwiththeend`.Itmeanseverythingwedotodayispreparedforthetomorrow.Intheotherword,weshouldrealizewhichperiodthethingwe'redoingisin,andourteamwritesummaryeveryweektomakesuretheestablishedgoalsbecomecloserandcloser.ThesecondcourseIlearnfromtheworkistotryto`useEnglishmore`.TherearesomuchrichresourceinMedium,MDN,FrontendMastersandevenintwitter.It'sthefirsttimeImetwithsomanyforeignersengineerintheJSConfbutIcan'ttalkwiththemfluently.It'sobviouslyusingEnglishskillfullywillopenyoureyesandimproveefficiencylookingforsomeinformation.Thelastbutmostimportantis`howtocommunicate`.It'sartistictodescribesomethingeasilytomakeothersunderstand.Whenarrivingatourteamatfirst,oneofmyleader'sadviceisthebestwaytojoinintheteamistoshare——sharingideas,knowledgeandfeeling.MycolleaguesaresoexcellentIlearnalotfromtheminthesetechnicalsharingpartieseveryweek.AtthemeanwhileIalsosharesomeideasinit.###OutputofthearticleTherearetennewarticlesaddedto[myblog](https://github.com/MuYunyun/blog),thedirectionistotalkaboutReact,JavaScript,CSSandsoon.Iftherearemistakesinit,welcome[pointout](https://github.com/MuYunyun/blog/issues/new).*[IntroductionToFunctionalProgramming](http://muyunyun.cn/posts/8b09c168/)*[DoSearchInDataStructureOfReactFiber](http://muyunyun.cn/posts/9f41fc98/)*[UnderstandReactSuspensedeeply](http://muyunyun.cn/posts/44b01006/)*[Youdon'tknowrequestIdleCallback](http://muyunyun.cn/posts/ba7c84ae/)*[DeepintoReactHooks](http://muyunyun.cn/posts/290a4219/)*[Howtomakepagerunsmoothly](http://muyunyun.cn/posts/a1be1d41/)*[DeepintoReactHooks——DesignPattern](http://muyunyun.cn/posts/32fb0f08/)*[ModernReacttest](http://muyunyun.cn/posts/76ba81e7/)*[LearnControlledComponentandUncontrolledComponentAgain](http://muyunyun.cn/posts/8bdf2cdf/)*[INHERITEDANDNON-INHERITEDINCSS](http://muyunyun.cn/posts/33fba87f/)Therewillbemorecreativearticlestoaddinthefuture.Let'sgrowuptogether.###LifeIenjoythequiettimesittingintheCafethewholedayinSaturdayandit'salsonicetochatwithfriendsorfamilythere.![](http://with.muyunyun.cn/65758e96048af8ff1fd619ba1abc834a.jpg-400)Andinothersomeweekenddays,ItakepartinsomeFEconferencesthisyear——`FDConf`,`VUEConf`,`D2`,`SEEConf`andsoon.FromtheseactivitiesIlearnsomesomenewknowledge.Forexample,thearticle[Howtomakepagerunsmoothly](http://muyunyun.cn/posts/a1be1d41/)iswrittenafterlisteningthesharingofLiuBoweninFDConf.Andluckily,Igetthechancetotakephotowith[EvanYou](https://twitter.com/youyuxi)andgetthesignaturefromhim.![](http://with.muyunyun.cn/27a9372dcab28c9c15e1b273096b2680.jpg-300)Atthesametime,it'shappytomeetwitholdfriendsandmakewithnewfriendsintheseactivities.###Checklist&&DestinationCheckingtheplanoflastyearbeforemakingplansinnewyear.*Reading`five`technicalbooksandanottechnicalbook,~~learnFunctionalProgramming~~:Itisashamenotachievethistarget.Insteadofreadingthewholebooks,Ireadmoresinglepostsorchapterspartlyinthelastyear.*Finishing~~avaluableproject~~:Therearesomevaluableprojectsinmydailywork,they'restillinprogress.*~~Deepinto`React`community~~,submitapr:ThereissomedeepanalyzeinReactthisyear,howeveritstillneedsmakingextraeffortformakingapr;*Deep~~intothedocumentof`Node.Js`~~:theworkofthisyearisconnectedwithUIandcomponentmoreclosely,sothedocumentofNode.Jshasnomuchchancereadinginpractice;*~~Improvingtheskillofcommunication,doasharinginaparty~~:Thecommunicationskillgetssomeimproved,howeveritstillneedsbestrengthened;*~~Invitefriendsfrocoffee(atleast12)~~Keepinggoingoninthenewyear.Herelistssomedirection.*Keepingreadingandwriting.Creatingmorepersonalthoughts;*Improvinglistening/writingskillinEnglishcontinually;*Way:watchingten+englishmoviesandtrytowritesomeenglishposts.*Improvingthebasicskillsindatastructureandcompositionprinciplecontinually;"},{name:"The-annual-summary-of-2020.md",path:"/BasicSkill/life/summary/The-annual-summary-of-2020.md",type:"file",mdconf:{abbrlink:"eymmaua1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:267,extension:".md",relative:"/BasicSkill/life/summary/The-annual-summary-of-2020.md",isEmpty:!1,content:"\x3c!--abbrlink:eymmaua1--\x3e###Theannualsummaryof2020*工作*方法论*脑图*开源*create-react-doc*RFC:albumphoto*去过的路*难进*爱在黎明破晓前*新年展望*数据结构跟进*数据库*DeepLearning"}],type:"directory",size:16038},{name:"travel",path:"/BasicSkill/life/travel",children:[{name:"guiling_travel.md",path:"/BasicSkill/life/travel/guiling_travel.md",type:"file",mdconf:{abbrlink:"sd1vcnx7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1764,extension:".md",relative:"/BasicSkill/life/travel/guiling_travel.md",isEmpty:!1,content:"\x3c!--abbrlink:sd1vcnx7--\x3e###桂林旅游*路线*day1:`漓江竹筏`->兴坪古镇->银子岩溶洞->西街夜景住*->`阿丽拉.阳朔糖舍`->`《印象.刘三姐》`演出、1969酒吧*->三千漓山水人文度假区->山水实景演出《三生三世三千漓》*day2:`热气球俯瞰桂林山水`->`遇龙河竹筏漂流`->龙脊->单程缆车上山->金坑大寨->金佛顶->住龙脊景区*day3:龙脊梯田(早起看日出)->缆车下山->黄洛瑶寨->`靖江王府`->桂林璟象酒店吃自助餐(可以看到象鼻山)->夜游两江四湖->入住碧玉国际大酒店。*`漓江竹筏`:桂林市区坐船->沿着漓江到阳朔->吃饭->坐车返程*内容:可以看到人民币20元人民币“黄布倒影”。*时长:4小时船程。*票价:200+￥。*`三千漓山水人文度假区`*渔家傲主题酒店*三生三世三千漓*时长:1小时*`靖江王府`*东西巷。(非物质文化遗产)*讲古堂*可以挑非物质文化遗产进行学习(制作扇子)*`空中俯瞰桂林山水，热气球游玩`*地点:阳朔燕莎航空营地*方式*系留飞*自由飞*内容*俯瞰遇龙河及阳朔美丽山水*`遇龙河竹筏漂流`*内容:人在画中游*时长:2小时漂流*`印象.刘三姐`*时长:1小时*资源县*河灯节*八角寨*丹霞地貌:山更高，更秃，更险，更难爬*住*阿丽拉.阳朔糖舍*漓江边超美的度假酒店。*晚上有《印象.刘三姐》演出*猫儿山*吃*桂林米粉、螺蛳粉*阳朔*啤酒鱼(依据是否带鳞片判断是否正宗)"},{name:"nanjin_travel.md",path:"/BasicSkill/life/travel/nanjin_travel.md",type:"file",mdconf:{abbrlink:"lez2uxtd"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1253,extension:".md",relative:"/BasicSkill/life/travel/nanjin_travel.md",isEmpty:!1,content:"\x3c!--abbrlink:lez2uxtd--\x3e###NanJinTravel*上午:`总统府`(地铁2/3号线大行宫)->`1912街区`(从总统府出来步行20分钟到1912街,张嘉佳的从你的全世界路过,有很多拍照打卡的地方,吃饭芳满庭、咸亨酒店,地铁2/3号线大行宫5号出口)*下午:`鸡鸣寺`(地铁3/4号线鸡鸣寺站)->`玄武湖`(钟山风景区)*晚上:`夫子庙`(孔庙+学宫+贡院,建议晚上去,地铁3号线夫子庙站)->`秦淮河`(夜游秦淮河)*上午:`中山陵`(钟山风景名胜区,地铁2号线下马坊站,游2中山陵站)->`美龄宫`->`老门东`(逛起来十分舒服的地方,年代砖瓦巷子、豆干/梅花糕/咸亨臭豆腐,有德云社,地铁3号线夫子庙站)*下午:`linefriends`(适合拍照,少女心,地铁站鼓楼站4b出口)->`南京网络小镇“未来号”`(地铁3号线秣周东路2号口步行100米)->(南京博物馆(`需网上预约`、地铁二号线明故宫)->`先锋书店`(世界最美书店之一,能寄明信片))->`狮子桥美食街`(地铁1号线玄武门站)>南京网络小镇“未来号”退役的绿皮火车进行了改造交通:地铁3号线秣周东路2号口步行100米"},{name:"shanghai_travel.md",path:"/BasicSkill/life/travel/shanghai_travel.md",type:"file",mdconf:{abbrlink:"59z4kg6p"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3170,extension:".md",relative:"/BasicSkill/life/travel/shanghai_travel.md",isEmpty:!1,content:"\x3c!--abbrlink:59z4kg6p--\x3e###ShanghaiTravel奇思妙想的时空洞。安龙路527号->巴黎春天->摩微影院(长寿店)*瞳艺3D星空错觉艺术馆:*黄浦区中山东二路531号(外滩十六铺观光码头商城负2楼);*4000808429;营业时间：10:00-21:00;*艾米1895电影街(暂未营业):*如果想安静的看场两个人的电影，不如去静安商圈这家艾米1895电影街，体验一番私人影院的甜蜜感受;*静安区北京西路1829号4楼（近乌鲁木齐路）;*电话：021-32586788;*天真蓝照相馆*上海最美证件照*虹口区哈尔滨路159号(近1913老洋行)*021-61558686*米域有光*由老厂房改造的现代联合办公空间，代号为“曼德拉”(Mandela)，室内直通顶层天窗的白色旋转楼梯，象征着走向自由和光明之路。*`甜爱路`:上海虹口区的甜爱路*邮筒、邮戳，和道路两侧由28首中外著名爱情诗篇组成的“爱情墙”;*东平路*有很多别致的餐厅，适合牵手的午后去品品阳光下午茶，那种静谧私密你一定喜欢;*蒋介石故居爱庐、宋子文别墅、席德懿私宅，还有那家著名的餐厅藏珑坊;*多伦路*八卦名人,还可以留心英国古典主义的走廊,伊斯兰风格的玻璃窗。*武康路，复兴西路，武定路*历史气息的老街,有很多名人故居;*逛累了也可以寻觅一家安静的咖啡馆;*巨鹿路*各色潮流时尚小店驻扎于此,全上海最文艺的书店`渡口书店`;*锦江公园*摩天轮*复兴路*城市山民-谷*武夷路*它是无数风云人物扎堆的街道传奇女作家张爱玲、朦胧派诗人顾城，世界船王包玉刚都曾在这里留下历史身影;*思南路*走在这里偶尔才会有一辆车和几个行人经过*顾村公园(若风推荐)、辰山植物园世博公园,滨江公园,南苑「滨江绿地公园」->衡山路走到桃江路->复兴西路>滨江绿地公园不错->上海最棒的公共露营地*`田子坊`*是约会的极佳场所;*绍兴路*上海最文艺的路;*这条不长的路上有许多出版社、雅致的咖啡馆、静谧的茶社、画室、小花店等。*`vue吧`;###Visited|坐标|项目|推荐指数||:-----------------------|:------------------------------------------------------------------------------------------------------|:------||环球金融中心100层观光厅||※※※※※||长风公园水族馆||※※||衡山路|午后漫步,晚上酒吧街(比较受欢迎的有茏莎、波缽街、欧玛莉、小红楼等)；吃了上海猪手排名榜第一的`衡园酒家`；|※※※※※|"}],type:"directory",size:6187},{name:"widhList.md",path:"/BasicSkill/life/widhList.md",type:"file",mdconf:{abbrlink:"ba26mmbq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:65,extension:".md",relative:"/BasicSkill/life/widhList.md",isEmpty:!1,content:"\x3c!--abbrlink:ba26mmbq--\x3e###心愿清单-[]3D打印机"},{name:"华硕路由器.md",path:"/BasicSkill/life/华硕路由器.md",type:"file",mdconf:{abbrlink:"9ej9m77m"},birthtime:"2021-12-08",mtime:"2021-12-08",size:718,extension:".md",relative:"/BasicSkill/life/华硕路由器.md",isEmpty:!1,content:"\x3c!--abbrlink:9ej9m77m--\x3e###华硕路由器型号:华硕RT-AC88U登录界面:http://router.asus.com/账号:pdd_cloud密码:pdd_cloud123```js2.4GHzNetworkName(SSID)ASUS_E0_2G2.4GHzWirelessSecuritypdd_cloud5GHzNetworkName(SSID)pdd_2G_5G5GHzWirelessSecuritypdd_cloud```初始web管理IP变成`192.168.2.1`###参考资料*[华硕路由器刷梅林固件，挂载SS](https://www.chenshaowen.com/blog/asus-router-brush-merlin-firmware-and-mount-ss.html)*[koolshare.cn](https://koolshare.cn/forum.php?mod=viewthread&tid=139322)*[视频教学](https://www.youtube.com/watch?v=xdIddRVE8qQ)*[使用手册](https://www.asus.com.cn/Networking/RT-AC88U/HelpDesk_Manual/)"}],type:"directory",size:57303},{name:"mobile",path:"/BasicSkill/mobile",children:[{name:"charles.md",path:"/BasicSkill/mobile/charles.md",type:"file",mdconf:{abbrlink:"occuidd3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1903,extension:".md",relative:"/BasicSkill/mobile/charles.md",isEmpty:!1,content:"\x3c!--abbrlink:occuidd3--\x3e###移动端场景下使用Charles代理的优点*解决`移动端真机接口调用不便查看`的问题。*有利于解决`发布到线上环境判断接口是否正常`的问题。?待确认###技巧一:代理查询接口请求数据`使用场景`:使用代理查询接口请求数据,解决`移动端真机访问页面时查看不了接口调用情况`的问题。*方法:1.打开Charles,配置手机可以代理的端口。菜单栏点击`Proxy`->`ProxySettings`。![](http://with.muyunyun.cn/ec841f0461fa4b37cc333d24127785ee.jpg-400)2.在手机中打开配置代理页面,设置代理地址。1.服务器地址:代理控制台中(内网互联)手机抓包代理列表中的`代理host`。2.端口:代理控制台中(内网互联)手机抓包代理列表中的`代理端口`(在上图中,映射至端口8888)。3.认证:默认关闭。3.Charles上设置要抓包的https地址。(http地址则不需要进行这一步)1.菜单栏点击`Proxy`->`SSLProxyingSettings`4.手机装证书。注意此时手机一定要连代理，然后用手机浏览器访问`chls.pro/ssl`。浏览器会自动下载软件然后安装。(如果无法自动下载,请确认内网互联,手机抓包配置是否正确。)###技巧二:使用本地前端代码调试测试环境数据`使用场景`:使用本地前端代码调试测试环境数据*方法:将测试环境域名代理到本地。1.菜单栏点击`Tools`->`MapRemote`。2.配置测试环境与本地域名。>此时需要将系统设置中的网络代理一栏，全部取消勾选。然后重启Charles。![](http://with.muyunyun.cn/863fdb087e9b32eabf0c4b3a607235f8.jpg)###其它技巧一与技巧二是能同时使用的，达到的效果是:在真机侧调试本地的代码访问线上的数据。"},{name:"mobile_scene.md",path:"/BasicSkill/mobile/mobile_scene.md",type:"file",mdconf:{abbrlink:"4ocu6ahz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5172,extension:".md",relative:"/BasicSkill/mobile/mobile_scene.md",isEmpty:!1,content:"\x3c!--abbrlink:4ocu6ahz--\x3e###移动端click事件存在300ms时延移动端`click`事件存在`300ms`时延的原因:设备需要根据这段时间用户的操作来判断是单点还是双点。解决思路:使用`touchStart`和`touchEnd`来取代`click`事件。>[相关链接](https://juejin.im/entry/6844903427147825165)###点击穿透点击a标签下的一个返回按钮,触发了a中的href跳转方法同上,也是封装一个`tap`方法;###一些移动端上的有用的css属性*在IOS上增加scroll的灵敏度(出现滑动条):`-webkit-overflow-scrolling:touch;`*滑动场景下防止用户选中文字:`use-select:none;`###scrollTo`scrollTo`这个api作用在滚动子元素的父节点上。但是如果要有平缓的动画效果用其的属性`behavior:'smooth'`是不生效的。解决方案如下:1.方案一:结合`setTimeout`使用`csstransition`属性,在异步时间后移除`transition`;2.方案二:使用`requestAnimationFrame`来完成效果;###移动端1px解决方案手机屏幕上存在`devicePixelRatio`属性,其值为物理像素和屏幕像素之比。方案一:伪元素+`transform:scaleY(0.5)`;方案二:使用box-shadow。`box-shadow`这个方案有个缺陷是画上划线容易。方式如下:```box-shadow:0px-1px0px0pxrgba(245,245,245,1);```但是缺陷是画下划线不便,需要配合`position:relative`以及`z-index`来调整层级。###滑动穿透解决方案-[滑动穿透解决方案](https://github.com/MuYunyun/blog/blob/master/React/%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91/modal.md#%E6%BB%91%E5%8A%A8%E7%A9%BF%E9%80%8F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88)###移动端适配####分辨率*PPI(PixelPerInch):每英寸包括的像素数*DPI(DotPerInch):每英寸包括的点数####设备独立像素*DP或者DIP(DeviceIndependentPixels):设备独立像素,用于安卓系统;*PT(Point):用于IOS系统;####设备像素比*DPR(devicepixelratio)*物理像素与设备独立像素的比值,浏览器上获取设备像素比的方法`window.devicePixelRatio`;###user-select```css.demo{/*阻止触摸选中文字*/user-select:none;/*阻止B端App保存图片的弹框弹出*/pointer-events:none;/*长按会选中文字*/-webkit-touch-callout:none;}```##移动开发指南*H5:需要发版*组件包:不需要发版*原生:性能高##IOS特有###模拟器中隐藏地址栏与工具栏,便于查看、调试刘海屏样式结论:在IOS大于13版本的机型中，可以点击左上角阅读器图标，选择「隐藏地址栏与工具栏」。![](http://with.muyunyun.cn/0d488254b20c9ffc2146367f1be7a43f.jpg)###IOS13机型中在弹框类组件中使用input光标会消失见[issue](https://github.com/ionic-team/cordova-plugin-ionic-webview/issues/449#issuecomment-541907141)###移动端移除滚动条移除滚动条有一个css属性`-webkit-scrollbar`,其用法如下:```css&::-webkit-scrollbar{display:none;width:0px;}```但是在`IOS`是不生效的,解决方案如下:以竖直滑动为例:在外层设置宽度为400px(假设内容宽度为400px)并设置`overflow-x:hidden`,内层宽度为417px(17px为滚动条宽度)。###解决IOS下输入框自带圆角的问题```css.demo{-webkit-appearance:none;}```>见SearchBar组件开发###IOS下input光标大小调整在IOS中:该行无文字时,光标高度与`line-height`一致;该行有文字时,光标高度从`input`顶部到文字底部(这两种情况都是在有设定`line-height`的时候)，如果没有`line-height`，则是与`font-size`一致(可能表述有误差)。解决方法如下:设置`line-height`为一个较小值(期望的光标大小),再用`padding`来撑开`input`的区域;>见SearchBar组件开发###IOS9兼容情况*`window.scrollTo`在IOS12.1以下的机子下是不兼容的;*`insertAdjacentHTML`虽然在[caniuse](https://caniuse.com/#search=insertAdjacentHTML)中看起来兼容性很好,但是在IOS10.2以下的机子中部分节点是没有这个api的,所以从中也能看出caniuse可以作为部分参考,但不能全信;###IOS8兼容情况`Symbol`、`Map`在ios8中是不支持的![](http://with.muyunyun.cn/2da80724739178534ac4bb03459654d5.jpg)后续陆续兼容以下属性*数组/字符串的`includes`方法,ios9开始支持*document.body.append:###其它兼容*`newDate('xxxx-xx-xxxx:xx')`在IOS系统中会报InvalidDate,在安卓中正常。*兼容方法:`newDate('xxxx/xx/xxxx:xx')`,经验证该方法在IOS与Android都可运行。##Android特有###font-weight在安卓机上失效0~400一种粗细,500~900一种粗细。##IOS&&Android###scrollTop区分Anchor组件```js//document.documentElement.scrollTopdoeffectinios,anddocument.body.scrollTopdoeffectinandroid.constscrollTop=document.documentElement.scrollTop||document.body.scrollTop```"}],type:"directory",size:7075},{name:"node",path:"/BasicSkill/node",children:[{name:"express",path:"/BasicSkill/node/express",children:[],type:"directory",size:0},{name:"how_node.js_resource_code_execute.md",path:"/BasicSkill/node/how_node.js_resource_code_execute.md",type:"file",mdconf:{abbrlink:"4ksah9p1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1108,extension:".md",relative:"/BasicSkill/node/how_node.js_resource_code_execute.md",isEmpty:!1,content:"\x3c!--abbrlink:4ksah9p1--\x3e###笔记系列——Node.js源码是如何执行的###如何调试node源码（IDE选择和断点调试）1.clone源码到本地2.c/c++3步编译安装法,[参考](https://my.oschina.net/surjur/blog/349464)```c./configure--debug//会生成node/out/Debug文件make-j4//-j4为启用4个作业makeinstall```3.根目录下创建测试文件test.js```jsconstfs=require('fs')fs.readFile('./node.gyp',{encoding:'utf-8'},function(e,content){console.log(content)})```4.IDE使用clion,配置Run->EditConfigureations,配置内容如下:*选择out/Debug/node作为执行文件*添加test.js作为命令行参数,也可以添加node的其他参数,比如--expose-gc*Beforelaunch栏中build去掉![](http://with.muyunyun.cn/747aa17d5be5e261b7a580c10880365f.jpg-400)5.点击OK按钮即完成配置,在src/node_file.cc的1592行`staticvoidRead(constFunctionCallbackInfo<Value>&args)`增加断点,此时Run->Debug'node'即可进入调试界面###编译步骤"},{name:"implement_express.js.md",path:"/BasicSkill/node/implement_express.js.md",type:"file",mdconf:{abbrlink:"ihnj19r1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6628,extension:".md",relative:"/BasicSkill/node/implement_express.js.md",isEmpty:!1,content:"\x3c!--abbrlink:ihnj19r1--\x3e###expressexpress是一个基于node.js封装的框架。该[expressdemo](https://github.com/MuYunyun/blog/blob/master/Basic%20Skill/node.js/express/index.js)主要实现的功能点:*路由模块*中间件模块*正则匹配路由*静态文件处理###路由和中间件####版本一```js//测试用例constapp=express()//测试路由app.get('/',function(req,res){res.end('helloexpress')})//测试中间件app.use((req,res,next)=>{console.log('thisismiddleware1')next()})app.use((req,res,next)=>{console.log('thisismiddleware2')next()})app.listen(3000,function(req,res){console.log('serverislisteningport3000')})//thisismiddleware1//thisismiddleware2//helloexpress``````jsconsthttp=require('http')consturl=require('url')constcore=function(req,res){constmethod=req.method.toLocaleLowerCase()constobj=url.parse(req.url,true)constpathname=obj.pathnameconstcb=hitRouting(method,pathname)//这里插入中间件next(req,res)cb(req,res)}core.listen=function(port,fn){//挂载到core函数上http.createServer(core).listen(port,'127.0.0.1',fn)//核心还是这条语句,即对node的封装}constmethods=['post','get','delete','options','head']methods.map(method=>{core[method]=(path,cb)=>core.routes.push({method,path,cb})})core.routes=[]//路由队列core.middlewares=[]//中间件队列//命中路由,获取回调consthitRouting=function(method,pathname){letcb=(req,res)=>res.end('nohitrouting')core.routes.map((r,index)=>{if(r.method===method&&r.path===pathname){cb=r.cbreturn}})returncb}core.use=function(middlewareFn){core.middlewares.push(middlewareFn)}leti=0constnext=function(req,res){//express中间件的核心实现consthandler=core.middlewares[i++]if(!handler){return}handler(req,res,next)}constexpress=function(){returncore}```版本一的路由和中间件是分为两个数组分别进行管理的；但是当看到next()函数又联想到可以借助generator函数来实现路由和中间件的集中管理(把中间件也当成是一个路由),所以有了版本二的实现。####版本二版本二相较于版本一最主要是遍历方式的改变,改为迭代器方式。```js//测试路由app.get('/test/abc',function(req,res){res.end('helloexpress')})//测试中间件app.use('/test',function(req,res,next){console.log('thisismiddleware')next()})app.listen(3000,function(req,res){console.log('serverislisteningport3000')})```测试用例进行了改动,比如当访问`/test/abc`路由的时候,其实也命中了`/test`中间件,所以此时中间件内的代码也会执行。```jsconsthttp=require('http')consturl=require('url')constcore=function(req,res){constmethod=req.method.toLocaleLowerCase()constobj=url.parse(req.url,true)constpathname=obj.pathnamehitRouting(core.routes,method,pathname)(req,res)}core.listen=function(port,fn){//挂载到core函数上http.createServer(core).listen(port,'127.0.0.1',fn)//核心还是这条语句,即对node的封装}core.routes=[]//路由队列constmethods=['post','get','delete','options','head','use']methods.map(method=>{core[method]=(path,cb)=>core.routes.push({method,path,cb})})function*generator(arr){//引人Generator函数yield*arr}consthitRouting=function(routes,method,pathname){//将中间件也当作是路由constlazy=generator(routes)returnfunction(req,res){(functionnext(){consttmp=lazy.next().valueif(!tmp){return}if(tmp.method===method&&tmp.path===pathname){//命中路由tmp.cb(req,res)next()}elseif(tmp.method==='use'&&(tmp.path==='/'||pathname.startsWith(tmp.path))){//命中中间件tmp.cb(req,res,next)}else{next()//跳过}}())}}constexpress=function(){returncore}```###路由正则匹配```js//测试用例app.get('/blog/:id',function(req,res){//扩展功能①:希望能匹配/blog/123console.log(req.param.id)//扩展功能②:希望能通过req.param.id获取到相应参数res.end('test/blog/:id')})```上述功能简要实现如下:```jsconsthitRouting=function(routes,method,pathname){//将中间件也当作是路由constlazy=generator(routes)returnfunction(req,res){(functionnext(){consttmp=lazy.next().valueconstreg=newRegExp(tmp.path.replace(/:id/g,'\\\\d+'))if(tmp.method===method&&reg.test(pathname)){//匹配/blog/:id,这里仅仅举个例子constarr=tmp.path.split(':')constpathNameArr=pathname.split('/')constobj={}obj[arr[1]]=pathNameArr[pathNameArr.length-1]req.param=obj//实现req.param.id获取idtmp.cb(req,res)next()}...}())}}```###静态资源的访问如果在浏览器中输入`http://127.0.0.1:3000/index.html`,此时并不能处理这种情况,接着加上访问静态资源的逻辑,代码如下:```jsconstcore=function(req,res){constmethod=req.method.toLocaleLowerCase()constobj=url.parse(req.url,true)constpathname=obj.pathnameconstext=path.extname(pathname).slice(1)if(ext){//处理静态文件请求handleStaticFile(res,staticPath,ext)}...}//处理静态文件类型consthandleStaticFile=function(res,staticPath,ext){constmime={\"html\":\"text/html\",\"css\":\"text/css\",\"js\":\"text/javascript\",\"json\":\"application/json\",\"gif\":\"image/gif\",\"ico\":\"image/x-icon\",\"jpeg\":\"image/jpeg\",\"jpg\":\"image/jpeg\",\"png\":\"image/png\"}fs.exists(staticPath,(exist)=>{if(!exist){res.writeHead(404,{'Content-Type':'text/plain'})res.write('Therequestfailed')res.end()}else{fs.readFile(staticPath,(err,data)=>{if(err)throwerrres.writeHead(200,{'Content-Type':mime[ext]||'text/plain'})res.write('Therequestsuccess')res.end()})}})}```"},{name:"implement_koa.js.md",path:"/BasicSkill/node/implement_koa.js.md",type:"file",mdconf:{abbrlink:"pd6i666j"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2474,extension:".md",relative:"/BasicSkill/node/implement_koa.js.md",isEmpty:!1,content:"\x3c!--abbrlink:pd6i666j--\x3e[项目实现源码](https://github.com/MuYunyun/blog/tree/master/BasicSkill/node/koa)该简版koa的实现包含以下4个步骤:*http模块的封装*整合Request、Response、Context对象*中间件*错误捕获###http模块的封装koa区别于express的一个点是其采用了ES6语法进行书写。[相关代码](https://github.com/MuYunyun/blog/blob/7bdad6158a6d49bc3a99123a054b0934034cc598/BasicSkill/node/koa/application.js#L17)###整合Request、Response、Context对象koa的用法区别于express的一点,是将req,res封装进ctx对象中```js//expressapp.get('/test/abc',function(req,res){res.end('helloexpress')})//koaapp.use(async(ctx)=>{ctx.body=`hellokoa`})```[相关代码](https://github.com/MuYunyun/blog/blob/7bdad6158a6d49bc3a99123a054b0934034cc598/BasicSkill/node/koa/application.js#L52)###中间件koa2的中间件是基于async实现的,所以一起来探究关于async前置知识点:```jsasyncfunctionm1(next){console.log('m1')awaitnext()}asyncfunctionm2(next){console.log('m2')awaitnext()}asyncfunctionm3(){console.log('m3')}```如何将m1,m2,m3串联起来呢？```jsvarnext1=asyncfunction(){awaitm2(next2)}varnext2=asyncfunction(){awaitm3()}m1(next1)```接着将以上函数进行抽象:```jsvarcreateAsync=function(fn,next){returnasyncfunction(){awaitfn(next)}}varnext3=createAsync(m3,null)varnext2=createAsync(m2,next3)varnext1=createAsync(m1,next2)next1()```再尝试优化:```jsvararr=[m1,m2,m3]varnextfor(leti=arr.length-1;i>0;i--){next=createAsync(arr[i],next)}next()```在上篇express的实现中,[中间件](https://github.com/MuYunyun/blog/blob/7bdad6158a6d49bc3a99123a054b0934034cc598/BasicSkill/node/express/index.js#L55)采用了generator来实现,而本篇koa则使用了上文所述的async/await知识点来完成。[相关代码](https://github.com/MuYunyun/blog/blob/7bdad6158a6d49bc3a99123a054b0934034cc598/BasicSkill/node/koa/application.js#L25)###错误捕获此外完善的框架都有相应的错误捕获机制,因此当程序`thrownewError()`抛错时,也进行了相应的错误捕获,[相关代码](https://github.com/MuYunyun/blog/blob/7bdad6158a6d49bc3a99123a054b0934034cc598/BasicSkill/node/koa/application.js#L70)"},{name:"koa",path:"/BasicSkill/node/koa",children:[{name:"application.md",path:"/BasicSkill/node/koa/application.md",type:"file",mdconf:{abbrlink:"gmnx4ffo"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2127,extension:".md",relative:"/BasicSkill/node/koa/application.md",isEmpty:!1,content:"\x3c!--abbrlink:gmnx4ffo--\x3e```jsconsthttp=require('http')constEventEmitter=require('events')constcontext=require('./context')constrequest=require('./request')constresponse=require('./response')classKoaextendsEventEmitter{constructor(){super()this.middlewares=[]this.context=contextthis.request=requestthis.response=response}listen(...args){http.createServer(this.callback()).listen(...args)}use(fn){this.middlewares.push(fn)}//引人中间件compose(ctx){constcreateAsync=function(fn,next){returnasyncfunction(){awaitfn(ctx,next)}}letnext=asyncfunction(){//返回Promise对象,从而进行后文fn.then().catch()调用returnPromise.resolve()}for(leti=this.middlewares.length-1;i>=0;i--){next=createAsync(this.middlewares[i],next)}returnnext()}callback(){return(req,res)=>{constctx=this.createCtx(req,res)consthandle=()=>this.handleRes(ctx)consterrHandle=(err)=>this.handleErr(err,ctx)constfn=this.compose(ctx)fn.then(handle).catch(errHandle)}}//将req,res封装进ctx对象中createCtx(req,res){constctx=Object.create(this.context)ctx.request=Object.create(this.request)ctx.response=Object.create(this.response)ctx.req=ctx.request.req=reqctx.res=ctx.response.res=resreturnctx}handleRes(ctx){if(typeof(ctx.body)==='string'){ctx.statusCode&&ctx.res.writeHead(ctx.statusCode)ctx.res.end(ctx.body)}elseif(typeof(ctx.body)==='object'){ctx.statusCode&&ctx.res.writeHead(ctx.statusCode)ctx.res.end(JSON.stringify(ctx.body))}}//引人错误机制handleErr(err,ctx){if(err.code==='ENOENT'){ctx.statusCode=404}else{ctx.statusCode=500}constmsg=err.message||'InternalError'ctx.res.end(msg)this.emit('error',err)}}module.exports=Koa```"},{name:"context.md",path:"/BasicSkill/node/koa/context.md",type:"file",mdconf:{abbrlink:"5ljtr9ki"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1303,extension:".md",relative:"/BasicSkill/node/koa/context.md",isEmpty:!1,content:"\x3c!--abbrlink:5ljtr9ki--\x3e```js//这个文件为上下文文件,可以理解为承上启下作用//module.exports={//getquery(){//returnthis.request.query//比如这个this.request为./request.js中的内容//},//setbody(content){//this.response.body=content//比如这个this.response.body为./response.js的内容//},//getbody(){//returnthis.response.body//},//}//当context中属性越来越多,我们可以使用__defineGetter__以及__defineSetter__//属性封装相应方法来减少重复劳动,日后要增加属性只要在数组中填入相应字段就行。constproto={}functionset(type,property){proto.__defineSetter__(property,function(val){this[type][property]=val//这里this指向proto,原因指向调用函数的对象})}functionget(type,property){proto.__defineGetter__(property,function(){returnthis[type][property]})}constsetRequest=[]constgetRequest=['query']constsetResponse=['body','statusCode']constgetResponse=['body','statusCode']getRequest.forEach(r=>{get('request',r)})setResponse.forEach(r=>{set('response',r)})getResponse.forEach(r=>{get('response',r)})module.exports=proto```"},{name:"example",path:"/BasicSkill/node/koa/example",children:[{name:"test1.md",path:"/BasicSkill/node/koa/example/test1.md",type:"file",mdconf:{abbrlink:"1ng1nt4v"},birthtime:"2021-12-08",mtime:"2021-12-08",size:265,extension:".md",relative:"/BasicSkill/node/koa/example/test1.md",isEmpty:!1,content:"\x3c!--abbrlink:1ng1nt4v--\x3e###第一版测试:封装http```jsconstKoa=require('../application')constapp=newKoa()app.use((req,res)=>{res.end('hellokoa')})app.listen(3000,'127.0.0.1',()=>{console.log('listeningonthe3000')})```"},{name:"test2.md",path:"/BasicSkill/node/koa/example/test2.md",type:"file",mdconf:{abbrlink:"fdtrlgsv"},birthtime:"2021-12-08",mtime:"2021-12-08",size:880,extension:".md",relative:"/BasicSkill/node/koa/example/test2.md",isEmpty:!1,content:"\x3c!--abbrlink:fdtrlgsv--\x3e###第二版测试:封装request,response,context对象```jsconstKoa=require('../application')constapp=newKoa()////测试自定义扩展//app.context.handle=function(errNo=0,data,errMsg){//this.res.setHeader('Content-Type','application/json;charset=utf-8')////注意this指向调用函数的对象,也就是ctx//this.body={//errNo,//data,//errMsg//}//}////调用自定义扩展//app.use(async(ctx)=>{//ctx.handle({//errNo:0,//data:{//name:'小明',//},//errMsg:'success',//})//})//第二版最主要目的是把app.use(req,res)参数转化为简洁的写法如下:app.use(async(ctx)=>{ctx.body=`hello${ctx.query.name}`})app.listen(3000,'127.0.0.1',()=>{console.log('listeningonthe3000')})```"},{name:"test3.md",path:"/BasicSkill/node/koa/example/test3.md",type:"file",mdconf:{abbrlink:"blt3zrpt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:494,extension:".md",relative:"/BasicSkill/node/koa/example/test3.md",isEmpty:!1,content:"\x3c!--abbrlink:blt3zrpt--\x3e###第三版测试:测试中间件```jsconstKoa=require('../application')constapp=newKoa()constresponseData={}app.use(async(ctx,next)=>{responseData.name='xiaoming'awaitnext()ctx.body=responseData})app.use(async(ctx,next)=>{responseData.gender='male'awaitnext()})app.use(async(ctx)=>{responseData.habbit='music'})app.listen(3000,'127.0.0.1',()=>{console.log('listeningonthe3000')})```"},{name:"test4.md",path:"/BasicSkill/node/koa/example/test4.md",type:"file",mdconf:{abbrlink:"waf5nnpe"},birthtime:"2021-12-08",mtime:"2021-12-08",size:411,extension:".md",relative:"/BasicSkill/node/koa/example/test4.md",isEmpty:!1,content:"\x3c!--abbrlink:waf5nnpe--\x3e//完善的框架都有相应的错误捕获机制constKoa=require('../application')constapp=newKoa()constresponseData={}//第四版测试:错误机制测试app.use(async(ctx,next)=>{thrownewError('ooops')})app.on('error',(err)=>{console.log('111',err.stack)})app.listen(3000,'127.0.0.1',()=>{console.log('listeningonthe3000')})"}],type:"directory",size:2050},{name:"request.md",path:"/BasicSkill/node/koa/request.md",type:"file",mdconf:{abbrlink:"6nqz8uu6"},birthtime:"2021-12-08",mtime:"2021-12-08",size:154,extension:".md",relative:"/BasicSkill/node/koa/request.md",isEmpty:!1,content:"\x3c!--abbrlink:6nqz8uu6--\x3e```jsconsturl=require('url')module.exports={getquery(){returnurl.parse(this.req.url,true).query}}```"},{name:"response.md",path:"/BasicSkill/node/koa/response.md",type:"file",mdconf:{abbrlink:"ccqvbb9c"},birthtime:"2021-12-08",mtime:"2021-12-08",size:346,extension:".md",relative:"/BasicSkill/node/koa/response.md",isEmpty:!1,content:"\x3c!--abbrlink:ccqvbb9c--\x3e```jsmodule.exports={getbody(){returnthis._body},setbody(content){this._body=content//创造一个名为_body的变量并给之赋值},getstatusCode(){returnthis.res.statusCode//返还状态码},setstatusCode(code){this.res.statusCode=code}}```"}],type:"directory",size:5980},{name:"read_node_document",path:"/BasicSkill/node/read_node_document",children:[{name:"Child_Process.md",path:"/BasicSkill/node/read_node_document/Child_Process.md",type:"file",mdconf:{abbrlink:"2pv369sc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:233,extension:".md",relative:"/BasicSkill/node/read_node_document/Child_Process.md",isEmpty:!1,content:"\x3c!--abbrlink:2pv369sc--\x3e###ChildProcess*`child_process.exec()`*execcommand.*`child_process.execFile()`*execfilesuchasgit.*`child_process.fork()`*`child_process.execSync()`*`child_process.execFileSync()`"},{name:"CommonJS.md",path:"/BasicSkill/node/read_node_document/CommonJS.md",type:"file",mdconf:{abbrlink:"xzgfrc3n"},birthtime:"2021-12-08",mtime:"2021-12-08",size:240,extension:".md",relative:"/BasicSkill/node/read_node_document/CommonJS.md",isEmpty:!1,content:"\x3c!--abbrlink:xzgfrc3n--\x3e###CommonJSmodules*`require.resolve(request[,options])`*Usetheinternalrequire()machineryto`lookupthelocationofamodule`,butratherthanloadingthemodule,justreturntheresolvedfilename."},{name:"FileSystem.md",path:"/BasicSkill/node/read_node_document/FileSystem.md",type:"file",mdconf:{abbrlink:"jwdjdbiz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:985,extension:".md",relative:"/BasicSkill/node/read_node_document/FileSystem.md",isEmpty:!1,content:"\x3c!--abbrlink:jwdjdbiz--\x3e###fs.Stats```jsStats{dev:2114,ino:48064969,mode:33188,nlink:1,uid:85,gid:100,rdev:0,size:527,blksize:4096,blocks:8,atimeMs:1318289051000.1,mtimeMs:1318289051000.1,ctimeMs:1318289051000.1,birthtimeMs:1318289051000.1,atime:Mon,10Oct201123:24:11GMT,mtime:Mon,10Oct201123:24:11GMT,ctime:Mon,10Oct201123:24:11GMT,birthtime:Mon,10Oct201123:24:11GMT}```Today,I'lldiffatime、mtime、ctimeandbirthtimeinNode.js.*`atime`:oraccesstime,isupdatedwhenthefile’scontentsarereadbyanapplicationoracommandsuchas`grep`or`cat`.*`mtime`:ormodificationtime,iswhenthefilewaslastmodified.Whenyouchangethecontentsofafile,itsmtimechanges.*`ctime`,orchangetime,iswhenthefile’spropertychanges.Itwillalwaysbechangedwhenthemtimechanges,butalsowhenyouchangethefile’spermissions,nameorlocation."},{name:"OS.md",path:"/BasicSkill/node/read_node_document/OS.md",type:"file",mdconf:{abbrlink:"mqae338m"},birthtime:"2021-12-08",mtime:"2021-12-08",size:344,extension:".md",relative:"/BasicSkill/node/read_node_document/OS.md",isEmpty:!1,content:"\x3c!--abbrlink:mqae338m--\x3e###OSAPI*`os.hostname()`*Returnsthehostnameoftheoperatingsystemasastring.*eg:'cloud-2.local'*`os.platform()`*Returnsastringidentifyingtheoperatingsystemplatform.*eg:'darwin'*`os.homedir()`*Returnsthestringpathofthecurrentuser'shomedirectory.*'/Users/mac'"},{name:"Path.md",path:"/BasicSkill/node/read_node_document/Path.md",type:"file",mdconf:{abbrlink:"btqo89gy"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1658,extension:".md",relative:"/BasicSkill/node/read_node_document/Path.md",isEmpty:!1,content:"\x3c!--abbrlink:btqo89gy--\x3e###path模块*`path.basename(path[,ext])`:返回文件名。```jspath.basename('/foo/bar/baz/asdf/quux.html')//Returns:'quux.html'path.basename('/foo/bar/baz/asdf/quux.html','.html')//Returns:'quux'```*`path.dirname(path)`:返回路径地址。```jspath.dirname('/foo/bar/baz/asdf/quux')//Returns:'/foo/bar/baz/asdf'```*`path.exename(path)`:如果最后一个`.`之前若有字符,则返回`.`和后面的字符,否则返回''。```jspath.extname('index.html')//Returns:'.html'path.extname('index.coffee.md')//Returns:'.md'path.extname('index.')//Returns:'.'path.extname('index')//Returns:''path.extname('.index')//Returns:''path.extname('.index.md')//Returns:'.md'```*`path.join()`:将传入的参数进行合并。```jspath.join('/foo','bar','baz/asdf','quux','..')//Returns:'/foo/bar/baz/asdf'```*`path.resolve()`:返回绝对路径(绝对路径以`/`开头),注意该api遵循`从右向左最小匹配`原则。```jspath.resolve('/foo','/bar','baz')//根据从右向左匹配原则,/bar与baz组成了绝对路径,所以返回的结果是/bar/bazpath.resolve('wwwroot','static_files/png/','../gif/image.gif');//Ifthecurrentworkingdirectoryis/home/myself/node,//thisreturns'/home/myself/node/wwwroot/static_files/gif/image.gif'```*`path.relative(from,to)`:返回相对路径,其为`to路径`相对`from路径`的差值。```jspath.relative('/data/orandea/test/aaa','/data/orandea/impl/bbb')//Returns:'../../impl/bbb'```*`path.normalize`*使用场景:兼容跨平台路径"},{name:"Process.md",path:"/BasicSkill/node/read_node_document/Process.md",type:"file",mdconf:{abbrlink:"otv24kqd"},birthtime:"2021-12-08",mtime:"2021-12-08",size:366,extension:".md",relative:"/BasicSkill/node/read_node_document/Process.md",isEmpty:!1,content:"\x3c!--abbrlink:otv24kqd--\x3e###ProcessProcess模块继承自eventEmitter模块。####Event:exit监听:```jsprocess.on('exit',(code)=>{...})```>注意的是process.on()中第二个参数必须是同步函数;触发时机:1.调用`process.exit()`;2.Node.js事件循环中不再有额外的工作要执行;toread:SignalEvents"},{name:"Readline.md",path:"/BasicSkill/node/read_node_document/Readline.md",type:"file",mdconf:{abbrlink:"ybc4sjim"},birthtime:"2021-12-08",mtime:"2021-12-08",size:365,extension:".md",relative:"/BasicSkill/node/read_node_document/Readline.md",isEmpty:!1,content:"\x3c!--abbrlink:ybc4sjim--\x3e###Usage```jsconstreadline=require('readline');constrl=readline.createInterface({input:process.stdin,output:process.stdout});rl.question('WhatdoyouthinkofNode.js?',(answer)=>{//TODO:Logtheanswerinadatabaseconsole.log(`Thankyouforyourvaluablefeedback:${answer}`);rl.close();});```"},{name:"TTY.md",path:"/BasicSkill/node/read_node_document/TTY.md",type:"file",mdconf:{abbrlink:"9roar8te"},birthtime:"2021-12-08",mtime:"2021-12-08",size:62,extension:".md",relative:"/BasicSkill/node/read_node_document/TTY.md",isEmpty:!1,content:"\x3c!--abbrlink:9roar8te--\x3e###TTYTTY:shortforterminal."},{name:"Utilities.md",path:"/BasicSkill/node/read_node_document/Utilities.md",type:"file",mdconf:{abbrlink:"73ctc6w6"},birthtime:"2021-12-08",mtime:"2021-12-08",size:121,extension:".md",relative:"/BasicSkill/node/read_node_document/Utilities.md",isEmpty:!1,content:'\x3c!--abbrlink:73ctc6w6--\x3e###Api*promisify:callbackpromise化```jsconst{promisify}=require("util");```'}],type:"directory",size:4374}],type:"directory",size:20564},{name:"project_framework",path:"/BasicSkill/project_framework",children:[{name:"CAS登入流程.md",path:"/BasicSkill/project_framework/CAS登入流程.md",type:"file",mdconf:{abbrlink:"p7j9m7jg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1918,extension:".md",relative:"/BasicSkill/project_framework/CAS登入流程.md",isEmpty:!1,content:"\x3c!--abbrlink:p7j9m7jg--\x3e本文对CAS(CentralAuthenticationService)流程作个梳理。###什么是CAS中央认证服务([CAS](https://github.com/apereo/cas))是是单点登录(SSO)的一种方案。使用它后所有应用可以公用一套登录系统,在任意一个应用中进行登录后,其它应用便无须再次登录。CAS分为CASClient和CASServer,它们分工如下:CASClient:处理对受保护方应用的访问请求(可以理解成网关项目);CASServer:处理账号、密码的认证,需要独立部署(部署在后端那边);###以Batman系统为例剖析登录CAS系统的流程下面以Batman为例对CAS(CentralAuthenticationService)流程作个梳理。![](http://with.muyunyun.cn/89fccb6391b0697815078d6f725dc124.jpg)1.在浏览器中输入batman.dianwoda.cn;2.如果没有登录(session里没有相应信息),则重定向到`https://cas.nidianwo.com/login?service=http%3A%2F%2Fbatman.dianwoda.cn%2F`;3.输入账号密码进行认证;4.CASServer下发ticket;5.校验ticket;6.校验通过,重定向回batman.dianwoda.cn;>登录了batman以后,再在浏览器输入http://newhawkeye.dianwoda.com不用再次登录的原因？在CASServer中进行了判断,如果已经登录过,则省略了步骤3。>在batman登录了CAS系统以后,为什么还要`fetchhttps://cas.nidianwo.com/login?service=http://batman-gateway.dianwoda.com/auth/cas`应该是网关的搭建原因。batman的CASClient在后端那里,batman-gateway作为一个node项目相当于又作为了一个CASClient。在已经登录CAS的基础上,访问`https://cas.nidianwo.com/login?service=http://batman-gateway.dianwoda.com/auth/cas`相当于执行上图的2、4、5步骤(省略了步骤3)###相关链接*[CAS实现SSO单点登录原理](https://blog.csdn.net/cruise_h/article/details/51013597)"},{name:"RPC在点我达网关的实践一.md",path:"/BasicSkill/project_framework/RPC在点我达网关的实践一.md",type:"file",mdconf:{abbrlink:"exzzjh9z"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5147,extension:".md",relative:"/BasicSkill/project_framework/RPC在点我达网关的实践一.md",isEmpty:!1,content:"\x3c!--abbrlink:exzzjh9z--\x3e###RPC是什么*RPC(RemoteProcedureCall)译为远端过程调用。即在一台机子上能调用到另外一台机子上的服务;*RPC可以基于HTTP调用也可以基于TCP调用。基于TCP调用性能更佳,但是实现也更为复杂;*RPC通常要实现两部分协议,一个是应用层协议(如JSON),一个是用来传输数据的通讯层协议(如Dubbo);###RPC调用过程1.调用方通过本地网关调用相应服务;2.网关将服务名和参数封装为RPC对象传给客户端RPC框架(@dwd/noob-client);3.客户端RPC框架(@dwd/noob-client)将数据转化成二进制形式,然后以TCP的形式传递给服务端RPC框架;4.服务端RPC框架将二进制数据反序列化为RPC对象,并交由服务方处理,服务端处理后返回结果;5.执行上述阶段的逆序操作;>关于RPC细节点,可以阅读[聊聊Node.jsRPC（一）—协议](https://www.yuque.com/egg/nodejs/dklip5)###结合代码分析Java包的调用过程####初始化阶段——RPC调用之前在项目刚启动阶段,网关项目会通过zk(路由管理系统)进行路由寻址(寻找相应后端组的服务),后续网关项目就能和相应的后端组的服务直接通讯了。在初始化阶段,网关项目会将项目信息、注册区域(异地多活)、所需服务等传递给[@dwd/noob-client](http://192.168.1.66:9090/FE/noob-client),相关代码如下:```jsimport{Client}from'@dwd/noob-client'constclient=newClient({application:{//项目信息name:config.name,},registry:config.registry,//注册区域reference:config.references,//所需服务routerServer:{address:routerAddress},})returnclient.init().then(()=>{for(constrofconfig.references){loadService(r.id)}})```####根据xml文件生成相关的包文件在项目伊始时,会通过后端给出的xml文件,根据脚本生成相应包的ts文件。比如以下代码为骑手服务组的一个包的ts文件。```tsimport{Reference}from'@dwd/noob'import{provideService,javaType}from'../../util/dubbo'@provideService('com.dianwoba.rider.elastic.provider.RiderElasticProvider')exportdefaultclassRiderElasticProviderimplementscom.dianwoba.rider.elastic.provider.RiderElasticProvider{constructor(private_ref:Reference<com.dianwoba.rider.elastic.provider.RiderElasticProvider>){}asyncpageSearch(@javaType({\"name\":\"com.dianwoba.rider.elastic.domain.dto.param.RiderEsParamDTO\",\"isPrimitive\":false,\"isArray\":false,\"isGeneric\":false})paramDTO:com.dianwoba.rider.elastic.domain.dto.param.RiderEsParamDTO):Promise<com.dianwoba.dubbo.base.result.Pagination<com.dianwoba.rider.elastic.domain.dto.result.RiderEsDTO>>{returnthis._ref.invoke('pageSearch',Array.from(arguments))}...}```####RiderElasticProvider的实例化网关的核心架构使用了IoC框架[inverify](https://github.com/inversify/InversifyJS)。在IoC架构下,实例化的过程在容器内进行。在上述代码点开`provideService`方法,可以看到实例化的过程`newServiceClass(reference)`,代码如下:```ts//dubbo.tsimport{Client}from'@dwd/noob-client'exportconstprovideService=<T>(interfaceName:string)=>(ServiceClass:interfaces.Newable<T>)=>{constreference=Client.reference.get(interfaceName)//获取远程引用资源constservice=proxyService(newServiceClass(reference),interfaceName)//代理实例对象,下文解析moduleBind<T>(interfaceName).toConstantValue(service)//依赖注入}```>`reference`对象的`__proto__`属性上有invoke方法(继承自@dwd/noob)####proxyService代理proxyService方法的作用给包类的每个方法做了一层代理,代理的具体作用是将传入参数和包名包装为RPC对象。```ts//dubbo.tsfunctionproxyService<T>(service:T,identifier:string){lethandler={apply:function(target:Function,thisArgument:any,argumentsList:any[]){letfuncName=target.name//获取前面代码@javaType({})中声明的对象letparamTypes:JavaType[]=Reflect.getMetadata(JAVATYPE_SYMBOL,service,funcName)//工厂模式创建转化为RPC对象的方法lettransform=converter.methodParameterTransformerFactory(...paramTypes)//将传入参数和包名转化为RPC对象letargs=transform(argumentsList)returntarget.apply(thisArgument,args)}}Object.getOwnPropertyNames(Object.getPrototypeOf(service)).filter(name=>name!=='constructor'&&!name.startsWith('_')).forEach(methodName=>{service[methodName]=newProxy(service[methodName],handler)//将原型链上service[methodName]赋值到service[methodName]上,并用handler进行代理})returnservice}```###番外笔记####ts的语法```tsclassTest{constructor(private_ref){}}```ts转换为js的形式如下```jsfunctionTest(_ref){this._ref=_ref}```"},{name:"解读IoC框架InversifyJS.md",path:"/BasicSkill/project_framework/解读IoC框架InversifyJS.md",type:"file",mdconf:{abbrlink:"9szgkw3d"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3845,extension:".md",relative:"/BasicSkill/project_framework/解读IoC框架InversifyJS.md",isEmpty:!1,content:"\x3c!--abbrlink:9szgkw3d--\x3e###解读IoC框架InversifyJSInversityJS是一个IoC框架。IoC(InversionofControl)包括依赖注入(DependencyInjection)和依赖查询(DependencyLookup)。相比于类继承的方式,控制反转解耦了父类和子类的联系。###案例解析```tsimport'reflect-metadata'import{inject,injectable,Container}from'inversify'constcontainer=newContainer()@injectable()classPopMusic{getName(){return'流行音乐'}}container.bind('request1').to(PopMusic)@injectable()classClassicalMusic{getName(){return'古典音乐'}}container.bind('request2').to(ClassicalMusic)@injectable()classMusic{pm:anycm:anyconstructor(@inject('request1')popMusic:any,@inject('request2')classicalMusic:any){this.pm=popMusicthis.cm=classicalMusic}getName(){constresult=this.pm.getName()+this.cm.getName()returnresult}}container.bind('Plan').to(Music)constmusic:any=container.get('Plan')console.log(music.getName())//流行音乐古典音乐```上述案例可以抽象为下图:![explain](http://with.muyunyun.cn/8a9ccba28d00ea0c752c3601d716ebcd.jpg-400)>虚线表示可以注入,但在代码中没有表现出来。代码流程可概括如下:1.将所有相关类(这里指Music、popMusic、classicMusic)通过`@injectable`声明进`container`容器;2.通过`container.get()`获取`container.bind().to(target)`中的目标对象(这里指Music);3.如果目标对象中的constructor()里有`@inject()`,则将相应的实例(这里指PopMusic与classicalMusic的实例)当作构造函数的参数'注入';###inject/injectable相关源码inject源码简化如下:```js//这是一个属性装饰器functioninject(serviceIdentifier){returnfunction(target,targetKey){constmetadataValue={[targetKey]:[Metadata{key:'inject',value:serviceIdentifier})]}Reflect.defineMetadata('inversify:tagged_props',metadataValue,target.constructor);}}```injectable源码简化如下:```js//这是一个类装饰器functioninjectable(){returnfunction(target){constmetadataValue=[]Reflect.defineMetadata('inversify:paramtypes',metadataValue,target)returntarget}}```从简化版源码中可以看到inject/injectable最终是对`Reflect.defineMetadata()`的一个使用。可以将metadata看成是一种相对高效的数据结构。####reflect-metadataInversityJS深度结合了[reflect-metadata](https://github.com/rbuckton/reflect-metadata),reflect-metadata在Reflect基础上对其api进行了扩展。>metadata本质上是一个`WeakMap`对象。扩展:[Map和WeakMap的区别](https://github.com/MuYunyun/blog/blob/master/BasicSkill/algorithm/字典.md#map-和-weakmap-的区别)`Reflect.defineMetadata(metadataKey,metadataValue,target[,propertyKey])`简化版实现如下:```jsconstMetadata=newWeakMap()functiondefineMetadata(metadataKey,metadataValue,target,propertyKey){metadataMap=newMap()metadataMap.set(metadataKey,metadataValue)targetMetadata=newMap()targetMetadata.set(propertyKey,metadataMap)Metadata.set(target,targetMetadata)}````Reflect.getOwnMetadata(metadataKey,target[,propertyKey])`简化版实现如下:```jsfunctiongetOwnMetadata(metadataKey,target,propertyKey){vartargetMetadata=Metadata.get(target)varmetadataMap=targetMetadata.get(propertyKey)returnmetadataMap.get(metadataKey)}```其数据结构可表示如下:```jsWeakMap{target:Map{propertyKey:Map{metadataKey:metadataValue}}}```###相关链接*[Architectureoverview](https://github.com/inversify/InversifyJS/blob/master/wiki/architecture.md)"},{name:"踩坑日志以及痛点.md",path:"/BasicSkill/project_framework/踩坑日志以及痛点.md",type:"file",mdconf:{abbrlink:"jigw9ep9"},birthtime:"2021-12-08",mtime:"2021-12-08",size:894,extension:".md",relative:"/BasicSkill/project_framework/踩坑日志以及痛点.md",isEmpty:!1,content:"\x3c!--abbrlink:jigw9ep9--\x3e###前端项目中的global对象webpack项目中是能使用global的。```js(function(global){})(window)```###浏览器竟然存在global开发/测试环境有global对象,线上环境没有global对象,应该是core.js这个库的版本不一致造成的。在`batman/node_modules/core-js/modules/_redefine.js`这个包里进行了`window.global`的赋值操作。###项目中枚举值前端自己维护的原因枚举是根据后端的注释所生成的,如果后端注释写错或者没有写注释,javadoc就生成不了。###Content-Type这个部分的知识对使用postman很有帮助。Content-Type:application/json会将相应类型传到网关Content-Type:x-www-form-urlencoded所有类型都以字符串的形式传到网关###痛点-[]结合vscode插件定制模板,快速插入"}],type:"directory",size:11804},{name:"readES6",path:"/BasicSkill/readES6",children:[{name:"Async.md",path:"/BasicSkill/readES6/Async.md",type:"file",mdconf:{abbrlink:"y1nlgvkb"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2302,extension:".md",relative:"/BasicSkill/readES6/Async.md",isEmpty:!1,content:"\x3c!--abbrlink:y1nlgvkb--\x3e[Asyncfunction](https://github.com/tc39/proposals/blob/master/finished-proposals.md)在2017年已到达了stage4。###async/await使用注意点*为了不让程序挂掉,注意捕获错误写法1:用`try/catch`捕获```jsasyncfunctiontest1(){try{awaitPromise.reject(newError('boom'))}catch(e){console.log(e)}console.log('goon')}test1()//Error:boom//goon```写法2:直接在`await`后面的`promise`上进行`catch````jsasyncfunctiontest2(){awaitPromise.reject(newError('boom')).catch(e=>console.log(e))console.log('goon')}test2()//Error:boom//goon```*使用并行提高程序的运行速度```js//串行调用示范asyncfunctionblock(){constresult1=awaitrequest(url1)constresult2=awaitrequest(url2)}```在如上案例中,`request(url1)`请求未完成的话是不会发起`request(url2)`请求的(类似串行调用),若想使之变为并行调用可以作如下修改:写法1:```jsasyncfunctionblock(){constpromise1=request(url1)constpromise2=request(url2)constresult1=awaitpromise1constresult2=awaitpromise2}```写法2:```jsasyncfunctionblock(){const[result1,result2]=awaitPromise.all([request(url1),request(url2)])}```###async函数的实现原理```jsasyncfunctionfn{}````async`函数在低版本浏览器中其实就是转为`co+Generator````jsfunctionfn{returnco(function*(){})}```关于简版`co`,可以看在[Generator函数的异步应用](https://github.com/MuYunyun/blog/blob/master/BasicSkill/readES6/Generator%E6%9C%AD%E8%AE%B0.md#generator-%E5%87%BD%E6%95%B0%E7%9A%84%E5%BC%82%E6%AD%A5%E5%BA%94%E7%94%A8)的实现。###异步遍历器>[proposal-async-iteration](https://github.com/tc39/proposal-async-iteration),异步遍历器也已经到了stage4。####异步迭代器同步场景下可以通过如下获取`value`、`done`:```jsconst{value,done}=syncIterator.next()```异步场景下可以通过如下方式获取`value`、`done````jsasyncIterator.next().then({value,done}=>{})```####forawait..of```jsforawait(constlineofreadLines(filePath)){console.log(line)}```"},{name:"Generator.md",path:"/BasicSkill/readES6/Generator.md",type:"file",mdconf:{abbrlink:"l3p7jbgc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4537,extension:".md",relative:"/BasicSkill/readES6/Generator.md",isEmpty:!1,content:"\x3c!--abbrlink:l3p7jbgc--\x3e###Generator使用规律从一道题目开始:```jsfunction*gen(){consta=yield1console.log(a)}```为了让其能成功打印出1,设计如下函数:```jsfunctionstep(gen){constit=gen()letresultreturnfunction(){result=it.next(result).value}}```进行如下调用:```jsvara=step(gen)a()a()//1```从这个题目总结出规律:*`next`的调用数比`yield`的调用数多1;*第一个`next`传参无效,从第二个`next`开始传参有效并会作为`yield`的结果返回;生成器中的`yield/next`除了控制能力外还有双向的消息通知能力:*`yield`后面跟的值能通过`it.next().value`取到*`it.next()`括号中的值又能作为`yield`的结果返回###yield暂停的位置```jsfunction*foo(url){try{constvalue=yieldrequest(url)console.log(value)}catch(err){...}}constit=foo('http://some.url.1')````yield`后面跟着的语句执行完再进入暂停状态的,在如上代码中,当执行`it.next()`时,可以稍加转换为如下形式:```jsfunction*foo(url){try{constpromise=request(url)//当执行it.next()时,这里是被执行的constvalue=yieldpromise//这里被暂停console.log(value)}catch(err){...}}```###遇到return/throw*遇到`return````jsfunction*gen(){yield1return2console.log('是否执行')}constit=gen()it.next()//{value:1,done:false}it.next()//{value:2,done:true}it.next()//{value:undefined,done:true}```总结:遇到`return`,`generator`函数结束中断,`done`变为`true`;*遇到`iterator`的`throw````jsfunction*gen(){yield1console.log('是否执行')}varit=gen()it.throw(newError('boom'))//Error:boomit.next()//{value:undefined,done:true}```总结:遇到`iterator`的`throw`,`generator`函数运行中断,`done`变为`true`;###Generator的简单实现`Generator`是一个返回迭代器的函数,下面是其简版实现:```jsfunctionfoo(url){varstatevarvalfunctionprocess(v){switch(state){case1:console.log('requesting:',url)returnrequest(url)case2:val=vconsole.log(val)returncase3:varerr=valconsole.log('Oops:',err)returnfalse}}return{next:function(v){if(!state){state=1return{done:false,value:process()}}elseif(state===1){state=2return{done:true,value:process(v)}}else{return{done:true,value:undefined}}},throw:function(){if(state===1){state=3return{done:true,value:process(e)}}else{throwe}}}}varit=foo('http://some.url.1')```###Generator函数的异步应用以`co`库来说,现在已经统一为`Generator+Promise`的调用方式,下面进行简单的模拟:```jsco(function*(){constresult=yieldPromise.resolve(true)console.log(result)//true})``````js//简版promisefunctionco(gen){constit=gen()conststep=function(data){constresult=it.next(data)if(result.done){returnresult.value}result.value.then((data)=>{step(data)})}step()}```观察`co`库发现,`co`函数后返回的是`promise`,使用如下:```jsco(function*(){constresult=yieldPromise.resolve(true)returnresult//这里有个语法,it.next()碰到return后,其值会变为{value:result,done:true}的形式}).then((data)=>{console.log(data)//true})```我们再对其稍加改造,使之更加添近`co`库:```jsfunctionco(gen){returnnewPromise((resolve,reject)=>{constit=gen()letresultconststep=function(fn){try{result=fn()}catch(e){returnreject(e)}if(result.done){returnresolve(result.value)}result.value.then((data)=>{step(()=>it.next(data))},(err)=>{step(()=>it.throw(err))//这里为了让抛错直接在generator消化,所以step内改传函数})}step(()=>it.next())})}```"},{name:"Promise.md",path:"/BasicSkill/readES6/Promise.md",type:"file",mdconf:{abbrlink:"l9w7axkn"},birthtime:"2021-12-08",mtime:"2021-12-08",size:7314,extension:".md",relative:"/BasicSkill/readES6/Promise.md",isEmpty:!1,content:"\x3c!--abbrlink:l9w7axkn--\x3e###Promise/A+核心![](http://with.muyunyun.cn/e1a0c15c44f9b014aa78d7b7620db474.jpg-200)在实现一个符合Promise/A+规范的promise之前,先了解下Promise/A+核心,想更全面地了解可以阅读[Promise/A+规范](https://segmentfault.com/a/1190000002452115)*Promise操作只会处在3种状态的一种:未完成态(pending)、完成态(resolved)、失败态(rejected);*Promise的状态只会出现从未完成态向完成态或失败态转化;*Promise的状态一旦转化,将不能被更改;###Promiseapi####Promise.resolve()Promise.resolve()括号内有4种情况```js/*跟Promise对象*/Promise.resolve(Promise.resolve(1))//Promise{state:\"resolved\",data:1,callbackQueue:Array(0)}/*跟thenable对象*/varthenable={then:function(resolve,reject){resolve(1)}}Promise.resolve(thenable)//Promise{state:\"resolved\",data:1,callbackQueue:Array(0)}/*普通参数*/Promise.resolve(1)//Promise{state:\"resolved\",data:1,callbackQueue:Array(0)}/*不跟参数*/Promise.resolve()//Promise{state:\"resolved\",data:undefined,callbackQueue:Array(0)}```####Promise.reject()相较于Promise.resolve(),Promise.reject()原封不动地返回参数值####Promise.all(arr)对于Promise.all(arr)来说,在参数数组中所有元素都变为决定态后,然后才返回新的promise。```js//以下demo,请求两个url,当两个异步请求返还结果后,再请求第三个urlconstp1=request(`http://some.url.1`)constp2=request(`http://some.url.2`)Promise.all([p1,p2]).then((datas)=>{//此处datas为调用p1,p2后的结果的数组returnrequest(`http://some.url.3?a=${datas[0]}&b=${datas[1]}`)}).then((data)=>{console.log(msg)})```####Promise.race(arr)对于Promise.race(arr)来说,只要参数数组有一个元素变为决定态,便返回新的promise。```js//race译为竞争,同样是请求两个url,当且仅当一个请求返还结果后,就请求第三个urlconstp1=request(`http://some.url.1`)constp2=request(`http://some.url.2`)Promise.race([p1,p2]).then((data)=>{//此处data取调用p1,p2后优先返回的结果returnrequest(`http://some.url.3?value=${data}`)}).then((data)=>{console.log(data)})```####Promise.wrap(fn)——回调函数转Promise通过下面这个案例,提供回调函数Promise化的思路。```jsfunctionfoo(a,b,cb){ajax(`http://some.url?a=${a}&b=${b}`,cb)}foo(1,2,function(err,data){if(err){console.log(err)}else{console.log(data)}})```如上是一个传统回调函数使用案例,假如现在有个函数Promise.wrap(),使用其包裹foo函数从而使之promise化,用法如下:```jsconstpromiseFoo=Promise.wrap(foo)promiseFoo(1,2).then((data)=>{console.log(data)}).catch((err)=>{console.log(err)})```让我们来实现Promise.wrap()函数:```jsPromise.wrap=function(fn){returnfuntion(...args){returnnewPromise((resolve,reject)=>{fn.apply(null,args.concat((err,data)=>{if(err){reject(err)}else{resolve(data)}}))})}}```####then/catch/done这几个api比较简单,合起来一起带过```jsPromise.resolve(1).then((data)=>{console.log(data)},(err)=>{console.log(err)})//链式调用,可以传一个参数(推荐),也可以传两个参数.catch((err)=>{console.log(err)})//捕获链式调用中抛出的错误||捕获变为失败态的值.done()//能捕获前面链式调用的错误(包括catch中),可以传两个参数也可不传```###实现一个Promise>实践了一个符合Promise/A+规范的[repromise](https://github.com/MuYunyun/repromise)。####坑点1:事件循环>事件循环:同步队列执行完后,在指定时间后再执行异步队列的内容。之所以要单列事件循环,因为代码的执行顺序与其息息相关,此处用setTimeout来模拟事件循环；下面代码片段中,①处执行完并不会马上执行setTimeout()中的代码(③),而是此时有多少次then的调用,就会重新进入②处多少次后,再进入③```jsexcuteAsyncCallback(callback,value){constthat=thissetTimeout(function(){constres=callback(value)//③that.excuteCallback('fulfilled',res)},4)}then(onResolved,onRejected){constpromise=newthis.constructor()if(this.state!=='PENDING'){constcallback=this.state==='fulfilled'?onResolved:onRejectedthis.excuteAsyncCallback.call(promise,callback,this.data)//①}else{this.callbackArr.push(newCallbackItem(promise,onResolved,onRejected))//②}returnpromise}```####坑点2:this的指向问题this.callbackArr.push()中的this指向的是‘上一个’promise,所以类CallbackItem中,this.promise存储的是'下一个'promise(then对象)。```jsclassPromise{...then(onResolved,onRejected){constpromise=newthis.constructor()if(this.state!=='PENDING'){//第一次进入then,状态是RESOLVED或者是REJECTEDconstcallback=this.state==='fulfilled'?onResolved:onRejectedthis.excuteAsyncCallback.call(promise,callback,this.data)//绑定this到promise}else{//从第二次开始以后,进入then,状态是PENDINGthis.callbackArr.push(newCallbackItem(promise,onResolved,onRejected))//这里的this也是指向‘上一个’promise}returnpromise}...}classCallbackItem{constructor(promise,onResolve,onReject){this.promise=promise//相应地,这里存储的promise是来自下一个then的this.onResolve=typeof(onResolve)==='function'?onResolve:(resolve)=>{}this.onReject=typeof(onRejected)==='function'?onRejected:(rejected)=>{}}...}```###拓展延伸```jssetTimeout(()=>{console.log('A')},0)Promise.resolve(console.log('B')).then(()=>{console.log('C')})console.log('D')```正常情况下,此demo应该输出`BDCA`,这里涉及到宏任务和微任务的知识点,一个宏任务里可以有多个微任务。*宏任务(macroTask):setTimeout、requestAnimationFrame*微任务(microTask):promise、setImmediate、async/await>由于此项目中的promise是用setTimeout实现的,所以在上述demo中,此项目输出的结果是`BDAC`,解决方法:可以参考[setImmediate.js](https://github.com/YuzuJS/setImmediate)。它的本质用了一些hack的手段,比如借用了`postMessage`这个来操作事件循环。###问题:promise.all如何做到让多个setTimeout并发运行?这个就是promise.all()的本质了,浏览器内部提供了一个事件循环机制来模拟成伪'并发'```jsvaroldTime=Date.now()setTimeout(()=>{console.log(Date.now()-oldTime)},1000)//1001~1005(存在4ms的波动)setTimeout(()=>{console.log(Date.now()-oldTime)},2000)//2001~2005```"},{name:"Reflect.md",path:"/BasicSkill/readES6/Reflect.md",type:"file",mdconf:{abbrlink:"lm3wt8vq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1052,extension:".md",relative:"/BasicSkill/readES6/Reflect.md",isEmpty:!1,content:"\x3c!--abbrlink:lm3wt8vq--\x3e###Reflect`Reflect`是`ES6`新引人的特性,其目的是把一些`JavaScript`特有的属性`api`抽离出来。其有如下优点:*返回值更加合理```jsvarobj={}//在obj中定义a属性Object.defineProperty(obj,'a',{value:2})//使用Object.defineProperty在obj中重复定义a属性就会抛错try{Object.defineProperty(obj,'a',{value:3})}catch(e){console.log(e)//UncaughtTypeError:Cannotredefineproperty:a}//使用Reflect.defineProperty在obj中重复定义a属性则是返回falseif(Reflect.defineProperty(obj,'a',{value:3})){console.log('属性添加成功')}```*将一些对象属性的操作判断统一为函数操作。比如`propsinObj`现在可写成`Reflect.has(Obj,props)`,又比如`deleteObj[props]`现在可写成`Reflect.deleteProperty(Obj,props)`*与[ProxyHandler](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler#Methods)方法参数同步"},{name:"扩展运算符.md",path:"/BasicSkill/readES6/扩展运算符.md",type:"file",mdconf:{abbrlink:"yvcua1zk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1996,extension:".md",relative:"/BasicSkill/readES6/扩展运算符.md",isEmpty:!1,content:"\x3c!--abbrlink:yvcua1zk--\x3e`...`是ES6新出来的符号,称为扩展运算符。它在不同情况下有不同的作用,下文我们将对之进行梳理。###对象中的扩展运算符1.`...`当作对象扩展符使用时可以用来*浅拷贝*目标对象的*自有属性中的可枚举属性*。>对象中的扩展运算符的作用等同于Object.assign()。下面举例证明上述结论:*验证对象扩展符只能`copy`自有属性,原型链上的属性不能`copy````jsclassDemo{constructor(){this.name='Lily'}testFn(){}}consttest=newDemo()constcpObj={...test}cpObj.name==='Lily'//truecpObj.testFn()//UncaughtTypeError:cpTest.testFnisnotafunction```*验证只能copy可枚举属性```jsconstobj=Object.defineProperty({a:1},'b',{enumerable:false,value:2})constcpObj={...obj}obj.a//1obj.b//2cpObj.a//1cpObj.b//undefined```2.解构赋值```jsconstobj={a:1,b:2,c:3}const{a,...x}=objconst{a:data}=obj//重命名a//1x//{b:2,c:3}data//1```###数组中的扩展运算符1.浅拷贝```jsconstarr=[1,2,3]constcpArr=[...arr]cpArr//[1,2,3]```>下面这种写法也是浅拷贝的变种:```jsconstarr=[1,2,3]constcpArr=[]cpArr.push(...arr)cpArr//[1,2,3]```因为这个特性,我们还可以合并数组,如下所示:```jsconstarr1=[1,2,3]constarr2=[4,5,6]constmergeArr=[...arr1,...arr2]mergeArr//[1,2,3,4,5,6]```2.解构赋值```js[a,...b]=[1,2,3]a//1b//[2,3]```>扩展运算符用来做解构赋值时,只能放在最后一位3.传参中使用,将所传的参数变为数组```jsfunctionDemo(...args){console.log(args)}Demo(1,2,3)//[1,2,3]```###相关链接*[对象扩展符简易指南](https://www.zcfy.cc/article/an-easy-guide-to-object-rest-spread-properties-in-javascript)"},{name:"模块.md",path:"/BasicSkill/readES6/模块.md",type:"file",mdconf:{abbrlink:"muao7eyd"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2133,extension:".md",relative:"/BasicSkill/readES6/模块.md",isEmpty:!1,content:"\x3c!--abbrlink:muao7eyd--\x3e###CommonJS模块与ES6模块间的差异####写法上的差异CommonJS中常见导出和引人写法如下:```js//导出module.exports=a//引人consta=require('./xxx')```ES6中常见导出和引人写法如下:```js//导出exportdefaulta//编译成CommonJS:exports.default=a(ES编译成的CommonJS形式)//引人importafrom'./xxx'//编译成CommonJS:require('./xxx').default//导出export{a}//编译成CommonJS:exports.a=a//引人import{a}from'./xxx'//编译成CommonJS:require('./xxx').a```####加载机制的差异在CommonJS的模块中,require是动态(运行时)加载的；在ES6的模块中,import是静态(编译时)加载的。>ES6[import()动态加载的提案](https://github.com/tc39/proposal-dynamic-import)目前已到第3阶段。>另外如果是使用TypeScript的话,编译成JavaScript的代码后再用上述结论。####获取模块的差异在CommonJS中,获取的是一个`值/模块的拷贝`,见如下例子:```js//test.jsleta=1functionadd(){a=2}module.exports={a,add}//test2.jsconst{a,add}=require('./test')console.log(a)add()console.log(a)//执行nodetest2.js,输出结果为11```在ES6中,获取的是一个`值/模块的引用`,见如下例子:```js//test.jsleta=1functionadd(){a=2}export{a,add}//index.htmlimport{a,add}from'./index.js'console.log(a)add()console.log(a)//在浏览器中输出结果为12```###同时支持CJS与ESM包的最佳实践1.提供一个CJS版本这样可以确保你的库在旧版本Node下跑的更好。(如果你写的是TypeScript或者其他需要编译到JavaScript的语言，那么编译到CJS。)2.基于CJS封装到ESM版本(将CJS封装到ESM很容易，但是ESM库是没法封装到CJS库的)。```jsimportcjsModulefrom'../index.js';exportconstfoo=cjsModule.foo;```Todo:调研为什么CJS封装为ESM容易,但是反过来不行。"},{name:"箭头函数.md",path:"/BasicSkill/readES6/箭头函数.md",type:"file",mdconf:{abbrlink:"esoqf37z"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1254,extension:".md",relative:"/BasicSkill/readES6/箭头函数.md",isEmpty:!1,content:"\x3c!--abbrlink:esoqf37z--\x3e###箭头函数中的this理解下箭头函数中this的本质,看如下代码:```js()=>console.log(this)```经过babel转化后的ES5代码如下```jsvarself=this(function(){console.log(self)})```结论:箭头函数中this的值等同于箭头函数当前所处作用域下的this。####箭头函数的一些不易理解场景有如下html代码,```html<body><input/></body>```加上如下JavaScript脚本测试this指向:```jsvarinputTest=document.getElementsByTagName('input')inputTest[0].addEventListener('click',function(){console.log(this)//指向input})inputTest[0].addEventListener('click',()=>{console.log(this)//window})```上述这段是为dom节点绑定事件的常见写法,但是this指向就很奇怪了,ES5中指向了`<input/>`,ES6中却指向了window。至于原因,其实是回调函数引起的坑(得看浏览器触发事件时的代码)。再加上箭头函数的特殊性所以产生以上迷惑的代码片段。###箭头函数小tip当箭头函数返回的结果是对象时,注意下写法的细节:```jsconstresult1=()=>({a:1})constresult2=()=>{return{a:1}}```"},{name:"继承.md",path:"/BasicSkill/readES6/继承.md",type:"file",mdconf:{abbrlink:"czmq4cx2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6278,extension:".md",relative:"/BasicSkill/readES6/继承.md",isEmpty:!1,content:"\x3c!--abbrlink:czmq4cx2--\x3e###ES5之继承####基于构造函数的继承```jsfunctionParent1(){this.parent1='parent1'this.arr=[1,2,3]}Parent1.prototype.walk='Icanwalk'functionChild1(){Parent1.call(this)this.child1='child1'}constchild11=newChild1()constchild12=newChild1()//测试child11.parent1//parent1child11.walk//undefinedchild11.arr.push(4)child11.arr//[1,2,3,4]child12.arr//[1,2,3]```*优点:构造函数的属性具有唯一性(child11.arr与child12.arr),可参考[红皮书里的细节](https://github.com/MuYunyun/blog/blob/master/BasicSkill/%E5%9F%BA%E7%A1%80%E7%AF%87/%E4%BA%8C%E5%88%B7%E9%AB%98%E7%A8%8B.md#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%A8%A1%E5%BC%8F)*缺点:只能继承父类函数的方法和属性,而不能继承原型对象的方法和属性####基于原型链的继承```jsfunctionParent2(){this.parent2='parent2'this.arr=[1,2,3]}Parent2.prototype.walk='Icanwalk'functionChild2(){this.child2='child2'}Child2.prototype=newParent2()constchild21=newChild2()constchild22=newChild2()//测试child21.parent2//parent2child21.walk//Icanwalkchild21.arr.push(4)child21.arr//[1,2,3,4]child22.arr//[1,2,3,4]```*优点:继承父类函数的方法和属性同时继承了原型对象的方法和属性*缺点:当在一个子类的实例上修改父类的属性和方法时,其它的子类也会受到影响(相当于改变了子类原型链上的属性,可以参考[二刷高程](https://github.com/MuYunyun/blog/blob/master/BasicSkill/%E5%9F%BA%E7%A1%80%E7%AF%87/%E4%BA%8C%E5%88%B7%E9%AB%98%E7%A8%8B.md#%E5%8E%9F%E5%9E%8B%E9%93%BE%E6%A8%A1%E5%BC%8F)------补充------补充下Object.create()这个api,也将它归类到基于原型链的继承。当继承的对象属性没变化时,可以使用它。*优点:可以少写一个构造函数*缺点:同上述基于原型链继承的缺点####组合继承```jsfunctionParent3(){this.parent3='parent3'this.arr=[1,2,3]}Parent3.prototype.walk='Icanwalk'functionChild3(){Parent3.call(this)//这里执行第一次父类this.child3='child3'}Child3.prototype=newParent3()//这里执行第二次父类,原型继承发现只要把父子的原型对象绑定起来就好,可以写成Child3.prototype=newParent3()>__proto__也正常constchild31=newChild3()constchild32=newChild3()//测试child31.parent3//parent3child31.walk//Icanwalkchild31.arr.push(4)child31.arr//[1,2,3,4]child32.arr//[1,2,3]```*优点:结合了构造函数继承和原型链继承的优点*缺点:父类方法调用了两次,而且不能判断实例的构造函数是子类还是父类####组合继承优化一```jsfunctionParent4(){this.parent4='parent4'this.arr=[1,2,3]}Parent4.prototype.walk='Icanwalk'functionChild4(){Parent4.call(this)this.child4='child4'}Child4.prototype=Parent4.prototypeconstchild41=newChild4()constchild42=newChild4()//测试child41.parent4//parent4child41.walk//Icanwalkchild41.arr.push(4)child41.arr//[1,2,3,4]child42.arr//[1,2,3]child41.constructor//Parent4```*优点:解决了调用两次的问题*缺点:不能判断实例的构造函数是子类还是父类(此时child41、child42的构造函数指向Parent4)####组合继承优化二```jsfunctionParent5(){this.parent5='parent5'this.arr=[1,2,3]}Parent5.prototype.walk='Icanwalk'functionChild5(){Parent5.call(this)this.child5='child5'}Child5.prototype=Object.create(Parent5.prototype)//Object.create()创建了一个中间对象,起到隔离子类和父类的作用。Child5.prototype.constructor=Child5constchild51=newChild5()constchild52=newChild5()//测试child51.parent5//parent5child51.walk//Icanwalkchild51.arr.push(4)child51.arr//[1,2,3,4]child52.arr//[1,2,3]child51.constructor//Child5```>Object.create()的作用:Object.create(Parent5.prototype)相当于一个空对象{},这个空对象的__proto__等于Parent5.prototype,所以这时候我们修改Child5.prototype.constructor实际上是在空对象上加上constructor属性。优点:解决了不能判断实例的构造函数是子类还是父类的问题###揭秘ES6继承之super####constructor中的super```jsfunctionParent(props){this.props=props}classChildextendsParent{constructor(){super()//这里}}varchild=newChild({a:1})console.log(child.props)//undefined```为什么这里child.props会输出undefined呢,让我们接着看以下两个例子。```jsfunctionParent(props){this.props=props}classChildextendsParent{constructor(props){super(props)}}varchild=newChild({a:1})console.log(child.props)//{a:1}``````jsfunctionParent(props){this.props=props}classChildextendsParent{}varchild=newChild({a:1})console.log(child.props)//{a:1}```可以看到第二种情况和第三种情况是相等的。继承中,当子类没有写constructor时,它会自动加上如下代码:```jsconstructor(props){super(props)}```简单作个结论:当ES6的类函数中有constructor和super时,它们后面必须得跟个参数props(名字随意),否则原型链上的对象无法获取到相应属性。将之翻译成ES5,代码如下:```jsfunctionParent(props){this.props=props}functionChild(props){Parent.call(this,props)//这里等价于ES6中super(props)}Child.prototype=newParent()varchild=newChild({a:1})```####作为对象调用的super在下面的案例中,super作为对象调用,那么它指向什么呢？```jsclassParent{parentFn(){console.log('IamparentFn')}}classChildextendsParent{childFn(){console.log(super.constructor)super.parentFn()}}varchild=newChild()child.childFn()//ClassParent{...}//IamparentFn```打印结果已经作出了回答。super在作为对象调用时,它指向了父类对象的实例。"},{name:"装饰器.md",path:"/BasicSkill/readES6/装饰器.md",type:"file",mdconf:{abbrlink:"396wjsh1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4539,extension:".md",relative:"/BasicSkill/readES6/装饰器.md",isEmpty:!1,content:"\x3c!--abbrlink:396wjsh1--\x3e随着ES6和TypeScript中类的引入,在某些场景需要在不改变原有类和类属性的基础上扩展些功能,这也是装饰器出现的原因。\x3c!--more--\x3e###装饰器简介作为一种可以动态增删功能模块的模式(比如[redux的中间件机制](https://github.com/MuYunyun/blog/issues/15)),装饰器同样具有很强的动态灵活性,只需在类或类属性之前加上`@方法名`就完成了相应的类或类方法功能的变化。不过装饰器模式仍处于[第2阶段提案中](https://github.com/tc39/proposal-decorators),使用它之前需要使用babel模块`transform-decorators-legacy`编译成ES5或ES6。在TypeScript的[lib.es5.d.ts](https://github.com/Microsoft/TypeScript/blob/c48662c891ce810f5627a0f6a8594049cccceeb5/lib/lib.es5.d.ts#L1291)中,定义了4种不同装饰器的接口:```tsdeclaretypeClassDecorator=<TFunctionextendsFunction>(target:TFunction)=>TFunction|void;declaretypePropertyDecorator=(target:Object,propertyKey:string|symbol)=>void;declaretypeMethodDecorator=<T>(target:Object,propertyKey:string|symbol,descriptor:TypedPropertyDescriptor<T>)=>TypedPropertyDescriptor<T>|void;declaretypeParameterDecorator=(target:Object,propertyKey:string|symbol,parameterIndex:number)=>void;```下面对装饰类以及装饰类方法进行解析。###作用于类的装饰器当装饰的对象是类时,我们操作的就是这个`类本身`。```js@logclassMyClass{}functionlog(target){//这个target在这里就是MyClass这个类target.prototype.logger=()=>`${target.name}被调用`}consttest=newMyClass()test.logger()//MyClass被调用```由于装饰器是表达式,我们也可以在装饰器后面再添加提个参数:```js@log('hello')classMyClass{}functionlog(text){returnfunction(target){target.prototype.logger=()=>`${text},${target.name}被调用`}}consttest=newMyClass()test.logger()//hello,MyClass被调用```在使用redux中,我们最常使用react-redux的写法如下:```js@connect(mapStateToProps,mapDispatchToProps)exportdefaultclassMyComponentextendsReact.Component{}```经过上述分析,我们知道了上述写法等价于下面这种写法:```jsclassMyComponentextendsReact.Component{}exportdefaultconnect(mapStateToProps,mapDispatchToProps)(MyComponent)```###作用于类方法的装饰器与装饰类不同,对类方法的装饰本质是操作其描述符。可以把此时的装饰器理解成是`Object.defineProperty(obj,prop,descriptor)`的语法糖,看如下代码:```jsclassC{@readonly(false)method(){console.log('cat')}}functionreadonly(value){returnfunction(target,key,descriptor){//此处target为C.prototype;key为method;//原descriptor为:{value:f,enumarable:false,writable:true,configurable:true}descriptor.writable=valuereturndescriptor}}constc=newC()c.method=()=>console.log('dog')c.method()//cat```可以看到装饰器函数接收的三个参数与Object.defineProperty是完全一样的,具体实现可以看babel转化后的代码,主要实现如下所示:```jsvarC=(function(){classC{method(){console.log('cat')}}vartemptemp=readonly(false)(C.prototype,'method',temp=Object.getOwnPropertyDescriptor(C.prototype,'method'))||temp//通过Object.getOwnPropertyDescriptor获取到描述符传入到装饰器函数中if(temp)Object.defineProperty(C.prototype,'method',temp)returnC})()```再将再来看看如果有多个装饰器作用于同一个方法上呢？```jsclassC{@readonly(false)@logmethod(){}}```经babel转化后的代码如下:```jsdesc=[readonly(false),log].slice().reverse().reduce(function(desc,decorator){returndecorator(target,property,desc)||desc;},desc);```可以清晰地看出,经过reverse倒序后,装饰器方法会至里向外执行。###相关链接[javascript-decorators](https://github.com/wycats/javascript-decorators)[Javascript中的装饰器](https://aotu.io/notes/2016/10/24/decorator/index.html)[JS装饰器（Decorator）场景实战](https://juejin.im/post/59f1c484f265da431c6f8940)[修饰器](http://es6.ruanyifeng.com/#docs/decorator#%E6%96%B9%E6%B3%95%E7%9A%84%E4%BF%AE%E9%A5%B0)[Babel](http://babeljs.io)"},{name:"遍历语法.md",path:"/BasicSkill/readES6/遍历语法.md",type:"file",mdconf:{abbrlink:"ar2urehz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4148,extension:".md",relative:"/BasicSkill/readES6/遍历语法.md",isEmpty:!1,content:"\x3c!--abbrlink:ar2urehz--\x3e###for循环/while循环JavaScript提供多种遍历语法。最原始的写法就是for循环。```jsletarr=[1,2,3,4,5];for(varindex=0;index<arr.length;index++){console.log(myArray[index]);//12345}```*缺点：这种写法相对麻烦###forEach数组提供内置的forEach方法```jsletarr=[1,2,3,4,5];arr.forEach((element,index)=>{console.log(element);//12345})```*缺点:这种写法的问题在于,无法中途跳出forEach循环,break命令或return命令都不能生效。###for...infor……in用于遍历对象所有的`可枚举属性`,功能类似于Object.keys()。```jsletobj={name:'cloud',phone:'157xxxx2065'}for(letpropinobj){console.log(prop);//namephone}```可能有朋友会问,不可枚举的对象有哪些呢?比如constructor,数组的length就属于不可枚举属性。```jsletarr=[10,20,30,40,50]for(letpropinarr){console.log(prop)//'0''1''2''3''4'}```缺点：*数组的键名是数字,但是for...in循环是以字符串作为键名“0”、“1”、“2”等等。*for...in循环主要是为遍历对象而设计的,不适用于遍历数组###for...of`for……of`是ES6新增的遍历方式,它提供了统一的遍历机制。所有实现了[Symbol.iterator]接口的对象都可以被遍历。for...of循环可以使用的范围包括数组、Set和Map结构、某些类似数组的对象(比如arguments对象、DOMNodeList对象)、Generator对象,以及字符串。优点：*有着同for...in一样的简洁语法,但是没有for...in那些缺点;*不同用于forEach方法,它可以与break、continue和return配合使用*提供了遍历所有数据结构的统一操作接口下面是一个使用break语句,跳出for...of循环的例子。```jsfor(varnoffibonacci){if(n>1000)breakconsole.log(n)}```上面的例子,会输出斐波纳契数列小于等于1000的项。如果当前项大于1000,就会使用break语句跳出for...of循环。####for...of获取索引*entries()返回一个遍历器对象,用来遍历`[键名,键值]`组成的数组。对于数组,键名就是索引值；对于Set,键名与键值相同。Map结构的Iterator接口,默认就是调用entries方法。*keys()返回一个遍历器对象,用来遍历所有的键名。*values()返回一个遍历器对象,用来遍历所有的键值。```js//demoletarr=['a','b','c'];for(letpairofarr.entries()){console.log(pair);}//[0,'a']//[1,'b']//[2,'c']```####类似数组的对象类似数组的对象包括好几类。下面是for...of循环用于字符串、DOMNodeList对象、arguments对象的例子。```js//字符串letstr=\"hello\";for(letsofstr){console.log(s);//hello}//DOMNodeList对象letparas=document.querySelectorAll(\"p\");for(letpofparas){p.classList.add(\"test\");}//arguments对象functionprintArgs(){for(letxofarguments){console.log(x);}}printArgs('a','b');//'a'//'b'```并不是所有类似数组的对象都具有Iterator接口,一个简便的解决方法,就是使用Array.from方法将其转为数组。```jsletarrayLike={length:2,0:'a',1:'b'};//报错for(letxofarrayLike){console.log(x);}//正确for(letxofArray.from(arrayLike)){console.log(x);//'a'//'b'}```####普通的对象对于普通的对象,for...of结构不能直接使用,会报错,必须部署了Iterator接口后才能使用。```jsletes6={edition:6,committee:\"TC39\",standard:\"ECMA-262\"};for(leteines6){console.log(e);}//edition//committee//standardfor(leteofes6){console.log(e);}//TypeError:es6isnotiterable```解决方法是,使用Object.keys方法将对象的键名生成一个数组,然后遍历这个数组。```jsfor(varkeyofObject.keys(someObject)){console.log(key+':'+someObject[key]);}```"}],type:"directory",size:35553},{name:"service",path:"/BasicSkill/service",children:[{name:"README.md",path:"/BasicSkill/service/README.md",type:"file",mdconf:{abbrlink:"puqff18q"},birthtime:"2021-12-08",mtime:"2021-12-08",size:226,extension:".md",relative:"/BasicSkill/service/README.md",isEmpty:!1,content:"\x3c!--abbrlink:puqff18q--\x3e###Service*laaS(Infrastructure),基础设施即服务;*PaaS(Platform),平台即服务;*SaaS(Software),软件即服务;![](http://with.muyunyun.cn/af4d1f46f7fefe989c798a9e4ec55fa6.jpg)"}],type:"directory",size:226},{name:"share",path:"/BasicSkill/share",children:[],type:"directory",size:0},{name:"shorcuts",path:"/BasicSkill/shorcuts",children:[{name:"vim.md",path:"/BasicSkill/shorcuts/vim.md",type:"file",mdconf:{abbrlink:"jgd6ij6z"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2079,extension:".md",relative:"/BasicSkill/shorcuts/vim.md",isEmpty:!1,content:"\x3c!--abbrlink:jgd6ij6z--\x3e###vim配置####配置*步骤一.cp/usr/share/vim/vimrc~/.vimrc*步骤二.vi~/.vimrc####可选配置```jssetnocompatible去掉有关vi一致性模式,避免以前版本的bug和局限setnu!显示行号setguifont=Luxi/Mono/9设置字体,字体名称和字号filetypeon检测文件的类型sethistory=1000记录历史的行数setbackground=dark背景使用黑色syntaxon语法高亮度显示setautoindentvim使用自动对齐,也就是把当前行的对齐格式应用到下一行(自动缩进）setcindent（cindent是特别针对C语言语法自动缩进）setsmartindent依据上面的对齐格式,智能的选择对齐方式,对于类似C语言编写上有用settabstop=4设置tab键为4个空格setshiftwidth=4设置当行之间交错时使用4个空格setai!设置自动缩进setshowmatch设置匹配模式,类似当输入一个左括号时会匹配相应的右括号setguioptions-=T去除vim的GUI版本中得toolbarsetvbt_vb=当vim进行编辑时,如果命令错误,会发出警报,该设置去掉警报setruler在编辑过程中,在右下角显示光标位置的状态行setnohls默认情况下,寻找匹配是高亮度显示,该设置关闭高亮显示setincsearch在程序中查询一单词,自动匹配单词的位置；如查询desk单词,当输到/d时,会自动找到第一个d开头的单词,当输入到/de时,会自动找到第一个以de开头的单词,以此类推,进行查找;当找到要匹配的单词时,别忘记回车setbackspace=2设置退格键可用```###vim快捷键```jsdd快速删除当前行```"}],type:"directory",size:2079},{name:"tool",path:"/BasicSkill/tool",children:[{name:"eslint.md",path:"/BasicSkill/tool/eslint.md",type:"file",mdconf:{abbrlink:"7ig74low"},birthtime:"2021-12-08",mtime:"2021-12-08",size:254,extension:".md",relative:"/BasicSkill/tool/eslint.md",isEmpty:!1,content:"\x3c!--abbrlink:7ig74low--\x3e###ways1.use[ASTExplorer](https://astexplorer.net/)2.pickbabel-eslintandeslintv4inTransform.###links*[HowToWriteYourFirstESLintPlugin](https://dev.to/spukas/how-to-write-your-first-eslint-plugin-145)"},{name:"markdown.md",path:"/BasicSkill/tool/markdown.md",type:"file",mdconf:{abbrlink:"akdysy4n"},birthtime:"2021-12-08",mtime:"2021-12-08",size:177,extension:".md",relative:"/BasicSkill/tool/markdown.md",isEmpty:!1,content:"\x3c!--abbrlink:akdysy4n--\x3e##Markdown语法###脚注可以在内容区添加脚注，通过括号语法。```mdHereisasimplefootnote[^1][^1]:Myreference.```"},{name:"shell.md",path:"/BasicSkill/tool/shell.md",type:"file",mdconf:{abbrlink:"l33pdpxw"},birthtime:"2021-12-08",mtime:"2021-12-08",size:174,extension:".md",relative:"/BasicSkill/tool/shell.md",isEmpty:!1,content:"\x3c!--abbrlink:l33pdpxw--\x3e###Shell脚本*用途:*alfredworkflow快速脚本*有需要可以参考[Shell教程](https://www.runoob.com/linux/linux-shell.html)"}],type:"directory",size:605},{name:"编程范式",path:"/BasicSkill/编程范式",children:[{name:"函数式编程入门.md",path:"/BasicSkill/编程范式/函数式编程入门.md",type:"file",mdconf:{abbrlink:"hlkezw7u"},birthtime:"2021-12-08",mtime:"2021-12-08",size:9653,extension:".md",relative:"/BasicSkill/编程范式/函数式编程入门.md",isEmpty:!1,content:"\x3c!--abbrlink:hlkezw7u--\x3e###命令式编程和声明式编程拿泡茶这个事例进行区分命令式编程和声明式编程*命令式编程1.烧开水(为第一人称)2.拿个茶杯3.放茶叶4.冲水*声明式编程1.给我泡杯茶(为第二人称)举个demo```js//命令式编程constconvert=function(arr){constresult=[]for(leti=0;i<arr.length;i++){result[i]=arr[i].toLowerCase()}returnresult}//声明式编程constconvert=function(arr){returnarr.map(r=>r.toLowerCase())}```###什么是函数式编程函数式编程是声明式编程的范式。在函数式编程中数据在由纯函数组成的管道中传递。>函数式编程可以用简单如`交换律、结合律、分配律`的数学之法来帮我们简化代码的实现。它具有如下一些特性:*纯粹性:纯函数不改变除当前作用域以外的值;```js//反面示例leta=0constadd=(b)=>a=a+b//两次add(1)结果不一致//正确示例constadd=(a,b)=>a+b```*数据不可变性:Immutable```js//反面示例constarr=[1,2]constarrAdd=(value)=>{arr.push(value)returnarr}arrAdd(3)//[1,2,3]arrAdd(3)//[1,2,3,3]//正面示例constarr=[1,2]constarrAdd=(value)=>{returnarr.concat(value)}arrAdd(3)//[1,2,3]arrAdd(3)//[1,2,3]```>在后记1中对数组字符串方法是否对原值有影响作了整理*函数柯里化:将多个入参的函数转化为一个入参的函数;```jsconstadd=a=>b=>c=>a+b+cadd(1)(2)(3)```*偏函数:将多个入参的函数转化成两部分;```jsconstadd=a=>(b,c)=>a+b+cadd(1)(2,3)```*可组合:函数之间能组合使用```jsconstadd=(x)=>x+xconstmult=(x)=>x*xconstaddAndMult=(x)=>add(mult(x))```###柯里化(curry)如下是一个加法函数:```jsvaradd=(a,b,c)=>a+b+cadd(1,2,3)//6```假如有这样一个`curry`函数,用其包装`add`函数后返回一个新的函数`curryAdd`,我们可以将参数`a、b`进行分开传递进行调用。```jsvarcurryAdd=curry(add)//以下输出结果都相同curryAdd(1,2,3)//6curryAdd(1,2)(3)//6curryAdd(1)(2)(3)//6curryAdd(1)(2,3)//6```####动手实现一个curry函数核心思路:若传进去的参数个数未达到`curryAdd`的个数，则将参数缓存在闭包变量lists中:```jsfunctioncurry(fn,...args){constlength=fn.lengthletlists=args||[]letlistLenreturnfunction(..._args){lists=[...lists,..._args]listLen=lists.lengthif(listLen<length){constthat=listslists=[]returncurry(fn,...that)}elseif(listLen===length){constthat=listslists=[]returnfn.apply(this,that)}}}```###代码组合(compose)现在有`toUpperCase`、`reverse`、`head`三个函数,分别如下:```jsvartoUpperCase=(str)=>str.toUpperCase()varreverse=(arr)=>arr.reverse()varhead=(arr)=>arr[0]```接着使用它们实现将数组末位元素大写化输出,可以这样做:```jsvarreverseHeadUpperCase=(arr)=>toUpperCase(head(reverse(arr)))reverseHeadUpperCase(['apple','banana','peach'])//PEACH```此时在构建`reverseHeadUpperCase`函数的时候,必须手动声明传入参数arr,是否能提供一个`compose`函数让使用者更加友好的使用呢?类似如下形式:```jsvarreverseHeadUpperCase=compose(toUpperCase,head,reverse)reverseHeadUpperCase(['apple','banana','peach'])//PEACH```此外`compose`函数符合`结合律`,我们可以这样子使用:```jscompose(compose(toUpperCase,head),reverse)compose(toUpperCase,compose(head,reverse))```以上两种写法与`compose(toUpperCase,head,reverse)`的效果完全相同,都是依次从右到左执行传参中的函数。此外`compose`和`map`一起使用时也有相关的结合律,以下两种写法效果相等```jscompose(map(f),map(g))map(compose(f,g))```####动手实现一个compose函数代码精华集中在一行之内,其为众多开源库(比如Redux)所采用。```jsvarcompose=(...args)=>(initValue)=>args.reduceRight((a,c)=>c(a),initValue)```###范畴论范畴论是数学中的一个分支。可以将范畴理解为一个容器,把原来对值的操作，现转为对容器的操作。如下图:![](http://with.muyunyun.cn/c65fa1b63dbe9fa0a0771e7e561dc85b.jpg-200)>学习函数式编程就是学习各种函子的过程。函数式编程中,`函子(Functor)`是实现了`map`函数的容器,下文中将函子视为范畴，模型可表示如下:```jsclassFunctor{constructor(value){this.value=value}map(fn){returnnewFunctor(fn(this.value))}}```但是在函数式编程中,要避免使用`new`这种面向对象的编程方式,取而代之对外暴露了一个`of`的接口,也称为`pointedfunctor`。```jsFunctor.of=value=>newFunctor(value)```####Maybe函子`Maybe函子`是为了解决`this.value`为null的情形,用法如下:```jsMaybe.of(null).map(r=>r.toUpperCase())//nullMaybe.of('m').map(r=>r.toUpperCase())//Maybe{value:\"M\"}```实现代码如下:```jsclassMaybe{constructor(value){this.value=value}map(fn){returnthis.value?newMaybe(fn(this.value)):null}}Maybe.of=value=>newMaybe(value)```####Either函子`Either函子`是为了对应`if...else...`的语法,即`非左即右`。因此可以将之拆分为`Left`和`Right`两个函子,它们的用法如下:```jsvarleft=Left.of(1).map(r=>r+1)//Left{value:1}varright=Right.of(1).map(r=>r+1)//Right{value:2}````Left函子`实现代码如下:```jsclassLeft{constructor(value){this.value=value}map(fn){returnthis}}Left.of=value=>newLeft(value)````Right函子`实现代码如下(其实就是上面的`Functor`):```jsclassRight{constructor(value){this.value=value}map(fn){returnnewRight(fn(this.value))}}Right.of=value=>newRight(value)```具体`Either`函数只是对调用`Left函子`或`Right函子`作一层筛选,其接收`f`、`g`两个函数以及一个函子(`LeftorRight`)```jsvarEither=function(f,g,functor){switch(functor.constructor.name){case'Left':returnf(functor.value)case'Right':returng(functor.value)default:returnf(functor.value)}}```使用demo:```jsEither((v)=>console.log('left',v),(v)=>console.log('def',v),left)//left1Either((v)=>console.log('def',v),(v)=>console.log('rigth',v),rigth)//rigth2```####Monad函子函子会发生嵌套,比如下面这样:```jsFunctor.of(Functor.of(1))//Functor{value:Functor{value:1}}````Monad函子`对外暴露了`join`和`flatmap`接口,调用者从而可以扁平化嵌套的函子。```jsclassMonad{constructor(value){this.value=value}map(fn){returnnewMonad(fn(this.value))}join(){returnthis.value}flatmap(fn){returnthis.map(fn).join()}}Monad.of=value=>newMonad(value)```使用方法:```js//joinMonad.of(Monad.of(1).join())//Monad{value:1}Monad.of(Monad.of(1)).join()//Monad{value:1}//flatmapMonad.of(1).flatmap(r=>r+1)//2```>Monad函子可以运用在I/O这种不纯的操作上将之变为纯函数的操作，目前比较懵懂，日后补充。###后记1:数组字符串方法小结(是否对原值有影响)####不会对原数组有影响的方法#####slice```jsvartest=[1,2,3]varresult=test.slice(0,1)console.log(test)//[1,2,3]console.log(result)//[1]```#####concat```jsvartest=[1,2,3]varresult=test.concat(4)console.log(test)//[1,2,3]console.log(result)//[1,2,3,4]```####对原数组有影响的方法#####splice(这个需要特别记一下)```jsvartest=[1,2,3]varresult=test.splice(0,1)console.log(test)//[2,3]console.log(result)//[1]```#####sort```jsvararr=[2,1,3,4]arr.sort((r1,r2)=>(r1-r2))console.log(arr)//[1,2,3,4]```#####reverse```jsvartest=[1,2,3]varresult=test.reverse()console.log(test)//[3,2,1]console.log(result)//[3,2,1]```#####push/pop/unshift/shift```jsvartest=[1,2,3]varresult=test.push(4)console.log(test)//[1,2,3,4]console.log(result)//4```####不会对原字符串造成影响的方法#####substr/substring/slice```js//substrvartest='abc'varresult=test.substr(0,1)console.log(test)//'abc'console.log(result)//a//substringvartest='abc'varresult=test.substring(0,1)console.log(test)//'abc'console.log(result)//a//slicevartest='abc'varresult=test.slice(0,1)console.log(test)//'abc'console.log(result)//a```#####replace```jsvartest='abc'varresult=test.replace('c','d')console.log(test)//'abc'console.log(result)//'abd'```###参考*[mostly-adequate-guide](https://mostly-adequate.gitbooks.io/mostly-adequate-guide)*[JavaScript函数式编程指南](https://llh911001.gitbooks.io/mostly-adequate-guide-chinese)*[JavaScript专题之函数柯里化](https://github.com/mqyqingfeng/Blog/issues/42)*[函数式编程入门教程](http://www.ruanyifeng.com/blog/2017/02/fp-tutorial.html)"}],type:"directory",size:9653},{name:"设计模式",path:"/BasicSkill/设计模式",children:[{name:"ioC模式.md",path:"/BasicSkill/设计模式/ioC模式.md",type:"file",mdconf:{abbrlink:"j3257g5c"},birthtime:"2021-12-08",mtime:"2021-12-08",size:662,extension:".md",relative:"/BasicSkill/设计模式/ioC模式.md",isEmpty:!1,content:"\x3c!--abbrlink:j3257g5c--\x3e###IoC模式IoC(InversionofControl)译为控制反转,它包括依赖注入(DependencyInjection)和依赖查询(DependencyLookup)。是面向对象编程的一种设计模式。>控制反转指的是将实例化的过程放到了类外部的容器中进行,在各个类里通过引用相应的类名（依赖查询）调用所需要的类。>在[解读IoC框架InversifyJS](https://github.com/MuYunyun/blog/blob/master/BasicSkill/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E7%AF%87/%E8%A7%A3%E8%AF%BBIoC%E6%A1%86%E6%9E%B6InversifyJS.md)这篇文章中更加深入地探讨了IoC模式在实际项目中的运用。"},{name:"中介者模式.md",path:"/BasicSkill/设计模式/中介者模式.md",type:"file",mdconf:{abbrlink:"p9mgwwap"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1644,extension:".md",relative:"/BasicSkill/设计模式/中介者模式.md",isEmpty:!1,content:"\x3c!--abbrlink:p9mgwwap--\x3e###中介者模式中介者模式:对象和对象之间借助第三方中介者进行通信。![](http://with.muyunyun.cn/ae0958f85990978c48b3a6aa2ca76ea1.jpg-400)###场景demo一场测试结束后,公布结果:告知解答出题目的人挑战成功,否则挑战失败。```jsconstplayer=function(name){this.name=nameplayerMiddle.add(name)}player.prototype.win=function(){playerMiddle.win(this.name)}player.prototype.lose=function(){playerMiddle.lose(this.name)}constplayerMiddle=(function(){//将就用下这个demo,这个函数当成中介者constplayers=[]constwinArr=[]constloseArr=[]return{add:function(name){players.push(name)},win:function(name){winArr.push(name)if(winArr.length+loseArr.length===players.length){this.show()}},lose:function(name){loseArr.push(name)if(winArr.length+loseArr.length===players.length){this.show()}},show:function(){for(letwinnerofwinArr){console.log(winner+'挑战成功;')}for(letloserofloseArr){console.log(loser+'挑战失败;')}},}}())consta=newplayer('A选手')constb=newplayer('B选手')constc=newplayer('C选手')a.win()b.win()c.lose()//A选手挑战成功;//B选手挑战成功;//C选手挑战失败;```在这段代码中A、B、C之间没有直接发生关系,而是通过另外的playerMiddle对象建立链接,姑且将之当成是中介者模式了。"},{name:"享元模式.md",path:"/BasicSkill/设计模式/享元模式.md",type:"file",mdconf:{abbrlink:"m92cq52g"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2925,extension:".md",relative:"/BasicSkill/设计模式/享元模式.md",isEmpty:!1,content:"\x3c!--abbrlink:m92cq52g--\x3e###享元模式享元模式是一种优化程序性能的模式,本质为`减少对象创建的个数`。以下情况可以使用享元模式:1.有大量相似的对象,占用了大量内存2.对象中大部分状态可以抽离为外部状态###demo某商家有50种男款内衣和50种款女款内衣,要展示它们方案一:造50个塑料男模和50个塑料女模,让他们穿上展示,代码如下:```jsconstModel=function(gender,underwear){this.gender=genderthis.underwear=underwear}Model.prototype.takephoto=function(){console.log(`${this.gender}穿着${this.underwear}`)}for(leti=1;i<51;i++){constmaleModel=newModel('male',`第${i}款衣服`)maleModel.takephoto()}for(leti=1;i<51;i++){constfemale=newModel('female',`第${i}款衣服`)female.takephoto()}```方案二:造1个塑料男模特1个塑料女模特,分别试穿50款内衣```jsconstModel=function(gender){this.gender=gender}Model.prototype.takephoto=function(){console.log(`${this.sex}穿着${this.underwear}`)}constmaleModel=newModel('male')constfemaleModel=newModel('female')for(leti=1;i<51;i++){maleModel.underwear=`第${i}款衣服`maleModel.takephoto()}for(leti=1;i<51;i++){femaleModel.underwear=`第${i}款衣服`femaleModel.takephoto()}```对比发现:方案一创建了100个对象,方案二只创建了2个对象,在该demo中,gender(性别)是内部对象,underwear(穿着)是外部对象。当然在方案二的demo中,还可以进一步改善:1.一开始就通过构造函数显示地创建实例,可用工场模式将其升级成可控生成2.在实例上手动添加underwear不是很优雅,可以在外部单独在写个manager函数```jsconstModel=function(gender){this.gender=gender}Model.prototype.takephoto=function(){console.log(`${this.gender}穿着${this.underwear}`)}constmodelFactory=(function(){//优化第一点constmodelGender={}return{createModel:function(gender){if(modelGender[gender]){returnmodelGender[gender]}returnmodelGender[gender]=newModel(gender)}}}())constmodelManager=(function(){constmodelObj={}return{add:function(gender,i){modelObj[i]={underwear:`第${i}款衣服`}returnmodelFactory.createModel(gender)},copy:function(model,i){//优化第二点model.underwear=modelObj[i].underwear}}}())for(leti=1;i<51;i++){constmaleModel=modelManager.add('male',i)modelManager.copy(maleModel,i)maleModel.takephoto()}for(leti=1;i<51;i++){constfemaleModel=modelManager.add('female',i)modelManager.copy(femaleModel,i)femaleModel.takephoto()}```"},{name:"代理模式.md",path:"/BasicSkill/设计模式/代理模式.md",type:"file",mdconf:{abbrlink:"euxm3din"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1805,extension:".md",relative:"/BasicSkill/设计模式/代理模式.md",isEmpty:!1,content:"\x3c!--abbrlink:euxm3din--\x3e###代理模式情景:小明追女生A*非代理模式:小明=花=>女生A*代理模式:小明=花=>让女生A的好友B帮忙=花=>女生A###代理模式的特点*代理对象和本体对象具有一致的接口,对使用者友好代理模式的种类有很多,在JS中最常用的为虚拟代理和缓存代理。####虚拟代理实现图片预加载下面这段代码运用代理模式来实现图片预加载,可以看到通过代理模式巧妙地将创建图片与预加载逻辑分离,并且在未来如果不需要预加载,只要改成请求本体代替请求代理对象就行。```jsconstmyImage=(function(){constimgNode=document.createElement('img')document.body.appendChild(imgNode)return{setSrc:function(src){imgNode.src=src}}})()constproxyImage=(function(){constimg=newImage()img.onload=function(){//http图片加载完毕后才会执行myImage.setSrc(this.src)}return{setSrc:function(src){myImage.setSrc('loading.jpg')//本地loading图片img.src=src}}})()proxyImage.setSrc('http://loaded.jpg')```####缓存代理实现乘积计算```jsconstmult=function(){leta=1for(leti=0,l;l=arguments[i++];){a=a*l}returna}constproxyMult=(function(){constcache={}returnfunction(){consttag=Array.prototype.join.call(arguments,',')if(cache[tag]){returncache[tag]}cache[tag]=mult.apply(this,arguments)returncache[tag]}})()proxyMult(1,2,3,4)//24```###小tip在开发时候不要先去猜测是否需要使用代理模式,如果发现直接使用某个对象不方便时,再来优化不迟。"},{name:"单例模式.md",path:"/BasicSkill/设计模式/单例模式.md",type:"file",mdconf:{abbrlink:"rizxul9p"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1741,extension:".md",relative:"/BasicSkill/设计模式/单例模式.md",isEmpty:!1,content:"\x3c!--abbrlink:rizxul9p--\x3e###单例模式两个条件*确保只有一个实例*可以全局访问###适用适用于弹框的实现,全局缓存###实现单例模式```jsconstsingleton=function(name){this.name=namethis.instance=null}singleton.prototype.getName=function(){console.log(this.name)}singleton.getInstance=function(name){if(!this.instance){//关键语句this.instance=newsingleton(name)}returnthis.instance}//testconsta=singleton.getInstance('a')//通过getInstance来获取实例constb=singleton.getInstance('b')console.log(a===b)```###JavaScript中的单例模式因为JavaScript是无类的语言,而且JS中的全局对象符合单例模式两个条件。很多时候我们把全局对象当成单例模式来使用,```jsvarobj={}```###弹框层的实践实现弹框的一种做法是先创建好弹框,然后使之隐藏,这样子的话会浪费部分不必要的DOM开销,我们可以在需要弹框的时候再进行创建,同时结合单例模式实现只有一个实例,从而节省部分DOM开销。下列为登入框部分代码:```jsconstcreateLoginLayer=function(){constdiv=document.createElement('div')div.innerHTML='登入浮框'div.style.display='none'document.body.appendChild(div)returndiv}```使用单例模式将创建弹框代码解耦,代码如下:```jsconstgetSingle=function(fn){letresultreturnfunction(){returnresult||(result=fn.apply(this,arguments))}}``````jsconstcreateSingleLoginLayer=getSingle(createLoginLayer)document.getElementById('loginBtn').onclick=function(){createSingleLoginLayer()}```"},{name:"发布订阅模式.md",path:"/BasicSkill/设计模式/发布订阅模式.md",type:"file",mdconf:{abbrlink:"3cmugmwo"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2152,extension:".md",relative:"/BasicSkill/设计模式/发布订阅模式.md",isEmpty:!1,content:"\x3c!--abbrlink:3cmugmwo--\x3e###发布订阅模式事件发布/订阅模式(PubSub)在异步编程中帮助我们完成更松的解耦,甚至在MVC、MVVC的架构中以及设计模式中也少不了发布-订阅模式的参与。优点:在异步编程中实现更深的解耦缺点:如果过多的使用发布订阅模式,会增加维护的难度###实现一个发布订阅模式```jsvarEvent=function(){this.obj={}}Event.prototype.on=function(eventType,fn){if(!this.obj[eventType]){this.obj[eventType]=[]}this.obj[eventType].push(fn)}Event.prototype.emit=function(){vareventType=Array.prototype.shift.call(arguments)vararr=this.obj[eventType]for(leti=0;i<arr.length;i++){arr[i].apply(arr[i],arguments)}}varev=newEvent()ev.on('click',function(a){//订阅函数console.log(a)//1})ev.emit('click',1)//发布函数```###订阅函数逻辑一定要优先于发布函数吗考虑以下场景:```js$.ajax('',()=>{//异步订阅函数逻辑})//在其他地方执行发布函数,此时并不能保证执行发布函数的时候,订阅函数已经执行```我们需要实现这样的逻辑:```jsvarev=newEvent()ev.emit('click',1)ev.on('click',function(a){console.log(a)//1})```目标明确后,来着手实现它:```jsvarEvent=function(){this.obj={}this.cacheList=[]}Event.prototype.on=function(eventType,fn){if(!this.obj[eventType]){this.obj[eventType]=[]}this.obj[eventType].push(fn)for(leti=0;i<this.cacheList.length;i++){this.cacheList[i]()}}Event.prototype.emit=function(){constarg=argumentsconstthat=thisfunctioncache(){vareventType=Array.prototype.shift.call(arg)vararr=that.obj[eventType]for(leti=0;i<arr.length;i++){arr[i].apply(arr[i],arg)}}this.cacheList.push(cache)}```以上代码实现思路就是把原本在emit里触发的函数存到cacheList,再转交到on中触发。从而实现了发布函数先于订阅函数执行。"},{name:"命令模式.md",path:"/BasicSkill/设计模式/命令模式.md",type:"file",mdconf:{abbrlink:"77vv1d3r"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1059,extension:".md",relative:"/BasicSkill/设计模式/命令模式.md",isEmpty:!1,content:"\x3c!--abbrlink:77vv1d3r--\x3e###命令模式命令模式与[策略模式](https://github.com/MuYunyun/blog/blob/master/Basic%20Skill/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F.md)有些类似,在JavaScript中它们都是隐式的。重要性:较低###JavaScript中的命令模式命令模式在JavaScript中也比较简单,下面代码中对`按钮`和`命令`进行了抽离,因此可以复杂项目中可以使用命令模式将界面的代码和功能的代码交付给不同的人去写。```jsconstsetCommand=function(button,command){button.onClick=function(){command.excute()}}//--------------------上面的界面逻辑由A完成,下面的由B完成constmenu={updateMenu:function(){console.log('更新菜单')},}constUpdateCommand=function(receive){return{excute:receive.updateMenu,}}constupdateCommand=UpdateCommand(menu)//创建命令constbutton1=document.getElementById('button1')setCommand(button1,updateCommand)```"},{name:"模板方法模式.md",path:"/BasicSkill/设计模式/模板方法模式.md",type:"file",mdconf:{abbrlink:"631wdfgg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2185,extension:".md",relative:"/BasicSkill/设计模式/模板方法模式.md",isEmpty:!1,content:"\x3c!--abbrlink:631wdfgg--\x3e###模板方法模式定义:在继承的基础上,在父类中定义好执行的算法。###泡茶和泡咖啡来对比下泡茶和泡咖啡过程中的异同|步骤|泡茶|泡咖啡||:-:|:-:|:-:||1|烧开水|烧开水||2|浸泡茶叶|冲泡咖啡||3|倒入杯子|倒入杯子||4|加柠檬|加糖|可以清晰地看出仅仅在步骤2和4上有细微的差别,下面着手实现:```jsconstDrinks=function(){}Drinks.prototype.firstStep=function(){console.log('烧开水')}Drinks.prototype.secondStep=function(){}Drinks.prototype.thirdStep=function(){console.log('倒入杯子')}Drinks.prototype.fourthStep=function(){}Drinks.prototype.init=function(){//模板方法模式核心:在父类上定义好执行算法this.firstStep()this.secondStep()this.thirdStep()this.fourthStep()}constTea=function(){}Tea.prototype=newDrinksTea.prototype.secondStep=function(){console.log('浸泡茶叶')}Tea.prototype.fourthStep=function(){console.log('加柠檬')}constCoffee=function(){}Coffee.prototype=newDrinksCoffee.prototype.secondStep=function(){console.log('冲泡咖啡')}Coffee.prototype.fourthStep=function(){console.log('加糖')}consttea=newTea()tea.init()//烧开水//浸泡茶叶//倒入杯子//加柠檬constcoffee=newCoffee()coffee.init()//烧开水//冲泡咖啡//倒入杯子//加糖```###钩子假如客人不想加佐料(糖、柠檬)怎么办,这时可以引人钩子来实现之,实现逻辑如下:```js//...Drinks.prototype.ifNeedFlavour=function(){//加上钩子returntrue}Drinks.prototype.init=function(){//模板方法模式核心:在父类上定义好执行算法this.firstStep()this.secondStep()this.thirdStep()if(this.ifNeedFlavour()){//默认是true,也就是要加调料this.fourthStep()}}//...constCoffee=function(){}Coffee.prototype=newDrinks()//...Coffee.prototype.ifNeedFlavour=function(){returnwindow.confirm('是否需要佐料吗？')//弹框选择是否佐料}```"},{name:"状态模式.md",path:"/BasicSkill/设计模式/状态模式.md",type:"file",mdconf:{abbrlink:"s9x6auju"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2490,extension:".md",relative:"/BasicSkill/设计模式/状态模式.md",isEmpty:!1,content:"\x3c!--abbrlink:s9x6auju--\x3e###状态模式状态模式:将事物内部的每个状态分别封装成类,内部状态改变会产生不同行为。优点:用对象代替字符串记录当前状态,状态易维护缺点:需编写大量状态类对象###场景demo某某牌电灯,按一下按钮打开弱光,按两下按钮打开强光,按三下按钮关闭灯光。```js//将状态封装成不同类constweakLight=function(light){this.light=light}weakLight.prototype.press=function(){console.log('打开强光')this.light.setState(this.light.strongLight)}conststrongLight=function(light){this.light=light}strongLight.prototype.press=function(){console.log('关灯')this.light.setState(this.light.offLight)}constoffLight=function(light){this.light=light}offLight.prototype.press=function(){console.log('打开弱光')this.light.setState(this.light.weakLight)}constLight=function(){this.weakLight=newweakLight(this)this.strongLight=newstrongLight(this)this.offLight=newoffLight(this)this.currentState=this.offLight//初始状态}Light.prototype.init=function(){constbtn=document.createElement('button')btn.innerHTML='按钮'document.body.append(btn)constself=thisbtn.addEventListener('click',function(){self.currentState.press()})}Light.prototype.setState=function(state){//改变当前状态this.currentState=state}constlight=newLight()light.init()//打开弱光//打开强光//关灯```###非面向对象实现的状态模式借助于JavaScript的委托机制,可以像如下实现状态模式:```jsconstobj={'weakLight':{press:function(){console.log('打开强光')this.currentState=obj.strongLight}},'strongLight':{press:function(){console.log('关灯')this.currentState=obj.offLight}},'offLight':{press:function(){console.log('打开弱光')this.currentState=obj.weakLight}},}constLight=function(){this.currentState=obj.offLight}Light.prototype.init=function(){constbtn=document.createElement('button')btn.innerHTML='按钮'document.body.append(btn)constself=thisbtn.addEventListener('click',function(){self.currentState.press.call(self)//通过call完成委托})}constlight=newLight()light.init()```"},{name:"策略模式.md",path:"/BasicSkill/设计模式/策略模式.md",type:"file",mdconf:{abbrlink:"d8asfapg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1169,extension:".md",relative:"/BasicSkill/设计模式/策略模式.md",isEmpty:!1,content:"\x3c!--abbrlink:d8asfapg--\x3e###策略模式`定义`:根据不同参数可以命中不同的策略###JavaScript中的策略模式观察如下获取年终奖的demo,根据不同的参数（level）获得不同策略方法(规则),这是策略模式在JS比较经典的运用之一。```jsconststrategy={'S':function(salary){returnsalary*4},'A':function(salary){returnsalary*3},'B':function(salary){returnsalary*2}}constcalculateBonus=function(level,salary){returnstrategy[level](salary)}calculateBonus('A',10000)//30000```在函数是一等公民的JS中,策略模式的使用常常隐藏在高阶函数中,稍微变换下上述demo的形式如下,可以发现我们平时已经在使用它了,恭喜我们又掌握了一种设计模式。```jsconstS=function(salary){returnsalary*4}constA=function(salary){returnsalary*3}constB=function(salary){returnsalary*2}constcalculateBonus=function(func,salary){returnfunc(salary)}calculateBonus(A,10000)//30000```###优点*能减少大量的if语句*复用性好"},{name:"组合模式.md",path:"/BasicSkill/设计模式/组合模式.md",type:"file",mdconf:{abbrlink:"1byioyjm"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3304,extension:".md",relative:"/BasicSkill/设计模式/组合模式.md",isEmpty:!1,content:"\x3c!--abbrlink:1byioyjm--\x3e###组合模式*组合模式在对象间形成`树形结构`;*组合模式中基本对象和组合对象被`一致对待`;*无须关心对象有多少层,调用时只需在根部进行调用;###demo1——宏命令想象我们现在手上有个万能遥控器,当我们回家,按一下开关,下列事情将被执行:```1.煮咖啡2.打开电视、打开音响3.打开空调、打开电脑```我们把任务划分为3类,效果图如下:![](http://with.muyunyun.cn/9c87ce835515f3d9b60a86a0f28897d9.jpg-400)接着看看结合了[命令模式](https://github.com/MuYunyun/blog/blob/master/Basic%20Skill/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/命令模式.md)和组合模式的具体实现:```jsconstMacroCommand=function(){return{lists:[],add:function(task){this.lists.push(task)},excute:function(){//①:组合对象调用这里的excute,for(leti=0;i<this.lists.length;i++){this.lists[i].excute()}},}}constcommand1=MacroCommand()//基本对象command1.add({excute:()=>console.log('煮咖啡')//②:基本对象调用这里的excute,})constcommand2=MacroCommand()//组合对象command2.add({excute:()=>console.log('打开电视')})command2.add({excute:()=>console.log('打开音响')})constcommand3=MacroCommand()command3.add({excute:()=>console.log('打开空调')})command3.add({excute:()=>console.log('打开电脑')})constmacroCommand=MacroCommand()macroCommand.add(command1)macroCommand.add(command2)macroCommand.add(command3)macroCommand.excute()//煮咖啡//打开电视//打开音响//打开空调//打开电脑```可以看出在组合模式中基本对象和组合对象被一致对待,所以要保证基本对象(叶对象)和组合对象具有一致方法。###demo2——扫描文件夹扫描文件夹时,文件夹下面可以为另一个文件夹也可以为文件,我们希望统一对待这些文件夹和文件,这种情形适合使用组合模式。```jsconstFolder=function(folder){this.folder=folderthis.lists=[]}Folder.prototype.add=function(resource){this.lists.push(resource)}Folder.prototype.scan=function(){console.log('开始扫描文件夹:',this.folder)for(leti=0,folder;folder=this.lists[i++];){folder.scan()}}constFile=function(file){this.file=file}File.prototype.add=function(){throwError('文件下不能添加其它文件夹或文件')}File.prototype.scan=function(){console.log('开始扫描文件:',this.file)}constfolder=newFolder('根文件夹')constfolder1=newFolder('JS')constfolder2=newFolder('life')constfile1=newFile('深入React技术栈.pdf')constfile2=newFile('JavaScript权威指南.pdf')constfile3=newFile('小王子.pdf')folder1.add(file1)folder1.add(file2)folder2.add(file3)folder.add(folder1)folder.add(folder2)folder.scan()//开始扫描文件夹:根文件夹//开始扫描文件夹:JS//开始扫描文件:深入React技术栈.pdf//开始扫描文件:JavaScript权威指南.pdf//开始扫描文件夹:life//开始扫描文件:小王子.pdf```"},{name:"职责链模式.md",path:"/BasicSkill/设计模式/职责链模式.md",type:"file",mdconf:{abbrlink:"k27cb3ml"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5228,extension:".md",relative:"/BasicSkill/设计模式/职责链模式.md",isEmpty:!1,content:"\x3c!--abbrlink:k27cb3ml--\x3e###职责链模式职责链模式:类似多米诺骨牌,通过请求第一个条件,会持续执行后续的条件,直到返回结果为止。![](http://with.muyunyun.cn/cbc8c10bbae202bcd243f6b0704de3ba.jpg-300)重要性:4星,在项目中能对if-else语句进行优化###场景demo场景:某电商针对已付过定金的用户有优惠政策,在正式购买后,已经支付过500元定金的用户会收到100元的优惠券,200元定金的用户可以收到50元优惠券,没有支付过定金的用户只能正常购买。```js//orderType:表示订单类型,1:500元定金用户；2:200元定金用户；3:普通购买用户//pay:表示用户是否已经支付定金,true:已支付；false:未支付//stock:表示当前用于普通购买的手机库存数量,已支付过定金的用户不受此限制constorder=function(orderType,pay,stock){if(orderType===1){if(pay===true){console.log('500元定金预购,得到100元优惠券')}else{if(stock>0){console.log('普通购买,无优惠券')}else{console.log('库存不够,无法购买')}}}elseif(orderType===2){if(pay===true){console.log('200元定金预购,得到50元优惠券')}else{if(stock>0){console.log('普通购买,无优惠券')}else{console.log('库存不够,无法购买')}}}elseif(orderType===3){if(stock>0){console.log('普通购买,无优惠券')}else{console.log('库存不够,无法购买')}}}order(3,true,500)//普通购买,无优惠券```下面用职责链模式改造代码:```jsconstorder500=function(orderType,pay,stock){if(orderType===1&&pay===true){console.log('500元定金预购,得到100元优惠券')}else{order200(orderType,pay,stock)}}constorder200=function(orderType,pay,stock){if(orderType===2&&pay===true){console.log('200元定金预购,得到50元优惠券')}else{orderCommon(orderType,pay,stock)}}constorderCommon=function(orderType,pay,stock){if((orderType===3||!pay)&&stock>0){console.log('普通购买,无优惠券')}else{console.log('库存不够,无法购买')}}order500(3,true,500)//普通购买,无优惠券```改造后可以发现代码相对清晰了,但是链路代码和业务代码依然耦合在一起,进一步优化:```js//业务代码constorder500=function(orderType,pay,stock){if(orderType===1&&pay===true){console.log('500元定金预购,得到100元优惠券')}else{return'nextSuccess'}}constorder200=function(orderType,pay,stock){if(orderType===2&&pay===true){console.log('200元定金预购,得到50元优惠券')}else{return'nextSuccess'}}constorderCommon=function(orderType,pay,stock){if((orderType===3||!pay)&&stock>0){console.log('普通购买,无优惠券')}else{console.log('库存不够,无法购买')}}//链路代码constchain=function(fn){this.fn=fnthis.sucessor=null}chain.prototype.setNext=function(sucessor){this.sucessor=sucessor}chain.prototype.init=function(){constresult=this.fn.apply(this,arguments)if(result==='nextSuccess'){this.sucessor.init.apply(this.sucessor,arguments)}}constorder500New=newchain(order500)constorder200New=newchain(order200)constorderCommonNew=newchain(orderCommon)order500New.setNext(order200New)order200New.setNext(orderCommonNew)order500New.init(3,true,500)//普通购买,无优惠券```重构后,链路代码和业务代码彻底地分离。假如未来需要新增order300,那只需新增与其相关的函数而不必改动原有业务代码。另外结合AOP还能简化上述链路代码:```js//业务代码constorder500=function(orderType,pay,stock){if(orderType===1&&pay===true){console.log('500元定金预购,得到100元优惠券')}else{return'nextSuccess'}}constorder200=function(orderType,pay,stock){if(orderType===2&&pay===true){console.log('200元定金预购,得到50元优惠券')}else{return'nextSuccess'}}constorderCommon=function(orderType,pay,stock){if((orderType===3||!pay)&&stock>0){console.log('普通购买,无优惠券')}else{console.log('库存不够,无法购买')}}//链路代码Function.prototype.after=function(fn){constself=thisreturnfunction(){constresult=self.apply(self,arguments)if(result==='nextSuccess'){returnfn.apply(self,arguments)//这里return别忘记了~}}}constorder=order500.after(order200).after(orderCommon)order(3,true,500)//普通购买,无优惠券```职责链模式比较重要,项目中能用到它的地方会有很多,用上它能解耦1个请求对象和n个目标对象的关系。"},{name:"装饰者模式.md",path:"/BasicSkill/设计模式/装饰者模式.md",type:"file",mdconf:{abbrlink:"mzqguwi3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1916,extension:".md",relative:"/BasicSkill/设计模式/装饰者模式.md",isEmpty:!1,content:"\x3c!--abbrlink:mzqguwi3--\x3e###装饰者模式装饰器模式:动态地给函数赋能。###JavaScript的装饰者模式生活中的例子:天气冷了,就添加衣服来保暖；天气热了,就将外套脱下；这个例子很形象地含盖了装饰器的神韵,随着天气的冷暖变化,衣服可以动态的穿上脱下。```jsletwear=function(){console.log('穿上第一件衣服')}const_wear1=wearwear=function(){_wear1()console.log('穿上第二件衣服')}const_wear2=wearwear=function(){_wear2()console.log('穿上第三件衣服')}wear()//穿上第一件衣服//穿上第二件衣服//穿上第三件衣服```这种方式有以下缺点:1:临时变量会变得越来越多；2:this指向有时会出错###AOP装饰函数```js//前置代码Function.prototype.before=function(fn){constself=thisreturnfunction(){fn.apply(new(self),arguments)//https://github.com/MuYunyun/blog/pull/30#event-1817065820returnself.apply(new(self),arguments)}}//后置代码Function.prototype.after=function(fn){constself=thisreturnfunction(){self.apply(new(self),arguments)returnfn.apply(new(self),arguments)}}```用后置代码来实验下上面穿衣服的demo,```jsconstwear1=function(){console.log('穿上第一件衣服')}constwear2=function(){console.log('穿上第二件衣服')}constwear3=function(){console.log('穿上第三件衣服')}constwear=wear1.after(wear2).after(wear3)wear()//穿上第一件衣服//穿上第二件衣服//穿上第三件衣服```但这样子有时会污染原生函数,可以做点通变```jsconstafter=function(fn,afterFn){returnfunction(){fn.apply(this,arguments)afterFn.apply(this,arguments)}}constwear=after(after(wear1,wear2),wear3)wear()```"},{name:"观察者模式.md",path:"/BasicSkill/设计模式/观察者模式.md",type:"file",mdconf:{abbrlink:"zyhpx5ad"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2585,extension:".md",relative:"/BasicSkill/设计模式/观察者模式.md",isEmpty:!1,content:"\x3c!--abbrlink:zyhpx5ad--\x3e###观察者模式应用场景:1.场景一:当观察的数据对象发生变化时,自动调用相应函数。比如vue的双向绑定;2.场景二:每当调用对象里的某个方法时,就会调用相应'访问'逻辑。比如给测试框架赋能的spy函数;###场景一:双向绑定####Object.defineProperty使用`Object.defineProperty(obj,props,descriptor)`实现观察者模式,其也是[vue双向绑定](https://github.com/MuYunyun/blog/issues/11)的核心,示例如下(当改变obj中的value的时候,自动调用相应相关函数):```jsvarobj={data:{list:[]},}Object.defineProperty(obj,'list',{get(){returnthis.data['list']},set(val){console.log('值被更改了')this.data['list']=val}})```####ProxyProxy/Reflect是ES6引入的新特性,也可以使用其完成观察者模式,示例如下(效果同上):```jsvarobj={value:0}varproxy=newProxy(obj,{set:function(target,key,value,receiver){//{value:0}\"value\"1Proxy{value:0}console.log('调用相应函数')Reflect.set(target,key,value,receiver)}})proxy.value=1//调用相应函数```###场景二下面来实现sinon框架的spy函数:```jsconstsinon={analyze:{},spy:function(obj,fnName){constthat=thisconstoldFn=Object.getOwnPropertyDescriptor(obj,fnName).valueObject.defineProperty(obj,fnName,{value:function(){oldFn()if(that.analyze[fnName]){that.analyze[fnName].count=++that.analyze[fnName].count}else{that.analyze[fnName]={}that.analyze[fnName].count=1}console.log(`${fnName}被调用了${that.analyze[fnName].count}次`)}})}}constobj={someFn:function(){console.log('mynameissomeFn')}}sinon.spy(obj,'someFn')obj.someFn()//mynameissomeFn//someFn被调用了1次obj.someFn()//mynameissomeFn//someFn被调用了2次```###`vue`在3.0版本上使用`Proxy`重构的原因首先罗列`Object.defineProperty()`的缺点:1.`Object.defineProperty()`不会监测到数组引用不变的操作(比如`push/pop`等);2.`Object.defineProperty()`只能监测到对象的属性的改变,即如果有深度嵌套的对象则需要再次给之绑定`Object.defineProperty()`;关于`Proxy`的优点1.可以劫持数组的改变;2.`defineProperty`是对属性的劫持,`Proxy`是对对象的劫持;"},{name:"迭代器模式.md",path:"/BasicSkill/设计模式/迭代器模式.md",type:"file",mdconf:{abbrlink:"2qm4d8um"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1833,extension:".md",relative:"/BasicSkill/设计模式/迭代器模式.md",isEmpty:!1,content:"\x3c!--abbrlink:2qm4d8um--\x3e###迭代器模式定义:能访问到聚合对象的顺序与元素###实现一个内部迭代器```jsfunctioneach(arr,fn){for(leti=0;i<arr.length;i++){fn(i,arr[i])}}each([1,2,3],function(i,n){console.log(i)//012console.log(n)//123})```可以看出内部迭代器在调用的时候非常简单,使用者不用关心迭代器内部实现的细节,但这也是内部迭代器的缺点。比如要比较两数组是否相等,只能在其回调函数中作文章了,代码如下:```jsconstcompare=function(arr1,arr2){each(arr1,function(i,n){if(arr2[i]!==n){console.log('两数组不等')return}})console.log('两数组相等')}constarr1=[1,2,3]constarr2=[1,2,3]compare(arr1,arr2)//两数组相等```###实现一个外部迭代器相较于内部迭代器,外部迭代器将遍历的权利转移到外部,因此在调用的时候拥有了更多的自由性,不过缺点是调用方式较复杂。```jsconstiterator=function(arr){letcurrent=0constnext=function(){current=current+1}constdone=function(){returncurrent>=arr.length}constvalue=function(){returnarr[current]}return{next,done,value,}}constarr1=[1,2,3]constarr2=[1,2,3]constiterator1=iterator(arr1)constiterator2=iterator(arr2)constcompare=function(iterator1,iterator2){while(!iterator1.done()&&!iterator2.done()){if(iterator1.value()!==iterator2.value()){console.log('两数组不等')return}iterator1.next()//外部迭代器将遍历的权利转移到外部iterator2.next()}console.log('两数组相等')}compare(iterator1,iterator2)```"},{name:"适配者模式.md",path:"/BasicSkill/设计模式/适配者模式.md",type:"file",mdconf:{abbrlink:"n9yua87r"},birthtime:"2021-12-08",mtime:"2021-12-08",size:603,extension:".md",relative:"/BasicSkill/设计模式/适配者模式.md",isEmpty:!1,content:"\x3c!--abbrlink:n9yua87r--\x3e###适配者模式适配者模式:主要用于解决两个接口之间不匹配的问题。###demo```js//老接口constzhejiangCityOld=(function(){return[{name:'hangzhou',id:11,},{name:'jinhua',id:12}]}())console.log(getZhejiangCityOld())//新接口希望是下面形式{hangzhou:11,jinhua:12,}//这时候就可采用适配者模式constadaptor=(function(oldCity){constobj={}for(letcityofzhejiangCityOld){obj[city.name]=city.id}returnobj}())```"}],type:"directory",size:33301}],type:"directory",size:322449},{name:"FeCloud",path:"/FeCloud",children:[{name:"babel执行机制.md",path:"/FeCloud/babel执行机制.md",type:"file",mdconf:{abbrlink:"yb1qmuv1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1498,extension:".md",relative:"/FeCloud/babel执行机制.md",isEmpty:!1,content:"\x3c!--abbrlink:yb1qmuv1--\x3eBabel是下一代JavaScript编译器。###babel执行机制babel执行三部曲如下:*解析使用[babel-parse](https://github.com/babel/babel/tree/master/packages/babel-parser)将JS代码解析成AST树*转换配合[babel-traverse](https://github.com/babel/babel/tree/master/packages/babel-traverse)进行AST树的遍历,同时使用[babel-core](https://github.com/babel/babel/tree/master/packages/babel-core)对外暴露的`transform`来调用相应插件来转化AST树```jsbabal.transform(code,{plugins:{pluginA,pluginB}})```*生成使用[babel-generator](https://github.com/babel/babel/tree/master/packages/babel-generator)将AST树转换回JS代码####值得阅读的文章*[babel中文官网](https://www.babeljs.cn/)*[剖析Babel——Babel总览](http://www.alloyteam.com/2017/04/analysis-of-babel-babel-overview/),这篇文章讲得比较透彻*[babel-handbook](https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/README.md),babel手册,推荐*[Babel插件开发一些示例](http://web.jobbole.com/91277/),这篇文章bug比较多,可以作为上面文章的补充*[ASTexplore](https://astexplorer.net/#/KJ8AjD6maa),可以在这个网站上看到JS代码对应的AST*[@babel/types](https://babeljs.io/docs/en/next/babel-types.html),babel-types可以用来生成转换相应的babel节点,同时文案可以作为api来参考。"},{name:"chrome插件开发.md",path:"/FeCloud/chrome插件开发.md",type:"file",mdconf:{abbrlink:"57i3ssqa"},birthtime:"2021-12-08",mtime:"2021-12-08",size:859,extension:".md",relative:"/FeCloud/chrome插件开发.md",isEmpty:!1,content:"\x3c!--abbrlink:57i3ssqa--\x3e###数据备份方案首先选择相应插件,这里以git-remark为例![](http://with.muyunyun.cn/642ef9638488d9d9b0857464b354f246.jpg-200)```jschrome.storage.local.get('github-repo-notes',res=>{console.log(JSON.stringify(res['github-repo-notes']))})``````jschrome.storage.local.set({'github-repo-notes':obj},()=>{})```###相关文档*[chrome://extensions](chrome://extensions)*[360扩展开发文档](http://open.chrome.360.cn/extension_dev/overview.html)*[chrome扩展开发文档](https://developer.chrome.com/extensions)###插件发版*[插件发版地址](https://chrome.google.com/webstore/developer/dashboard/)*[GitHubNotes](https://chrome.google.com/webstore/detail/github-notes/ololfachmeilbnmipbbglhbdnadcjlak?authuser=0)>开发者账号backup:liweirancn@gmail.com"},{name:"ci调试技巧.md",path:"/FeCloud/ci调试技巧.md",type:"file",mdconf:{abbrlink:"qcpplm3x"},birthtime:"2021-12-08",mtime:"2021-12-08",size:154,extension:".md",relative:"/FeCloud/ci调试技巧.md",isEmpty:!1,content:"\x3c!--abbrlink:qcpplm3x--\x3e###.gitlab.yml调试技巧1.在`scripts`中书写脚本。2.本地运行[docker](./docker.md)环境启动项目。"},{name:"code_online_platform.md",path:"/FeCloud/code_online_platform.md",type:"file",mdconf:{abbrlink:"3msae1b6"},birthtime:"2021-12-08",mtime:"2021-12-08",size:531,extension:".md",relative:"/FeCloud/code_online_platform.md",isEmpty:!1,content:"\x3c!--abbrlink:3msae1b6--\x3e###CodeSandboxvsCodeBox####Editor*CodeSandbox:`FreeFileSystem`;Takethe[monaco-editor](https://github.com/Microsoft/monaco-editor);*CodeBox####Social*CodeSandbox:Itsupports`areal-timecollaboration`.Youhave`accesstosomeofVSCodesettings`.*CodeBox:CodePentakessocialexperiencestoanotherlevel.Likes,`comments,views,tags,posts,collections`,etc.-itallmakesCodePena`socialwebdevelopmentplatform`.Anditcantakedocumentationandadedicatedblog."},{name:"create-react-doc.md",path:"/FeCloud/create-react-doc.md",type:"file",mdconf:{abbrlink:"xxvfc3g7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:781,extension:".md",relative:"/FeCloud/create-react-doc.md",isEmpty:!1,content:'\x3c!--abbrlink:xxvfc3g7--\x3e###Howtogetanupdatedtime*GraghQLAPI*https://developer.github.com/v4/explorer/```jsinput:{repository(owner:"MuYunyun",name:"blog"){ref(qualifiedName:"refs/heads/master"){target{...onCommit{history(first:1,path:"package.json"){edges{node{committedDate}}}}}}}}return:{"data":{"repository":{"ref":{"target":{"history":{"edges":[{"node":{"committedDate":"2020-06-12T10:53:12Z"}}]}}}}}}```'},{name:"docker.md",path:"/FeCloud/docker.md",type:"file",mdconf:{abbrlink:"t6pnnqir"},birthtime:"2021-12-08",mtime:"2021-12-08",size:513,extension:".md",relative:"/FeCloud/docker.md",isEmpty:!1,content:"\x3c!--abbrlink:t6pnnqir--\x3e###Docker是什么？Docker属于Linux容器的一种封装，提供简单易用的容器使用接口。它是目前最流行的Linux容器解决方案。###使用场景1.提供一次性的环境。2.提供弹性的云服务。3.组建微服务架构。###Install```jsbrewcaskinstalldocker```>[install](https://www.runoob.com/docker/macos-docker-install.html)###link*[docker-tutorial](https://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html)"},{name:"lerna.md",path:"/FeCloud/lerna.md",type:"file",mdconf:{abbrlink:"x748bgzt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1656,extension:".md",relative:"/FeCloud/lerna.md",isEmpty:!1,content:"\x3c!--abbrlink:x748bgzt--\x3e###lerna###background~~需求背景:需要在`pc`端容器里嵌套一个`mobile`容器，相当于要同时启动两个项目。~~~~将其定位为一个`monorepos`项目。~~Fromlerna>Splittinguplargecodebasesintoseparateindependentlyversionedpackagesisextremelyusefulforcodesharing.However,makingchangesacrossmanyrepositoriesismessyanddifficulttotrack,andtestingacrossrepositoriesbecomescomplicatedveryquickly.###Usage```$mkdirlerna-repo&&cd$_$npxlernainit```*lernainit:初始化当前项目*lernarun:跑各个子包里的`script`*lernabootstrap:BootstrapthepackagesinthecurrentLernarepo.Installsalloftheirdependenciesandlinksanycross-dependencies.*lernaadd:addmoduletochildmodulefromtherootdir.[document](https://github.com/lerna/lerna/tree/master/commands/add#examples)*lernaaddeslint--scope=crd-scripts--dev>detailssee[lernadoc](https://lerna.js.org/)*[Monorepo迁移实践](https://medium.com/@banyudu/mono-repo-%E8%BF%81%E7%A7%BB%E5%AE%9E%E8%B7%B5-eaf955aaf4d7)*[awesome-monorepo](https://github.com/korfuri/awesome-monorepo)###Advandage*Quickjumptoreferencefile.*Insteadwebpackaliasmaybedoextraconfig.###Q&A>whyshouldaddworkspacesandprivatepropsintheroot?Therootpackage.jsonusuallynothaveanyeffect,andworkspacesandprivatepropsareusedtogether.###QuestionItseemsitshouldbenamed@crd/themeinsteadof@crd-theme.###相关资料*[lernagithub](https://github.com/lerna)*[alist](https://github.com/alibaba/alist)"},{name:"live-code.md",path:"/FeCloud/live-code.md",type:"file",mdconf:{abbrlink:"p172zc4o"},birthtime:"2021-12-08",mtime:"2021-12-08",size:238,extension:".md",relative:"/FeCloud/live-code.md",isEmpty:!1,content:"\x3c!--abbrlink:p172zc4o--\x3e###在线编译markdown-[mdx](https://github.com/mdx-js/mdx)-[react-live](https://github.com/FormidableLabs/react-live):不支持import-[react-code-view](https://github.com/simonguo/react-code-view)"},{name:"npm和yarn的区别.md",path:"/FeCloud/npm和yarn的区别.md",type:"file",mdconf:{abbrlink:"iwwepxpg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3251,extension:".md",relative:"/FeCloud/npm和yarn的区别.md",isEmpty:!1,content:'\x3c!--abbrlink:iwwepxpg--\x3e###包下载的前置知识一个包的版本号基本由三位数字构成`x.x.x`,它们分别是`Major`(主版本号),`Minor`(次版本号),`Patch`(修订号)。*`*`:升级`Major`+`Minor`+`Patch`;*`^`:升级`Minor`+`Patch`;*`~`:升级`Patch`;比如`^4.3.1表示4.x.x`的最新版,`~4.3.1表示4.3.x`的最新版。###npm`npm`经历了3次升级:*`npm1`:嵌套结构缺点:相同的包会被重复下载多次,比如下列a、b、c都依赖了xxx这个包,xxx这个包被下载了3次。```text-node-modules-a-node-modules-xxx@1.0.0-b-node-modules-xxx@1.0.0-c-node-modules-xxx@1.0.1```*`npm3`:扁平结构所依赖的包的依赖也安装于根目录,如果所依赖的包的依赖在根目录已存在但是版本不一致,则在所依赖的包下面单独加上依赖的包。例子如下:```-node-modules-a-b-xxx@1.0.0-c-node-modules-xxx@1.0.1```*`npm5`:扁平结构+package-lock.json加上锁文件,确保在不同电脑上安装的包的版本号相同。###yarn*更快,离线缓存*yarn.lock文件####yarn和npm5的区别#####同*`npm`通过`package-lock.json`推断出`node_modules`目录*`yarn`也能通过`yarn.lock`文件推断出`node_modules`顶层目录的。就是要通过稍微计算,比如下方:```js//yarn的yarn.lock类似如下-a-b-c-xxx@1.0.1-xxx@1.0.1-xxx@1.0.0```这个例子中,我们能得出顶层目录如下:```js//node_modules-a-b-c-xxx@1.0.0```#####异*依赖于`yarn`的缓存机制(类似`cnpm`的引用机制？),`yarn`的安装速度更快,甚至能离线加载;也就是说`yarn`结合了`npm`和`cnpm`的优点。####Hooks踩坑Therearethreecommonreasonsyoumightbeseeingit:```js1.YoumighthavemismatchingversionsofReactandReactDOM.2.YoumightbebreakingtheRulesofHooks.3.YoumighthavemorethanonecopyofReactinthesameapp.```在demo项目中使用yarnlink"@msfe/beast-mobile"会遇到上述报错,解决方法是执行(貌似有问题)```bashnpmlink../beast-mobile-demo/node_modules/reactfrom@msfe/beast-mobile```另一种方法是在业务项目中配置[resolutions](https://yarnpkg.com/lang/en/docs/selective-version-resolutions/)try[yalc](https://github.com/whitecolor/yalc)###区分几个package.json字段*dependencies:业务依赖*devDependencies:开发依赖*peerDependencies:*a依赖了b包,b包的peerDependencies字段含有c包。*b包执行yarn此时并不会安装上c包。*如果a包中未执行安装c包,则会报错。###resolutionsinpackage.json背景:在项目中的package.json字段里dependencies字段有较新版本的beast-mobile(带主题包),resolutions指向了较低版本的beast-mobile(不带主题包)。此时验证项目中包含主题包。查找yarn的[rfc](https://github.com/yarnpkg/rfcs/blob/master/implemented/0000-selective-versions-resolutions.md#package-designation),resolutions指定的目录只针对「嵌套」依赖的包版本生效。'},{name:"seo_in_spa_site.md",path:"/FeCloud/seo_in_spa_site.md",type:"file",mdconf:{abbrlink:"ettzfags"},birthtime:"2021-12-08",mtime:"2021-12-08",size:22959,extension:".md",relative:"/FeCloud/seo_in_spa_site.md",isEmpty:!1,content:"\x3c!--abbrlink:ettzfags--\x3e##SEO在SPA站点中的实践###背景![](http://with.muyunyun.cn/c03d8772da6d57e47c55044aee364103.jpg)观察基于[create-react-doc](https://github.com/MuYunyun/create-react-doc)搭建的[文档站点](http://muyunyun.cn/create-react-doc/),发现网页代码光秃秃的一片(见下图)。这显然是单页应用(SPA)站点的通病——不利于文档被搜索引擎搜索(SEO)。![](http://with.muyunyun.cn/0ba88a7544efe0e1978e6c8d8b7775a6.jpg)难道SPA站点就无法进行SEO了么,那么[Gatsby](https://github.com/gatsbyjs/gatsby)、[nuxt](https://github.com/nuxt/nuxt.js)等框架又为何能作为不少博主搭建博客的首选方案呢,此类框架赋能SEO的技术原理是什么呢?在好奇心的驱动下,笔者尝试对[creat-react-doc](https://github.com/MuYunyun/create-react-doc)进行赋能SEO之旅。###搜索引擎优化在实践之前,先从理论上分析为何单页应用不能被搜索引擎搜索到。核心在于`爬虫蜘蛛在执行爬取的过程中,不会去执行网页中的JS逻辑`,所以`隐藏在JS中的跳转逻辑也不会被执行`。查看当前SPA站点打包后的代码,除了一个根目录index.html外,其它都是注入的JS逻辑,因此浏览器自然不会对其进行SEO。![](http://with.muyunyun.cn/0d15d4e3a62516da7c301e8f1c9228d6.jpg)此外,搜索引擎详优化是一门较复杂的学问。如果你对SEO优化比较陌生,建议阅读[搜索引擎优化(SEO)新手指南](https://developers.google.com/search/docs/beginner/seo-starter-guide)一文,Google搜索中心给出了全面的**17个**最佳做法,以及**33个**应避免的做法,这也是笔者近期在实践的部分。###SEO在SPA站点中的实践案例在轻文档站点的背景前提下,我们暂不考虑SSR方案。对市面上文档站点的SEO方案调研后,笔者总结为如下四类:*静态模板渲染方案*404重定向方案*SSG方案*预渲染方案####静态模板渲染方案静态模板渲染方案以[hexo](https://github.com/hexojs/hexo)最为典型,此类框架需要指定特定的模板语言(比如[pug](https://github.com/pugjs/pug))来开发主题,从而达到网页内容直出的目的。####404重定向方案404重定向方案的原理主要是利用GitHubPages的404机制进行重定向。比较典型的案例有[spa-github-pages](https://github.com/rafgraph/spa-github-pages)、[sghpa](https://github.com/csuwildcat/sghpa)。但是遗憾的是2019年Google[调整了爬虫算法](https://github.com/rafgraph/spa-github-pages#seo),因此此类重定向方案在当下是无利于SEO的。spa-github-pages作者也表示如果需要SEO的话,使用SSG方案或者付费方案[Netlify](https://www.netlify.com/blog/2020/04/07/creating-better-more-predictable-redirect-rules-for-spas/)。![](http://with.muyunyun.cn/bbb5ed8bce1e0c08dae94df98ff33262.jpg)####SSG方案SSG方案全称为staticsitegenerator,中文可译为`路由静态化方案`。社区上[nuxt](https://github.com/nuxt/nuxt.js)、[Gatsby](https://github.com/gatsbyjs/gatsby)、[docusaurus](https://github.com/facebook/docusaurus)等框架赋能SEO的技术无一例外可以归类此类SSG方案。以nuxt框架为例,在`约定式路由`的基础上,其通过执行`nuxtgenerate`命令将vue文件转化为静态网页。例子:```bash-|pages/---|about.vue/---|index.vue/```静态化后变成:```bash-|dist/---|about/-----|index.html---|index.html```经过路由静态化后,此时的文档目录结构可以托管于任何一个静态站点服务商。####预渲染方案经过上文对SSG方案的分析,此时SPA站点的优化关键已经跃然纸上——`静态化路由`。相较于nuxt、Gatsby等框架存在约定式路由的限制,[create-react-doc](https://github.com/MuYunyun/create-react-doc)在目录结构上的组织灵活自由。它的建站理念是`文件即站点`,同时它对存量markdown文档的迁移也十分便捷。以[blog](https://github.com/MuYunyun/blog)项目结构为例,其文档结构如下:```bash-|BasicSkill/---|basic/-----|DOM.md-----|HTML5.md```静态化后应该变成:```bash-|BasicSkill/---|basic/-----|DOM-------|index.html-----|HTML5-------|index.html```经过调研,该构思与[prerender-spa-plugin](https://github.com/chrisvfritz/prerender-spa-plugin)预渲染方案一拍即合。预渲染方案的原理可以见如下图:![](http://with.muyunyun.cn/f3eb18c162a31fb155fd9f4a364f7fb9.jpg)至此技术选型定下为使用预渲染方案实现SSG。###预渲染方案实践create-react-doc在预渲染方案实践的步骤简单概况如下(完整改动可见[mr](https://github.com/MuYunyun/create-react-doc/pull/95/files)):*改造hash路由为history路由。因为history路由结构与文档静态化目录结构天然匹配。```diffexportdefaultfunctionRouterRoot(){return(-<HashRouter>+<BrowserRouter><RoutersContainer/>-</HashRouter>+</BrowserRouter>)}```*在开发环境、生成环境的基础上新增`预渲染环境`,同时对路由进行环境匹配。其主要解决了`资源文件`与`主域名下的子路径`的对应关系。过程比较曲折,感兴趣的同学可以见[issue](https://github.com/chrisvfritz/prerender-spa-plugin/issues/215#issuecomment-415942268)。```diffconstifProd=env==='prod'+constifPrerender=window.__PRERENDER_INJECTED&&window.__PRERENDER_INJECTED.prerender+constifAddPrefix=ifProd&&!ifPrerender<Routekey={item.path}exact-path={item.path}+path={ifAddPrefix?`/${repo}${item.path}`:item.path}render={()=>{...}}/>```*兼容prerender-spa-plugin在webpack5的使用。官方版本当前未支持webpack5,详见[issue](https://github.com/chrisvfritz/prerender-spa-plugin/issues/414),同时笔者存在对预渲染后执行回调的需求。因此当前fork了一份[版本](https://github.com/create-react-doc/prerender-spa-plugin)出来,解决了以上问题。经过上述步骤的实践,终于在SPA站点中实现了[静态化路由](https://github.com/MuYunyun/blog/tree/gh-pages)。![](http://with.muyunyun.cn/bf01633af158d460ca2830ed640e07cb.jpg)###SEO优化附加buff,站点秒开?SEO优化至此,来看下站点优化前后FP、FCP、LCP等指标数据的变化。以[blog](https://muyunyun.cn/blog)站点为例,优化前后的指标数据如下(数据指标统计来自未使用梯子访问gh-pages):优化前:接入预渲染方案前,首次绘制(FP、FCP)的时间节点在8s左右,LCP在17s左右。![](http://with.muyunyun.cn/23d56cc42fd778c23d8ed80331334343.jpg)优化后:接入预渲染方案后,首次绘制时间节点在`1s`之内开始,LCP在1.5s之内。![](http://with.muyunyun.cn/9c551d29943c3d76700782374d86c37b.jpg)对比优化前后:首屏绘制速度提升了`8`倍,最大内容绘制速度提升`11`倍。本想优化SEO,结果站点性能优化的方式又get了一个。###生成站点地图Sitemap在完成预渲染实现站点路由静态化后,距离SEO的目标又近了一步。暂且抛开[SEO优化细节](https://developers.google.com/search/docs/beginner/seo-starter-guide),单刀直入SEO核心腹地[站点地图](https://developers.google.com/search/docs/advanced/sitemaps/overview)。站点地图Sitemap格式与各字段含义简单说明如下:```xml<?xmlversion=\"1.0\"encoding=\"utf-8\"?><urlset>\x3c!--必填标签,这是具体某一个链接的定义入口，每一条数据都要用<url>和</url>包含在里面,这是必须的--\x3e<url>\x3c!--必填,URL链接地址,长度不得超过256字节--\x3e<loc>http://www.yoursite.com/yoursite.html</loc>\x3c!--可以不提交该标签,用来指定该链接的最后更新时间--\x3e<lastmod>2021-03-06</lastmod>\x3c!--可以不提交该标签,用这个标签告诉此链接可能会出现的更新频率--\x3e<changefreq>daily</changefreq>\x3c!--可以不提交该标签,用来指定此链接相对于其他链接的优先权比值，此值定于0.0-1.0之间--\x3e<priority>0.8</priority></url></urlset>```>上述sitemap中,lastmod、changefreq、priority字段对SEO没那么重要,可以见[how-to-create-a-sitemap](https://ahrefs.com/blog/zh/how-to-create-a-sitemap/)根据上述结构,笔者开发了create-react-doc的站点地图生成包[crd-generator-sitemap](https://github.com/MuYunyun/create-react-doc/tree/main/packages/crd-generator-sitemap),其逻辑就是将预渲染的路由路径拼接成上述格式。使用方只需在站点根目录的`config.yml`添加如下参数便可以在自动化发版过程中自动生成[sitemap](http://muyunyun.cn/create-react-doc/sitemap.xml)。```bashseo:google:true```将生成的站点地图往[GoogleSearchConsole](https://search.google.com/search-console/sitemaps)中提交试试吧,![](http://with.muyunyun.cn/97c21838a1e3310b3c1259e30ab85f3b.jpg)最后验证下Google搜索[站点](https://www.google.com/search?q=site%3Amuyunyun.cn%2Fcreate-react-doc&ie=UTF-8)优化前后效果。优化前:只搜索到一条数据。![](http://with.muyunyun.cn/aea3401e5a31587deb8d93a14f32b011.jpg)优化后:搜索到站点地图中声明的位置数据。![](http://with.muyunyun.cn/6df1536366c7d45e0f6418af03a7d948.jpg)至此使用SSG优化SPA站点实现SEO的完整流程完整实现了一遍。后续便剩下参照[搜索引擎优化(SEO)新手指南](https://developers.google.com/search/docs/beginner/seo-starter-guide)做一些SEO细节方面的优化以及支持更多搜索引擎了。###小结本文从SPA站点实现SEO作为切入点,先后介绍了SEO的基本原理,SEO在SPA站点中的4种实践案例,并结合[create-react-doc](https://github.com/MuYunyun/create-react-doc)SPA框架进行完整的SEO实践。如果本文对您有所帮助,欢迎[star](https://github.com/MuYunyun/create-react-doc)、[反馈](https://github.com/MuYunyun/create-react-doc/issues/new)。###相关链接*[create-react-doc](https://github.com/MuYunyun/create-react-doc)*[why-is-my-website-not-showing-up-on-google/](https://ahrefs.com/blog/zh/why-is-my-website-not-showing-up-on-google/)*[ATechnicalGuidetoSEOWithGatsby.js](https://medium.com/frontend-digest/a-technical-guide-to-seo-with-gatsby-js-e88a7dac80f0)*[优化向：单页应用多路由预渲染指南](https://juejin.cn/post/6844903503362523143)*[除了SSR，就没有别的办法了吗？](https://zhuanlan.zhihu.com/p/57375824)*[基于SSR/SSG的前端SEO优化](https://segmentfault.com/a/1190000023792497)##translate##SEOpracticeinSPAsite###Background![](http://with.muyunyun.cn/c03d8772da6d57e47c55044aee364103.jpg)Observethat[documentsite](http://muyunyun.cn/create-react-doc/)builtbasedon[create-react-doc](https://github.com/MuYunyun/create-react-doc),Ifoundthewebpagecodeisbare(seethepicturebelow).Thisisobviouslyacommonproblemofsingle-pageapplication(SPA)sites.Itisnotconducivetobesearchedbysearchengines(SEO).![](http://with.muyunyun.cn/0ba88a7544efe0e1978e6c8d8b7775a6.jpg)Isn'titpossiblethatSPAsitescan'tperformSEO,sowhataboutframeworkssuchas[Gatsby](https://github.com/gatsbyjs/gatsby),[nuxt](https://github.com/nuxt/nuxt.js)Itcanbeusedasthefirstchoiceformanybloggerstobuildblogs.WhatarethetechnicalprinciplesofsuchframeworkstoempowerSEO?Drivenbycuriosity,IstartmyjourneyofempoweringSEOin[creat-react-doc](https://github.com/MuYunyun/create-react-doc).###SearchEngineOptimizationBeforepractice,let'sanalyzewhysingle-pageapplicationscannotbesearchedbysearchengines.Thecoreisthat`thecrawlerspiderwillnotexecutetheJavaScriptlogicinthewebpageduringthecrawlingprocess`,so`thejumplogichiddenintheJavaScriptwillnotbeexecutedeither`.CheckthepackagedcodeofthecurrentSPAsite.Exceptforarootdirectoryindex.html,everythingelseisinjectedwithJavaScriptlogic,sothebrowserwillnaturallynotperformSEOonit.![](http://with.muyunyun.cn/0d15d4e3a62516da7c301e8f1c9228d6.jpg)Inaddition,detailedsearchengineoptimizationisamorecomplicatedsubject.IfyouarenewtoSEOoptimization,itisrecommendedtoread[SearchEngineOptimization(SEO)Beginner'sGuide](https://developers.google.com/search/docs/beginner/seo-starter-guide)article,givenbyGoogleSearchCenter.Thereareacomprehensivelistof**17**bestpractices,and**33**practicesthatshouldbeavoided.###PracticalcaseofSEOinSPAsiteInthecontextofthelightdocumentsite,wedonotconsidertheSSRschemeforthetimebeing.AfterinvestigatingtheSEOschemesofdocumentsitesonthemarket,theauthorsummarizesthefollowingfourcategories:*Statictemplaterenderingscheme*404redirectionscheme*SSGplan*Pre-renderingscheme####Statictemplaterenderingscheme[hexo](https://github.com/hexojs/hexo)isthemosttypicalinthestatictemplaterenderingscheme.Suchframeworksneedtospecifyaspecifictemplatelanguage(suchas[pug](https://github.com/pugjs/pug))todevelopthemes,soastoachievethepurposeofdirectoutputofwebcontent.####404RedirectionSchemeTheprincipleofthe404redirectsolutionismainlytousethe404mechanismofGitHubPagesforredirection.Typicalcasesare[spa-github-pages](https://github.com/rafgraph/spa-github-pages),[sghpa](https://github.com/csuwildcat/sghpa).Butunfortunately,in2019Google[adjustedcrawleralgorithm](https://github.com/rafgraph/spa-github-pages#seo),sothiskindofredirectionschemeisnotconducivetoSEOatthemoment.Theauthorofspa-github-pagesalsostatedthatifSEOisrequired,usetheSSGplanorthepaidplan[Netlify](https://www.netlify.com/blog/2020/04/07/creating-better-more-predictable-redirect-rules-for-spas/).![](http://with.muyunyun.cn/bbb5ed8bce1e0c08dae94df98ff33262.jpg)####SSGplanThefullnameoftheSSGschemeiscalled`staticsitegenerator`.Inthecommunity,[nuxt](https://github.com/nuxt/nuxt.js),[Gatsby](https://github.com/gatsbyjs/gatsby)andotherframework-enablingSEOtechnologiescanbeclassifiedwithoutexceptionsuchSSGschemes.Takingthenuxtframeworkasanexample,basedonthe`conventionalrouting`,itconvertsvuefilesintostaticwebpagesbyexecutingthe`nuxtgenerate`command.example:```bash-|pages/---|about.vue/---|index.vue/```Afterbeingstatic,itbecomes:```bash-|dist/---|about/-----|index.html---|index.html```Aftertheroutingisstatic,thedocumentdirectorystructureatthistimecanbehostedbyanystaticsiteserviceprovider.####Pre-renderingschemeAftertheaboveanalysisoftheSSGscheme,atthistimethekeytooptimizationoftheSPAsiteisalreadyonpaper——`staticrouting`.ComparedwithframeworkssuchasnuxtandGatsby,whichhavethelimitationofconventionalrouting,[create-react-doc](https://github.com/MuYunyun/create-react-doc)hasflexibleandfreeorganizationinthedirectorystructure.Itswebsitebuildingconceptis`FileisSite`,anditisalsoveryconvenienttomigrateexistingmarkdowndocuments.Take[blog](https://github.com/MuYunyun/blog)projectstructureasanexample,thedocumentstructureisasfollows:```bash-|BasicSkill/---|basic/-----|DOM.md-----|HTML5.md```Itshouldbecome:```bash-|BasicSkill/---|basic/-----|DOM-------|index.html-----|HTML5-------|index.html```Afterinvestigation,theideaandthe[prerender-spa-plugin](https://github.com/chrisvfritz/prerender-spa-plugin)pre-renderingsolutionhititoff.Theprincipleofthepre-renderingschemecanbeseeninthefollowingfigure:![](http://with.muyunyun.cn/f3eb18c162a31fb155fd9f4a364f7fb9.jpg)Sofar,thetechnologyselectionisdeterminedtousethepre-renderingschemetoachieveSSG.###Pre-renderingprogrampracticeAbriefoverviewofthestepsofcreate-react-doc'spracticeinthepre-renderingsolutionisasfollows(forcompletechanges,see[mr](https://github.com/MuYunyun/create-react-doc/pull/95/files)):*Transformhashroutingtohistoryrouting.Becausethehistoryroutingstructurenaturallymatchesthedocumentstaticdirectorystructure.```diffexportdefaultfunctionRouterRoot(){return(-<HashRouter>+<BrowserRouter><RoutersContainer/>-</HashRouter>+</BrowserRouter>)}```*Added`pre-renderingenvironment`onthebasisofdevelopmentenvironmentandgenerationenvironment,andmatchedtheroutingenvironmentatthesametime.Itmainlysolvesthecorrespondencebetween`resourcefiles`and`sub-pathsunderthemaindomainname`.Theprocessistortuous,andinterestedfriendscansee[issue](https://github.com/chrisvfritz/prerender-spa-plugin/issues/215#issuecomment-415942268).```diffconstifProd=env==='prod'+constifPrerender=window.__PRERENDER_INJECTED&&window.__PRERENDER_INJECTED.prerender+constifAddPrefix=ifProd&&!ifPrerender<Routekey={item.path}exact-path={item.path}+path={ifAddPrefix?`/${repo}${item.path}`:item.path}render={()=>{...}}/>```*Compatiblewiththeuseofprerender-spa-plugininwebpack5.Theofficialversioncurrentlydoesnotsupportwebpack5,see[issue](https://github.com/chrisvfritz/prerender-spa-plugin/issues/414)fordetails,andIhaveaneedtoexecutecallbacksafterpre-rendering.Therefore,acopyof[version](https://github.com/create-react-doc/prerender-spa-plugin)iscurrentlyforked,whichsolvestheaboveproblems.Afterthepracticeoftheabovesteps,[staticrouting](https://github.com/MuYunyun/blog/tree/gh-pages)isfinallyimplementedintheSPAsite.![](http://with.muyunyun.cn/bf01633af158d460ca2830ed640e07cb.jpg)###SEOoptimizationwithadditionalbuff,thesiteopensinseconds?SEOoptimizationsofar,let'slookatthechangesin`FP`,`FCP`,`LCP`andotherindicatordatabeforeandaftersiteoptimization.Takingthe[blog](https://muyunyun.cn/blog)siteasanexample,theindexdatabeforeandafteroptimizationisasfollows:Beforeoptimization:Beforeaccessingthepre-renderingscheme,thetimenodeforthefirstdrawing(FP,FCP)isabout`8s`,andtheLCPisabout17s.![](http://with.muyunyun.cn/23d56cc42fd778c23d8ed80331334343.jpg)Afteroptimization:Afteraccessingthepre-renderingscheme,thefirstdrawingtimenodestartswithin`1s`,andtheLCPiswithin1.5s.![](http://with.muyunyun.cn/9c551d29943c3d76700782374d86c37b.jpg)Comparingtheoptimizationbetweenbeforeandafter:thefirstscreendrawingspeedhasbeenincreasedby`8`times,andthemaximumcontentdrawingspeedhasbeenincreasedby`11`times.IwantedtooptimizeSEO,butIgotanotherwaytooptimizesiteperformance.###GenerateSitemapSitemapAfterfinishingthepre-renderingandrealizingthestaticroutingofthesite,itisonestepclosertothegoalofSEO.Puttingaside[SEOoptimizationdetails](https://developers.google.com/search/docs/beginner/seo-starter-guide)forthetimebeing,gostraighttothecorehinterlandofSEO[sitemap](https://developers.google.com/search/docs/advanced/sitemaps/overview).TheformatofSitemapandthemeaningofeachfieldarebrieflyexplainedasfollows:```xml<?xmlversion=\"1.0\"encoding=\"utf-8\"?><urlset>\x3c!--Requiredtag,thisisthedefinitionentryofaspecificlink,eachpieceofdatamustbeincludedwith<url>and</url>,thisisrequired--\x3e<url>\x3c!--Required,URLlinkaddress,lengthmustnotexceed256bytes--\x3e<loc>http://www.yoursite.com/yoursite.html</loc>\x3c!--Youdon'tneedtosubmitthetag,whichisusedtospecifythelastupdatetimeofthelink--\x3e<lastmod>2021-03-06</lastmod>\x3c!--Youdon'tneedtosubmitthetag,usethistagtotelltheupdatefrequencyofthislink--\x3e<changefreq>daily</changefreq>\x3c!--Youdon’tneedtosubmitthetag,whichisusedtospecifythepriorityratioofthislinktootherlinks.Thisvalueissetbetween0.0-1.0--\x3e<priority>0.8</priority></url></urlset>```>Intheabovesitemap,thelastmod,changefreq,andpriorityfieldsarenotsoimportantforSEO,see[how-to-create-a-sitemap](https://ahrefs.com/blog/zh/how-to-create-a-sitemap/)Accordingtotheabovestructure,Idevelopedthesitemapgenerationpackage[crd-generator-sitemap](https://github.com/MuYunyun/create-react-doc/tree/main/packages/crd-generator-sitemap),thelogicistosplicethepre-renderedroutingpathintotheaboveformat.Theuseronlyneedstoaddthefollowingparametersinthesiterootdirectory`config.yml`toautomaticallygenerate[sitemap](http://muyunyun.cn/create-react-doc/sitemap.xml)duringtheautomaticreleaseprocess.```bashseo:google:true```Submitthegeneratedsitemapto[GoogleSearchConsole](https://search.google.com/search-console/sitemaps)foratry,![](http://with.muyunyun.cn/97c21838a1e3310b3c1259e30ab85f3b.jpg)Finally,verifythebeforeandafteroptimizationofGooglesearch[site](https://www.google.com/search?q=site%3Amuyunyun.cn%2Fcreate-react-doc&ie=UTF-8).Beforeoptimization:Onlyonepieceofdataisfound.![](http://with.muyunyun.cn/aea3401e5a31587deb8d93a14f32b011.jpg)Afteroptimization:Searchthelocationdatadeclaredinthesitemap.![](http://with.muyunyun.cn/6df1536366c7d45e0f6418af03a7d948.jpg)Sofar,thecompleteprocessofusingSSGtooptimizeSPAsitestoachieveSEOhasbeenfullyrealized.Follow-upislefttorefertothe[SearchEngineOptimization(SEO)Beginner'sGuide](https://developers.google.com/search/docs/beginner/seo-starter-guide)tooptimizesomeSEOdetailsandsupportmoresearchesTheengineisup.###SummaryThisarticlestartswiththerealizationofSEOontheSPAsite,andsuccessivelyintroducesthebasicprinciplesofSEO,fourpracticalcasesofSEOintheSPAsite,combinedwith[create-react-doc](https://github.com/MuYunyun/create-react-doc)SPAframeworkforcompleteSEOpractice.Ifthisarticleishelpfultoyou,welcome[star](https://github.com/MuYunyun/create-react-doc),[feedback](https://github.com/MuYunyun/create-react-doc/issues/new).###RelatedLinks*[create-react-doc](https://github.com/MuYunyun/create-react-doc)*[why-is-my-website-not-showing-up-on-google/](https://ahrefs.com/blog/zh/why-is-my-website-not-showing-up-on-google/)*[ATechnicalGuidetoSEOWithGatsby.js](https://medium.com/frontend-digest/a-technical-guide-to-seo-with-gatsby-js-e88a7dac80f0)"},{name:"some_about_webpack.md",path:"/FeCloud/some_about_webpack.md",type:"file",mdconf:{abbrlink:"l7g5qivt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:520,extension:".md",relative:"/FeCloud/some_about_webpack.md",isEmpty:!1,content:'\x3c!--abbrlink:l7g5qivt--\x3e###resolve.mainFields在引用模块时，指明使用package.json中哪个字段指定的文件，默认是main```jsresolve:{//配置target==="web"或者target==="webworker"时mainFields默认值是：mainFields:[\'browser\',\'module\',\'main\'],//target的值为其他时，mainFields默认值为：mainFields:["module","main"],}```通常情况下，模块的package都不会声明`browser`或`module`字段，所以便是使用`main`了。'},{name:"tc39.md",path:"/FeCloud/tc39.md",type:"file",mdconf:{abbrlink:"sezgk3yj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3061,extension:".md",relative:"/FeCloud/tc39.md",isEmpty:!1,content:"\x3c!--abbrlink:sezgk3yj--\x3e###TC39[TC39(TechnicalCommittee39)](https://github.com/tc39/ecma262/blob/master/FAQ.md#what-is-a-tc39)isacommitteethatevolvesJavaScript.###WhoisTC39ItsmembersareJavaScriptengines、Frameworks、Academics、Majorwebsite/appplatforms,nowaretheresomeChinesecompanies!![](http://with.muyunyun.cn/fad16aa0b62ed374b19ee51cb31284b7.jpg)Everytwomonths,TC39hasmeeting.Theminutesofthosemeetingsarepublicin[github](https://github.com/tc39/notes)###TheTC39process![](http://with.muyunyun.cn/530e6f1b42d0e6dad4aa9e9682978137.jpg)*Stage1:Anideaunderdiscussion;*Stage2:Wewanttodothatandwehaveadraft;*Stage3:Wehaveafinaldraftandreadytogo;*Stage4:2+implementation,Test262=>standard;ES2016wasthefirstECMAScriptversionthatwasdesignedaccordingtotheTC39process.>[tc39-process](https://2ality.com/2015/11/tc39-process.html):thisarticleintroducestheconditionsofeachstagesshouldachieve.###FinishedProposals(stage4)Onceafeatureisreachedtostage4,itrunsalltestcasein[Test262](https://github.com/tc39/test262/blob/master/INTERPRETING.md),soyoucanuseitsafely.Buteventhen,youshouldstillcheckifthedeviceenvironmentyouusesupportsit.Youcanseeallthe[finishedfeature](https://github.com/tc39/proposals/blob/master/finished-proposals.md)and[otherproposals](https://github.com/tc39/proposals)intheofficiallist.*BigInt*Dynamicimport()*Optionalchaining*Nullishcoalescing*globalThis*...###BigInt```jsconstexpected=4n/2n;//↪2nconstrounded=5n/2n;//↪2n,not2.5n```The/operatoralsoworkasexpectedwithwholenumbers.However,sincetheseareBigIntsandnotBigDecimals,thisoperationwillroundtowards0,whichistosay,itwillnotreturnanyfractionaldigits.####PolyfillingandtranspilingBigInts>UnlikemostothermodernJavaScriptfeatures,BigIntscannotreasonablybetranspileddowntoES5.>TheBigIntproposalchangesthebehaviorofoperators(like+,>=,etc.)toworkonBigInts.Thesechangesareimpossibletopolyfilldirectly,andtheyarealsomakingitinfeasible(inmostcases)totranspileBigIntcodetofallbackcodeusingBabelorsimilartools.Thereasonisthatsuchatranspilationwouldhavetoreplaceeverysingleoperatorintheprogramwithacalltosomefunctionthatperformstypechecksonitsinputs,whichwouldincuranunacceptablerun-timeperformancepenalty.Inaddition,itwouldgreatlyincreasethefilesizeofanytranspiledbundle,negativelyimpactingdownload,parse,andcompiletimes.###link*[proposals](https://github.com/tc39/proposals)*[HistoryandevolutionofJavaScript](https://exploringjs.com/impatient-js/ch_history.html#tc39)*[Featurewatch:ECMAScript2020](https://2ality.com/2019/12/ecmascript-2020.html)*[BigIntsinJavaScript:AcasestudyinTC39](https://docs.google.com/presentation/d/1apPbAiv_-mJF35P31IjaII8UA6TwSynCA_zhfDEmgOE/edit#slide=id.p)"},{name:"w3c.md",path:"/FeCloud/w3c.md",type:"file",mdconf:{abbrlink:"rosy1rva"},birthtime:"2021-12-08",mtime:"2021-12-08",size:122,extension:".md",relative:"/FeCloud/w3c.md",isEmpty:!1,content:"\x3c!--abbrlink:rosy1rva--\x3e###W3CSomeCSSguidenesscanbefoundthere.*[w3c](https://github.com/w3c/csswg-drafts)"},{name:"webkit技术内幕.md",path:"/FeCloud/webkit技术内幕.md",type:"file",mdconf:{abbrlink:"opv4lnaq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1806,extension:".md",relative:"/FeCloud/webkit技术内幕.md",isEmpty:!1,content:"\x3c!--abbrlink:opv4lnaq--\x3e###webkit*[WebKit](https://webkit.org/):如何下载、编译webkit*[github](https://github.com/WebKit/webkit)*[Chromium](www.chromium.org)###webkit架构![](http://with.muyunyun.cn/93c9dbe4d56eb2c5f3be2a14e265ca2b.jpg-muyy)*JavaScript引擎:Google的Chromium中,它被替换为V8引擎。###webkit目录*LayoutTests*PerformanceTests*Source*JavaScriptCore//Webkit默认的的JavaScript引擎*Platform*WebCore*css//css解释器*dom//DOM节点的基础类及树结构*html//HTML解释器和DOM节点*inspector//WebInspector的实现*loader//资源加载器、缓存等*page//与页面相关的全局对象的实现,包括window、navigator等DOM对象,事件,动画处理*platform//各个移植的代码*storage//存储的共享代码*WebKit//绑定和嵌入式接口层)*Webkit2//绑定和嵌入式接口层)*efl//efl的主函数,构建一个简单的浏览器,还有其它移植的代码*NetworkProcess//网络进程相关代码*UIProcess//UI进程相关代码*WebProcess//Web进程相关代码*WTF//智能类库。字符串操作、各种容器、指针、线程、算法等*Tools###Chromium多进程模型![](http://with.muyunyun.cn/af3e700cca1056b8796667751e27e7ec.jpg-muyy)*`Browser进程`:浏览器的主进程,是其它类型进程的祖先,负责它们的创建和销毁。*`Renderer进程`:网页的渲染进程。*`NPAPI插件进程`。*`GPU进程`:对3D图形加速调用的实现。*`Pepper插件进程`。每个进程内部有多个线程。readpage56"},{name:"yarn",path:"/FeCloud/yarn",children:[{name:"scripts.md",path:"/FeCloud/yarn/scripts.md",type:"file",mdconf:{abbrlink:"bpp6dk6t"},birthtime:"2021-12-08",mtime:"2021-12-08",size:705,extension:".md",relative:"/FeCloud/yarn/scripts.md",isEmpty:!1,content:"\x3c!--abbrlink:bpp6dk6t--\x3e###Usage```jsyarnaddxx-D```在本地开发一个独立的包,可以通过`yarnlink`进行链接开发。>yarnlink的包同时会注入到node_modules中###配置yarn全局路径*1.`yarnglobaldir`得到`/Users/mac/.config/yarn/global`*这个路径也是yarn全局包安装的文件目录*2.vim.zshrc*2.1加上exportNODE_PATH=/Users/mac/.config/yarn/global/node_modules/*yarnaddpuppeteer-g###bin```jsyarnglobalbin//findyarnglobalbinpathnpmbin-g//findnpmglobalbinpath```yarnlinkxx,就是将bin的命令挂载到global上。```jsyarnlinkxx```###remove```jsyarnremovexx```"}],type:"directory",size:705},{name:"如何维护一个开源项目.md",path:"/FeCloud/如何维护一个开源项目.md",type:"file",mdconf:{abbrlink:"ps3p8234"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1016,extension:".md",relative:"/FeCloud/如何维护一个开源项目.md",isEmpty:!1,content:"\x3c!--abbrlink:ps3p8234--\x3e###如何维护一个开源项目[keepachangelog](https://keepachangelog.com/en/1.0.0/)###todoList目标-用户组成结构-使用:5/6-代码质量（稳定性+扩展性）-内部服务于多少项目（几十~上百个）-单测等-设计模式：公共样式变量、api等一致（不会参差不齐）-文档等*完善mobile组件在pc端站点的浏览效果;*beast-mobile语言包支持、为后续站点切换双语环境做准备;-支持（support）-亮点-会去研究源码：1/6——源码的高级性*站点的`布局`、`文案`(组件交互)###plan&&todolist*完善mobile组件在pc端站点的浏览效果;*beast-mobile语言包支持、为后续站点切换双语环境做准备;*beast-mobile中、英文文章简版输出,调研专栏环境社区的创建(Medium、Twitter、知乎、Github、StackOverflow、SegmentFault);*两条腿走路,并行;"},{name:"微前端.md",path:"/FeCloud/微前端.md",type:"file",mdconf:{abbrlink:"6l83c3pv"},birthtime:"2021-12-08",mtime:"2021-12-08",size:181,extension:".md",relative:"/FeCloud/微前端.md",isEmpty:!1,content:"\x3c!--abbrlink:6l83c3pv--\x3e###CSS隔离*.mmsorderh1如何影响:提高了样式优先级,可能照成影响;解决方式:动态插入、删除###JavaScript隔离"},{name:"探寻webpack插件机制.md",path:"/FeCloud/探寻webpack插件机制.md",type:"file",mdconf:{abbrlink:"96xkvdzm"},birthtime:"2021-12-08",mtime:"2021-12-08",size:9160,extension:".md",relative:"/FeCloud/探寻webpack插件机制.md",isEmpty:!1,content:'\x3c!--abbrlink:96xkvdzm--\x3ewebpack可谓是让人欣喜又让人忧,功能强大但需要一定的学习成本。在探寻webpack插件机制前,首先需要了解一件有意思的事情,webpack插件机制是整个webpack工具的骨架,而webpack本身也是利用这套插件机制构建出来的。因此在深入认识webpack插件机制后,再来进行项目的相关优化,想必会大有裨益。###webpack插件先来瞅瞅webpack插件在项目中的运用```jsconstMyPlugin=require(\'myplugin\')constwebpack=require(\'webpack\')webpack({...,plugins:[newMyPlugin()]...,})```那么符合什么样的条件能作为webpack插件呢？一般来说,webpack插件有以下特点:1.独立的JS模块,暴露相应的函数2.函数原型上的apply方法会注入compiler对象3.compiler对象上挂载了相应的webpack事件钩子4.事件钩子的回调函数里能拿到编译后的compilation对象,如果是异步钩子还能拿到相应的callback下面结合代码来看看:```jsfunctionMyPlugin(options){}//2.函数原型上的apply方法会注入compiler对象MyPlugin.prototype.apply=function(compiler){//3.compiler对象上挂载了相应的webpack事件钩子4.事件钩子的回调函数里能拿到编译后的compilation对象compiler.plugin(\'emit\',(compilation,callback)=>{...})}//1.独立的JS模块,暴露相应的函数module.exports=MyPlugin```这样子,webpack插件的基本轮廓就勾勒出来了,此时疑问点有几点,1.疑问1:函数的原型上为什么要定义apply方法？阅读[源码](https://github.com/webpack/webpack/blob/10282ea20648b465caec6448849f24fc34e1ba3e/lib/webpack.js#L35)后发现源码中是通过`plugin.apply()`调用插件的。```jsconstwebpack=(options,callback)=>{...for(constpluginofoptions.plugins){plugin.apply(compiler);}...}```2.疑问2:compiler对象是什么呢？3.疑问3:compiler对象上的事件钩子是怎样的？4.疑问4:事件钩子的回调函数里能拿到的compilation对象又是什么呢？这些疑问也是本文的线索,让我们一个个探索。###compiler对象compiler即webpack的编辑器对象,在调用webpack时,会自动初始化compiler对象,[源码](https://github.com/webpack/webpack/blob/10282ea20648b465caec6448849f24fc34e1ba3e/lib/webpack.js#L30)如下:```js//webpack/lib/webpack.jsconstCompiler=require("./Compiler")constwebpack=(options,callback)=>{...options=newWebpackOptionsDefaulter().process(options)//初始化webpack各配置参数letcompiler=newCompiler(options.context)//初始化compiler对象,这里options.context为process.cwd()compiler.options=options//往compiler添加初始化参数newNodeEnvironmentPlugin().apply(compiler)//往compiler添加Node环境相关方法for(constpluginofoptions.plugins){plugin.apply(compiler);}...}```终上,compiler对象中包含了所有webpack可配置的内容,开发插件时,我们可以从compiler对象中拿到所有和webpack主环境相关的内容。###compilation对象compilation对象代表了一次单一的版本构建和生成资源。当运行webpack时,每当检测到一个文件变化,一次新的编译将被创建,从而生成一组新的编译资源。一个编译对象表现了当前的模块资源、编译生成资源、变化的文件、以及被跟踪依赖的状态信息。结合源码来理解下上面这段话,首先webpack在每次执行时会调用`compiler.run()`[(源码位置)](https://github.com/webpack/webpack/blob/e7c8fa414b718ac98d94a96e2553faceabfbc92f/lib/webpack.js#L58),接着追踪[onCompiled函数](https://github.com/webpack/webpack/blob/3a5fda909f2ecf911c73429cb4770948dbd31d24/lib/Compiler.js#L163)传入的compilation参数,可以发现compilation来自构造函数Compilation。```js//webpack/lib/Compiler.jsconstCompilation=require("./Compilation");newCompilation(params){constcompilation=newCompilation(this);...returncompilation;}```###不得不提的tapable库再介绍完compiler对象和compilation对象后,不得不提的是[tapable](https://github.com/webpack/tapable)这个库,这个库暴露了所有和事件相关的pub/sub的方法。而且函数[Compiler](https://github.com/webpack/webpack/blob/e7c8fa414b718ac98d94a96e2553faceabfbc92f/lib/Compiler.js#L29)以及函数[Compilation](https://github.com/webpack/webpack/blob/e7c8fa414b718ac98d94a96e2553faceabfbc92f/lib/Compilation.js#L98)都继承自Tapable。###事件钩子事件钩子其实就是类似MVVM框架的生命周期函数,在特定阶段能做特殊的逻辑处理。了解一些常见的事件钩子是写webpack插件的前置条件,下面列举些常见的事件钩子以及作用:|钩子|作用|参数|类型||:-:|:-:|:-:|:-:||after-plugins|设置完一组初始化插件之后|compiler|sync||after-resolvers|设置完resolvers之后|compiler|sync||run|在读取记录之前|compiler|async||compile|在创建新compilation之前|compilationParams|sync||compilation|compilation创建完成|compilation|sync||emit|在生成资源并输出到目录之前|compilation|async||after-emit|在生成资源并输出到目录之后|compilation|async||done|完成编译|stats|sync|完整地请参阅[官方文档手册](https://doc.webpack-china.org/api/compiler/#%E4%BA%8B%E4%BB%B6%E9%92%A9%E5%AD%90),同时浏览[相关源码](https://github.com/webpack/webpack/blob/eca7bad8de54c39b9cb8b138793362b8a17ac11b/lib/Compiler.js#L32)也能比较清晰地看到各个事件钩子的定义。###插件流程浅析拿emit钩子为例,下面分析下插件调用源码:```jscompiler.plugin(\'emit\',(compilation,callback)=>{//在生成资源并输出到目录之前完成某些逻辑})```此处调用的plugin函数源自上文提到的tapable库,其最终调用栈指向了hook.tapAsync(),其作用类似于EventEmitter的on,[源码](https://github.com/webpack/tapable/blob/42b520760e138c23e7808881cb4322557e878307/lib/Tapable.js#L35)如下:```js//Tapable.jsoptions=>{...if(hook!==undefined){consttapOpt={name:options.fn.name||"unnamedcompatplugin",stage:options.stage||0};if(options.async)hook.tapAsync(tapOpt,options.fn);//将插件中异步钩子的回调函数注入elsehook.tap(tapOpt,options.fn);returntrue;}};```有注入必有触发的地方,源码中通过callAsync方法触发之前注入的异步事件,callAsync类似EventEmitter的emit,[相关源码](https://github.com/webpack/webpack/blob/e7c8fa414b718ac98d94a96e2553faceabfbc92f/lib/Compiler.js#L307)如下:```jsthis.hooks.emit.callAsync(compilation,err=>{if(err)returncallback(err);outputPath=compilation.getPath(this.outputPath);this.outputFileSystem.mkdirp(outputPath,emitFiles);});```一些深入细节这里就不展开了,说下关于阅读比较大型项目的源码的两点体会,*要抓住一条主线索去读,忽视细节。否则会浪费很多时间而且会有挫败感；*结合调试工具来分析,很多点不用调试工具的话很容易顾此失彼；###动手实现个webpack插件结合上述知识点的分析,不难写出自己的webpack插件,关键在于想法。为了统计项目中webpack各包的有效使用情况,在fork[webpack-visualizer](https://github.com/chrisbateman/webpack-visualizer)的基础上对代码升级了一番,[项目地址](https://github.com/MuYunyun/analyze-webpack-plugin)。效果如下:![](http://with.muyunyun.cn/329ec042a73aecd0a1947bdcc1f0dcb4.jpg-400)插件核心代码正是基于上文提到的emit钩子,以及compiler和compilation对象。代码如下:```jsclassAnalyzeWebpackPlugin{constructor(opts={filename:\'analyze.html\'}){this.opts=opts}apply(compiler){constself=thiscompiler.plugin("emit",function(compilation,callback){letstats=compilation.getStats().toJson({chunkModules:true})//获取各个模块的状态letstringifiedStats=JSON.stringify(stats)//服务端渲染lethtml=`<!doctypehtml><metacharset="UTF-8"><title>AnalyzeWebpackPlugin</title><style>${cssString}</style><divid="App"></div><script>window.stats=${stringifiedStats};<\/script><script>${jsString}<\/script>`compilation.assets[`${self.opts.filename}`]={//生成文件路径source:()=>html,size:()=>html.length}callback()})}}```###参考资料[看清楚真正的Webpack插件](https://zoumiaojiang.com/article/what-is-real-webpack-plugin/#compiler)[webpack官网](https://doc.webpack-china.org/)'},{name:"搭建一个脚手架.md",path:"/FeCloud/搭建一个脚手架.md",type:"file",mdconf:{abbrlink:"iewq181x"},birthtime:"2021-12-08",mtime:"2021-12-08",size:778,extension:".md",relative:"/FeCloud/搭建一个脚手架.md",isEmpty:!1,content:"\x3c!--abbrlink:iewq181x--\x3e###搭建一个企业级脚手架###脚手架的三个组成部分*全局命令包,提供`install`、`init`、`start`、`build`等命令;[cli-tpl](https://github.com/imaoda/cli-tpl)*模板插件包(单独抽离可以做到同步最新包到业务);[gen-tpl](https://github.com/imaoda/gen-tpl)*构建插件包(webpack的配置,单独配置及做到了可单独暴露给用户的功能);[build-tpl](https://github.com/imaoda/build-tpl)###探索能否分为两部分?*命令构建包:全局命令包+构建插件包*模板插件包###相关资料*[搭一个企业级脚手架](https://juejin.im/post/5d650613f265da03951a0364#comment):着重推荐这篇文章,后续脚手架可以按照这篇文章的思路来;"},{name:"方法论.md",path:"/FeCloud/方法论.md",type:"file",mdconf:{abbrlink:"m1d3hmjx"},birthtime:"2021-12-08",mtime:"2021-12-08",size:769,extension:".md",relative:"/FeCloud/方法论.md",isEmpty:!1,content:"\x3c!--abbrlink:m1d3hmjx--\x3e这篇文章梳理一些方法论###既要又要还要既要学习,又要实践,还要总结。###medium*[mediumunliited](https://medium-unlimited.ml/download/):medium文章阅读不设上限的插件###SWOT分析S(strength)、W(weakness)、O(opportunity)、T(threat)*工作中真实case,适不适合买菜业务:![](http://with.muyunyun.cn/5db89f1e0de373c0b2f6cce0df141cc0.jpg)*把一件事情放到极致去推演*来源客服轮岗,这笔应该商家、消费者承担。###谁来做*背景:组件库大版本升级。是组件库同学负责升级给业务方升级还是业务方自行升级呢?*方法论:哪一方的依赖性越高谁来负责。*结论:组件库同学帮升级。"},{name:"用户体验.md",path:"/FeCloud/用户体验.md",type:"file",mdconf:{abbrlink:"vhy8ok42"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2117,extension:".md",relative:"/FeCloud/用户体验.md",isEmpty:!1,content:"\x3c!--abbrlink:vhy8ok42--\x3e###用户体验指标|en|fullname|mean|explain||:---:|:---------------------:|:------------:|:------------------------------------------------------------:||FP|FirstContentPaint|首屏绘制|||FCP|FirstContentfulPaint|首次内容渲染|||FMP|FirstMeaningfulPaint|最大内容渲染|||TTL|TimetoInteractive|首次可交互时间|||FID|FirstInputDelay|首次输入延迟|||TBT|TotalBlockTime|阻塞总时间|||SI|SpeedIndex|内容展现速度|||CLS|CumulativeLayoutShift|累计布局偏移|经常会照成用户预期不同的效果,比如点击取消应为偏移变为点击确认||LCP|LargestContentPaint|最大内容绘制|||CLS|CumulativeLayoutPaint|布局偏移总量||![指标案例](http://with.muyunyun.cn/23148c1025c99dba4663798380c0b58b.jpg)-[][toread](https://mp.weixin.qq.com/s/ESOHtwz3jCEybAN196R-rg)###工具链*LightHouse*LightHouseCI*测试组件?*[ChromeSearchConsole](https://search.google.com/search-console/about)*[web.dev](web.dev):持续地了解网页的性能###设计侧*一致性*产品内部的导航方式*类似元素的视觉呈现*操作行为的交互准则*易用性*操作简单易学*提示和帮助容易理解*界面设计清楚明了"},{name:"编译器.md",path:"/FeCloud/编译器.md",type:"file",mdconf:{abbrlink:"trdqh6y3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:824,extension:".md",relative:"/FeCloud/编译器.md",isEmpty:!1,content:"\x3c!--abbrlink:trdqh6y3--\x3e###编译器编译器(compiler)的几个步骤*词法分析(lexicalanalyze):将程序代码拆分成若干个词;*语法分析(syntaxanalyze):生成AST树;*语义分析(semanticanalyze):给AST树添加语义注释,并生成SymbolTable(判断是否有重复的命名空间等);*优化:合并一些语句;*代码生成:转换为低层级的语言;>解释器和编译器步骤大体相同,只是解释器不会将代码转换为低层级语言执行。>[CompilersandInterpreters](https://medium.com/hackernoon/compilers-and-interpreters-3e354a2e41cf)-[][LexicalAnalysis](https://medium.com/hackernoon/lexical-analysis-861b8bfe4cb0):当前阅读到Puttingitalltogether,后续如果要写词法解析器的需求可以结合这篇文章进行实践。"},{name:"视频直播协议.md",path:"/FeCloud/视频直播协议.md",type:"file",mdconf:{abbrlink:"q666o4xi"},birthtime:"2021-12-08",mtime:"2021-12-08",size:558,extension:".md",relative:"/FeCloud/视频直播协议.md",isEmpty:!1,content:"\x3c!--abbrlink:q666o4xi--\x3e###主题：如何在web端实现直播播放器###协议类型*RMTP(RealTimeMessageProtocal):basedTCP;❎*FLV:格式,[bilibili/flv.js](https://github.com/bilibili/flv.js):利用[MediaSourceExtensions(MSE)API](https://developer.mozilla.org/en-US/docs/Web/API/Media_Source_Extensions_API)✅(web)*HLS(HTTPLiveStreaming):basedHTTP,mentionedbyAppleInc.JavaScriptLibraryeg:[hls.js](https://github.com/video-dev/hls.js)✅(mobile)>[直播协议入门](https://www.jianshu.com/p/32417d8ee5b6)"},{name:"跨端.md",path:"/FeCloud/跨端.md",type:"file",mdconf:{abbrlink:"jqfr4dcd"},birthtime:"2021-12-08",mtime:"2021-12-08",size:200,extension:".md",relative:"/FeCloud/跨端.md",isEmpty:!1,content:"\x3c!--abbrlink:jqfr4dcd--\x3e###跨端的思考🤔*重UI还是重逻辑*逻辑跨端*逻辑复用*UI跨端###阶段*Hybrid阶段*ReactNative*小程序阶段*Flutter"}],type:"directory",size:54257},{name:"TypeScript",path:"/TypeScript",children:[{name:"Declaration_Files.md",path:"/TypeScript/Declaration_Files.md",type:"file",mdconf:{abbrlink:"e4hdjbea"},birthtime:"2021-12-08",mtime:"2021-12-08",size:895,extension:".md",relative:"/TypeScript/Declaration_Files.md",isEmpty:!1,content:"\x3c!--abbrlink:e4hdjbea--\x3e##使用declare声明[使用declare声明](https://github.com/MuYunyun/advanced-typescript#%E4%BD%BF%E7%94%A8-declare-%E5%A3%B0%E6%98%8E)###link-[x][DeclarationReference](https://www.typescriptlang.org/docs/handbook/declaration-files/by-example.html)*介绍了declare语法。-[][LibraryStructure](https://www.typescriptlang.org/docs/handbook/declaration-files/library-structures.html)-[x][Do'sandDon'ts](https://www.typescriptlang.org/docs/handbook/declaration-files/do-s-and-don-ts.html)*TypeScript中一些写法的最佳实践。-[][DeepDive](https://www.typescriptlang.org/docs/handbook/declaration-files/deep-dive.html)-[][Publishing](https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html)-[][Consumption](https://www.typescriptlang.org/docs/handbook/declaration-files/consumption.html)"},{name:"Declaration_Merging.md",path:"/TypeScript/Declaration_Merging.md",type:"file",mdconf:{abbrlink:"1xo8g32v"},birthtime:"2021-12-08",mtime:"2021-12-08",size:972,extension:".md",relative:"/TypeScript/Declaration_Merging.md",isEmpty:!1,content:"\x3c!--abbrlink:1xo8g32v--\x3e###MergeInterface```tsinterfaceDocument{createElement(tagName:any):Element;}interfaceDocument{createElement(tagName:\"div\"):HTMLDivElement;createElement(tagName:\"span\"):HTMLSpanElement;}interfaceDocument{createElement(tagName:string):HTMLElement;createElement(tagName:\"canvas\"):HTMLCanvasElement;}```在TypeScript中，上述三个Document接口此时会发生合并，因此在实际使用中，也需要合并使用三个Document的参数与结果。```tsvarobj:Document={createElement:function(tagName:'div'|'span'|'canvas'){return{}asany}}```TypeScript此时会根据传参自动帮助我们推导出结果的类型。```tsvarresult1=obj.createElement('div')//HTMLDivElementvarresult2=obj.createElement('span')//HTMLSpanElement```###link-[x][DeclarationMerging](https://www.typescriptlang.org/docs/handbook/declaration-merging.html)"},{name:"More_On_Functions.md",path:"/TypeScript/More_On_Functions.md",type:"file",mdconf:{abbrlink:"gqpyuise"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3423,extension:".md",relative:"/TypeScript/More_On_Functions.md",isEmpty:!1,content:"\x3c!--abbrlink:gqpyuise--\x3e##TypeScript中使用函数###CallSignatures如果我们期望根据属性类型动态选取函数调用，可以书写如下:```tstypeDescribableFunction={description:string;(someArg:number):boolean;};functiondoSomething(fn:DescribableFunction){console.log(fn.description+\"returned\"+fn(6));}```在这里，`fn(6)`中传入了数字6，因而其命中了对象中`(someArg:number):boolean;`该条规则。###在函数中使用泛型应该注意的点*尽可能地直接使用参数类型，而不要去约束它。```tsfunctionfirstElement1<Type>(arr:Type[]){returnarr[0];}functionfirstElement2<Typeextendsany[]>(arr:Type){returnarr[0];}//✅a:numberconsta=firstElement1([1,2,3]);//❎b:anyconstb=firstElement2([1,2,3]);```粗看firstElement1与firstElement2似乎达到一样的效果，但是结果上a的类型是number，b的类型是any。这是因为TypeScript必须使用约束类型解析arr[0]表达式，而非在调用期间“等待”解析元素。###不要在CallBacks中使用可选参数表达式在以下代码中，在定义侧对回调函数中的参数作了可选表达式的声明，且在定义侧调用的callback函数未传入可选参数，因此在消费者调用可选参数值时报了错误。```ts//❎定义侧错误示范functionmyForEach(arr:any[],callback:(arg:any,index?:number)=>void){for(leti=0;i<arr.length;i++){callback(arr[i])}}//消费侧myForEach([1,2,3],(a,i)=>{//Objectispossibly'undefined'.console.log(i.toFixed())})```与之对应的，若需要在回调函数中定义参数的类型，尽量不使用可选参数表达式，除非消费该函数时能保证处理好可选参数。```ts//✅定义侧正确示范functionmyForEach(arr:any[],callback:(arg:any,index:number)=>void){for(leti=0;i<arr.length;i++){callback(arr[i],i)}}//消费侧myForEach([1,2,3],(a,i)=>{console.log(i.toFixed())})```###函数重载函数实现侧必须与定义重载侧对应。*例子一:参数类型不正确```ts//定义侧functionfn(x:boolean):void;functionfn(x:string):void;//实现侧functionfn(x:boolean){}//❎functionfn(x:boolean|string){}//✅```*例子二:返回结果不正确```ts//定义侧functionfn(x:string):string;functionfn(x:number):boolean;//实现侧//❎functionfn(x:string|number){return\"oops\"}//✅functionfn(x:string|number):string|boolean{if(typeofx==='string'){return'hhh'}elseif(typeofx==='number'){returntrue}}```###剩余参数在TypeScript中，数组被认为是可变的，因而会导致一些奇怪的问题。```tsconstargs=[8,5]//❎Aspreadargumentmusteitherhaveatupletypeorbepassedtoarestparameter.constangle=Math.atan2(...args)```此时，通常最为直接的解决方式是使用`const`来约束目标为不可变对象。>`Readonly`与`Const`都有不可让值修改的作用。区别在于Readonly作用于属性,Const作用于变量。```tsconstargs=[8,5]asconstconstangle=Math.atan2(...args)```###link[MoreonFunctions](https://www.typescriptlang.org/docs/handbook/2/functions.html)"},{name:"README.md",path:"/TypeScript/README.md",type:"file",mdconf:{abbrlink:"qy2pz4hv"},birthtime:"2021-12-08",mtime:"2021-12-08",size:12957,extension:".md",relative:"/TypeScript/README.md",isEmpty:!1,content:'\x3c!--abbrlink:qy2pz4hv--\x3eTypeScript并不是一个完全新的语言,它是JavaScript的超集，为JavaScript的生态增加了类型机制，并最终将代码编译为纯粹的JavaScript代码。##TypeScript简介TypeScript由Microsoft(算上Angular2的话加上Google)开发和维护的一种开源编程语言。它支持JavaScript的所有语法和语义，同时通过作为ECMAScript的超集来提供一些额外的功能，如类型检测和更丰富的语法。下图显示了TypeScript与ES5，ES2015，ES2016之间的关系。![](http://with.muyunyun.cn/da62039bf146c2ebd615ef1d11a1a808.jpg)##使用TypeScript的原因JavaScript是一门弱类型语言，变量的数据类型具有动态性，只有执行时才能确定变量的类型，这种后知后觉的认错方法会让开发者成为调试大师，但无益于编程能力的提升，还会降低开发效率。TypeScript的类型机制可以有效杜绝由变量类型引起的误用问题，而且开发者可以控制对类型的监控程度，是严格限制变量类型还是宽松限制变量类型，都取决于开发者的开发需求。添加类型机制之后，副作用主要有两个：增大了开发人员的学习曲线，增加了设定类型的开发时间。总体而言，这些付出相对于代码的健壮性和可维护性，都是值得的。此外，类型注释是TypeScript的内置功能之一，允许文本编辑器和IDE可以对我们的代码执行更好的静态分析。这意味着我们可以通过自动编译工具的帮助，在编写代码时减少错误，从而提高我们的生产力。对TypeScript的简介到此，接下来对其特有的知识点进行简单概括总结。##数据类型*[数据类型](https://github.com/MuYunyun/blog/blob/main/TypeScript/Types.md)##函数###为函数定义类型我们可以给每个参数添加类型之后再为函数本身添加返回值类型。TypeScript能够根据返回语句自动推断出返回值类型，因此我们通常省略它。下面函数add,add2,add3的效果是一样的，其中是add3函数是函数完整类型。```tsfunctionadd(x:string,y:string):string{return"HelloTypeScript"}letadd2=function(x:string,y:string):string{return"HelloTypeScript"}letadd3:(x:string,y:string)=>string=function(x:string,y:string):string{return"HelloTypeScript"}```###可选参数和默认参数JavaScript里，每个参数都是可选的，可传可不传。没传参的时候，它的值就是undefined。在TypeScript里我们可以在参数名旁使用?实现可选参数的功能。比如，我们想让lastname是可选的:```tsfunctionbuildName(firstName:string,lastname?:string){console.log(lastname?firstName+""+lastname:firstName)}letres1=buildName("鸣","人")//鸣人letres2=buildName("鸣")//鸣letres3=buildName("鸣","人","君")//Suppliedparametersdonotmatchanysignatureofcalltarget.```如果带默认值的参数出现在必须参数前面，用户必须明确的传入undefined值来获得默认值。例如，我们重写上例子，让firstName是带默认值的参数：```tsfunctionbuildName2(firstName="鸣",lastName?:string){console.log(firstName+""+lastName)}letres4=buildName2("人")//人letres5=buildName2(undefined,"人")//鸣人```##类传统的JavaScript程序使用函数和基于原型的继承来创建可重用的组件，但对于熟悉使用面向对象方式的程序员来讲就有些棘手，因为他们用的是基于类的继承并且对象是由类构建出来的。从ECMAScript2015，也就是ECMAScript6开始，JavaScript程序员将能够使用基于类的面向对象的方式。使用TypeScript，我们允许开发者现在就使用这些特性，并且编译后的JavaScript可以在所有主流浏览器和平台上运行，而不需要等到下个JavaScript版本。###类```tsclassPerson{name:string//这个是对后文this.name类型的定义age:numberconstructor(name:string,age:number){this.name=namethis.age=age}print(){returnthis.name+this.age}}letperson:Person=newPerson(\'muyy\',23)console.log(person.print())//muyy23```我们在引用任何一个类成员的时候都用了this。它表示我们访问的是类的成员。其实这本质上还是ES6的知识，只是在ES6的基础上多上了对this字段和引用参数的类型声明。###继承```tsclassPerson{publicname:string//public、private、static是typescript中的类访问修饰符age:numberconstructor(name:string,age:number){this.name=namethis.age=age}tell(){console.log(this.name+this.age)}}classStudentextendsPerson{gender:stringconstructor(gender:string){super("muyy",23)this.gender=gender}tell(){console.log(this.name+this.age+this.gender)}}varstudent=newStudent("male")student.tell()//muyy23male```这个例子展示了TypeScript中继承的一些特征，可以看到其实也是ES6的知识上加上类型声明。不过这里多了一个知识点——公共，私有，以及受保护的修饰符。TypeScript里，成员默认为public；当成员被标记成private时，它就不能在声明它的类的外部访问；protected修饰符与private修饰符的行为很相似，但有一点不同，protected成员在派生类中仍然可以访问。###存储器TypeScript支持通过getters/setters来截取对对象成员的访问。它能帮助你有效的控制对对象成员的访问。对于存取器有下面几点需要注意的：首先，存取器要求你将编译器设置为输出ECMAScript5或更高。不支持降级到ECMAScript3。其次，只带有get不带有set的存取器自动被推断为readonly。这在从代码生成.d.ts文件时是有帮助的，因为利用这个属性的用户会看到不允许够改变它的值。```tsclassHello{private_name:stringprivate_age:numbergetname():string{returnthis._name}setname(value:string){this._name=value}getage():number{returnthis._age}setage(age:number){if(age>0&&age<100){console.log("年龄在0-100之间")//年龄在0-100之间return}this._age=age}}lethello=newHello()hello.name="muyy"hello.age=23console.log(hello.name)//muyy```##接口###接口TypeScript的核心原则之一是对值所具有的结构进行类型检查。在TypeScript里，接口的作用就是为这些类型命名和为你的代码或第三方代码定义契约。```tsinterfaceLabelValue{label:string}functionprintLabel(labelObj:LabelValue){console.log(labelObj.label)}letmyObj={"label":"helloInterface"}printLabel(myObj)```LabelledValue接口就好比一个名字，它代表了有一个label属性且类型为string的对象。只要传入的对象满足上述必要条件，那么它就是被允许的。另外，类型检查器不会去检查属性的顺序，只要相应的属性存在并且类型也是对的就可以。###可选属性带有可选属性的接口与普通的接口定义差不多，只是在可选属性名字定义的后面加一个?符号。可选属性的好处之一是可以对可能存在的属性进行预定义，好处之二是可以捕获引用了不存在的属性时的错误。```tsinterfacePerson{name?:stringage?:number}functionprintInfo(info:Person){console.log(info)}letinfo={"name":"muyy","age":23}printInfo(info)//{"name":"muyy","age":23}letinfo2={"name":"muyy"}printInfo(info2)//{"name":"muyy"}```###函数类型接口能够描述JavaScript中对象拥有的各种各样的外形。除了描述带有属性的普通对象外，接口也可以描述函数类型。定义的函数类型接口就像是一个只有参数列表和返回值类型的函数定义。参数列表里的每个参数都需要名字和类型。定义后完成后，我们可以像使用其它接口一样使用这个函数类型的接口。```tsinterfaceSearchFunc{(source:string,subString:string):boolean}letmySearch:SearchFuncmySearch=function(source:string,subString:string){returnsource.search(subString)!==-1}console.log(mySearch("鸣人","鸣"))//trueconsole.log(mySearch("鸣人","缨"))//false```###可索引类型与使用接口描述函数类型差不多，我们也可以描述那些能够“通过索引得到”的类型，比如`a[10]`或`ageMap["daniel"]`。可索引类型具有一个索引签名，它描述了对象索引的类型，还有相应的索引返回值类型。让我们看如下例子：```tsinterfaceStringArray{[index:number]:string}letMyArray:StringArrayMyArray=["是","云","随","风"]console.log(MyArray[2])//随```###类类型与C#或Java里接口的基本作用一样，TypeScript也能够用它来明确的强制一个类去符合某种契约。我们可以在接口中描述一个方法，在类里实现它，如同下面的`setTime`方法一样：```tsinterfaceClockInterface{currentTime:DatesetTime(d:Date)}classClockimplementsClockInterface{currentTime:DatesetTime(d:Date){this.currentTime=d}constructor(h:number,m:number){}}```###继承接口和类一样，接口也可以相互继承。这让我们能够从一个接口里复制成员到另一个接口里，可以更灵活地将接口分割到可重用的模块里。```tsinterfaceShape{color:string}interfacePenStroke{penWidth:number}interfaceSquareextendsShape,PenStroke{sideLength:number}lets=<Square>{}s.color="blue"s.penWidth=100s.sideLength=10```##模块TypeScript与ECMAScript2015一样，任何包含顶级import或者export的文件都被当成一个模块。```tsexportinterfaceStringValidator{isAcceptable(s:string):boolean}varstrReg=/^[A-Za-z]+$/varnumReg=/^[0-9]+$/exportclassletterValidatorimplementsStringValidator{isAcceptable(s:string):boolean{returnstrReg.test(s)}}exportclasszipCodeimplementsStringValidator{isAcceptable(s:string):boolean{returns.length==5&&numReg.test(s)}}```##泛型软件工程中，我们不仅要创建一致的定义良好的API，同时也要考虑可重用性。组件不仅能够支持当前的数据类型，同时也能支持未来的数据类型，这在创建大型系统时为你提供了十分灵活的功能。在像C#和Java这样的语言中，可以使用泛型来创建可重用的组件，一个组件可以支持多种类型的数据。这样用户就可以以自己的数据类型来使用组件。###初探泛型如下代码，我们给Hello函数添加了类型变量T，T帮助我们捕获用户传入的类型（比如：string）。我们把这个版本的Hello函数叫做泛型，因为它可以适用于多个类型。代码中`output`和`output2`是效果是相同的，第二种方法更加普遍，利用了类型推论——即编译器会根据传入的参数自动地帮助我们确定T的类型:```tsfunctionHello<T>(arg:T):T{returnarg;}letoutPut=Hello<string>(\'HelloGeneric\');letoutput2=Hello(\'HelloGeneric\')console.log(outPut);console.log(outPut2);```##参考资料-[x][BasicTypes](https://www.typescriptlang.org/docs/handbook/basic-types.html)-[x][Namespaces](https://www.typescriptlang.org/docs/handbook/namespaces.html)-[][TypeInference](https://www.typescriptlang.org/docs/handbook/type-inference.html)-[][TypeCompatibility](https://www.typescriptlang.org/docs/handbook/type-compatibility.html)-[][AdvancedTypes](https://www.typescriptlang.org/docs/handbook/advanced-types.html)-[x][Triple-SlashDirectives](https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html)-[][TypeCheckingJavaScriptFiles](httpas://www.typescriptlang.org/docs/handbook/type-checking-javascript-files.html)*[type-challenges](https://github.com/type-challenges/type-challenges):typescript体操*Typescript工具库*[ts-toolbelt](https://github.com/millsp/ts-toolbelt)*[utility-types](https://github.com/piotrwitek/utility-types)*[DefinitelyTypedlodashtypes](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/lodash)*[ts-fp-light](https://github.com/hacker0limbo/ts-fp-light)*[ts-essentials](https://github.com/krzkaczor/ts-essentials)*[Ts高手篇：22个示例深入讲解Ts最晦涩难懂的高级类型工具](https://juejin.cn/post/6994102811218673700)>文章起笔于2017-07-02'},{name:"RoadMap.md",path:"/TypeScript/RoadMap.md",type:"file",mdconf:{abbrlink:"2um498vn"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1861,extension:".md",relative:"/TypeScript/RoadMap.md",isEmpty:!1,content:"\x3c!--abbrlink:2um498vn--\x3e###Roadmap*[roadmap](https://github.com/Microsoft/TypeScript/wiki/Roadmap)*[overview](https://www.typescriptlang.org/docs/handbook/release-notes/overview.html)###1.3*[Tupletypes](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-3.html#tuple-types)###1.4enum###2.8*[ConditionalTypes](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types)###3.2todo:https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-2.html###3.7####OptionalChainingOperator(可选链操作符)OptionalChainingOperatorcanhelpus`reducesomecode`whenwejudge`foo.bar.baz`asfollow:```js//Beforeif(foo&&foo.bar&&foo.bar.baz){//...}//Afterif(foo?.bar?.baz){//...}````?:`:checkin`undefined`and`null`.```jsundefined?:1//undefinednull?:1//undefined0?:1//1''?:1//1NaN?:1//1```>`&&`hasdifferentbehaviour.Notonly`undefined`and`null`,but`falsyvalue`willbealsochecked.eg:```jsundefined&&1//undefinednull&&1//null0&&1//0''&&1//''NaN&&1//NaN```####NullishCoalescingOperator(空值合并操作符)`??`meansyoucantakethevaluethatisn't`undefined`or`null`.```jsundefined??1//1null??1//10??1//0''??1//''```Youcanuseitwhenusing`0`astruesuchas:```jsif(typeofvalue!=='number')return//beforeletvalueStash=value===0||value?value:defaultValue//afterletvalueStash=value??defaultValue```>`||`hasdifferentbehaviour.Notonly`undefined`and`null`,but`falsyvalue`willbealsochecked.eg:```jsundefined||1//1null||1//10||1//1''||1//1```"},{name:"TypeScript_Module.md",path:"/TypeScript/TypeScript_Module.md",type:"file",mdconf:{abbrlink:"e49qogy1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1543,extension:".md",relative:"/TypeScript/TypeScript_Module.md",isEmpty:!1,content:"\x3c!--abbrlink:e49qogy1--\x3e##TypeScript模块篇###TypeScript之模块导入为什么在TypeScript中会使用`import*asReactfromreact`，而不是`importReactfromreact`,这个问题困惑了一些时日。观察React的导出代码:```jsif(process.env.NODE_ENV==='production'){module.exports=require('./cjs/react.production.min.js');}else{module.exports=require('./cjs/react.development.js');}```可以发现其是`common.js`形式的导出,而我们知道`import`是es6的引入,所以TypeScript中出现的`import*as___from___`提供了使用`import`语法调用`common.js`的口子。比如`import*asReactfromreact`等价于`constReact=require('react')`,它还等价于另外一种写法`importReact=require('react')`(在webpack语境下生效)而`importReactfrom'react'`在TS中等价于`constReact=require('react').default`在typescript的配置文件中可以加上`esModuleInterop`参数,具体见[官网](https://www.typescriptlang.org/docs/handbook/compiler-options.html),其效果可以将`importReactfromreact`转为`import*asReactfromreact`在使用了esModuleInterop参数后,像React、ReactDOM(对象块)使用import*asReactfrom'react'的形式,warning、classnames(函数)等库使用importwarningfrom'warning'形式。>在webpack中的话使用importReactfrom'react'和import*asReactfrom'react'都能帮你打包,但是其它的Rollup和Parcel没有支持"},{name:"Type_Manipulation.md",path:"/TypeScript/Type_Manipulation.md",type:"file",mdconf:{abbrlink:"6r8w8t5n"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1262,extension:".md",relative:"/TypeScript/Type_Manipulation.md",isEmpty:!1,content:"\x3c!--abbrlink:6r8w8t5n--\x3e本文档为TypeScript的[类型系统](https://www.typescriptlang.org/docs/handbook/2/types-from-types.html)阅读笔记。###Keyof```tstypeArrayish={[n:number]:unknown};typeA=keyofArrayish;//numbertypeMapish={[k:string]:boolean};typeM=keyofMapish;//string|number```这里需要留意M的类型是`string|number`,这是因为JavaScript对象中总是将key对待为一个string类型,比如obj[0]与obj['0']是等价的。###Typeof需要注意「类型空间」与实际值的区别。以`ReturnType<T>`为例:```tsfunctionf(){return{x:10,y:3};}typeP=ReturnType<f>;```直接操作值,会报错`'f'referstoavalue,butisbeingusedasatypehere.Didyoumean'typeoff'?`。因此我们得使用typeof来将函数转化为类型空间。```tsfunctionf(){return{x:10,y:3};}typeP=ReturnType<typeoff>;```###IndexedAccess可以结合使用typeof与number去获取数组元素的类型。```tsconstMyArray=[{name:\"Alice\",age:15},{name:\"Bob\",age:23},{name:\"Eve\",age:38},]//typePerson={//name:string;//age:number;//}typePerson=typeofMyArray[number];```"},{name:"Types.md",path:"/TypeScript/Types.md",type:"file",mdconf:{abbrlink:"a3a3qa6u"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3226,extension:".md",relative:"/TypeScript/Types.md",isEmpty:!1,content:'\x3c!--abbrlink:a3a3qa6u--\x3e##数据类型在TypeScript进行类型定义的时候尽量不使用Object、Boolean、Array、Function等大写开头的标识来定义类型，因为它们在JavaScript中都是具体的函数对象，取而代之地应该使用object、boolean、[]、()=>void。###字符串类型一个保存字符串的文本，类型声明为string。```tsletname:string=\'muyy\'```###布尔值类型boolean是true或false的值，所以`letisBool3:boolean=newBoolean(1)`就会编译报错，因为newBoolean(1)生成的是一个Bool对象。```tsletisBool1:boolean=false```###数字类型```tsletnumber:number=10;```###数组类型数组是Array类型。然而，因为数组是一个集合，我们还需要指定在数组中的元素的类型。我们通过`Array<type>`or`type[]`语法为数组内的元素指定类型。```tsletarr:number[]=[1,2,3,4,5]letarr2:Array<number>=[1,2,3,4,5]letarr3:string[]=["1","2"]letarr4:Array<string>=["1","2"]```###Tuple类型Tuple类型相对于Array类型,其允许元素的类型不一定相同。```jsletx:[string,number]x=[\'a\',1]```###enums类型列出所有可用值，一个枚举的默认初始值是0。一开始的范围可以作如下调整:```tsenumRole{Employee=3,Manager,Admin}letrole:Role=Role.Employeeconsole.log(role)//3console.log(Role[4])//Manager```###any类型any是默认的类型，其类型的变量允许任何类型的值：```tsletnotSure:any=10letnotSure2:any[]=[1,"2",false]```###void类型JavaScript没有空值void的概念，在TypeScirpt中，可以用void表示没有任何返回值的函数：```tsfunctionalertName():void{console.log(\'Mynameismuyy\')}```此外，需注意的是如果在函数声明的变量后方声明()=>void，函数中是可以返回任意值，只不过结果类型仍然为void。```ts✅constf1:()=>void=function(){returntrue}❎constf3=function():void{returntrue}```###unknow类型任何使用any类型的地方推荐使用unknow类型代替它。>[new-unknown-top-type](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#new-unknown-top-type),比any更加安全的类型如果没有断言或缩小到更具体的类型，则不允许对unknow类型做任何操作。比如下方例子:```tsfunctionf(x:unknown){x==5;x!==10;x>=0;//Errorx+1;//Errorx*2;//Error-x;//Error+x;//Errorx.foo;//Errorx[5];//Errorx();//Error}```###never类型当函数throw或者返回错误,循环永远为true时可以声明为[never类型](https://www.typescriptlang.org/docs/handbook/2/narrowing.html#the-never-type)。```js//Functionreturningnevermusthaveunreachableendpointfunctionerror(message:string):never{thrownewError(message)}//Inferredreturntypeisneverfunctionfail(){returnerror("Somethingfailed")}//FunctionreturningnevermusthaveunreachableendpointfunctioninfiniteLoop():never{while(true){...}}```'},{name:"Types_vs_Interfaces.md",path:"/TypeScript/Types_vs_Interfaces.md",type:"file",mdconf:{abbrlink:"z9tf63bq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1393,extension:".md",relative:"/TypeScript/Types_vs_Interfaces.md",isEmpty:!1,content:"\x3c!--abbrlink:z9tf63bq--\x3e##TypesvsInterfaces###相同点1.两者都可用来表达`Objects/Functions`,不过它们语法不同。Interface:```tsinterfacePoint0{x:number;y:number;}interfaceSetPoint0{(x:number,y:number):void}```Type:```tstypePoint1={x:number;y:number;}typeSetPoint1=(x:number,b:number)=>void```2.两者都可以继承自Interface或者Type。继承自Interface:```tsinterfacePartialPointX0{x:number}interfacePointextendsPartialPointX0{y:number}interfacePartialPointX3{x:number}typePointX1=PartialPointX3&{y:number}```继承自Type:```tstypePartialPointX1={x:number}typePointX1=PartialPointX1&{y:number}typePartialPointX2={x:number}interfacePointextendsPartialPointX2{y:number}```###不同点1.Type可用来定义声明`primitives`,`unions`以及`tuples`类型。```ts//primitivetypeName=string;//uniontypePoint=string|number//tupletypeData=[string,number]```2.Interface可声明多次,多次声明的类型会进行合并。Type则只能声明一次。```tsinterfacePoint{x:number}interfacePoint{y:number}constpoint:Point={x:1,y:2}```>[Types_vs_Interfaces](https://stackoverflow.com/questions/37233735/typescript-interfaces-vs-types/52682220#52682220)"},{name:"Utility_Types.md",path:"/TypeScript/Utility_Types.md",type:"file",mdconf:{abbrlink:"fvrpelzp"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2211,extension:".md",relative:"/TypeScript/Utility_Types.md",isEmpty:!1,content:'\x3c!--abbrlink:fvrpelzp--\x3e###`Partial<T>``Partial<T>`:意味T集合的子集;###`Pick<T,K>``Pick<T,K>`:相对`Partial<T>`,`Pick<T,K>`限制了子集中必须含有K定义的类型字段。```jsinterfaceTodo{title:string;description:string;completed:boolean;}typeTodoPreview=Pick<Todo,"title"|"completed">;consttodo:TodoPreview={title:"Cleanroom",completed:false};```###`Readonly<T>``Readonly<T>`:T中类型只读;###`Record<K,T>``Record<K,T>`:建立K到T之间的map映射。```jsinterfacePageInfo{title:string;}typePage="home"|"about"|"contact";constx:Record<Page,PageInfo>={about:{title:"about"},contact:{title:"contact"},home:{title:"home"}};```###`Omit<T,K>``Omit<T,K>`:申明一个类型其在T类型中`移除K中包含的属性值`;```jsinterfaceTodo{title:string;description:string;completed:boolean;}typeTodoPreview=Omit<Todo,"description">;consttodo:TodoPreview={title:"Cleanroom",completed:false};```###`Exclude<T,U>`*`Exclude<T,U>`:申明一个类型其在T类型中`移除U中所包含的类型`;*版本:2.8```jstypeT0=Exclude<"a"|"b"|"c","a">;//"b"|"c"typeT1=Exclude<"a"|"b"|"c","a"|"b">;//"c"typeT2=Exclude<string|number|(()=>void),Function>;//string|number```###`Extract<T,U>`*`Extract<T,U>`—ExtractfromTthosetypesthatareassignabletoU.*版本:2.8###`NonNullable<T>`*`NonNullable<T>`:申明一个类型其将T类型中的null与undefined移除;*版本:2.8###`ReturnType<T>`*`ReturnType<T>`—Obtainthereturntypeofafunctiontype.*版本:2.8###`InstanceType<T>`*`InstanceType<T>`:申明一个由构造函数实例类型组合而成的类型;*版本:2.8```jsclassC{x=0;y=0;}typeT0=InstanceType<typeofC>;//CtypeT1=InstanceType<any>;//anytypeT2=InstanceType<never>;//anytypeT3=InstanceType<string>;//ErrortypeT4=InstanceType<Function>;//Error```###Link-[x][UtilityTypes](https://www.typescriptlang.org/docs/handbook/utility-types.html)'},{name:"extends.md",path:"/TypeScript/extends.md",type:"file",mdconf:{abbrlink:"d1jkxo7l"},birthtime:"2021-12-08",mtime:"2021-12-08",size:7291,extension:".md",relative:"/TypeScript/extends.md",isEmpty:!1,content:"\x3c!--abbrlink:d1jkxo7l--\x3e#TypeScript条件类型精读与实践在大多数程序中，我们必须根据输入做出决策。TypeScript也不例外，使用条件类型可以描述输入类型与输出类型之间的关系。>本文同步首发在[个人博客](https://github.com/MuYunyun/blog/issues/140)中，欢迎订阅、交流。##用于条件判断时的extends当extends用于表示条件判断时，可以总结出以下规律1.若位于extends两侧的类型相同，则extends在语义上可理解为`===`，可以参考如下例子:```tstyperesult1='a'extends'abc'?true:false//falsetyperesult2=123extends1?true:false//false```2.若位于extends右侧的类型包含位于extends左侧的类型(即狭窄类型extends宽泛类型)时，结果为true，反之为false。可以参考如下例子:```tstyperesult3=stringextendsstring|number?true:false//true```3.当extends作用于对象时，若在对象中指定的key越多，则其类型定义的范围越狭窄。可以参考如下例子:```tstyperesult4={a:true,b:false}extends{a:true}?true:false//true```##在泛型类型中使用条件类型考虑如下Demo类型定义:```tstypeDemo<T,U>=TextendsU?never:T```结合[用于条件判断时的extends](#用于条件判断时的-extends)，可知`'a'|'b'|'c'extends'a'`是false,因此`Demo<'a'|'b'|'c','a'>`结果是`'a'|'b'|'c'`么?查阅[官网](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html)，其中有提到:>Whenconditionaltypesactonagenerictype,theybecomedistributivewhengivenauniontype.即当条件类型作用于泛型类型时，联合类型会被拆分使用。即`Demo<'a'|'b'|'c','a'>`会被拆分为`'a'extends'a'`、`'b'extends'a'`、`'c'extends'a'`。用伪代码表示类似于:```jsfunctionDemo(T,U){returnT.map(val=>{if(val!==U)returnvalreturn'never'})}Demo(['a','b','c'],'a')//['never','b','c']```此外根据[never类型](https://www.typescriptlang.org/docs/handbook/2/narrowing.html#the-never-type)的定义——never类型可分配给每种类型，但是没有类型可以分配给never(除了never本身)。即`never|'b'|'c'`等价于`'b'|'c'`。因此`Demo<'a'|'b'|'c','a'>`的结果并不是`'a'|'b'|'c'`而是`'b'|'c'`。###工具类型心细的读者可能已经发现了Demo类型的声明过程其实就是TypeScript官方提供的工具类型中[`Exclude<Type,ExcludedUnion>`](https://www.typescriptlang.org/docs/handbook/utility-types.html#excludetype-excludedunion)的实现原理，其用于将联合类型ExcludedUnion排除在Type类型之外。```tstypeT=Demo<'a'|'b'|'c','a'>//T:'b'|'c'```基于Demo类型定义，进一步地还可以实现官方工具类型中的[`Omit<Type,Keys>`](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)，其用于移除对象Type中满足keys类型的属性值。```tstypeOmit<Type,Keys>={[PinDemo<keyofType,Keys>]:Type<P>}interfaceTodo{title:string;description:string;completed:boolean;}typeT=Omit<Todo,'description'>//T:{title:string;completed:boolean}```###逃离舱如果想让`Demo<'a'|'b'|'c','a'>`的结果为`'a'|'b'|'c'`是否可以实现呢?根据[官网](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#distributive-conditional-types)描述:>Typically,distributivityisthedesiredbehavior.Toavoidthatbehavior,youcansurroundeachsideoftheextendskeywordwithsquarebrackets.如果不想遍历泛型中的每一个类型，可以用方括号将泛型给括起来以表示使用该泛型的整体部分。```tstypeDemo<T,U>=[T]extends[U]?never:T//result此时类型为'a'|'b'|'c'typeresult=Demo<'a'|'b'|'c','a'>```##在箭头函数中使用条件类型在箭头函数中使用三元表达式时，从左向右的阅读习惯导致函数内容区若不加括号则会让使用方感到困惑。比如下方代码中x是函数类型还是布尔类型呢？```js//Theintentisnotclear.varx=a=>1?true:false```在eslint规则[no-confusing-arrow](https://eslint.org/docs/rules/no-confusing-arrow)中，推荐如下写法：```jsvarx=a=>(1?true:false)```在TypeScript的类型定义中，若在箭头函数中使用extends也是同理，由于从左向右的阅读习惯，也会导致阅读者对类型代码的执行顺序感到困惑。```tstypeCurry<Pextendsany[],R>=(arg:Head<P>)=>HasTail<P>extendstrue?Curry<Tail<P>,R>:R```因此在箭头函数中使用extends建议加上括号，对于进行codereview有很大的帮助。```tstypeCurry<Pextendsany[],R>=(arg:Head<P>)=>(HasTail<P>extendstrue?Curry<Tail<P>,R>:R)```##结合类型推导使用条件类型在TypeScript中，一般会结合extends来使用类型推导[infer](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#inferring-within-conditional-types)语法。使用它可以实现自动推导类型的目的。比如用其来实现工具类型[`ReturnType<Type>`](https://www.typescriptlang.org/docs/handbook/utility-types.html#returntypetype)，该工具类型用于返回函数Type的返回类型。```tstypeReturnType<TextendsFunction>=Textends(...args:any)=>inferU?U:neverMyReturnType<()=>string>//stringMyReturnType<()=>Promise<boolean>//Promise<boolean>```结合extends与类型推导还可以实现与数组相关的`Pop<T>`、`Shift<T>`、`Reverse<T>`工具类型。**`Pop<T>`**:```tstypePop<Textendsany[]>=Textends[...inferExceptLast,any]?ExceptLast:nevertypeT=Pop<[3,2,1]>//T:[3,2]```**`Shift<T>`**:```tstypeShift<Textendsany[]>=Textends[infer_,...inferO]?O:nevertypeT=Shift<[3,2,1]>//T:[2,1]```**`Reverse<T>`**```tstypeReverse<T>=Textends[inferF,...inferOthers]?[...Reverse<Others>,F]:[]typeT=Reverse<['a','b']>//T:['b','a']```##使用条件类型来判断两个类型完全相等我们也可以使用条件类型来判断A、B两个类型是否完全相等。当前社区上主要有两种方案:**方案一**:参考[issue](https://github.com/Microsoft/TypeScript/issues/27024#issuecomment-420227672)。```tsexporttypeEqual1<T,S>=[T]extends[S]?([S]extends[T]?true:false):false```目前该方案的唯一缺点是会将any类型与其它任何类型判为相等。```tstypeT=Equal1<{x:any},{x:number}>//T:true```**方案二**:参考[issue](https://github.com/microsoft/TypeScript/issues/27024#issuecomment-421529650)。```tsexporttypeEqual2<X,Y>=(<T>()=>TextendsX?1:2)extends(<U>()=>UextendsY?1:2)?true:false```目前该方案的唯一缺点是在对交叉类型的处理上有一点瑕疵。```tstypeT=Equal2<{x:1}&{y:2},{x:1,y:2}>//false```以上两种判断类型相等的方法见仁见智，笔者在此抛砖引玉。"},{name:"类型体操.md",path:"/TypeScript/类型体操.md",type:"file",mdconf:{abbrlink:"xn66n5uc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:609,extension:".md",relative:"/TypeScript/类型体操.md",isEmpty:!1,content:"\x3c!--abbrlink:xn66n5uc--\x3eReading...-[]TypeScript的类型是一门独立的「纯函数式编程语言」-[x]类型与值-[x]extends与分支条件-[]变量声明-[x]函数声明与调用-[x]没有高阶函数不影响表达能力-[x]模式匹配-[]递归与尾递归-[]普通递归-[]尾递归&尾递归转循环&通用递归转循环-[]循环转尾递归-[]尾递归遍历树-[]实现Lisp解释器-[]基本加减乘除运算-[]词法分析###link*[TypeScript类型体操天花板](https://zhuanlan.zhihu.com/p/427309936)"}],type:"directory",size:37643},{name:"Algorithm",path:"/Algorithm",children:[{name:"README.md",path:"/Algorithm/README.md",type:"file",mdconf:{abbrlink:"qrh61eep"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2271,extension:".md",relative:"/Algorithm/README.md",isEmpty:!1,content:"\x3c!--abbrlink:qrh61eep--\x3e###Algorithm*[AlgorithmAndComplexy](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/complexy.md)-[Recursive](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/recursive.md)-[BinarySearch](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/binary_search.md)*[GreedyAlgorithm](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/greedy.md)*[DynamicProgramming](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/dynamic_programming.md)###SortAlgorithm-[x][SelectionSort](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/sort/selection_sort.md)-[x][QuickSort](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/sort/quick_sort.md)-[x][MergeSort](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/sort/merge_sort.md)-[x][HeapSort](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/sort/heap_sort.md)算法是一种思想!以排序算法为例,可能最常见的是在数组中使用排序算法,但是相同的思想也能用于数组对象,甚至链表中,比如链表中实现排序的两道题。1.[147.InsertionSortList](https://github.com/MuYunyun/blog/blob/master/BasicSkill/LeetCode/147.Insertion_Sort_List/README.md):插入排序在链表中的实现;2.[148.SortList](https://github.com/MuYunyun/blog/blob/master/BasicSkill/LeetCode/148.Sort_List/README.md):归并排序在链表中的实现;###DataStructure*[Stack](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/stack.md)*[Queue](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/queue.md)*[List](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/list.md)*[Set](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/set.md)*[Dictionary](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/.md)*[HashTable](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/hash_table.md)*[BinaryTree](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/binary_tree.md)*[Graph](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/graph.md)"},{name:"algorithm",path:"/Algorithm/algorithm",children:[{name:"backtracking.md",path:"/Algorithm/algorithm/backtracking.md",type:"file",mdconf:{abbrlink:"eflxs88h"},birthtime:"2021-12-08",mtime:"2021-12-08",size:842,extension:".md",relative:"/Algorithm/algorithm/backtracking.md",isEmpty:!1,content:"\x3c!--abbrlink:eflxs88h--\x3e###BackTracking回溯法回溯是一种思想。DFS也是回溯思想的一种实践案例。回溯法本质是一种穷举的递归算法,既然是递归,它就需要有终止条件。###解决场景*排列问题###回溯法相关题目*[17.LetterCombinationsofaPhoneNumber](https://github.com/MuYunyun/blog/blob/main/LeetCode/17.Letter_Combinations_of_a_Phone_Number.md)*[22.GenerateParentheses](https://github.com/MuYunyun/blog/blob/main/LeetCode/22.Generate_Parentheses.md)*[78.Subsets](https://github.com/MuYunyun/blog/blob/main/LeetCode/78.Subsets.md)*[93.RestoreIPAddresses](https://github.com/MuYunyun/blog/blob/main/LeetCode/93.Restore_IP_Addresses.md)*[131.PalindromePartitioning](https://github.com/MuYunyun/blog/blob/main/LeetCode/131.Palindrome%20Partitioning.md)"},{name:"binary_search.md",path:"/Algorithm/algorithm/binary_search.md",type:"file",mdconf:{abbrlink:"ps27a5tp"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2868,extension:".md",relative:"/Algorithm/algorithm/binary_search.md",isEmpty:!1,content:"\x3c!--abbrlink:ps27a5tp--\x3e###二分查找思想1.取已排列好数组的中间值2.把需查找的值和中间值进行比较3.如果比中间值小,则对前半部分进行类似操作；如果比中间值大,则对后半部分进行类似操作；###二分查找代码实现```js//arr为指定数组,target为目标元素functionbinarysearch(arr,target){letleft=0letright=arr.length-1while(left<=right){constmiddlePoint=Math.floor((left+right)/2)letmiddle=arr[middlePoint]if(middle>target){right=middlePoint-1}elseif(middle<target){left=middlePoint+1}else{returnmiddle}}return'数组中目标元素不存在'}```###以二分查找法看如何写出正确的程序*明确变量的含义。比如在上述代码中,left与right就是变量,其意味当前查找数组中的左边界与右边界。[left,...right];*循环不变量。在上述代码中,循环中改变变量(left,right)的取值,但是不改变变量的含义。[left,...right];*小数据量调试。(快速,准确,耐心)*大数据量调试。(能测出程序的性能)###真题>题目:题目:在一个二维数组中,每一行都按照从左到右递增的顺序排序,每一列都按照从上到下递增的顺序排序。请完成一个函数,输入这样的一个二维数组和一个整数,判断数组中是否含有该整数。```js12345678910111213141516functionfind(arr,n){letx=0lety=arr[x].length-1while(x<arr.length&&y>0){if(n>arr[x][y]){x++}elseif(n<arr[x][y]){y--}else{return'找到目标元素'}}return'目标元素不存在'}```这道题严格不算是二分查找,不过用到了类似的思维。>求开方[Leetcode:69.Sqrt(x)(Easy)](https://leetcode.com/problems/sqrtx/description/)思路:满足0<sqrt<x&&sqrt===x/sqrt,转化为二分查找求sqrt```js/***@param{number}x*@return{number}*/varmySqrt=function(x){//8letleft=1letright=xwhile(left<=right){constmid=Math.floor((left+right)/2)//423constsqrt=x/mid//242.7if(sqrt===mid)returnsqrtif(sqrt>mid){left=mid+1//3}elseif(sqrt<mid){right=mid-1//32}}returnright//这里返回right而不是left的原因:用了Math.floor,mid会偏小,相应sqrt会偏大}```>有序数组的SingleElement[Leetcode:540.SingleElementinaSortedArray(Medium)](https://leetcode.com/problems/single-element-in-a-sorted-array/description/)题目描述:一个有序数组只有一个数不出现两次,找出这个数。"},{name:"complexy.md",path:"/Algorithm/algorithm/complexy.md",type:"file",mdconf:{abbrlink:"cbrpc1ne"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5452,extension:".md",relative:"/Algorithm/algorithm/complexy.md",isEmpty:!1,content:"\x3c!--abbrlink:cbrpc1ne--\x3e###一个时间复杂度的问题有一个字符串数组,将数组中的每一个字符串按照字母序进行排序;然后再将整个字符串数组按照字典序进行排序;时间复杂度是多少?<details><summary>解析</summary>假设数组中最长的字符串长度为s,有n个字符串。对每一个字符串按照字母序进行排序:`n*slogs`对整个字符串数组按照字典序进行排序:`s*nlogn`(比如比较'abc'和'abd'两个字符串的顺序,需要比较到第s位字母,所以需要乘上3。)>排序默认为O(nlogn)的复杂度</details>###简单的复杂度分析####O(n^2)如下是[选择排序](./排序算法/选择排序.md)中的代码片段:```jsvarchooseSort=function(arr){for(letx=0;x<arr.length;x++){letmin=xfor(lety=x+1;y<arr.length;y++){if(arr[y]<arr[min]){min=y}}lettmp=arr[x]arr[x]=arr[min]arr[min]=tmp}returnarr}```分析其时间复杂度```js(n-1)+(n-2)+(n-3)+...+0=(n-1+0)*n/2≈O(n^2)````需注意的是并不是所有有两重遍历循环的算法时间复杂度都是O(n^2)`。```jsfunctiondemo1(n){for(leti=0;i<n;i++){for(letj=0;j<30;j++){...}}}```在demo1函数中,因为内层循环的次数为常量30,所以其时间复杂度为`30*n≈O(n)````jsfunctiondemo2(n){for(leti=0;i<n;i+=i){for(letj=0;j<n;j++){...}}}```在demo2函数中,外层循环循环的次数![](http://with.muyunyun.cn/b4705e227e4b5c5616b7eb81cfe082cb.jpg),所以其复杂度也不是O(n^2)而是O(logN)。####O(logN)如下是[二分查找](./二分查找.md)中的代码片段:```js//arr为指定数组,target为目标元素functionbinarysearch(arr,target){letleft=0letright=arr.length-1while(left<=right){constmiddlePoint=Math.floor((left+right)/2)letmiddle=arr[middlePoint]if(middle>target){right=middlePoint-1}elseif(middle<target){left=middlePoint+1}else{returnmiddle}}return'数组中目标元素不存在'}```分析其时间复杂度。假设数据总量为N,因为二分查找每次会减少一半的数据,所以经过1次后,数据剩下为N/2,经过2次后,数据剩下为N/2^2,二分查找的极限是最后剩下1个数据,假设经过m次后,达到极限,N/2^m=1,即![](http://with.muyunyun.cn/894f6426601047921de80c181e3656c2.jpg),所以时间复杂度为logN；题目:现在有一个1~1000区间中的正整数,需要你猜下这个数字是几,你只能问一个问题:大了还是小了？问需要猜几次才能猜对？答:根据二分查找的时间复杂度为logN,所以题目可以转化为求log1000的值,2^10=1024,所以最多猜10次就能猜对;###数据规模以JavaScript这门语言为例,书写如下函数```jsfunctionmain(){for(leti=1;i<=10;i++){letn=Math.pow(10,i)console.time('start')letsum=0for(letx=0;x<n;x++){sum+=x}console.log(`10^${i}`)console.timeEnd('start')}}```运行结果为:```js10^1start:0.14892578125ms10^2start:0.071044921875ms10^3start:0.074951171875ms10^4start:0.232177734375ms10^5start:4.281982421875ms10^6start:0.97509765625ms10^7start:8.960205078125ms10^8start:90.760986328125ms10^9start:887.587890625ms10^10start:13403.979248046875ms```可以得出如下结论:使用JavaScript如果想让其在1s内完成任务,数据规模的要求如下:*O(n^2)算法可以处理10^4级别的数据;*O(n)算法可以处理10^8/10^9级别的数据;*O(nlogn)算法可以处理10^7数据的级别;###测试自己算法的复杂度思路:将数据规模乘2,观察对应时间的增长关系。```jsfunctiontestComplexity(fn){for(leti=10,i<15,i++){consttotal=Math.pow(2,i)constmockArr=newArray(total)console.time('test')/*fn为算法函数,这里仅仅作为demo演示*/fn(mockArr)console.end('test')}}```###递归算法的时间复杂度分析####递归中进行单次递归调用单次递归算法的时间复杂度=深度*递归函数的时间复杂度>在单次递归算法调用中,深度就为递归函数执行次数```js/*求1+2+3+...+n*/functionsum(n){if(n===0)return0returnn+sum(n-1)}```比如在sum函数中,深度为n,递归函数的时间复杂度为1,所以该函数的时间复杂度为O(n)。####递归中进行多次递归调用递归中进行多次递归调用,建议画图来辅助分析。```jsfunctionf(n){if(n===0)return0returnf(n-1)+f(n-1)}```![](http://with.muyunyun.cn/5a60c47aeae5a5750c0146555584894a.jpg)![](http://with.muyunyun.cn/8290ad6f0cb7df00b2862c1d7996e54c.jpg)###link等差数列前n项和公式:```js*Sn=[n*(a1+an)]/2*Sn=a1*n+[n*(n-1)*d]/2*Sn=d/2*n²+(a1-d/2)*n```等比数列前n项和公式:![](http://with.muyunyun.cn/0a2db22818ecc056aa95e6ab75c8c903.jpg)排列组合公式:![](http://with.muyunyun.cn/468350f2ebca84bb44fc2108dc43efc0.jpg-400)"},{name:"dynamic_programming.md",path:"/Algorithm/algorithm/dynamic_programming.md",type:"file",mdconf:{abbrlink:"wjncoyei"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3084,extension:".md",relative:"/Algorithm/algorithm/dynamic_programming.md",isEmpty:!1,content:"\x3c!--abbrlink:wjncoyei--\x3e###什么是动态规划动态规划`将一个大问题拆分成若干个子问题`,同时保存子问题的答案,使得每个子问题只求解一次,最终获得原问题的答案。其本质也是`递归问题`。###动态规划是自下而上的递归通常自上而下的递归会产生`重复的函数调用栈`,以[递归](./recursive.md)章节中`斐波那契数列`为例,其使用了`自上而下`的思路来解决问题。>关于重复的函数调用栈解释:比如求斐波那契数列f(4)的值时,其转化为`f(3)+f(2)`,进而转化为`2f(2)+f(1)`,可以看到此时重复调用了f(2)。```jsfn(n)=fn(n-1)+fn(n-2)/\\fn(n-1)=fn(n-2)+fn(n-3)fn(n-2)=fn(n-3)+fn(n-4)/\\/\\............```动态规划则与其相反,其使用了`自下而上`的思路来解决问题。伪代码示意如下:```jsfn(n)=fn(1)+fn(2)+...+f(n)```具体实现:```jsvarfibonacci=function(n){constarr=[1,1]for(leti=2;i<=n;i++){arr[i]=arr[i-1]+arr[i-2]}returnarr[n]}```|递归方向|优点|缺点||:----------------:|:----------:|:----------------------:||自上而下|思路容易理顺|会出现函数栈重复的调用||自下而上(动态规划)|思路不易理顺|不会出现函数栈重复的调用|###动态规划解题思路1.确定子问题2.确定终止条件###案例——最小找零硬币数场景:假如有1,5,10,20美分的硬币```[1,5,10,20]4//找零数[1,1,1,1]//需4个1美分的硬币5//找零数[5]//需1个5美分的硬币36//找零数[20,10,5,1]//需20、10、5、1美分的硬币各一个```下面用代码来实现:```jsvarMinChange=function(changeType){this.changeType=changeTypethis.cache={}}MinChange.prototype.makeChange=function(amount){letmin=[]if(!amount){return[]}if(this.cache[amount]){//读缓存returnthis.cache[amount]}for(leti=0;i<this.changeType.length;i++){constleftAmount=amount-this.changeType[i]letnewMinif(leftAmount>=0){newMin=this.makeChange(leftAmount)//这一句是动态规划的提现}if(leftAmount>=0&&(newMin.length<min.length-1||!min.length)){//如果存在更小的找零硬币数,则执行后面语句min=[this.changeType[i]].concat(newMin)}}returnthis.cache[amount]=min}```下面进行测试:```jsvarminChange=newMinChange([1,5,10,20])minChange.makeChange(2)//[1,1]minChange.makeChange(5)//[5]minChange.makeChange(36)//[1,5,10,20]```"},{name:"greedy.md",path:"/Algorithm/algorithm/greedy.md",type:"file",mdconf:{abbrlink:"pkr9cdeo"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1468,extension:".md",relative:"/Algorithm/algorithm/greedy.md",isEmpty:!1,content:"\x3c!--abbrlink:pkr9cdeo--\x3e###贪心算法贪心算法是一种求近似解的思想。当能满足大部分最优解时就认为符合逻辑要求。###例子以[最小找零硬币数](https://github.com/MuYunyun/blog/blob/master/BasicSkill/algorithm/动态规划.md#案例--最小找零硬币数)这个案例为例,考虑使用贪心算法解题:比如当找零数为36时,从硬币数的最大值20开始填充,填充不下后再用10来填充,以此类推,找到最优解。```场景:假如有1,5,10,20美分的硬币36//找零数[20,10,5,1]//需20、10、5、1美分的硬币各一个```代码如下:```jsvarMinChange=function(changeType){this.changeType=changeType.sort((r1,r2)=>r2-r1)}MinChange.prototype.makeChange=function(amount){constarr=[]for(leti=0;i<this.changeType.length;i++){while(amount-this.changeType[i]>=0){arr.push(this.changeType[i])amount=amount-this.changeType[i]}}returnarr}```来测试下:```jsvarminChange=newMinChange([1,5,10,20])minChange.makeChange(36)//[20,10,5,1]```相比于动态规划算法,贪心算法实现得相对简单,而且也确实满足了大部分情况下的最优解。但是如下情况贪心算法就不满足了:```jsvarminChange=newMinChange([1,3,3,4])minChange.makeChange(6)//结果输出[4,1,1],而我们期望的是[3,3]```"},{name:"partition.md",path:"/Algorithm/algorithm/partition.md",type:"file",mdconf:{abbrlink:"nibxlyza"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1262,extension:".md",relative:"/Algorithm/algorithm/partition.md",isEmpty:!1,content:"\x3c!--abbrlink:nibxlyza--\x3e###partition划分算法算法思路:*第一步:找一个`枢纽值`pivot;*第二步:使用一个`指针去遍历数组`,小于pivot的值都放在数组左侧(pivot的右侧);*第三步:将pivot移到数组的`中间位置`,pivot左侧都是比pivot小的值,pivot右侧都是比pivot大的值;返回pivot的下标;比如针对数组`[5,9,2,7,3]`,分解算法步骤图:![](http://with.muyunyun.cn/f86a764f83302f8d5bba02024e0dcb04.jpg)###算法实现用了双指针。```js/*分区算法*/functionpartition(nums,left,right){constpivot=nums[left]//枢纽值letpos=left//用来记住最后枢纽值pivot应该置于的位置for(leti=left+1;i<=right;i++){if(nums[i]<pivot){pos++swap(nums,pos,i)}}swap(nums,pos,left)returnpos}/*交换位置nums数组,a,b为下标*/varswap=function(nums,a,b){consttmp=nums[a]nums[a]=nums[b]nums[b]=tmp}```测试```jsvartestArr=[5,9,2,7,3]varresult=partition(testArr,0,4)result===2console.log(testArr)//[3,2,5,7,9]```###partition算法的作用见leetcode215:数组中的第K个最大元素"},{name:"recursive.md",path:"/Algorithm/algorithm/recursive.md",type:"file",mdconf:{abbrlink:"4id99bn9"},birthtime:"2021-12-08",mtime:"2021-12-08",size:863,extension:".md",relative:"/Algorithm/algorithm/recursive.md",isEmpty:!1,content:"\x3c!--abbrlink:4id99bn9--\x3e###Optimizefibonaccisequence>题目:求斐波那契数列1,1,2,3,5,8,13,21,34,55,89...中的第n项斐波那契数列考察的是递归算法,但是要注意优化,探寻下面优化前后的代码片段。优化前:```jsletcount1=0functionfn(n){count1++if(n===1||n===2){return1}returnfn(n-1)+fn(n-2)}console.log(fn(20),count1)//676513529```优化后:```jsfunction_fn(n){if(cache[n]){returncache[n]}count2++if(n===1||n===2){return1}cache[n-1]=_fn(n-1)cache[n-2]=_fn(n-2)returncache[n-1]+cache[n-2]}letcount2=0functionfn(n){constcache={}return_fn(n)}console.log(fn(20),count2)//676520```小结:通过`记忆化缓存数据`,可以看到大大提高了运行性能。"},{name:"sort",path:"/Algorithm/algorithm/sort",children:[{name:"heap_sort.md",path:"/Algorithm/algorithm/sort/heap_sort.md",type:"file",mdconf:{abbrlink:"fkr4qedq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3767,extension:".md",relative:"/Algorithm/algorithm/sort/heap_sort.md",isEmpty:!1,content:"\x3c!--abbrlink:fkr4qedq--\x3e###HeapSort>prefixknowlege:[heap](https://github.com/MuYunyun/blog/blob/master/Algorithm/data_structure/heap.md)题目:给定数组`[5,2,7,3,1,8,4]`,使用堆排序对其进行升序排列。*步骤一:构造大顶堆;```js5↙↘convert27|因为子节点7大于5,因此作convert,结果如下↓7↙↘25|依此类推,构造出大顶堆。↓8↙↘37↙↘↙↘2154```*步骤二:取出顶部元素,将数组末尾元素移到顶部(目的是为了保持移除了顶部元素后的数组长度减少1);*步骤三:如果存在顶部元素的子元素大于顶部元素的情形,对调它们(维持maxheap);```js8↙↘37↙↘↙↘2154|取出顶部8,将数组末尾元素4移到顶部↓4↙↘(对调)37↙↘↙215|如果存在顶部元素的子元素大于顶部元素的情形,对调它们,重新构造maxheap.↓7↙↘34↙↘↙215|重复上述3个步骤,直到堆中的元素为空```下面来实现上述步骤:```jsvarheap_sort=function(arr){constresult=[]letmaterial=arrwhile(material.length>0){constmaxHeapArr=builtMaxHeap(material)result.unshift(maxHeapArr[0])maxHeapArr[0]=maxHeapArr[maxHeapArr.length-1]material=maxHeapArr.slice(0,maxHeapArr.length-1)}returnresult}//input:[5,2,7,3,1,8,4]//output:tobuildbigheap[8,3,7,2,1,5,4]varbuiltMaxHeap=function(arr){letparent,compareChildfor(leti=0;i<arr.length;i++){parent=Math.floor((i-1)/2)compareChild=iwhile(parent>=0){if(arr[parent]<arr[compareChild]){swap(arr,parent,compareChild)compareChild=parentparent=Math.floor((compareChild-1)/2)}else{parent=-1}}}returnarr}//swaptwovalueinarrvarswap=function(arr,pointOne,pointTwo){consttmp=arr[pointOne]arr[pointOne]=arr[pointTwo]arr[pointTwo]=tmp}```理想情况下,堆排序时间复杂度应为nlogn,空间复杂度应为1,上述实现的代码中没有达到这一复杂度的。参考社区代码后重写:*由len控制执行时机;*对arr进行操作不引入额外变量;```jsvarlenvarheap_sort=function(arr){buildMaxHeapify(arr)while(len>1){swap(arr,len-1,0)len--keepMaxHeapify(arr,0)}returnarr}/***tobuildmaxheapifyfrombottomtotop;*thelastsubscript'sparentsubscriptisMath.floor((len-1)/2)*/varbuildMaxHeapify=function(arr){len=arr.lengthfor(leti=Math.floor((len-1)/2);i>=0;i--){keepMaxHeapify(arr,i)}}/***tokeepmaxheap*/varkeepMaxHeapify=function(arr,i){constleft=2*i+1constright=2*i+2letmaxSubscript=iif(left<len&&arr[left]>arr[maxSubscript]){maxSubscript=left}if(right<len&&arr[right]>arr[maxSubscript]){maxSubscript=right}if(maxSubscript!==i){swap(arr,maxSubscript,i)keepMaxHeapify(arr,maxSubscript)}}/***swaptwovalueinarr*/varswap=function(arr,pointOne,pointTwo){consttmp=arr[pointOne]arr[pointOne]=arr[pointTwo]arr[pointTwo]=tmp}```"},{name:"merge_sort.md",path:"/Algorithm/algorithm/sort/merge_sort.md",type:"file",mdconf:{abbrlink:"fuj2lhrd"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1440,extension:".md",relative:"/Algorithm/algorithm/sort/merge_sort.md",isEmpty:!1,content:"\x3c!--abbrlink:fuj2lhrd--\x3e###归并排序思想1.取一个基准点,将数组不断拆分成左右两部分,直到数组的长度为1;2.对拆离的数组进行`比较合并`;演示如下:```js315231|523|1|5|213|251235```###代码实现```js//可以把它当成分函数varmergeSort=function(arr){//将数组arr拆分成[0,point)和[point,arr.length]两部分constpoint=arr.length/2constleft=arr.slice(0,point)constright=arr.slice(point,arr.length)if(arr.length===1){returnarr}returnmerge(mergeSort(left),mergeSort(right))}//可以当作是合函数functionmerge(left,right){letl=0//第一个数组的下标letr=0//第二个数组的下标constresult=[]while(l<left.length&&r<right.length){if(left[l]<right[r]){result.push(left[l])l++}else{result.push(right[r])r++}}while(l<left.length){result.push(left[l])l++}while(r<right.length){result.push(right[r])r++}returnresult}```###归并排序与快速排序的异同归并排序与快速排序都是用递归来实现的算法,都是分分合合的过程。区别在于归并排序在合的过程中进行排序,快速排序则在分的过程中进行排序。另外它们的时间复杂度都为O(nlogn)。"},{name:"quick_sort.md",path:"/Algorithm/algorithm/sort/quick_sort.md",type:"file",mdconf:{abbrlink:"t6c2k7h3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:838,extension:".md",relative:"/Algorithm/algorithm/sort/quick_sort.md",isEmpty:!1,content:"\x3c!--abbrlink:t6c2k7h3--\x3e###快速排序思想1.找到一个基准点;2.比该基准点值小的值移到其左侧,比该基准点大的值移到其右侧;3.遍历左侧的值和右侧的值,重复上述1,2操作;###代码实现```jsfunctionquickSort(arr){if(arr.length===0){return[]}constbasicValue=arr[Math.floor((arr.length-1)/2)]//随意取,这里取中间constleft=[]constright=[]for(leti=0;i<arr.length;i++){if(arr[i]<basicValue){left.push(arr[i])}if(arr[i]>basicValue){right.push(arr[i])}}returnquickSort(left).concat(basicValue,quickSort(right))}```###求快速排序时间复杂度先记住O(NlogN),[具体证明](https://www.zhihu.com/question/22393997),somedaytounderstand,o(╯□╰)o"},{name:"selection_sort.md",path:"/Algorithm/algorithm/sort/selection_sort.md",type:"file",mdconf:{abbrlink:"opuodfap"},birthtime:"2021-12-08",mtime:"2021-12-08",size:511,extension:".md",relative:"/Algorithm/algorithm/sort/selection_sort.md",isEmpty:!1,content:"\x3c!--abbrlink:opuodfap--\x3e###选择排序思想1.遍历数组选择最小值与数组第一位交换;2.遍历剩下的数组,将最小值与数组第二位交换;3.依次类推,完成排序;###代码实现```jsvarchooseSort=function(arr){for(letx=0;x<arr.length;x++){letmin=xfor(lety=x+1;y<arr.length;y++){if(arr[y]<arr[min]){min=y}}lettmp=arr[x]arr[x]=arr[min]arr[min]=tmp}returnarr}```"}],type:"directory",size:6556}],type:"directory",size:22395},{name:"data_structure",path:"/Algorithm/data_structure",children:[{name:"binary_tree.md",path:"/Algorithm/data_structure/binary_tree.md",type:"file",mdconf:{abbrlink:"qykpal2y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:8492,extension:".md",relative:"/Algorithm/data_structure/binary_tree.md",isEmpty:!1,content:"\x3c!--abbrlink:qykpal2y--\x3e###二叉树![](http://with.muyunyun.cn/c3bc86f87907fedaeba86b0f5b96a71a.jpg-300)这棵树中最多有两个分支,因此是`二叉树`。*`根节点`:一棵树最顶部的节点*`内部节点`:在它上面还有其它内部节点或者叶节点的节点*`叶节点`:处于一棵树根部的节点*`子树`:由树中的内部节点和叶节点组成###概念延伸*`完全二叉树`(compeletebinarytree):*除了最后一行都满;*在最后一行不满的情况下不能只存有右子树而没有左子树;```js1↙↘23↙4```*`满二叉树`(fullbinarytree):*每一行都满;```js1↙↘23↙↘↙↘4567```*`二叉搜索树`(BinarySearchTree)*左侧子节点的数字小于父节点,右侧子节点的数字大于父节点```js11↙↘715↙↘↙↘891320```*`平衡二叉树`二叉收缩树最好的情况下查找效率是比较高,比如上图中时间复杂度为`O(logn)`,其访问性能近似于二分查找,但最差时时间复杂度为`O(n)`,如下示意:```js7↘8↘9↘11↘13↘15↘20```基于此需要在二叉搜索树基础上做一下平衡,```js78↘平衡后↙↘8-------\x3e79↘9```###二叉搜索树的实现```jsfunctionBinarySearchTree(){functionNode(key){this.key=keythis.left=nullthis.right=null}letroot=null//插入元素//实现思路:至顶向下插入,先判断顶点是否为空；顶点为空则直接在该处插入,若不为空,则通过比较顶点的key和插入元素的key判断该插入到顶点的左侧还是右侧,后面进行如上递归this.insert=function(key){constnode=newNode(key)if(root===null){root=node}else{insertNode(root,node)}functioninsertNode(parent,node){if(parent.key>node.key){if(parent.left===null){parent.left=node}else{insertNode(parent.left,node)}}elseif(parent.key<node.key){if(parent.right===null){parent.right=node}else{insertNode(parent.right,node)}}}}//中序遍历this.inOrderTraverse=function(cb){inOrderTraverse(root,cb)functioninOrderTraverse(node,cb){if(node){inOrderTraverse(node.left,cb)cb(node.key)inOrderTraverse(node.right,cb)}}}//先序遍历this.preOrderTraverse=function(cb){preOrderTraverse(root,cb)functionpreOrderTraverse(node,cb){if(node){cb(node.key)preOrderTraverse(node.left,cb)preOrderTraverse(node.right,cb)}}}//后序遍历this.postOrderTraverse=function(cb){postOrderTraverse(root,cb)functionpostOrderTraverse(node,cb){if(node){postOrderTraverse(node.left,cb)postOrderTraverse(node.right,cb)cb(node.key)}}}//最大值:思路最右边this.max=function(){letmaxResult={}functiongetMax(node){if(node&&node.right){maxResult=node.rightgetMax(node.right)}}getMax(root)returnmaxResult.key}//最小值:思路最左边this.min=function(){letminResult={}functiongetMin(node){if(node&&node.left){minResult=node.leftgetMin(node.left)}}getMin(root)returnminResult.key}//查找指定元素this.search=function(key){constsearchKey=function(node){if(!node){returnfalse}if(key>node.key){returnsearchKey(node.right)}elseif(key<node.key){returnsearchKey(node.left)}else{returntrue}}returnsearchKey(root)}//移除指定key值this.remove=function(key){constremoveKey=function(node,key){if(key<node.key){//①如果key值在传入节点的左边node.left=removeKey(node.left,key)returnnode}elseif(key>node.key){//②如果key值在传入节点的右边node.right=removeKey(node.right,key)returnnode}else{//③如果找到了key值if(node.left===null&&node.right===null){//删除的节点为根节点node=nullreturnnode}if(node.left===null){//删除的节点下有一个分支node=node.rightreturnnode}elseif(node.right===null){node=node.leftreturnnode}constminNode=findMinNode(node.right)//删除的节点下有两个分支node.key=minNode.keynode.right=removeKey(node.right,minNode.key)returnnode}}//查找最小的节点constfindMinNode=function(node){if(node.left){returnfindMinNode(node.left)}else{returnnode}}removeKey(root,key)}}vartree=newBinarySearchTree()tree.insert(11)tree.insert(7)tree.insert(15)tree.insert(5)tree.insert(3)tree.insert(9)tree.insert(8)tree.insert(10)tree.insert(13)tree.insert(12)tree.insert(14)tree.insert(20)tree.insert(18)tree.insert(25)tree.insert(6)```###三种遍历方式的不同*中序遍历:可用于`二叉搜索树的排序`![](http://with.muyunyun.cn/ceeb68f801304f9910073708dd35ae64.jpg-300)*先序遍历:可用于`打印结构化的文档`![](http://with.muyunyun.cn/65df3e9414f594107d95127f8ab5a9a1.jpg-300)*后序遍历:可用于查看文件夹目录![](http://with.muyunyun.cn/212607e3b24b52c0df959902ed8e4b1f.jpg-300)>三者都为DFS,本质在于节点的访问时机不同。三种遍历的实现方式大同小异,可在上面代码中观察到实现的差异。如下是Leetcode中对应三种不同遍历方式的题目:*[BinaryTreePreorderTraversal](https://github.com/MuYunyun/blog/blob/master/LeetCode/144.Binary_Tree_Preorder_Traversal/README.md)*[BinaryTreeInorderTraversal](https://github.com/MuYunyun/blog/blob/master/LeetCode/94.Binary_Tree_Inorder_Traversal/README.md)*[BinaryTreePostorderTraversal](https://github.com/MuYunyun/blog/blob/master/LeetCode/145.Binary_Tree_Postorder_Traversal/README.md)###remove的几种情况remove方法是二叉查找树中相对复杂的实现。思路仍然是递归。如果要删除的key在传入节点的左侧,则递归调用removeKey(node.left,key)；如果要删除的key在传入节点的右侧,则递归调用removeKey(node.right,key)；如果要删除的key与传入节点相等,有如下三种情况:①:删除的节点为根节点![](http://with.muyunyun.cn/65bd1b2b99db8a342423733d0480a7b6.jpg-300)②:删除的节点下有一个分支![](http://with.muyunyun.cn/78707683d0498daa0115d445df11f83e.jpg-300)③:删除的节点下有两个分支这里的思路是找到当前节点的右分支中最小的节点,然后将该节点代替当前节点,同时移除当前节点的右分支中最小的节点![](http://with.muyunyun.cn/4107c561ed1134093333e1b16c7350f4.jpg-300)###测试用例```jsvartree=newBinarySearchTree()tree.insert(11)tree.insert(7)tree.insert(15)tree.insert(5)tree.insert(3)tree.insert(9)tree.insert(8)tree.insert(10)tree.insert(13)tree.insert(12)tree.insert(14)tree.insert(20)tree.insert(18)tree.insert(25)tree.insert(6)varcb=(key)=>console.log(key)tree.inOrderTraverse(cb)//中序遍历:356789101112131415182025tree.preOrderTraverse(cb)//先序遍历:117536981015131214201825tree.postOrderTraverse(cb)//后序遍历:365810971214131825201511tree.max()//25tree.max()//3tree.search(6)//truetree.search(1)//false```"},{name:"dictionary.md",path:"/Algorithm/data_structure/dictionary.md",type:"file",mdconf:{abbrlink:"c1nhctpd"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2484,extension:".md",relative:"/Algorithm/data_structure/dictionary.md",isEmpty:!1,content:"\x3c!--abbrlink:c1nhctpd--\x3e###字典类似于集合,字典也是一种`无重复元素`,`无顺序`的数据结构。区别在于在集合中,我们以`[值,值]`的形式存储;在字典中,我们以`[键,值]`的形式存储;集合的知识点可以阅读[集合](https://github.com/MuYunyun/blog/blob/master/BasicSkill/algorithm/集合.md)ES6引入的Map就是字典的数据类型。####简易版Map实现我们来动手实现一个简易版的Map,它拥有的api如下:```jsfunctionMap(){this.items={}this.size=0}Map.prototype.has=function(key){for(letiinthis.items){if(this.items.hasOwnProperty(i)){returntrue}}returnfalse}Map.prototype.delete=function(key){if(this.has(key)){delete(this.items[key])this.size--returntrue}returnfalse}Map.prototype.set=function(key,value){this.items[key]=value//这里是不严谨的实现this.size++}Map.prototype.get=function(key){returnthis.items[key]}Map.prototype.clear=function(){this.items={}this.size=0}Map.prototype.values=function(){constarr=[]Object.keys(this.items).forEach(r=>{arr.push(this.items[r])})returnarr}```###创建一个Map对象```js//方式一constmap1=newMap()map.set('a',1)//方式二constmap2=newMap([['a',1]])```###Map和WeakMap的区别Map和WeakMap相差Weak这个单词,本质知识点是对对象的直接引用(WeakMap)。它这个点造成的差异整理如下:*Map的key范围更广,WeakMap的key只能为对象;*Map的key可以枚举,WeakMap的key不能枚举;*垃圾回收相关,见如下例子;```jsvarmap=newMap();varweakmap=newWeakMap();(function(){vara={x:12}varb={y:12}map.set(a,1)weakmap.set(b,2)})()```解析:在这个例子中,IIFE执行完后,垃圾回收机制会回收常量a,b。WeakMap可以类比成直接对b的引用,Map里可以类比成在其内部对a作了层拷贝。所以map依然保持着相应的key值的对象,而weakmap的key值的对象以被回收(这步认为是垃圾回收机制做的)。它们的差异如下图所示:```js//mapMap(1){{…}=>1}size:(...)__proto__:Map[[Entries]]:Array(1)0:{Object=>1}key:{x:12}value:1//weakmapWeakMap{}__proto__:WeakMap[[Entries]]:Array(0)length:0```"},{name:"graph.md",path:"/Algorithm/data_structure/graph.md",type:"file",mdconf:{abbrlink:"c3ns7c83"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6579,extension:".md",relative:"/Algorithm/data_structure/graph.md",isEmpty:!1,content:"\x3c!--abbrlink:c3ns7c83--\x3e###图图是一种`非线性数据结构`。它的表示有以下几种:1.邻接矩阵2.邻接表3.关联矩阵*`邻接矩阵`邻接矩阵是表示图的常用方法,`用二维数组来表示`,数组的每个下标对应每个点。当两个点有连线则二维数组的值为1,否则二维数组的值为0。但是这种表示方法会照成存储空间的浪费(因存在大量0)。![](http://with.muyunyun.cn/79f5520b6028aa16491649c846430b04.jpg-300)*`邻接表`如下图:`左侧为存储的顶点,右侧为与之想对应的点`,后文会采用这种方式实现图。![](http://with.muyunyun.cn/0a1d5ab4a96e83dca8c7aafc948e2f4b.jpg-300)*`关联矩阵`行表示点,列表示边。![](http://with.muyunyun.cn/48a4bf7ee32827ad4d9016f24a8ffca5.jpg-300)```jsfunctionGraph(){this.topPointArr=[]//存储顶点,笔者认为图的顶点是不会重复的this.edgeMap=newMap()//存储边}//往图里添加顶点Graph.prototype.addTopPoint=function(point){this.topPointArr.push(point)this.edgeMap.set(point,[])}//往指定的点添加相邻的点Graph.prototype.addEdge=function(point1,point2){this.edgeMap.get(point1).push(point2)this.edgeMap.get(point2).push(point1)//这里默认没有方向,所以两个点互相指向}//将图给打印出来Graph.prototype.log=function(){letstr=''letneighbourfor(letiofthis.topPointArr){str+=i+'->'neighbour=this.edgeMap.get(i).join('')str+=neighbour+'\\n'}returnstr}```按之前邻接表的图示,跑如下测试用例:```jsvargraph=newGraph()vartopArr=['A','B','C','D','E','F','G','H','I']for(letioftopArr){graph.addTopPoint(i)}graph.addEdge('A','B')graph.addEdge('A','C')graph.addEdge('A','D')graph.addEdge('B','E')graph.addEdge('B','F')graph.addEdge('C','D')graph.addEdge('C','G')graph.addEdge('D','G')graph.addEdge('D','H')graph.addEdge('E','I')```使用自定义打印函数graph.log(),打印结果如下,结果符合预期```jsA->BCDB->AEFC->ADGD->ACGHE->BIF->BG->CDH->DI->E```###广度优先遍历(BFS)顾名思义,广度优先即横向优先,英文名为`breadthfirstsearch`(BFS),它示意图如下:![](http://with.muyunyun.cn/4547193af1645f33359e875559092c6b.jpg-200)思想:用到了`队列`的思想。思路如下:(标白:未发现;标灰:已找寻)*创建队列u,将标灰的顶点插入队列;*若队列u不为空;*从队列取出值v;*将v的相邻节点标灰并插入队列u;代码中用到队列相关的方法可参考[队列](https://github.com/MuYunyun/blog/blob/master/BasicSkill/algorithm/队列.md)<details><summary>Queue实现</summary>```jsfunctionQueue(){this.items=[]}Queue.prototype.push=function(item){this.items.push(item)}Queue.prototype.shift=function(){returnthis.items.shift()}Queue.prototype.isEmpty=function(){returnthis.items.length===0}Queue.prototype.size=function(){returnthis.items.length}Queue.prototype.clear=function(){this.items=[]}```</details>```jsGraph.prototype.bfs=function(v,callback){constobj={}for(letiofthis.topPointArr){//初始化颜色obj[i]='white'}constqueue=newQueue()obj[v]='gray'queue.push(v)letshiftQueue,neighbourwhile(!queue.isEmpty()){shiftQueue=queue.shift()neighbour=this.edgeMap.get(shiftQueue)for(letiofneighbour){if(obj[i]==='white'){obj[i]='gray'queue.push(i)}}if(callback){callback(shiftQueue)}}}```检验完成的bfs函数,进行如下调用,```jsgraph.bfs('A',(shiftQueue)=>{console.log(shiftQueue)})```打印结果为`ABCDEFGHI`,符合预期。####广度优先遍历求最短路径在上述bfs函数实现的基础上,加入两个变量分别存储距离以及最短路径上先前的点```jsGraph.prototype.BFS=function(v){constobj={}constd={}//新加入的变量存储距离constprev={}//新加入的变量存储最短路径上先前的点for(letiofthis.topPointArr){//初始化颜色obj[i]='white'd[i]=0prev[i]=null}constqueue=newQueue()obj[v]='gray'queue.push(v)letshiftQueue,neighbourwhile(!queue.isEmpty()){shiftQueue=queue.shift()neighbour=this.edgeMap.get(shiftQueue)for(letiofneighbour){if(obj[i]==='white'){obj[i]='gray'queue.push(i)d[i]=d[shiftQueue]+1//这个地方卡主了~~~,思路:第二行的点距离第一行的点相差为1,第三行的点距离第二行的点相差为1,以此类推。prev[i]=shiftQueue}}}return{distance:d,prev:prev}}```调用`graph.BFS('A')`,得如下结果:```js{distance:{A:0,B:1,C:1,D:1,E:2,F:2,G:2,H:2,I:3}prev:{A:null,B:\"A\",C:\"A\",D:\"A\",E:\"B\",F:\"B\",G:\"C\",H:\"D\",I:\"E\"}}```接下来我们处理上述返回的prev将最短路径打印出来:```jsGraph.prototype.logMinPath=function(v){const{distance,prev}=this.BFS(v)letpath=''constarr=[]Object.keys(distance).map(r=>{path=rwhile(prev[r]){//终止条件为prev中值为null时path=prev[r]+'-'+pathr=prev[r]}arr.push(path)})returnarr.join('\\n')}```调用`graph.logMinPath('A')`,打印结果如下:```AA-BA-CA-DA-B-EA-B-FA-C-GA-D-HA-B-E-I```###深度优先遍历(DFS)深度优先遍历用到了栈的思想。英文名为`depthfirstsearch`(DFS),其示意图如下:![](http://with.muyunyun.cn/b4fa9641c9f086cf2702f868b283dbee.jpg-200)代码实现如下:```jsGraph.prototype.dfs=function(v,callback){constobj={}for(letiofthis.topPointArr){//初始化颜色obj[i]='white'}letneighbourconstthat=thisconstfind=function(v,color,cb){color[v]='gred'if(cb){cb(v)}neighbour=that.edgeMap.get(v)for(letiofneighbour){if(color[i]==='white'){find(i,color,cb)}}}find(v,obj,callback)}```进行如下函数调用```jsgraph.dfs('A',(shiftQueue)=>{console.log(shiftQueue)//打印结果:ABEIFCDGH})```"},{name:"hash_table.md",path:"/Algorithm/data_structure/hash_table.md",type:"file",mdconf:{abbrlink:"nzpqsh6o"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6430,extension:".md",relative:"/Algorithm/data_structure/hash_table.md",isEmpty:!1,content:"\x3c!--abbrlink:nzpqsh6o--\x3e###哈希表哈希表算是一种特殊的字典。它在实际的键值和存入的哈希值之间存在一层映射。如下例子:![](http://with.muyunyun.cn/963b04e081590a419bfc97c30d915a01.jpg-300)上图中通过哈希函数将键值转换成哈希值,然后再将哈希值指向具体的值。接着我们来构造HashTable类,代码如下:```jsfunctionHashTable(){this.items={}}//哈希算法functionkeyToHash(key){lethash=0for(leti=0;i<key.length;i++){hash+=key.charCodeAt(i)}hash=hash%37//为了避免hash的值过大returnhash}HashTable.prototype.put=function(key,value){consthash=keyToHash(key)this.items[hash]=value}HashTable.prototype.get=function(key){returnthis.items[keyToHash(key)]}HashTable.prototype.remove=function(key){delete(this.items[keyToHash(key)])}```跑如下测试用例:```jsvartest=newHashTable()test.put('ab','ab@gmail.com')test.put('cd','cd@gmail.com')test.put('ef','ef@gmail.com')test.get('cd')//\"cd@gmail.com\"test.remove('cd')test.get('cd')//undefined```但是这样子实现的哈希表有一个问题,比如进行如下调用就会产生冲突:```jstest.put('ab','ab@gmail.com')test.put('ba','ba@gmail.com')//ab和ba的哈希值相同,后者会把前者覆盖```接着我们来尝试解决该问题####链表法顾名思义,这个方法就是在每个哈希值上引人链表。如下图所示:![](http://with.muyunyun.cn/bd07ad706f4d494a9df8fb63621a6036.jpg-200)对之前put、get、remove方法做如下修改,其中使用到的链表的代码参考之前的[链表](https://github.com/MuYunyun/blog/blob/master/BasicSkill/algorithm/链表.md#链表的实现)```jsfunctionHashTable(){this.items={}}functionkeyToHash(key){lethash=0for(leti=0;i<key.length;i++){hash+=key.charCodeAt(i)}hash=hash%37returnhash}//存入链表的值functionNode(key,value){this.key=keythis.value=value}//添加接口HashTable.prototype.put=function(key,value){consthash=keyToHash(key)if(!this.items[hash]){this.items[hash]=newLinkedList()//这里将之前实现的链表拿来使用}letlinkList=this.items[hash].getHead()letifAppend=truewhile(linkList){//以下为append逻辑if(linkList.element.key===key){//key值重复逻辑linkList.element=newNode(key,value)ifAppend=falsebreak}linkList=linkList.next}if(ifAppend){this.items[hash].append(newNode(key,value))}}HashTable.prototype.has=function(hash){if(this.items.hasOwnProperty(hash)){returntrue}returnfalse}//获取接口HashTable.prototype.get=function(key){consthash=keyToHash(key)if(this.has(hash)){letcurrent=this.items[hash].getHead()while(current){if(current.element.key===key){returncurrent.element.value}current=current.next}}returnundefined}//移除接口HashTable.prototype.remove=function(key){consthash=keyToHash(key)if(this.has(hash)){letcurrent=this.items[hash].getHead()while(current){if(current.element.key===key){this.items[hash].remove(current.element)returntrue}current=current.next}returnfalse}returnfalse}```接着来测试下完成的哈希表,测试用例如下:```jsvartest=newHashTable()test.put('ab','ab@gmail.com')test.put('ba','ba~@gmail.com')test.put('ba','ba@gmail.com')//验证重复字段test.put('cd','cd@gmail.com')test.get('ab')//ab@gmail.comtest.get('ba')//ba@gmail.comtest.get('cd')//cd@gmail.comtest.remove('ba')test.get('ba')//undefined```####线性探查法思想:如果当前所要存储的hash值已存在于存储空间,则判断存储空间里是否已存储hash+1,若无则存储hash+1,若有则判断存储空间里是否已存储hash+2,依次类推。参考图如下:![](http://with.muyunyun.cn/9212ee6899520f888f774ca7a2dc0519.jpg-200)接着进入代码实现环节,同样是修改put、get、remove方法:```jsfunctionHashTable(){this.items={}}//哈希算法functionkeyToHash(key){lethash=0for(leti=0;i<key.length;i++){hash+=key.charCodeAt(i)}hash=hash%37//为了避免hash的值过大returnhash}//后面会用之锁定functionNode(key,value){this.key=keythis.value=value}HashTable.prototype.put=function(key,value){lethash=keyToHash(key)while(this.items[hash]){//当this.items[index]不存在时终止if(this.items[hash].key===key){//对已存在的key值进行覆盖break}hash++}this.items[hash]=newNode(key,value)}HashTable.prototype.has=function(hash){if(this.items.hasOwnProperty(hash)){returntrue}returnfalse}HashTable.prototype.get=function(key){lethash=keyToHash(key)if(this.items[hash]){while(this.items[hash].key!==key){//找到存储的indexhash++}returnthis.items[hash].value}returnundefined}HashTable.prototype.remove=function(key){lethash=keyToHash(key)if(this.has(hash)){while(this.items[hash].key!==key){//找到存储的indexhash++}this.items[hash]=undefinedreturntrue}returnfalse}```接着跑如下测试用例:```jsvartest=newHashTable()test.put('ab','ab@gmail.com')test.put('ba','ba@gmail.com')test.put('ab','ab@gmail.com')test.get('ab')//'ab@gmail.com'test.remove('ab')test.get('ab')//undefined```####更好的哈希函数另外在本文实现的哈希函数中,性能不是特别好（因为容易产生相同的哈希值）,给出一段更好的散列函数的实现,数学知识的原理暂时不深究了```js//哈希算法functionkeyToHash(key){lethash=5381//取一个素数for(leti=0;i<key.length;i++){hash=hash*33+key.charCodeAt(i)}hash=hash%1013//除以另外一个素数returnhash}```####哈希表的应用笔者认为业务中,哈希表的数据结构能应用需要加密处理的数据存储中。"},{name:"heap.md",path:"/Algorithm/data_structure/heap.md",type:"file",mdconf:{abbrlink:"6vgvbh3e"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4736,extension:".md",relative:"/Algorithm/data_structure/heap.md",isEmpty:!1,content:"\x3c!--abbrlink:6vgvbh3e--\x3e###Heap堆是通过一维数组来实现的树结构。###堆节点的访问在数组起始位置为0的情形中:*父节点i的左子节点在位置`(2i+1)`;*父节点i的右子节点在位置`(2i+2)`;*子节点i的父节点在位置`Math.floor((i-1)/2)`;###MaxHeap&&MinHeap*`MaxHeap`:每个节点都`大于等于左右子节点`的值。用于`升序排序`。见[heap_sort](https://github.com/MuYunyun/blog/blob/master/Algorithm/algorithm/sort/heap_sort.md)```js8↙↘37↙↘↙↘2154```*`MinHeap`:每个节点都`小于等于左右子节点`的值。用于`降序排序`。```js1↙↘24↙↘↙↘5387```###PriorityQueueBasedHeapIt'susuallytousethetwowayscalledenqueueanddequeue:*`enqueue(value)`:insertvalueintotheheap;*Becausethevalueisinsertedintothelastheap,we'lluse`siftup`toadjustposition;```js10↙↘37|↓`enqueue(9)`10↙↘37↙siftup9|↓10↙↘97↙siftup3```*`dequeue()`:topickthesmallestorthebiggestelementfromtheheap;*It'llswaptheendestelementwiththefirstelement,andthenkeeptheheaplengthreduce1.Ifso,onlydoonce`siftdown`operationinthefirstelementtoheapify.```js8↙↘37↙↘↙↘2154|pick8,move4totop↓4↙↘(swap)37↙↘↙215|siftdown4torebuildmaxheap.↓7↙↘34↙↘↙215|redothelaststeps↓7↙↘35↙↘↙214``````jsvarlen/***tobuildmaxheapifyfrombottomtotop;*thelastsubscript'sparentsubscriptisMath.floor((len-1)/2)*/varbuildMaxHeapify=function(arr){len=arr.lengthfor(leti=Math.floor((len-1)/2);i>=0;i--){siftDown(arr,i)}returnarr}/***Insertavalueintoheap.It'sanoperationcalledsiftup.*/varenqueue=function(arr,value){arr.splice(len,0,value)len++siftUp()}/***tokeepmaxheap,it'sanoperationcalledsiftup.*/varsiftUp=function(){letenqueueValSubscript=len-1letparent=Math.floor(enqueueValSubscript/2)while(parent>0&&arr[parent]<arr[enqueueValSubscript]){swap(arr,parent,enqueueValSubscript)enqueueValSubscript=parentparent=Math.floor(enqueueValSubscript/2)}}/**topickthesmallestorthebiggestelementfromtheheapandreturnit;*Thent'llswaptheendestelementwiththefirstelement,andthenkeepthe*heaplengthreduceone.Ifso,onlydooncesiftdownoperationinthefirstelementtokeepheapify.*/vardequeue=function(){constmaxValue=arr[0]swap(arr,len-1,0)len--siftDown(arr,0)returnmaxValue}/***tokeepmaxheap,it'sanoperationcalledsiftdown.*/varsiftDown=function(arr,i){constleft=2*i+1constright=2*i+2letmaxSubscript=iif(left<len&&arr[left]>arr[maxSubscript]){maxSubscript=left}if(right<len&&arr[right]>arr[maxSubscript]){maxSubscript=right}if(maxSubscript!==i){swap(arr,maxSubscript,i)siftDown(arr,maxSubscript)}}//swaptwovalueinarrvarswap=function(arr,pointOne,pointTwo){consttmp=arr[pointOne]arr[pointOne]=arr[pointTwo]arr[pointTwo]=tmp}```Testcaseone:```jsinput:vararr=[5,2,7,3,1,8,4]buildMaxHeapify(arr)//[8,3,7,2,1,5,4]88↙↘enqueue(arr,6)↙↘37---------------\x3e67↙↘↙↘↙↘↙↘21543154↙27return8↙↘dequeue()65----------------\x3e↙↘↙↘3124```"},{name:"list.md",path:"/Algorithm/data_structure/list.md",type:"file",mdconf:{abbrlink:"z4nj8u3b"},birthtime:"2021-12-08",mtime:"2021-12-08",size:6543,extension:".md",relative:"/Algorithm/data_structure/list.md",isEmpty:!1,content:"\x3c!--abbrlink:z4nj8u3b--\x3e链表对应生活中的例子:火车(一节带动一节,必要时可以拆卸或添加一节车厢)链表通过指针连接,如果需要插入或删除只需改变相应指针指向的目标就行。这也是链表相比较于数组最大的优点,不用移动元素就能很轻松地添加删除元素。如果有大量的数据要插入或删除可以考虑使用链表这种数据结构。###链表的实现![](http://with.muyunyun.cn/7a3ef4c64503a167076422b377de3f44.jpg-300)```jsvarLinkedList=function(){constNode=function(element){this.element=elementthis.next=null}lethead=nullletcurrentletlength=0//在链表末尾加入元素this.append=function(element){constnode=newNode(element)if(head===null){//插入第一个链表head=node}else{current=headwhile(current.next){//找到最后一个节点current=current.next}current.next=node}length++}//移除指定位置元素this.removeAt=function(position){if(position>-1&&position<length){letpreviousletindex=0if(position===0){//如果是第一个链表的话,特殊对待head=head.next}else{current=headwhile(index<position){//循环找到当前要删除元素的位置previous=currentcurrent=current.nextindex++}previous.next=current.next}length--}}//在指定位置加入元素this.insert=function(position,element){constnode=newNode(element)letindex=0letcurrent,previousif(position>-1&&position<length+1){if(position===0){//在链表最前插入元素current=headhead=nodehead.next=current}else{current=headwhile(index<position){//同removeAt逻辑,找到目标位置previous=currentcurrent=current.nextindex++}previous.next=node//在目标位置插入相应元素node.next=current}length++}}//链表中是否含有某个元素,如果有的话返回相应位置,无的话返回-1this.indexOf=function(element){letindex=0current=headwhile(index<length){if(current.element===element){returnindex}current=current.nextindex++}return-1}//移除某元素this.remove=function(element){constposition=this.indexOf(element)this.removeAt(position)}//获取大小this.size=function(){returnlength}//获取最开头的链表this.getHead=function(){returnhead}//是否为空this.isEmpty=function(){returnlength===0}//打印链表元素this.log=function(){current=headletstr=current.elementwhile(current.next){current=current.nextstr=str+''+current.element}returnstr}}//测试用例varlinkedList=newLinkedList()linkedList.append(5)linkedList.append(10)linkedList.append(15)linkedList.append(20)linkedList.log()//'5101520'linkedList.removeAt(1)linkedList.log()//'51520'linkedList.insert(1,10)linkedList.log()```###双向链表单向链表如果错过了某次查询就得重头开始重新查找,双向链表进行了升级,除了可以向后查找,同时也支持向前查找![](http://with.muyunyun.cn/1d97c4d5d071560966357df5ab2bfd16.jpg-300)```jsvarDbLinkedList=function(){constNode=function(element){this.element=elementthis.next=nullthis.prev=null}lethead=nulllettail=nullletcurrent,previousletlength=0//指定任意位置插入元素this.insert=function(position,element){letindex=0constnode=newNode(element)if(position>-1&&position<length+1){if(position===0){//①在开头插入元素if(head===null){//链表内元素为空head=nodetail=node}else{//链表内存在元素current=headhead=nodehead.next=currentcurrent.prev=head}}elseif(position===length){//②在末尾插入元素current=tailtail=nodecurrent.next=tailtail.prev=current}else{//③在链表中插入元素current=headwhile(index<position){//找到需插入节点的位置previous=currentcurrent=current.nextindex++}previous.next=nodenode.next=currentcurrent.prev=nodenode.prev=previous}length++}}//删除指定位置的元素this.removeAt=function(position){letindex=0if(position>-1&&position<length){if(position===0){//删除链表最开头的元素if(length===1){head=nulltail=null}else{current=headhead=current.nexthead.prev=current.prev}}elseif(position===length-1){//删除链表最末尾的元素current=tailtail=current.prevtail.next=current.next}else{//删除链表中的元素current=headwhile(index<position){previous=currentcurrent=current.nextindex++}previous.next=current.nextcurrent.next.prev=previous}length--}}this.log=function(){current=headletstr=current.elementwhile(current.next){current=current.nextstr=str+''+current.element}returnstr}}vardbLinkedList=newDbLinkedList()dbLinkedList.insert(0,5)dbLinkedList.insert(1,10)dbLinkedList.insert(2,15)dbLinkedList.insert(3,20)dbLinkedList.insert(4,25)dbLinkedList.log()//\"510152025\"dbLinkedList.removeAt(4)dbLinkedList.removeAt(0)dbLinkedList.removeAt(1)dbLinkedList.log()//\"1020\"```此外还有循环链表,和上述代码类似,在此省略。"},{name:"queue.md",path:"/Algorithm/data_structure/queue.md",type:"file",mdconf:{abbrlink:"87unmb8q"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2739,extension:".md",relative:"/Algorithm/data_structure/queue.md",isEmpty:!1,content:"\x3c!--abbrlink:87unmb8q--\x3e###队列队列的核心是FIFO,下面实现一个简单的队列:```jsfunctionQueue(){this.items=[]}Queue.prototype.push=function(item){this.items.push(item)}Queue.prototype.shift=function(){returnthis.items.shift()}Queue.prototype.isEmpty=function(){returnthis.items.length===0}Queue.prototype.size=function(){returnthis.items.length}Queue.prototype.clear=function(){this.items=[]}```###队列知识延伸使用队列的一个典型场景是`树的广度遍历(BFS)`,以下从leetcode中摘录了一些题目:*[BinaryTreeLevelOrderTraversal](https://github.com/MuYunyun/blog/blob/master/LeetCode/102.Binary_Tree_Level_Order_Traversal/README.md)###两种特殊队列####最小优先队列最小优先队列在生活中的例子:比如普通用户上医院需要排队挂号,但是具有VIP的用户能'插队'办理业务。用代码实现如下:```js//继承Queue类constPriorityQueue=function(){Queue.apply(this)}PriorityQueue.prototype=Object.create(Queue.prototype)PriorityQueue.prototype.constructor=PriorityQueue//修改push方法PriorityQueue.prototype.push=function(item,level){if(this.isEmpty()){this.items.push({item,level})}else{letadd=truefor(leti=0;i<this.size();i++){if(level<this.items[i].level){add=falsethis.items.splice(i,0,{item,level})return}}add&&this.items.push({item,level})}}PriorityQueue.prototype.print=function(){for(letobjofthis.items){console.log(obj.item)}}``````js//调用constqueue=newPriorityQueue()queue.push('张三',2)queue.push('李四',1)queue.push('赵五',1)queue.print()//李四赵五张三```可以看到具有相同权限的李四和赵五依旧遵守队列的先进先出原则,同时排在了张三的前面。####循环队列循环队列以击鼓传花为例,代码实现如下:```jsconstdrumGame=function(names,number){constqueue=newQueue()for(leti=0;i<names.length;i++){queue.push(names[i])}while(queue.size()>1){for(leti=0;i<number;i++){queue.push(queue.shift())//这句是循环队列的核心}constloser=queue.shift()console.log(loser+'出局')}returnqueue.shift()//留下的最后一个就是胜利者}constnames=['John','Jack','Camila','Ingrid','Carl']constwinner=drumGame(names,7)//假设每轮传花7次console.log('胜利者是:'+winner)//Camila出局//Jack出局//Carl出局//Ingrid出局//胜利者是:John```"},{name:"set.md",path:"/Algorithm/data_structure/set.md",type:"file",mdconf:{abbrlink:"yqpmr5zs"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1995,extension:".md",relative:"/Algorithm/data_structure/set.md",isEmpty:!1,content:"\x3c!--abbrlink:yqpmr5zs--\x3e###集合集合是一种`无重复元素,无顺序`的数据结构。ES6引入的Set就是集合。###简易版Set实现我们来动手实现一个简易版的Set,它拥有的api如下:```jsadd(value)delete(value)has(value)clear()size``````js//代码如下,仅仅用来理解,实现得不严谨functionSet(){this.items={}this.size=0}Set.prototype.add=function(value){if(!this.items[value]){this.items[value]=value//这样子不能实现存储数组、对象this.size=Object.keys(this.items).length}}Set.prototype.has=function(value){if(this.items.hasOwnProperty(value)){returntrue}else{returnfalse}}Set.prototype.delete=function(value){for(letiinthis.items){if(this.items.hasOwnProperty(i)){if(i===value.toString()){delete(this.items[i])this.size=Object.keys(this.items).lengthreturntrue}}}}Set.prototype.clear=function(){this.items={}this.size=0}```###并集、交集、差集、子集业务中可能用数组多些,如果碰到set类型的可以用Array.from将之转为数组类型,再使用如下方法。```js//并集functionunion(arr1,arr2){constarr=arr1.concat(arr2)constresult=Array.from(newSet(arr))returnresult}//交集functionintersection(arr1,arr2){constresult=arr1.filter(r=>arr2.includes(r))//也可以转化为set,用hasreturnresult}//差集functiondifference(arr1,arr2){constresult=arr1.filter(r=>!arr2.includes(r))returnresult}//子集(判断arr1是否为arr2的子集)functionisSubset(arr1,arr2){letbool=truearr1.forEach(r=>{if(!arr2.includes(r)){bool=falsereturn}})returnbool}```###创建Set对象```js//方法一constset1=newSet()set.add(1)//方法二constset2=newSet([1])```"},{name:"stack.md",path:"/Algorithm/data_structure/stack.md",type:"file",mdconf:{abbrlink:"c9b1b7wg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1933,extension:".md",relative:"/Algorithm/data_structure/stack.md",isEmpty:!1,content:"\x3c!--abbrlink:c9b1b7wg--\x3e###栈栈的核心是FILO,首先编写一个栈类:```jsfunctionStack(){this.items=[]}Stack.prototype.push=function(item){this.items.push(item)}Stack.prototype.pop=function(){returnthis.items.pop()}Stack.prototype.size=function(){returnthis.items.length}Stack.prototype.isEmpty=function(){returnthis.items.length===0}Stack.prototype.clear=function(){this.items=[]}```题目:实现一个十进制转化为二进制的函数:```6除以2=3...03除以2=1...11除以2=0...1110测试用例:6=>110``````jsfunctionconversion(num){conststack=newStack()letremainderwhile(num>0){remainder=num%2stack.push(remainder)num=Math.floor(num/2)}letstr=''while(!stack.isEmpty()){str=str+stack.pop()}returnstr}```题目:平衡圆括号```测试用例:{{([][])}()}=>true[{()]=>false``````jsfunctionisBalance(symbol){conststack=newStack()constleft='{[('constright='}])'letpopValuelettag=trueconstmatch=function(popValue,current){if(left.indexOf(popValue)!==right.indexOf(current)){tag=false}}for(leti=0;i<symbol.length;i++){if(left.includes(symbol[i])){stack.push(symbol[i])}elseif(right.includes(symbol[i])){popValue=stack.pop()match(popValue,symbol[i])}}returntag}```###扩展:栈和递归的紧密关系递归的写法本质上都是运用栈的思想。这里列几道leetcode上的题目作为参考*[BinaryTreePreorderTraversal]([Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/144.Binary_Tree_Preorder_Traversal/README.md))*[FlattenNestedListIterator](https://github.com/MuYunyun/blog/blob/master/LeetCode/341.Flatten_Nested_List_Iterator/README.md)"}],type:"directory",size:41931}],type:"directory",size:66597},{name:"LeetCode",path:"/LeetCode",children:[{name:"1.Two_Sum.md",path:"/LeetCode/1.Two_Sum.md",type:"file",mdconf:{abbrlink:"g1bhkb7r"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1950,extension:".md",relative:"/LeetCode/1.Two_Sum.md",isEmpty:!1,content:"\x3c!--abbrlink:g1bhkb7r--\x3e###Title给定一个整数数组nums和一个目标值target，请你在该数组中找出和为目标值的那两个整数，并返回他们的数组下标。你可以假设每种输入只会`对应一个答案`。但是，你不能重复利用这个数组中同样的元素。示例:```js给定nums=[2,7,11,15],target=9```因为nums[0]+nums[1]=2+7=9所以返回[0,1]###Analyze题解1:暴力法```jsvartwoSum=function(nums,target){varlength=nums.lengthfor(varx=0;x<length;x++){for(vary=x+1;y<length;y++){if(nums[x]+nums[y]===target){vararr=[]arr.push(x)arr.push(y)returnarr}}}}```*时间复杂度:O(n^2)*空间复杂度:O(1)题解2-1:哈希表思路:>需要留意的是,如果数组中有重复的值比如[5,5],target=10这种情况的处理*遍历一次数组,查询当前`哈希表`中是否有和当前索引值`nums[i]`对应的匹配值`target-nums[i]`;*若有,则返回它们两个值的索引;*若没有,则将当前索引值和下标存入哈希表中;```jsvartwoSum=function(nums,target){letnumsObj={}for(leti=0;i<nums.length;i++){letcurrent=nums[i]letmatch=target-currentif(matchinnumsObj){return[i,numsObj[match]]}numsObj[current]=i}}```*时间复杂度:O(n)*空间复杂度:O(n)题解2-2:使用Map,思路同哈希表```jsvartwoSum=function(nums,target){varmap=newMap()for(leti=0;i<nums.length;i++){consttargetValue=target-nums[i]constgetTargetValue=map.get(targetValue)if(typeof(getTargetValue)==='number'){return[i,getTargetValue]}map.set(nums[i],i)}}```*时间复杂度:O(n)*空间复杂度:O(n)###SisterTitle15、16、18"},{name:"2.Add_Two_Numbers.md",path:"/LeetCode/2.Add_Two_Numbers.md",type:"file",mdconf:{abbrlink:"tf43uh2s"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1412,extension:".md",relative:"/LeetCode/2.Add_Two_Numbers.md",isEmpty:!1,content:"\x3c!--abbrlink:tf43uh2s--\x3e###TitleYouaregiventwonon-emptylinkedlistsrepresentingtwonon-negativeintegers.Thedigitsarestoredinreverseorderandeachoftheirnodescontainasingledigit.Addthetwonumbersandreturnitasalinkedlist.Youmayassumethetwonumbersdonotcontainanyleadingzero,exceptthenumber0itself.###Example```Input:(2->4->3)+(5->6->4)Output:7->0->8Explanation:342+465=807.```###Analyze核心:根据sum的值来决定是否要处理进位```js//Keyword:singlelinkedlist/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}l1*@param{ListNode}l2*@return{ListNode}*/varaddTwoNumbers=function(l1,l2){letflag=0lethead=null,temp=nullwhile(l1||l2){letsum=flagif(l1){sum+=l1.vall1=l1.next}if(l2){sum+=l2.vall2=l2.next}constlist=newListNode(sum%10)if(head===null){head=listtemp=list}else{temp.next=listtemp=list}//处理进位flag=0if(sum>=10){flag=1}}if(flag===1){constresult=newListNode(1)temp.next=resulttemp=result}returnhead}```###SisterTitle445"},{name:"3.Longest_Substring_Without_Repeating_Characters.md",path:"/LeetCode/3.Longest_Substring_Without_Repeating_Characters.md",type:"file",mdconf:{abbrlink:"cl9byepk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2068,extension:".md",relative:"/LeetCode/3.Longest_Substring_Without_Repeating_Characters.md",isEmpty:!1,content:'\x3c!--abbrlink:cl9byepk--\x3e###title给定一个字符串,找出不含有重复字符的最长子串的长度。示例:```js给定"abcabcbb",没有重复字符的最长子串是"abc",那么长度就是3。给定"bbbbb",最长的子串就是"b",长度是1。给定"pwwkew",最长子串是"wke",长度是3。请注意答案必须是一个子串,"pwke"是子序列而不是子串。```###题解方法名:滑动窗口是字符串/数组中常用概念解法一:`判断字符串s[i,j)中是否有s.charAt(j+1),如果有,给左区间加上相应的值`,执行时间大致为98ms左右。具体步骤如下:1.取滑动列表[left,right];2.若列表[left,right]中的取值之和小于s,则列表的有边界right往右扩张。3.若列表[left,right]中的取值之和大于s,则列表的左边界left往右扩张。```js/***@param{string}s*@return{number}*/varlengthOfLongestSubstring=function(s){if(s.length<1){return0}leti=0,j=1,longest=1while(j<s.length){if(s.slice(i,j).indexOf(s.charAt(j))>-1){i+=s.slice(i,j).indexOf(s.charAt(j))+1}else{longest=Math.max(j-i+1,longest)}j++}returnlongest}```思考:针对`判断字符串s[i,j)中是否有s.charAt(j+1)`这一句,是否能使用O(n)时间复杂度的算法代替indexOf呢?使用cacheObj来缓存值,测试执行时间大致为170ms左右。```js/***@param{string}s*@return{number}*/varlengthOfLongestSubstring=function(s){letleft=0,right=0//[left,right]区域letresult=0//假定结果的初始值为0constcacheObj={}while(left<s.length){if(right<s.length&&!cacheObj[s[right]]){cacheObj[s[right]]=1result=Math.max(result,right-left+1)right++}else{cacheObj[s[left]]=nullleft++}}if(result===0){return0}returnresult}```###SisterTitle76(todo)、209、438'},{name:"4.Median_of_Two_Sorted_Arrays.md",path:"/LeetCode/4.Median_of_Two_Sorted_Arrays.md",type:"file",mdconf:{abbrlink:"dyio2u3d"},birthtime:"2021-12-08",mtime:"2021-12-08",size:633,extension:".md",relative:"/LeetCode/4.Median_of_Two_Sorted_Arrays.md",isEmpty:!1,content:"\x3c!--abbrlink:dyio2u3d--\x3e###title给定两个大小为m和n的有序数组nums1和nums2。请找出这两个有序数组的中位数。要求算法的时间复杂度为O(log(m+n))。你可以假设nums1和nums2均不为空。###Analyze```js/***@param{number[]}nums1*@param{number[]}nums2*@return{number}*/varfindMedianSortedArrays=function(nums1,nums2){letarr=nums1.concat(nums2).sort((r1,r2)=>r1-r2)constlength=arr.lengthif(length%2===0){return(arr[length/2-1]+arr[length/2])/2}else{returnarr[(length+1)/2-1]}}```"},{name:"5.Longest_Palindromic_Substring.md",path:"/LeetCode/5.Longest_Palindromic_Substring.md",type:"file",mdconf:{abbrlink:"7ar1q99b"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1090,extension:".md",relative:"/LeetCode/5.Longest_Palindromic_Substring.md",isEmpty:!1,content:"\x3c!--abbrlink:7ar1q99b--\x3e###title给定一个字符串s,找到s中最长的回文子串。你可以假设s的最大长度为1000。示例1:输入:\"babad\"输出:\"bab\"注意:\"aba\"也是一个有效答案。示例2:输入:\"cbbd\"输出:\"bb\"###analyze目前的解法判断字符串s和它的倒序s'是否拥有公有字符串,且它们的公有字符串应该符合倒序。目前用暴力法实现~~题目可以转换为求s和它的倒序s'的最长公有字符串。以后再看。```js/***@param{string}s*@return{string}*///暴力法有几个用例超时varlongestPalindrome=function(s){constreverseS=s.split('').reverse().join('')letresult='',len=0for(leti=0;i<s.length;i++){for(letj=i;j<s.length;j++){constsliceS=s.slice(i,j+1)if(sliceS.length>len){if(reverseS.indexOf(sliceS)>=0&&sliceS===sliceS.split('').reverse().join('')){len=sliceS.lengthresult=sliceS}}}}returnresult};```"},{name:"6.ZigZag_Conversion.md",path:"/LeetCode/6.ZigZag_Conversion.md",type:"file",mdconf:{abbrlink:"oi93aqwf"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1490,extension:".md",relative:"/LeetCode/6.ZigZag_Conversion.md",isEmpty:!1,content:'\x3c!--abbrlink:oi93aqwf--\x3e###title将字符串"PAYPALISHIRING"以Z字形排列成给定的行数:```PAHNAPLSIIGYIR```之后从左往右,逐行读取字符:"PAHNAPLSIIGYIR"实现一个将字符串进行指定行数变换的函数:stringconvert(strings,intnumRows);示例1:```输入:s="PAYPALISHIRING",numRows=3输出:"PAHNAPLSIIGYIR"```示例2:```输入:s="PAYPALISHIRING",numRows=4输出:"PINALSIGYAHRPI"解释:PINALSIGYAHRPI```###analyze很受伤,暴力解题后超出内存限制,日后再看。```js/***@param{string}s*@param{number}numRows*@return{string}*/varconvert=function(s,numRows){constperGroupNum=numRows+numRows-2//每组个数constGroupNum=Math.ceil(s.length/perGroupNum)//有几组constarr=[]for(leti=0;i<GroupNum;i++){letlinkStr=\'\'letposition=i*perGroupNumlinkStr+=s.slice(0+position,numRows+position)linkStr+=s.slice(numRows+position,numRows+position+perGroupNum-numRows).split(\'\').reverse().join(\'\')arr.push(linkStr)}letstr=\'\'letnum=0//第几行while(num<numRows){for(leti=0;i<GroupNum;i++){arr[i][num]?str+=arr[i][num]:\'\'if(num>0&&num<numRows-1&&arr[i][num+numRows-1]){str+=arr[i][num+numRows-1]}}num++}returnstr};```'},{name:"9.Palindrome_Number.md",path:"/LeetCode/9.Palindrome_Number.md",type:"file",mdconf:{abbrlink:"a3dlddtk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:712,extension:".md",relative:"/LeetCode/9.Palindrome_Number.md",isEmpty:!1,content:"\x3c!--abbrlink:a3dlddtk--\x3e###titleDeterminewhetheranintegerisapalindrome.Anintegerisapalindromewhenitreadsthesamebackwardasforward.Example1:Input:121Output:trueExample2:Input:-121Output:falseExplanation:Fromlefttoright,itreads-121.Fromrighttoleft,itbecomes121-.Thereforeitisnotapalindrome.Example3:Input:10Output:falseExplanation:Reads01fromrighttoleft.Thereforeitisnotapalindrome.###Analyze```js/***@param{number}x*@return{boolean}*/varisPalindrome=function(x){constconvert=x.toString().split('').reverse().join('')if(x===Number(convert)){returntrue}else{returnfalse}};```"},{name:"11.Container_With_Most_Water.md",path:"/LeetCode/11.Container_With_Most_Water.md",type:"file",mdconf:{abbrlink:"k37gufdo"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1758,extension:".md",relative:"/LeetCode/11.Container_With_Most_Water.md",isEmpty:!1,content:"\x3c!--abbrlink:k37gufdo--\x3e###题目给定n个非负整数a1,a2,...,an,每个数代表坐标中的一个点(i,ai)。在坐标内画n条垂直线,垂直线i的两个端点分别为(i,ai)和(i,0)。找出其中的两条线,使得它们与x轴共同构成的容器可以容纳最多的水。说明:你不能倾斜容器,且n的值至少为2。-[](https://s3-lc-upload.s3.amazonaws.com/uploads/2018/07/17/question_11.jpg)图中垂直线代表输入数组[1,8,6,2,5,4,8,3,7]。在此情况下,容器能够容纳水(表示为蓝色部分)的最大值为49。示例:```js输入:[1,8,6,2,5,4,8,3,7]输出:49```###解题暴力法:时间复杂度O(n^2),空间复杂度O(1);```js//暴力法/***@param{number[]}height*@return{number}*/varmaxArea=function(height){letmaxArea=0constlength=height.lengthfor(leti=0;i<length;i++){for(lety=i+1;y<length;y++){result=Math.min(height[i],height[y])*(y-i)if(result>maxArea){maxArea=result}}}returnmaxArea}```双指针法:一个指针指向首位,一个指针指向末尾;因为受限于高度低的那一方,所以移动高度较低的那一位;这样子只要遍历一次就能得出结果,时间复杂度O(n),空间复杂度O(1);```js//双指针法varmaxArea=function(height){lethead=0,tail=height.length-1,maxArea=0while(head<tail){result=Math.min(height[head],height[tail])*(tail-head)if(result>maxArea){maxArea=result}if(height[head]<=height[tail]){head++}else{tail--}}returnmaxArea}```###类似题目125、167、344、345"},{name:"12.Integer_to_Roman.md",path:"/LeetCode/12.Integer_to_Roman.md",type:"file",mdconf:{abbrlink:"awvr6r6r"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1735,extension:".md",relative:"/LeetCode/12.Integer_to_Roman.md",isEmpty:!1,content:"\x3c!--abbrlink:awvr6r6r--\x3e###title罗马数字包含以下七种字符:I,V,X,L,C,D和M。字符数值I1V5X10L50C100D500M1000例如,罗马数字2写做II,即为两个并列的1。12写做XII,即为X+II。27写做XXVII,即为XX+V+II。通常情况下,罗马数字中小的数字在大的数字的右边。但也存在特例,例如4不写做IIII,而是IV。数字1在数字5的左边,所表示的数等于大数5减小数1得到的数值4。同样地,数字9表示为IX。这个特殊的规则只适用于以下六种情况:I可以放在V(5)和X(10)的左边,来表示4和9。X可以放在L(50)和C(100)的左边,来表示40和90。C可以放在D(500)和M(1000)的左边,来表示400和900。给定一个整数,将其转为罗马数字。输入确保在1到3999的范围内。示例1:输入:3输出:\"III\"示例2:输入:4输出:\"IV\"示例3:输入:9输出:\"IX\"示例4:输入:58输出:\"LVIII\"解释:C=100,L=50,XXX=30,III=3.示例5:输入:1994输出:\"MCMXCIV\"解释:M=1000,CM=900,XC=90,IV=4.###analyze看了解答~```js/***@param{number}num*@return{string}*/varintToRoman=function(num){letresult=''constintArr=[1000,900,500,400,100,90,50,40,10,9,5,4,1]constRomanArr=['M','CM','D','CD','C','XC','L','XL','X','IX','V','IV','I']for(leti=0;i<intArr.length;i++){while(num%intArr[i]<num){result+=RomanArr[i]num-=intArr[i]}}returnresult}```"},{name:"13.Roman_to_Integer.md",path:"/LeetCode/13.Roman_to_Integer.md",type:"file",mdconf:{abbrlink:"49updn2c"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2034,extension:".md",relative:"/LeetCode/13.Roman_to_Integer.md",isEmpty:!1,content:"\x3c!--abbrlink:49updn2c--\x3e###title罗马数字包含以下七种字符:I,V,X,L,C,D和M。字符数值I1V5X10L50C100D500M1000例如,罗马数字2写做II,即为两个并列的1。12写做XII,即为X+II。27写做XXVII,即为XX+V+II。通常情况下,罗马数字中小的数字在大的数字的右边。但也存在特例,例如4不写做IIII,而是IV。数字1在数字5的左边,所表示的数等于大数5减小数1得到的数值4。同样地,数字9表示为IX。这个特殊的规则只适用于以下六种情况:I可以放在V(5)和X(10)的左边,来表示4和9。X可以放在L(50)和C(100)的左边,来表示40和90。C可以放在D(500)和M(1000)的左边,来表示400和900。给定一个罗马数字,将其转换成整数。输入确保在1到3999的范围内。示例1:输入:\"III\"输出:3示例2:输入:\"IV\"输出:4示例3:输入:\"IX\"输出:9示例4:输入:\"LVIII\"输出:58解释:C=100,L=50,XXX=30,III=3.示例5:输入:\"MCMXCIV\"输出:1994解释:M=1000,CM=900,XC=90,IV=4.###analyze正常AC,遍历字符串,思路略```js/***@param{string}s*@return{number}*/varromanToInt=function(s){constRomanArr=['M','CM','D','CD','C','XC','L','XL','X','IX','V','IV','I']constintArr=[1000,900,500,400,100,90,50,40,10,9,5,4,1]constlength=s.lengthletpick,result=0for(leti=0;i<length;i++){pick=s.slice(i,i+1)if(pick==='C'||pick==='X'||pick==='I'){pick=s.slice(i,i+2)if(pick==='CM'||pick==='CD'||pick==='XC'||pick==='XL'||pick==='IX'||pick==='IV'){i++}else{pick=s.slice(i,i+1)}}result+=intArr[RomanArr.indexOf(pick)]}returnresult};```"},{name:"14.Longest_Common_Prefix.md",path:"/LeetCode/14.Longest_Common_Prefix.md",type:"file",mdconf:{abbrlink:"feor893p"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1044,extension:".md",relative:"/LeetCode/14.Longest_Common_Prefix.md",isEmpty:!1,content:'\x3c!--abbrlink:feor893p--\x3e###title编写一个函数来查找字符串数组中的最长公共前缀。如果不存在公共前缀,返回空字符串""。示例1:```输入:["flower","flow","flight"]输出:"fl"```示例2:```输入:["dog","racecar","car"]输出:""解释:输入不存在公共前缀。```说明:所有输入只包含小写字母a-z。###analyzeemm,虽然是道简单难度的题目,但是通过率不是很高,大多数应该是方法没有采取恰当。思路可以如下:1.选取数组的第一个值str2.让数组中的每个值分别indexOf(str),如果indexOf(str)!==0,则让str=str.slice(0,str.length-1)```js/***@param{string[]}strs*@return{string}*/varlongestCommonPrefix=function(strs){if(strs.length===0)return\'\'letstr=strs[0]for(leti=0;i<strs.length;i++){while(strs[i].indexOf(str)!==0){str=str.slice(0,str.length-1)if(str.length===0){return\'\'}}}returnstr};```'},{name:"15.3Sum.md",path:"/LeetCode/15.3Sum.md",type:"file",mdconf:{abbrlink:"juxf7q1t"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2928,extension:".md",relative:"/LeetCode/15.3Sum.md",isEmpty:!1,content:"\x3c!--abbrlink:juxf7q1t--\x3e###titleGivenanarraynumsofnintegers,arethereelementsa,b,cinnumssuchthata+b+c=0?Findalluniquetripletsinthearraywhichgivesthesumofzero.Note:Thesolutionsetmustnotcontainduplicatetriplets.Example:```jsGivenarraynums=[-1,0,1,2,-1,-4],Asolutionsetis:[[-1,0,1],[-1,-1,2]]```###解题相关思路:1.排序;2.查找表;3.双指针;```js/***@param{number[]}nums*@return{number[][]}*/varthreeSum=function(nums){constsortNums=nums.sort((r1,r2)=>r1-r2)lettargetValueconstcacheMap=newMap()constresult=[]for(leti=0;i<sortNums.length-2;i++){targetValue=-sortNums[i]letl=i+1letr=sortNums.length-1while(l<r){lettmpArr=[]constmapValue=cacheMap.get(`${-targetValue}${sortNums[l]}${sortNums[r]}`)if(sortNums[l]+sortNums[r]===targetValue&&!mapValue){tmpArr.push(-targetValue)tmpArr.push(sortNums[l])tmpArr.push(sortNums[r])result.push(tmpArr)cacheMap.set(`${-targetValue}${sortNums[l]}${sortNums[r]}`,true)l++r--}elseif(sortNums[l]+sortNums[r]===targetValue&&mapValue){l++}elseif(sortNums[l]+sortNums[r]>targetValue){r--}elseif(sortNums[l]+sortNums[r]<targetValue){l++}}}returnresult}```此时通过测试用例的情况为312/313,差一个包含3000个0数组的测试用例没通过;根据评论区的提示,缺少了`对解进行去重`这个步骤(卡主大部分人的原因),优化如下:```js/***@param{number[]}nums*@return{number[][]}*/varthreeSum=function(nums){constsortNums=nums.sort((r1,r2)=>r1-r2)lettargetValueconstresult=[]for(leti=0;i<sortNums.length-2;i++){//针对下标i对应的值进行去重if(i===0||nums[i]>nums[i-1]){targetValue=-sortNums[i]letl=i+1letr=sortNums.length-1while(l<r){lettmpArr=[]if(sortNums[l]+sortNums[r]===targetValue){tmpArr.push(-targetValue)tmpArr.push(sortNums[l])tmpArr.push(sortNums[r])result.push(tmpArr)l++r--//针对下标l对应的值进行去重,r同理while(l<r&&sortNums[l]===sortNums[l-1]){l++}while(l<r&&sortNums[r]===sortNums[r+1]){r--}}elseif(sortNums[l]+sortNums[r]>targetValue){r--}elseif(sortNums[l]+sortNums[r]<targetValue){l++}}}}returnresult}```![](http://with.muyunyun.cn/10dda8915d98182962f44344244e8b5a.jpg-400)###SisterTitle1、16、18"},{name:"16.3Sum_Closest.md",path:"/LeetCode/16.3Sum_Closest.md",type:"file",mdconf:{abbrlink:"63rxuwzq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1242,extension:".md",relative:"/LeetCode/16.3Sum_Closest.md",isEmpty:!1,content:"\x3c!--abbrlink:63rxuwzq--\x3e###titleGivenanarraynumsofnintegersandanintegertarget,findthreeintegersinnumssuchthatthesumisclosesttotarget.Returnthesumofthethreeintegers.Youmayassumethateachinputwouldhaveexactlyonesolution.Example:```jsGivenarraynums=[-1,2,1,-4],andtarget=1.Thesumthatisclosesttothetargetis2.(-1+2+1=2).```###analyze1.排序;2.有个巧妙的地方,比较三个数之和与target的大小,具体看题解;```js/***@param{number[]}nums*@param{number}target*@return{number}*/varthreeSumClosest=function(nums,target){letsum=0letclose=nums[0]+nums[1]+nums[2]letsortedNums=nums.sort((a,b)=>a-b)for(leti=0;i<sortedNums.length;i++){letl=i+1,r=sortedNums.length-1while(l<r){//分别对应左、中、右三个下标对应的值sum=nums[i]+nums[l]+nums[r]if(Math.abs(sum-target)<Math.abs(close-target)){close=sum}if(sum<target){l++}elseif(sum>target){r--}else{returnsum}}}returnclose}```###SisterTitle1、15、18"},{name:"17.Letter_Combinations_of_a_Phone_Number.md",path:"/LeetCode/17.Letter_Combinations_of_a_Phone_Number.md",type:"file",mdconf:{abbrlink:"56bkz5yy"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2360,extension:".md",relative:"/LeetCode/17.Letter_Combinations_of_a_Phone_Number.md",isEmpty:!1,content:"\x3c!--abbrlink:56bkz5yy--\x3e###17.LetterCombinationsofaPhoneNumberGivenastringcontainingdigitsfrom2-9inclusive,returnallpossiblelettercombinationsthatthenumbercouldrepresent.Returntheanswerinanyorder.Amappingofdigittoletters(justlikeonthetelephonebuttons)isgivenbelow.Notethat1doesnotmaptoanyletters.![](https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Telephone-keypad2.svg/200px-Telephone-keypad2.svg.png)Example1:```jsInput:digits=\"23\"Output:[\"ad\",\"ae\",\"af\",\"bd\",\"be\",\"bf\",\"cd\",\"ce\",\"cf\"]```Example2:```jsInput:digits=\"\"Output:[]```Example3:```jsInput:digits=\"2\"Output:[\"a\",\"b\",\"c\"]```Constraints:*0<=digits.length<=4*digits[i]isadigitintherange['2','9'].###analyze方法一:回溯法递归。```js/***@param{string}digits*@return{string[]}*/varletterCombinations=function(digits){if(digits==='')return[]constresult=[]combinations(digits,0,'',result)returnresult};/***digits:analyzedigit*index:currentiteratornumber*s:prevtotalstring*/varcombinations=(digits,index,s,result)=>{if(index===digits.length){result.push(s)return}constchar=digits[index]constmap={'2':'abc','3':'def','4':'ghi','5':'jkl','6':'mno','7':'pqrs','8':'tuv','9':'wxyz'}constcharMapString=map[char]for(leti=0;i<charMapString.length;i++){combinations(digits,index+1,s+charMapString[i],result)}}```方法二:运用队列的思想。拿'23'举例,第一轮先放进'abc',第二轮分别以队列的方式对a、b、c分别进行操作push进def。```js/***@param{string}digits*@return{string[]}*/varletterCombinations=function(digits){//'23'constkeyString=['','','abc','def','ghi','jkl','mno','pqrs','tuv','wxyz',]if(digits===''||digits.length===0){return[]}constresult=['']for(letxofdigits){constsize=result.lengthfor(leti=0;i<size;i++){constold=result.shift()for(letyofkeyString[x]){result.push(old+y)}}}returnresult};```###推荐指数※※※※※"},{name:"18.4Sum.md",path:"/LeetCode/18.4Sum.md",type:"file",mdconf:{abbrlink:"o9822zc2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2167,extension:".md",relative:"/LeetCode/18.4Sum.md",isEmpty:!1,content:"\x3c!--abbrlink:o9822zc2--\x3e###titleGivenanarraynumsofnintegersandanintegertarget,arethereelementsa,b,c,anddinnumssuchthata+b+c+d=target?Findalluniquequadrupletsinthearraywhichgivesthesumoftarget.Note:Thesolutionsetmustnotcontainduplicatequadruplets.Example:```jsGivenarraynums=[1,0,-1,0,-2,2],andtarget=0.Asolutionsetis:[[-1,0,0,1],[-2,-1,1,2],[-2,0,0,2]]```###Analyze题目[15](https://github.com/MuYunyun/blog/blob/master/BasicSkill/LeetCode/15.3Sum/README.md)的加强版,唯一区别是定义的指针数量增加了,仍然需要注意`解的去重`。```js/***@param{number[]}nums*@param{number}target*@return{number[][]}*/varfourSum=function(nums,target){constresult=[]if(nums.length<4)returnresultconstsortSum=nums.sort((n1,n2)=>n1-n2)constlength=sortSum.lengthfor(leti=0;i<length-3;i++){if(i===0||nums[i]>nums[i-1]){letl=i+1letm=l+1while(l<length-2){letr=length-1if(l===i+1||nums[l]>nums[l-1]){while(m<length-1&&m<r){lettmpArr=[]constsum=nums[i]+nums[l]+nums[m]+nums[r]if(sum===target){tmpArr.push(nums[i])tmpArr.push(nums[l])tmpArr.push(nums[m])tmpArr.push(nums[r])result.push(tmpArr)m++r--while(nums[m]===nums[m-1]){m++}while(nums[r]===nums[r+1]){r--}}elseif(sum<target){m++}elseif(sum>target){r--}}}l++m=l+1}}}returnresult}fourSum([1,0,-1,0,-2,2],0)```![](http://with.muyunyun.cn/9e8e7033246cfea3940af4fb03b3a363.jpg-400)假设数组的长度为n,算法复杂度估计为`(n-3)*(等差数列)`即为O(n^2)###SisterTitle15、16"},{name:"19.Remove_Nth_Node_From_End_of_List.md",path:"/LeetCode/19.Remove_Nth_Node_From_End_of_List.md",type:"file",mdconf:{abbrlink:"v1zcni6y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1992,extension:".md",relative:"/LeetCode/19.Remove_Nth_Node_From_End_of_List.md",isEmpty:!1,content:"\x3c!--abbrlink:v1zcni6y--\x3e###RemoveNthNodeFromEndofListGivenalinkedlist,removethen-thnodefromtheendoflistandreturnitshead.Example:Givenlinkedlist:1->2->3->4->5,andn=2.Afterremovingthesecondnodefromtheend,thelinkedlistbecomes1->2->3->5.Note:Givennwillalwaysbe`valid`.Followup:Couldyoudothis`inonepass`?###Analyze对于删除链表节点的题目,我们需要知道需删除链表节点的上一个节点。那如何找到需要删除节点的上一个节点呢?*思路一:遍历一遍链表得到链表个数sum,再次遍历链表则`sum-n-1`表示从正向数过来需删除的链表节点的上一个节点的位数;*缺点:这样需要两次遍历;*思路二:使用双指针的思想确认要删除的节点;此外从题目的例子可以得到的线索:*n是从1开始的(不是从0开始);```js1->2->3->4->5->null..第一步:l与r的距离为n+1;lrdummy->1->2->3->4->5->null..第二步:始终保持l与r的距离为n+1,向右移动,直到r为null,此时l的位置就是要删除节点上一个的位置。lrdummy->1->2->3->4->5->null``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@param{number}n*@return{ListNode}*/varremoveNthFromEnd=function(head,n){constdummy=newListNode(0)dummy.next=headletl=dummyletr=dummyletoffset=n+1while(offset--){r=r.nextif(offset>1&&r===null){returndummy.next}}while(r){r=r.nextl=l.next}l.next=l.next.nextreturndummy.next}```![](http://with.muyunyun.cn/8a3c94502a50892aba7f4697487bde32.jpg)###SisterTitle61"},{name:"20.Valid_Parentheses.md",path:"/LeetCode/20.Valid_Parentheses.md",type:"file",mdconf:{abbrlink:"xgzs7c52"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1125,extension:".md",relative:"/LeetCode/20.Valid_Parentheses.md",isEmpty:!1,content:"\x3c!--abbrlink:xgzs7c52--\x3e###20.Valid_ParenthesesGivenastringcontainingjustthecharacters'(',')','{','}','['and']',determineiftheinputstringisvalid.Aninputstringisvalidif:1.Openbracketsmustbeclosedbythesametypeofbrackets.2.Openbracketsmustbeclosedinthecorrectorder.Notethatanemptystringisalsoconsideredvalid.Example1:```jsInput:\"()\"Output:true```Example2:```jsInput:\"()[]{}\"Output:true```Example3:```jsInput:\"(]\"Output:false```Example4:```jsInput:\"([)]\"Output:false```Example5:```jsInput:\"{[]}\"Output:true```###analyze考察栈的使用。```js/***@param{string}s*@return{boolean}*/varisValid=function(s){constobj={'(':')','{':'}','[':']',}constcacheArr=[]for(leti=0;i<s.length;i++){if(Object.keys(obj).includes(s[i])){cacheArr.push(s[i])}else{constpick=cacheArr.pop()if(obj[pick]!==s[i]){returnfalse}}}returncacheArr.length===0}```###SimilarTitle*71、150"},{name:"21.Merge_Two_Sorted_Lists.md",path:"/LeetCode/21.Merge_Two_Sorted_Lists.md",type:"file",mdconf:{abbrlink:"c92eip6g"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1731,extension:".md",relative:"/LeetCode/21.Merge_Two_Sorted_Lists.md",isEmpty:!1,content:"\x3c!--abbrlink:c92eip6g--\x3e###MergeTwoSortedListsMergetwosortedlinkedlistsandreturnitasanewlist.Thenewlistshouldbemadebysplicingtogetherthenodesofthefirsttwolists.Example:```jsInput:1->2->4,1->3->4Output:1->1->2->3->4->4```###analyze解法一:链表,类似归并排序的合并过程,见[归并排序](https://github.com/MuYunyun/blog/blob/master/BasicSkill/algorithm/sort/merge_sort.md)```js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}l1*@param{ListNode}l2*@return{ListNode}*/varmergeTwoLists=function(l1,l2){constdummyLink=newListNode(0)letcur=dummyLinkletl1Point=l1letl2Point=l2while(l1Point&&l2Point){if(l1Point.val<l2Point.val){cur.next=l1Pointl1Point=l1Point.next}else{cur.next=l2Pointl2Point=l2Point.next}cur=cur.next}while(l1Point){cur.next=l1Pointcur=cur.nextl1Point=l1Point.next}while(l2Point){cur.next=l2Pointcur=cur.nextl2Point=l2Point.next}returndummyLink.next}```解法二:递归```js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}l1*@param{ListNode}l2*@return{ListNode}*/varmergeTwoLists=function(l1,l2){if(l1===null){returnl2}if(l2===null){returnl1}if(l1.val<l2.val){l1.next=mergeTwoLists(l1.next,l2)returnl1}else{l2.next=mergeTwoLists(l1,l2.next)returnl2}}```"},{name:"22.Generate_Parentheses.md",path:"/LeetCode/22.Generate_Parentheses.md",type:"file",mdconf:{abbrlink:"og1puolt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1218,extension:".md",relative:"/LeetCode/22.Generate_Parentheses.md",isEmpty:!1,content:"\x3c!--abbrlink:og1puolt--\x3e###22.GenerateParentheses给出n代表生成括号的对数,请你写出一个函数,使其能够生成所有可能的并且有效的括号组合。例如,给出n=3,生成结果为:[\"((()))\",\"(()())\",\"(())()\",\"()(())\",\"()()()\"]###analyze回溯法:思路:标记可使用的左括号和右括号数量,中断条件为左右可使用括号数都为0*若可使用的左括号的数量等于可使用的右括号的数量,则加'(';*若可使用的左括号的数量为0,则加')';*若可使用的左括号的数量小于可使用的右括号的数量,则可以加'('又可以加')'```js/***@param{number}n*@return{string[]}*/vargenerateParenthesis=function(n){constresult=[]letstr=''functionjudege(left,right,str){if(left===0&&right===0){result.push(str)str=''return}if(left===right){judege(left-1,right,str+'(')}elseif(left===0){judege(left,right-1,str+')')}else{judege(left-1,right,str+'(')judege(left,right-1,str+')')}}judege(n,n,str)returnresult};```"},{name:"23.Merge_k_Sorted_Lists.md",path:"/LeetCode/23.Merge_k_Sorted_Lists.md",type:"file",mdconf:{abbrlink:"c5uvbnmt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4536,extension:".md",relative:"/LeetCode/23.Merge_k_Sorted_Lists.md",isEmpty:!1,content:"\x3c!--abbrlink:c5uvbnmt--\x3e###23.MergekSortedListsMergek`sortedlinkedlists`andreturnitas`onesortedlist`.Analyzeanddescribeitscomplexity.Example:```jsInput:[1->4->5,1->3->4,2->6]Output:1->1->2->3->4->4->5->6```###Analyze思路一:分治算法。可以将合并k个排序队列转换为合并2个排序队列。图例解释:```jscurdummyNode->1->4->5comparedCur2->6``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode[]}lists*@return{ListNode}*/varmergeKLists=function(lists){letresult=lists[0]||nullfor(leti=1;i<lists.length;i++){constcompareList=lists[i]result=mergeTwoLists(result,compareList)}returnresult}varmergeTwoLists=function(curList,compareList){constdummyNode=newListNode(0)dummyNode.next=curListletcur=dummyNodeletcomparedCur=compareListwhile(cur.next&&comparedCur){if(cur.next.val>comparedCur.val){letnextComparedCur=comparedCur.nextcomparedCur.next=cur.nextcur.next=comparedCurcomparedCur=nextComparedCur}cur=cur.next}if(comparedCur){cur.next=comparedCur}returndummyNode.next}```思路二:优先队列*将数组中的队列加入进优先队列(基于最小堆);*如果当前优先队列不为空:*取出当前`优先队列顶部队列元素`(最小值),拼接到`输出队列`中;*同时在优先队列插入取出的顶部队列元素的下一个值;由于在JavaScrit中没有封装好的优先队列,在此先进行封装`优先队列函数`(最小堆)。```jsvarlen/***tobuildminheapifyfrombottomtotop;*thelastsubscript'sparentsubscriptisMath.floor((len-1)/2)*/varbuildMinHeapify=function(arr){len=arr.lengthfor(leti=Math.floor((len-1)/2);i>=0;i--){siftDown(arr,i)}returnarr}/***Insertavalueintoheap.It'sanoperationcalledsiftup.*/varenqueue=function(arr,value){arr.splice(len,0,value)len++siftUp()}/***tokeepminheap,it'sanoperationcalledsiftup.*/varsiftUp=function(){letenqueueValSubscript=len-1letparent=Math.floor(enqueueValSubscript/2)while(parent>0&&arr[parent]>arr[enqueueValSubscript]){swap(arr,parent,enqueueValSubscript)enqueueValSubscript=parentparent=Math.floor(enqueueValSubscript/2)}}/**topickthesmallestorthebiggestelementfromtheheapandreturnit;*Thent'llswaptheendestelementwiththefirstelement,andthenkeepthe*heaplengthreduceone.Ifso,onlydooncesiftdownoperationinthefirstelementtokeepheapify.*/vardequeue=function(){constmaxValue=arr[0]swap(arr,len-1,0)len--siftDown(arr,0)returnmaxValue}/***tokeepminheap,it'sanoperationcalledsiftdown.*/varsiftDown=function(arr,i){constleft=2*i+1constright=2*i+2letminSubscript=iif(left<len&&arr[left]<arr[minSubscript]){minSubscript=left}if(right<len&&arr[right]<arr[minSubscript]){minSubscript=right}if(minSubscript!==i){swap(arr,minSubscript,i)siftDown(arr,minSubscript)}}//swaptwovalueinarrvarswap=function(arr,pointOne,pointTwo){consttmp=arr[pointOne]arr[pointOne]=arr[pointTwo]arr[pointTwo]=tmp}```Testcaseone:```jsinput:vararr=[5,2,7,3,1,8,4]8↙↘37↙↘↙↘2154buildMinHeapify(arr)//[1,2,4,3,5,8,7]11↙↘enqueue(arr,6)↙↘24---------------\x3e24↙↘↙↘↙↘↙↘35873587↙62return1↙↘dequeue()34----------------\x3e↙↘↙↘6587```在JavaScript中使用优先队列成本相对较高,暂时不考虑。"},{name:"24.Swap_Nodes_in_Pairs.md",path:"/LeetCode/24.Swap_Nodes_in_Pairs.md",type:"file",mdconf:{abbrlink:"wb7mpokh"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1270,extension:".md",relative:"/LeetCode/24.Swap_Nodes_in_Pairs.md",isEmpty:!1,content:"\x3c!--abbrlink:wb7mpokh--\x3e###SwapNodesinPairsGivenalinkedlist,swapeverytwoadjacentnodesandreturnitshead.Youmaynotmodifythevaluesinthelist'snodes,onlynodesitselfmaybechanged.Example:```jsGiven1->2->3->4,youshouldreturnthelistas2->1->4->3.```###analyze```jsprevfirstsecondnext1->2->3->4->null..进行如下指针变换:prev->second->first->next2->1->3->4->null..移动指针:prevfirstsecondnext2->1->3->4->null..重复上述操作``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@return{ListNode}*/varswapPairs=function(head){constdummyHead=newListNode(0)dummyHead.next=headletprev=dummyHeadletfirst=prev.nextwhile(first&&first.next){letsecond=first.nextletnext=second.nextsecond.next=firstfirst.next=nextprev.next=secondprev=firstfirst=first.next}returndummyHead.next}```"},{name:"25.Reverse_Nodes_in_k-Group.md",path:"/LeetCode/25.Reverse_Nodes_in_k-Group.md",type:"file",mdconf:{abbrlink:"ganj278u"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2476,extension:".md",relative:"/LeetCode/25.Reverse_Nodes_in_k-Group.md",isEmpty:!1,content:"\x3c!--abbrlink:ganj278u--\x3e###ReverseNodesink-GroupGivenalinkedlist,reversethenodesofalinkedlistkatatimeandreturnitsmodifiedlist.kisapositiveintegerandislessthanorequaltothelengthofthelinkedlist.Ifthenumberofnodesisnotamultipleofkthenleft-outnodesintheendshouldremainasitis.Example:Giventhislinkedlist:1->2->3->4->5Fork=2,youshouldreturn:2->1->4->3->5Fork=3,youshouldreturn:3->2->1->4->5Note:Onlyconstantextramemoryisallowed.Youmaynotalterthevaluesinthelist'snodes,onlynodesitselfmaybechanged.###Analyze初始分析:每间隔k个值进行链表反转,目前的思考是替换链表的同时维护一个count,count达到k以后count清0,同时根据count是否达到k来判断当前组列表的下一组列表是指向原列表还是反转后的列表,但是这样的思路需要额外的内存来存储下一组列表。有没有更好的方法呢?参考网友的`尾插法`思路。①将tail移到要翻转部分的最后一个元素,若移动k元素之前已到达链表末尾则完成每间隔k个值的链表翻转;②接着依次把cur移到tail后面;该方法的难点一个是如何确定tail(尾巴)节点,另一个是如何穿针引线将cur节点移到tail节点后面。(这题卡了好久[OMG])```jsk===3prevtailhead1dummy12345prevhead1taildummy12345curprevtailhead1dummy23145curprevtailhead1dummy32145cur``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@param{number}k*@return{ListNode}*/varreverseKGroup=function(head,k){constdummyHead=newListNode(0)dummyHead.next=headletprev=dummyHeadlettail=dummyHeadwhile(true){letcount=0while(tail.next&&count!==k){tail=tail.nextcount++}if(count!==k)breaklethead1=prev.nextwhile(prev.next!==tail){letcur=prev.nextprev.next=cur.nextcur.next=tail.nexttail.next=cur}prev=head1tail=head1}returndummyHead.next}```![](http://with.muyunyun.cn/27da17a1a3c81ffe4aa6beefaef0de18.jpg)"},{name:"26.Remove_Duplicates_from_Sorted_Array.md",path:"/LeetCode/26.Remove_Duplicates_from_Sorted_Array.md",type:"file",mdconf:{abbrlink:"as1usnn3"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2225,extension:".md",relative:"/LeetCode/26.Remove_Duplicates_from_Sorted_Array.md",isEmpty:!1,content:"\x3c!--abbrlink:as1usnn3--\x3e###题目给定一个`排序数组`,你需要`在原地删除重复出现的元素,使得每个元素只出现一次,返回移除后数组的新长度`。`不要使用额外的数组空间,你必须在原地修改输入数组并在使用O(1)额外空间的条件下完成`。示例1:```js给定数组nums=[1,1,2],函数应该返回新的长度2,并且原数组nums的前两个元素被修改为1,2。你不需要考虑数组中超出新长度后面的元素。```示例2:```js给定nums=[0,0,1,1,1,2,2,3,3,4],函数应该返回新的长度5,并且原数组nums的前五个元素被修改为0,1,2,3,4。你不需要考虑数组中超出新长度后面的元素。```说明:为什么返回数值是整数,但输出的答案是数组呢?请注意,输入数组是以“引用”方式传递的,这意味着在函数里修改输入数组对于调用者是可见的。你可以想象内部操作如下:```js//nums是以“引用”方式传递的。也就是说,不对实参做任何拷贝intlen=removeDuplicates(nums);//在函数里修改输入数组对于调用者是可见的。//根据你的函数返回的长度,它会打印出数组中该长度范围内的所有元素。for(inti=0;i<len;i++){print(nums[i]);}```###解题解法一:一般思路```js/***@param{number[]}nums*@return{number}*/varremoveDuplicates=function(nums){constcacheObj={}letcount=0while(count<nums.length){if(cacheObj[nums[count]]){nums.splice(count,1)count--}else{cacheObj[nums[count]]=nums[count].toString()//防止0被判断为false}count++}returnnums.length}```解法二:双指针![](http://with.muyunyun.cn/d3b1ba4aff45282b1ae4740d530c8834.jpg)```js/***@param{number[]}nums*@return{number}*/varremoveDuplicates=function(nums){if(nums.length<=1)returnnums.lengthletcur=0//新数组的下标for(leti=1;i<nums.length;i++){if(nums[i]!==nums[cur]){nums[cur+1]=nums[i]cur++}}returncur+1}```###同类题目27、80、283。"},{name:"27.Remove_Element.md",path:"/LeetCode/27.Remove_Element.md",type:"file",mdconf:{abbrlink:"1iy1ni8a"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1546,extension:".md",relative:"/LeetCode/27.Remove_Element.md",isEmpty:!1,content:"\x3c!--abbrlink:1iy1ni8a--\x3e###题目给定一个数组nums和一个值val,`你需要原地移除所有数值等于val的元素,返回移除后数组的新长度`。不要使用额外的数组空间,你必须在原地修改输入数组并在使用O(1)额外空间的条件下完成。元素的顺序可以改变。你不需要考虑数组中超出新长度后面的元素。示例1:```js给定nums=[3,2,2,3],val=3,函数应该返回新的长度2,并且nums中的前两个元素均为2。你不需要考虑数组中超出新长度后面的元素。```示例2:```js给定nums=[0,1,2,2,3,0,4,2],val=2,函数应该返回新的长度5,并且nums中的前五个元素为0,1,3,0,4。注意这五个元素可为任意顺序。你不需要考虑数组中超出新长度后面的元素。```###解题解法一:一般思路```js/***@param{number[]}nums*@param{number}val*@return{number}*/varremoveElement=function(nums,val){letplacewhile(~nums.indexOf(val)){place=nums.indexOf(val)nums.splice(place,1)}returnnums.length}```解法二:双指针![](http://with.muyunyun.cn/e4ea67e0bdbf4af9ee3ad2a0ede55571.jpg)```js/***@param{number[]}nums*@param{number}val*@return{number}*/varremoveElement=function(nums,val){letcur=0for(leti=0;i<nums.length;i++){if(nums[i]!==val){nums[cur]=nums[i]cur++}}returncur}```###同类题目26、80、283。"},{name:"28.Implement_strStr.md",path:"/LeetCode/28.Implement_strStr.md",type:"file",mdconf:{abbrlink:"edludzdk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:844,extension:".md",relative:"/LeetCode/28.Implement_strStr.md",isEmpty:!1,content:'\x3c!--abbrlink:edludzdk--\x3e###title实现strStr()函数。给定一个haystack字符串和一个needle字符串,在haystack字符串中找出needle字符串出现的第一个位置(从0开始)。如果不存在,则返回-1。示例1:输入:haystack="hello",needle="ll"输出:2示例2:输入:haystack="aaaaa",needle="bba"输出:-1说明:当needle是空字符串时,我们应当返回什么值呢？这是一个在面试中很好的问题。对于本题而言,当needle是空字符串时我们应当返回0。这与C语言的strstr()以及Java的indexOf()定义相符。###analyze后面需要改。```js/***@param{string}haystack*@param{string}needle*@return{number}*/varstrStr=function(haystack,needle){returnhaystack.indexOf(needle)};```'},{name:"33.Search_in_Rotated_Sorted_Array.md",path:"/LeetCode/33.Search_in_Rotated_Sorted_Array.md",type:"file",mdconf:{abbrlink:"szdkttfj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1671,extension:".md",relative:"/LeetCode/33.Search_in_Rotated_Sorted_Array.md",isEmpty:!1,content:"\x3c!--abbrlink:szdkttfj--\x3e###title假设按照升序排序的数组在预先未知的某个点上进行了旋转。(例如,数组[0,1,2,4,5,6,7]可能变为[4,5,6,7,0,1,2])。搜索一个给定的目标值,如果数组中存在这个目标值,则返回它的索引,否则返回-1。你可以假设数组中不存在重复的元素。你的算法时间复杂度必须是O(logn)级别。示例1:```输入:nums=[4,5,6,7,0,1,2],target=0输出:4```示例2:```输入:nums=[4,5,6,7,0,1,2],target=3输出:-1```###analyze思路:考虑使用二分法?这题难度觉得超纲了。然后再想。```js//这道题卡在如何确定返回的指标/***@param{number[]}nums*@param{number}target*@return{number}*/varsearch=function(nums,target){constlength=nums.lengthconstmiddle=Math.floor(length/2)constleftArr=nums.slice(0,middle)constrightArr=nums.slice(middle,length)if(isOrder(leftArr)){sortByDivided(leftArr,target)}else{search(leftArr,target)}if(isOrder(rightArr)){sortByDivided(rightArr,target)}else{search(rightArr,target)}};varisOrder=function(arr){returnarr[0]<arr[arr.length-1]}varsortByDivided=function(arr,target){constlength=arr.lengthletleft=0letright=lengthletmiddlewhile(left<=right){middle=Math.floor((left+right)/2)if(target>arr[middle]){left=middle+1}elseif(target<arr[middle]){right=middle-1}elseif(target===arr[middle]){returnmiddle}}returnfalse}```"},{name:"35.Search_Insert_Position.md",path:"/LeetCode/35.Search_Insert_Position.md",type:"file",mdconf:{abbrlink:"kc9xq8mc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:801,extension:".md",relative:"/LeetCode/35.Search_Insert_Position.md",isEmpty:!1,content:"\x3c!--abbrlink:kc9xq8mc--\x3e###title给定一个排序数组和一个目标值,在数组中找到目标值,并返回其索引。如果目标值不存在于数组中,返回它将会被按顺序插入的位置。你可以假设数组中无重复元素。示例1:```输入:[1,3,5,6],5输出:2```示例2:```输入:[1,3,5,6],2输出:1```示例3:```输入:[1,3,5,6],7输出:4```示例4:```输入:[1,3,5,6],0输出:0```###analyze水题```js/***@param{number[]}nums*@param{number}target*@return{number}*/varsearchInsert=function(nums,target){leti=0while(i<nums.length){if(target<=nums[i]){returni}if(target>nums[nums.length-1]){returnnums.length}i++}};```"},{name:"36.Valid_Sudoku.md",path:"/LeetCode/36.Valid_Sudoku.md",type:"file",mdconf:{abbrlink:"a5w5aun9"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2461,extension:".md",relative:"/LeetCode/36.Valid_Sudoku.md",isEmpty:!1,content:'\x3c!--abbrlink:a5w5aun9--\x3e###36.Valid_Sudoku判断一个9x9的数独是否有效。只需要根据以下规则,`验证已经填入的数字是否有效即可`。1.数字1-9在每一行只能出现一次。2.数字1-9在每一列只能出现一次。3.数字1-9在每一个以粗实线分隔的3x3宫内只能出现一次。[题目链接](https://leetcode-cn.com/problems/valid-sudoku/description/)示例1:```js输入:[["5","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]输出:true```示例2:```js输入:[["8","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]输出:false```解释:除了第一行的第一个数字从5改为8以外,空格内其他数字均与示例1相同。但由于位于左上角的3x3宫内有两个8存在,因此这个数独是无效的。说明:*一个有效的数独（部分已被填充）不一定是可解的*只需要根据以上规则,验证已经填入的数字是否有效即可*给定数独序列只包含数字1-9和字符\'.\'*给定数独永远是9x9形式的###analyze依次遍历二维数组,对3种情况分别进行校验。```js/***@param{character[][]}board*@return{boolean}*/varisValidSudoku=function(board){constset=newSet()for(letx=0;x<9;x++){for(lety=0;y<9;y++){constnum=board[x][y]if(num!==\'.\'){if(set.has(`row${x}${num}`)||set.has(`col${y}${num}`)||set.has(`block${Math.floor(x/3)}${Math.floor(y/3)}${num}`)){returnfalse}else{set.add(`row${x}${num}`)set.add(`col${y}${num}`)set.add(`block${Math.floor(x/3)}${Math.floor(y/3)}${num}`)}}}}returntrue};```'},{name:"37.Sudoku_Solver.md",path:"/LeetCode/37.Sudoku_Solver.md",type:"file",mdconf:{abbrlink:"z7xvt2p8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4001,extension:".md",relative:"/LeetCode/37.Sudoku_Solver.md",isEmpty:!1,content:'\x3c!--abbrlink:z7xvt2p8--\x3e###37.SudokuSolverWriteaprogramtosolveaSudokupuzzlebyfillingtheemptycells.Asudokusolutionmustsatisfyallofthefollowingrules:1.Eachofthedigits1-9mustoccurexactlyonceineachrow.2.Eachofthedigits1-9mustoccurexactlyonceineachcolumn.3.Eachofthedigits1-9mustoccurexactlyonceineachofthe9`3x3`sub-boxesofthegrid.>The\'.\'characterindicatesemptycells.![](https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png)```jsInput:board=[["5","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]Output:[["5","3","4","6","7","8","9","1","2"],["6","7","2","1","9","5","3","4","8"],["1","9","8","3","4","2","5","6","7"],["8","5","9","7","6","1","4","2","3"],["4","2","6","8","5","3","7","9","1"],["7","1","3","9","2","4","8","5","6"],["9","6","1","5","3","7","2","8","4"],["2","8","7","4","1","9","6","3","5"],["3","4","5","2","8","6","1","7","9"]]```>Explanation:Theinputboardisshownaboveandtheonlyvalidsolutionisshownbelow:![](https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Sudoku-by-L2G-20050714_solution.svg/250px-Sudoku-by-L2G-20050714_solution.svg.png)Constraints:*board.length==9*board[i].length==9*board[i][j]isadigitor\'.\'.Itisguaranteedthattheinputboardhasonlyonesolution.###Analyze该题有一个难点:需要明确递归的队列是啥。1.在这里递归队列是数独中的`.`的下标。2.接着根据该队列进行递归操作,对横向、竖向、3x3内的位置信息作记录。*若横向、纵向、3x3的位置没有使用过,则将相应位置标记为已使用(true)*若横向、纵向、3x3的位置已经使用过,则进入下一个递归```js/***@param{character[][]}board*@return{void}Donotreturnanything,modifyboardin-placeinstead.*/varsolveSudoku=function(board){constobj={}constused=[]for(letx=0;x<9;x++){for(lety=0;y<9;y++){if(!obj[`rows${x}`])obj[`rows${x}`]={}if(!obj[`columns${y}`])obj[`columns${y}`]={}constblockX=Math.floor(x/3)constblockY=Math.floor(y/3)if(!obj[`block${blockX}${blockY}`])obj[`block${blockX}${blockY}`]={}if(board[x][y]!==\'.\'){obj[`rows${x}`][board[x][y]]=trueobj[`columns${y}`][board[x][y]]=trueobj[`block${blockX}${blockY}`][board[x][y]]=true}else{used.push({x,y})}}}dfs(board,0,obj,used)returnboard};vardfs=function(board,pos,obj,used){if(pos===used.length){for(letm=0;m<9;m++){for(letn=1;n<=9;n++){if(typeofobj[`rows${m}`][n]===\'number\'){board[m][obj[`rows${m}`][n]]=String(n)}}}return}const{x,y}=used[pos]//datasourcefor(leti=1;i<=9;i++){constblockX=Math.floor(x/3)constblockY=Math.floor(y/3)if((obj[`rows${x}`][String(i)]===undefined||obj[`rows${x}`][String(i)]===false)&&!obj[`columns${y}`][String(i)]&&!obj[`block${blockX}${blockY}`][String(i)]){obj[`rows${x}`][String(i)]=yobj[`columns${y}`][String(i)]=trueobj[`block${blockX}${blockY}`][String(i)]=truedfs(board,pos+1,obj,used)obj[`rows${x}`][String(i)]=falseobj[`columns${y}`][String(i)]=falseobj[`block${blockX}${blockY}`][String(i)]=false}}}```'},{name:"38.Count_and_Say.md",path:"/LeetCode/38.Count_and_Say.md",type:"file",mdconf:{abbrlink:"q232tci8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1292,extension:".md",relative:"/LeetCode/38.Count_and_Say.md",isEmpty:!1,content:'\x3c!--abbrlink:q232tci8--\x3e###title报数序列是指一个整数序列,按照其中的整数的顺序进行报数,得到下一个数。其前五项如下:```1.12.113.214.12115.111221```1被读作"one1"("一个一"),即11。11被读作"two1s"("两个一"）,即21。21被读作"one2","one1"（"一个二","一个一"),即1211。给定一个正整数n,输出报数序列的第n项。注意:整数顺序将表示为一个字符串。示例1:```输入:1输出:"1"```示例2:```输入:4输出:"1211"```###analyze题目被吐槽啊,看[Look-and-SaySequence](https://www.geeksforgeeks.org/look-and-say-sequence/)比较容易理解题意。用递归的思路解题。```jsconstcacheObj={1:\'1\'}/***@param{number}n*@return{string}*/varcountAndSay=function(n){//5if(cacheObj[n]){returncacheObj[n]}else{constfindValue=countAndSay(n-1)//1211letstr=\'\'lettmp=0//截断不同数字的下标for(leti=0;i<findValue.length;i++){if(findValue[i]!==findValue[i+1]){str+=i-tmp+1str+=findValue[i]tmp=i+1}}cacheObj[n]=strreturnstr}};```'},{name:"39.Combination_Sum.md",path:"/LeetCode/39.Combination_Sum.md",type:"file",mdconf:{abbrlink:"r989473s"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2989,extension:".md",relative:"/LeetCode/39.Combination_Sum.md",isEmpty:!1,content:"\x3c!--abbrlink:r989473s--\x3e###39.CombinationSumGivenanarrayofdistinctintegerscandidatesandatargetintegertarget,`returnalistofalluniquecombinationsofcandidates`wherethechosennumberssumtotarget.Youmayreturnthecombinationsinanyorder.`Thesamenumbermaybechosenfromcandidatesanunlimitednumberoftimes`.Twocombinationsareuniqueifthefrequencyofatleastoneofthechosennumbersisdifferent.Itisguaranteedthatthenumberofuniquecombinationsthatsumuptotargetislessthan150combinationsforthegiveninput.Example1:```jsInput:candidates=[2,3,6,7],target=7Output:[[2,2,3],[7]]```Explanation:2and3arecandidates,and2+2+3=7.Notethat2canbeusedmultipletimes.7isacandidate,and7=7.Thesearetheonlytwocombinations.Example2:```jsInput:candidates=[2,3,5],target=8Output:[[2,2,2,2],[2,3,3],[3,5]]```Example3:```jsInput:candidates=[2],target=1Output:[]```Example4:```jsInput:candidates=[1],target=1Output:[[1]]```Example5:```jsInput:candidates=[1],target=2Output:[[1,1]]```Constraints:*1<=candidates.length<=30*1<=candidates[i]<=200*Allelementsofcandidatesaredistinct.*1<=target<=500###analyze根据题目`returnalistofalluniquecombinationsofcandidates`可以看出此题属于`组合类型`问题。target=7*2*2*2*2当前及后续值减支*3√*6当前及后续值减支*7*3*3*6*7*6*7*3*3*3*6*7*6*6*7√下面给出两个ac了的写法,思路大体相同,个人推荐拆成两个函数的第二种写法:写法一:```js/***@param{number[]}candidates*@param{number}target*@return{number[][]}*/varcombinationSum=function(candidates,target){constresult=[]constDFS=function(sum,arr,start){if(sum===target){result.push(arr.slice())return}if(sum>target){return}for(leti=start;i<candidates.length;i++){sum+=candidates[i]arr.push(candidates[i])DFS(sum,arr,i)arr.pop(candidates[i])sum-=candidates[i]}}DFS(0,[],0,candidates)returnresult};```写法二:```js/***@param{number[]}candidates*@param{number}target*@return{number[][]}*/varcombinationSum=function(candidates,target){constresult=[]recurcive(candidates,target,0,[],result)returnresult};varrecurcive=function(candidates,target,start,temp,result){if(target<0){return}if(target===0){result.push([...temp])return}for(leti=start;i<candidates.length;i++){temp.push(candidates[i])target=target-candidates[i]recurcive(candidates,target,i,temp,result)target=target+candidates[i]temp.pop(candidates[i])}}```"},{name:"40.Combination_Sum_II.md",path:"/LeetCode/40.Combination_Sum_II.md",type:"file",mdconf:{abbrlink:"fr4ry4zx"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2730,extension:".md",relative:"/LeetCode/40.Combination_Sum_II.md",isEmpty:!1,content:"\x3c!--abbrlink:fr4ry4zx--\x3e###40.CombinationSumIIGivenacollectionofcandidatenumbers(candidates)andatargetnumber(target),findalluniquecombinationsincandidateswherethecandidatenumberssumtotarget.Eachnumberincandidatesmay`onlybeusedonce`inthecombination.Note:Thesolutionsetmust`notcontainduplicatecombinations`.Example1:```jsInput:candidates=[10,1,2,7,6,1,5],target=8Output:[[1,1,6],[1,2,5],[1,7],[2,6]]```Example2:```jsInput:candidates=[2,5,2,1,2],target=5Output:[[1,2,2],[5]]```Constraints:*1<=candidates.length<=100*1<=candidates[i]<=50*1<=target<=30###analyze是[题目39](https://github.com/MuYunyun/blog/blob/master/LeetCode/39.组合总和/index.js)的改版,在DFS的基础上,对于题目要求`解集不能包含重复的组合`要稍加处理。思路:递归解组合问题。1.对candidates排序。2.对这种情况要过滤:`i!==start&&candidates[i]===candidates[i-1]`,可以以([1,1,2],3)这个例子进行思考不产生两个[1,2]。解法一:```js/***@param{number[]}candidates*@param{number}target*@return{number[][]}*/varcombinationSum2=function(candidates,target){constresult=[]constsortCandidates=candidates.sort((r1,r2)=>r1-r2)constDFS=function(sum,arr,start){if(sum===target){result.push(arr.slice())return}if(sum>target){return}for(leti=start;i<sortCandidates.length;i++){if(i!==start&&sortCandidates[i]===sortCandidates[i-1]){//[1,1,2],3。避免产生两个[1,2]continue}sum+=sortCandidates[i]arr.push(sortCandidates[i])DFS(sum,arr,i+1)arr.pop(sortCandidates[i])sum-=sortCandidates[i]}}DFS(0,[],0)returnresult};```解法二:```js/***@param{number[]}candidates*@param{number}target*@return{number[][]}*/varcombinationSum2=function(candidates,target){constresult=[]constsorted=candidates.sort((r1,r2)=>r1-r2)recurcive(sorted,target,0,[],result)returnresult};varrecurcive=function(candidates,target,start,temp,result){if(target<0){return}if(target===0){result.push([...temp])return}for(leti=start;i<candidates.length;i++){if(candidates[i]===candidates[i-1]&&i!==start){continue}temp.push(candidates[i])target=target-candidates[i]recurcive(candidates,target,i+1,temp,result)target=target+candidates[i]temp.pop(candidates[i])}}```"},{name:"46.Permutations.md",path:"/LeetCode/46.Permutations.md",type:"file",mdconf:{abbrlink:"mr9nck5w"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1198,extension:".md",relative:"/LeetCode/46.Permutations.md",isEmpty:!1,content:"\x3c!--abbrlink:mr9nck5w--\x3e###46.PermutationsGivenanarraynumsofdistinctintegers,returnallthepossiblepermutations.Youcanreturntheanswerinanyorder.Example1:```jsInput:nums=[1,2,3]Output:[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]```Example2:```jsInput:nums=[0,1]Output:[[0,1],[1,0]]```Example3:```jsInput:nums=[1]Output:[[1]]```Constraints:*1<=nums.length<=6*-10<=nums[i]<=10*`Alltheintegersofnumsareunique`###analyze该问题可以看成为一道排列问题,排列问题的一种常见解法是回溯法:```bash*1*2*3*3*2*2*1*3*3*1*3*1*2*2*1``````js/***@param{number[]}nums*@return{number[][]}*/varpermute=function(nums){constres=[]backtracking(nums,[],res)returnres};varbacktracking=function(nums,temp,res){if(temp.length===nums.length){res.push([...temp])return}for(leti=0;i<nums.length;i++){if(!temp.includes(nums[i])){temp.push(nums[i])backtracking(nums,temp,res)temp.pop(nums[i])}else{continue}}}```"},{name:"47.Permutations_II.md",path:"/LeetCode/47.Permutations_II.md",type:"file",mdconf:{abbrlink:"ypmrd4to"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2265,extension:".md",relative:"/LeetCode/47.Permutations_II.md",isEmpty:!1,content:"\x3c!--abbrlink:ypmrd4to--\x3e###47.Permutations_IIGivenacollectionofnumbers,nums,thatmightcontainduplicates,returnallpossibleuniquepermutationsinanyorder.Example1:```jsInput:nums=[1,1,2]Output:[[1,1,2],[1,2,1],[2,1,1]]```Example2:```jsInput:nums=[1,2,3]Output:[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]```Constraints:*1<=nums.length<=8*-10<=nums[i]<=10###analyze[112]*1*1*2*2*1*1(jump,该位置上1已经在之前被使用过了,因此需跳过)*2*1*1*1(jump)思路:回溯法解排列问题。需要注意此题允许nums里面存有相同的数字。在此引入`used`数组来存储回溯过程中已使用的值。```js/***@param{number[]}nums*@return{number[][]}*/varpermuteUnique=function(nums){constres=[]backtracking(nums,[],[],res)returnres};varbacktracking=function(nums,used,temp,res){if(temp.length===nums.length){for(leti=0;i<res.length;i++){//adigitappearsonlyonce.if(res[i].toString()===temp.toString())return}res.push([...temp])return}for(leti=0;i<nums.length;i++){//jumpsameusedindex.if(used.indexOf(i)>-1)continuetemp.push(nums[i])used.push(i)backtracking(nums,used,temp,res)temp.pop(nums[i])used.pop(i)}}```上述解法在去重的步骤上比较耗时,提交的时候报超时错误,进行如下优化:```js/***@param{number[]}nums*@return{number[][]}*/varpermuteUnique=function(nums){constres=[]constsortNums=nums.sort((r1,r2)=>r1-r2)backtracking(sortNums,[],[],res)returnres};varbacktracking=function(nums,used,temp,res){if(temp.length===nums.length){res.push([...temp])return}for(leti=0;i<nums.length;i++){//如果当前下标被使用过或者当前下标对应的值已经在之前被使用过了,则跳过。if(used.indexOf(i)>-1||(nums[i]===nums[i-1]&&used.indexOf(i-1)===-1))continuetemp.push(nums[i])used.push(i)backtracking(nums,used,temp,res)temp.pop(nums[i])used.pop(i)}}```"},{name:"48.Rotate_Image.md",path:"/LeetCode/48.Rotate_Image.md",type:"file",mdconf:{abbrlink:"izwocliq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1343,extension:".md",relative:"/LeetCode/48.Rotate_Image.md",isEmpty:!1,content:"\x3c!--abbrlink:izwocliq--\x3e###title给定一个n×n的二维矩阵表示一个图像。将图像顺时针旋转90度。说明:你必须在原地旋转图像,这意味着你需要直接修改输入的二维矩阵。请不要使用另一个矩阵来旋转图像。示例1:```给定matrix=[[1,2,3],[4,5,6],[7,8,9]],原地旋转输入矩阵,使其变为:[[7,4,1],[8,5,2],[9,6,3]]```示例2:```给定matrix=[[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]],原地旋转输入矩阵,使其变为:[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]```###analyze这类题目可以采用如下思路:1.matrix.reverse(),得```[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]```2.然后以左上角到右下角的线作为翻转线进行翻转,这里找规律```123456只需对4进行处理78978``````js/***@param{number[][]}matrix*@return{void}Donotreturnanything,modifymatrixin-placeinstead.*/varrotate=function(matrix){matrix.reverse()lettmpfor(letx=0;x<matrix.length;x++){for(lety=0;y<x;y++){tmp=matrix[x][y]matrix[x][y]=matrix[y][x]matrix[y][x]=tmp}}console.log(matrix)};```"},{name:"49.Group_Anagrams.md",path:"/LeetCode/49.Group_Anagrams.md",type:"file",mdconf:{abbrlink:"ocmgoy82"},birthtime:"2021-12-08",mtime:"2021-12-08",size:827,extension:".md",relative:"/LeetCode/49.Group_Anagrams.md",isEmpty:!1,content:'\x3c!--abbrlink:ocmgoy82--\x3e###titleGivenanarrayofstrings,groupanagramstogether.Example:```jsInput:["eat","tea","tan","ate","nat","bat"],Output:[["ate","eat","tea"],["nat","tan"],["bat"]]```Note:Allinputswillbeinlowercase.Theorderofyouroutputdoesnotmatter.###analyze```js/***@param{string[]}strs*@return{string[][]}*/vargroupAnagrams=function(strs){consttmpObj={}for(leti=0;i<strs.length;i++){constsortStr=strs[i].split(\'\').sort().join(\'\')if(tmpObj[sortStr]){tmpObj[sortStr].push(strs[i])}else{tmpObj[sortStr]=[strs[i]]}}constresult=[]constkeyArr=Object.keys(tmpObj)for(leti=0;i<keyArr.length;i++){result.push(tmpObj[keyArr[i]])}returnresult}```'},{name:"50.Pow.md",path:"/LeetCode/50.Pow.md",type:"file",mdconf:{abbrlink:"3xsoythc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:545,extension:".md",relative:"/LeetCode/50.Pow.md",isEmpty:!1,content:"\x3c!--abbrlink:3xsoythc--\x3e###title实现pow(x,n),即计算x的n次幂函数。示例1:```输入:2.00000,10输出:1024.00000```示例2:```输入:2.10000,3输出:9.26100```示例3:```输入:2.00000,-2输出:0.25000解释:2-2=1/22=1/4=0.25```说明:*-100.0<x<100.0*n是32位有符号整数,其数值范围是[−231,231−1]###analyze```js/***@param{number}x*@param{number}n*@return{number}*/varmyPow=function(x,n){returnMath.pow(x,n)}```"},{name:"51.N-Queens.md",path:"/LeetCode/51.N-Queens.md",type:"file",mdconf:{abbrlink:"s62nzkca"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3036,extension:".md",relative:"/LeetCode/51.N-Queens.md",isEmpty:!1,content:'\x3c!--abbrlink:s62nzkca--\x3e###51.N-QueensThen-queenspuzzleistheproblemofplacing`n`queensonan`nxn`chessboardsuchthatnotwoqueensattackeachother.Given`anintegern`,returnalldistinctsolutionstothen-queenspuzzle.Eachsolutioncontainsadistinctboardconfigurationofthen-queens\'placement,where\'Q\'and\'.\'bothindicateaqueenandanemptyspace,respectively.Example1:```jsInput:n=4Output:[[".Q..","...Q","Q...","..Q."],["..Q.","Q...","...Q",".Q.."]].Q....Q....QorQ...Q......Q..Q..Q..```Explanation:Thereexisttwodistinctsolutionstothe4-queenspuzzleasshownabove.Example2:```jsInput:n=1Output:[["Q"]]```*Constraints:*1<=n<=9###Analyze```js01230.Q..1...Q2Q...3..Q.```关于斜对角线上的限制可以得出以下两条规律。1.罗列从`右上到左下`斜线点发现规律:`横坐标与纵坐标之和为定值`。*`(0,0)`*`(0,1)、(1,0)`*`(0,2)、(1,1)、(2,0)`*`(0,3)、(1,2)、(2,1)、(3,0)`*`(1,3)、(2,2)、(3,1)`*`(2,3)、(3,2)`*`(3,3)`2.罗列从`左上到右下`斜线点发现规律:`横坐标与纵坐标之差为定值`。*`(3,0)`*`(2,0)、(3,1)`*`(1,0)、(2,1)、(3,2)`*`(0,0)、(1,1)、(2,2)、(3,3)`*`(0,1)、(1,2)、(2,3)`*`(0,2)、(1,3)`*`(0,3)````js/***@param{number}n*@return{string[][]}*/varsolveNQueens=function(n){constresult=[]constlimit={used:[],x:[],y:[],sum:[],diff:[]}handleNQueens(n,0,limit,result)returnresult};//eg:whennis4,arris[["0,1","1,3","2,0","3,2"],["0,2","1,0","2,3","3,1"]]vargenerate=(arr)=>{constxArr=[]for(letx=0;x<arr.length;x++){const[queueX,queueY]=arr[x].split(\',\')letyStr=\'\'for(lety=0;y<arr.length;y++){if(x===Number(queueX)&&y===Number(queueY)){yStr=yStr+\'Q\'}else{yStr=yStr+\'.\'}}xArr.push(yStr)}returnxArr}//handlethepositionwiththeindexrowfromnQueue.varhandleNQueens=(n,index,limit,result)=>{if(limit.x.length===n){result.push(generate([...limit.used]))return}//第index行安置在第几列中for(lety=0;y<n;y++){constsum=index+yconstdiff=index-yif(limit.used.indexOf(`${index},${y}`)>-1||limit.x.indexOf(index)>-1||limit.y.indexOf(y)>-1||limit.sum.indexOf(sum)>-1||limit.diff.indexOf(diff)>-1){continue}limit.used.push(`${index},${y}`)limit.x.push(index)limit.y.push(y)limit.sum.push(sum)limit.diff.push(diff)handleNQueens(n,index+1,limit,result)limit.used.pop()limit.x.pop()limit.y.pop()limit.sum.pop()limit.diff.pop()}}```'},{name:"52.N-Queens_II.md",path:"/LeetCode/52.N-Queens_II.md",type:"file",mdconf:{abbrlink:"dap4pd1s"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2900,extension:".md",relative:"/LeetCode/52.N-Queens_II.md",isEmpty:!1,content:'\x3c!--abbrlink:dap4pd1s--\x3e###51.N-QueensThen-queenspuzzleistheproblemofplacingnqueensonannxnchessboardsuchthatnotwoqueensattackeachother.Givenanintegern,returnthenumberofdistinctsolutionstothen-queenspuzzle.Example1:```jsInput:n=4Output:2Explanation:Therearetwodistinctsolutionstothe4-queenspuzzleasshown..Q....Q....QorQ...Q......Q..Q..Q..```Explanation:Thereexisttwodistinctsolutionstothe4-queenspuzzleasshownabove.Example2:```jsInput:n=1Output:1```*Constraints:*1<=n<=9###Analyze```js01230.Q..1...Q2Q...3..Q.```关于斜对角线上的限制可以得出以下两条规律。1.罗列从`右上到左下`斜线点发现规律:`横坐标与纵坐标之和为定值`。*`(0,0)`*`(0,1)、(1,0)`*`(0,2)、(1,1)、(2,0)`*`(0,3)、(1,2)、(2,1)、(3,0)`*`(1,3)、(2,2)、(3,1)`*`(2,3)、(3,2)`*`(3,3)`2.罗列从`左上到右下`斜线点发现规律:`横坐标与纵坐标之差为定值`。*`(3,0)`*`(2,0)、(3,1)`*`(1,0)、(2,1)、(3,2)`*`(0,0)、(1,1)、(2,2)、(3,3)`*`(0,1)、(1,2)、(2,3)`*`(0,2)、(1,3)`*`(0,3)````js/***@param{number}n*@return{number}*/vartotalNQueens=function(n){constresult=[]constlimit={used:[],x:[],y:[],sum:[],diff:[]}handleNQueens(n,0,limit,result)returnresult.length};//eg:whennis4,arris[["0,1","1,3","2,0","3,2"],["0,2","1,0","2,3","3,1"]]vargenerate=(arr)=>{constxArr=[]for(letx=0;x<arr.length;x++){const[queueX,queueY]=arr[x].split(\',\')letyStr=\'\'for(lety=0;y<arr.length;y++){if(x===Number(queueX)&&y===Number(queueY)){yStr=yStr+\'Q\'}else{yStr=yStr+\'.\'}}xArr.push(yStr)}returnxArr}//handlethepositionwiththeindexrowfromnQueue.varhandleNQueens=(n,index,limit,result)=>{if(limit.x.length===n){result.push(generate([...limit.used]))return}//第index行安置在第几列中for(lety=0;y<n;y++){constsum=index+yconstdiff=index-yif(limit.used.indexOf(`${index},${y}`)>-1||limit.x.indexOf(index)>-1||limit.y.indexOf(y)>-1||limit.sum.indexOf(sum)>-1||limit.diff.indexOf(diff)>-1){continue}limit.used.push(`${index},${y}`)limit.x.push(index)limit.y.push(y)limit.sum.push(sum)limit.diff.push(diff)handleNQueens(n,index+1,limit,result)limit.used.pop()limit.x.pop()limit.y.pop()limit.sum.pop()limit.diff.pop()}}```'},{name:"61.Rotate_List.md",path:"/LeetCode/61.Rotate_List.md",type:"file",mdconf:{abbrlink:"yu3m7erj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2e3,extension:".md",relative:"/LeetCode/61.Rotate_List.md",isEmpty:!1,content:"\x3c!--abbrlink:yu3m7erj--\x3e###61.RotateListGivenalinkedlist,rotatethelisttotherightbykplaces,where`kisnon-negative`.Example1:```jsInput:1->2->3->4->5->NULL,k=2Output:4->5->1->2->3->NULLExplanation:rotate1stepstotheright:5->1->2->3->4->NULLrotate2stepstotheright:4->5->1->2->3->NULL```Example2:```jsInput:0->1->2->NULL,k=4Output:2->0->1->NULLExplanation:rotate1stepstotheright:2->0->1->NULLrotate2stepstotheright:1->2->0->NULLrotate3stepstotheright:0->1->2->NULLrotate4stepstotheright:2->0->1->NULL```###Analyze分析:该题可以转化为从尾部向前数到第k个元素,将该元素作为头节点,同时将初始尾节点的下一个节点指向初始头节点。1.第一步:遍历一遍链表得到初始尾结点last;2.第二步:l与r距离保持为modK+1;3.第三步:l与r同时向右移动,直到r为null,则l为要分割的元素;>此外如果链表长度为0或者链表长度与k相等时,则链表实际上没有旋转交换位置。```jslrdummy->1->2->3->4->5->NULL..lrdummy->1->2->3->4->5->NULL``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@param{number}k*@return{ListNode}*/varrotateRight=function(head,k){constdummy=newListNode(0)dummy.next=headletcount=0letlast=dummywhile(last.next){last=last.nextcount++}if(count===0||count===k)returndummy.nextconstmodK=k%countletdiff=modK+1letl=dummyletr=dummywhile(diff--){r=r.next}while(r){r=r.nextl=l.next}last.next=dummy.nextdummy.next=l.nextl.next=nullreturndummy.next}```###SisterTitle19"},{name:"62.Unique_Paths.md",path:"/LeetCode/62.Unique_Paths.md",type:"file",mdconf:{abbrlink:"95geaysm"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1976,extension:".md",relative:"/LeetCode/62.Unique_Paths.md",isEmpty:!1,content:"\x3c!--abbrlink:95geaysm--\x3e###62.UniquePathsArobotislocatedatthetop-leftcornerofamxngrid(marked'Start'inthediagrambelow).Therobotcanonlymoveeither`downorright`atanypointintime.Therobotistryingtoreachthebottom-rightcornerofthegrid(marked'Finish'inthediagrambelow).Howmanypossibleuniquepathsarethere?Example1:![](https://assets.leetcode.com/uploads/2018/10/22/robot_maze.png)```jsInput:m=3,n=7Output:28```Example2:```jsInput:m=3,n=2Output:3```Explanation:Fromthetop-leftcorner,thereareatotalof3waystoreachthebottom-rightcorner:1.Right->Down->Down2.Down->Down->Right3.Down->Right->DownExample3:```jsInput:m=7,n=3Output:28```Example4:```jsInput:m=3,n=3Output:6```*Constraints:*1<=m,n<=100*It'sguaranteedthattheanswerwillbelessthanorequalto2*109.###Analyze记忆递归法:```jsconstcache={}/***@param{number}m*@param{number}n*@return{number}*/varuniquePaths=function(m,n){if(m===1||n===1){return1}if(cache[`${m}~${n}`]){returncache[`${m}~${n}`]}else{constnums=uniquePaths(m-1,n)+uniquePaths(m,n-1)cache[`${m}~${n}`]=numsreturnnums}}```动态规划法:```js/***@param{number}m*@param{number}n*@return{number}*/varuniquePaths=function(m,n){constcache={[`${m-1}_${n-1}`]:1}for(letx=m-1;x>=0;x--){for(lety=n-1;y>=0;y--){if(x===m-1&&y===n-1){continue}if(y+1===n){cache[`${x}_${y}`]=cache[`${x+1}_${y}`]}elseif(x+1===m){cache[`${x}_${y}`]=cache[`${x}_${y+1}`]}else{cache[`${x}_${y}`]=cache[`${x}_${y+1}`]+cache[`${x+1}_${y}`]}}}returncache['0_0']}```###SimilarTitle63"},{name:"63.Unique_Paths_II.md",path:"/LeetCode/63.Unique_Paths_II.md",type:"file",mdconf:{abbrlink:"u12sjh1d"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2044,extension:".md",relative:"/LeetCode/63.Unique_Paths_II.md",isEmpty:!1,content:"\x3c!--abbrlink:u12sjh1d--\x3e###63.UniquePathsIIArobotislocatedatthetop-leftcornerofamxngrid(marked'Start'inthediagrambelow).Therobotcanonlymoveeither`downorright`atanypointintime.Therobotistryingtoreachthebottom-rightcornerofthegrid(marked'Finish'inthediagrambelow).Nowconsiderifsomeobstaclesareaddedtothegrids.Howmanyuniquepathswouldtherebe?Anobstacleandspaceismarkedas1and0respectivelyinthegrid.Example1:![](https://assets.leetcode.com/uploads/2020/11/04/robot1.jpg)```jsInput:obstacleGrid=[[0,0,0],[0,1,0],[0,0,0]]Output:2```Explanation:Thereisoneobstacleinthemiddleofthe3x3gridabove.Therearetwowaystoreachthebottom-rightcorner:1.Right->Right->Down->Down2.Down->Down->Right->RightExample2:![](https://assets.leetcode.com/uploads/2020/11/04/robot2.jpg)```jsInput:obstacleGrid=[[0,1],[0,0]]Output:1```*Constraints:*m==obstacleGrid.length*n==obstacleGrid[i].length*1<=m,n<=100*obstacleGrid[i][j]is0or1.###Analyze```js/***@param{number[][]}obstacleGrid*@return{number}*/varuniquePathsWithObstacles=function(obstacleGrid){constm=obstacleGrid.lengthconstn=obstacleGrid[0].lengthif(obstacleGrid[m-1][n-1]===1)return0constcache={[`${m-1}_${n-1}`]:1}for(leti=m-1;i>=0;i--){for(letj=n-1;j>=0;j--){if(obstacleGrid[i][j]===1){continue}if(i===m-1&&j===n-1){continue}elseif(i===m-1){if(!cache[`${i}_${j+1}`])continuecache[`${i}_${j}`]=cache[`${i}_${j+1}`]}elseif(j===n-1){if(!cache[`${i+1}_${j}`])continuecache[`${i}_${j}`]=cache[`${i+1}_${j}`]}else{cache[`${i}_${j}`]=(cache[`${i+1}_${j}`]||0)+(cache[`${i}_${j+1}`]||0)}}}returncache[`0_0`]||0}```###SimilarTitle62"},{name:"64.Minimum_Path_Sum.md",path:"/LeetCode/64.Minimum_Path_Sum.md",type:"file",mdconf:{abbrlink:"pb5iw1p1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2139,extension:".md",relative:"/LeetCode/64.Minimum_Path_Sum.md",isEmpty:!1,content:"\x3c!--abbrlink:pb5iw1p1--\x3e###64.MinimumPathSumGivenamxngridfilledwith`non-negativenumbers`,findapathfromtoplefttobottomright,whichminimizesthesumofallnumbersalongitspath.Note:Youcanonly`moveeitherdownorright`atanypointintime.Example1:```js131151421Input:grid=[[1,3,1],[1,5,1],[4,2,1]]Output:7Explanation:Becausethepath1→3→1→1→1minimizesthesum.```Example2:```js123456Input:grid=[[1,2,3],[4,5,6]]Output:12```*m==grid.length*n==grid[i].length*1<=m,n<=200*0<=grid[i][j]<=100###analyze动态规划一:```js/***@param{number[][]}grid*@return{number}*/varminPathSum=function(grid){constm=grid.lengthconstn=grid[0].lengthconstcache={}returnfindMinCount(m-1,n-1,grid,cache)}functionfindMinCount(x,y,grid,cache){if(cache[`${x}~${y}`]){returncache[`${x}~${y}`]}letcount=0if(x===0&&y===0){count=grid[0][0]}elseif(x===0){count=findMinCount(0,y-1,grid,cache)+grid[0][y]}elseif(y===0){count=findMinCount(x-1,y,grid,cache)+grid[x][0]}if(x>0&&y>0){count=Math.min(findMinCount(x-1,y,grid,cache),findMinCount(x,y-1,grid,cache))+grid[x][y]}cache[`${x}~${y}`]=countreturncount}```动态规划二:```js/***@param{number[][]}grid*@return{number}*/varminPathSum=function(grid){constmLength=grid.lengthconstnLength=grid[0].lengthconstcache=[]for(letm=mLength-1;m>=0;m--){for(letn=nLength-1;n>=0;n--){if(!cache[m])cache[m]=[]if(m+1>=mLength&&n+1>=nLength){cache[m][n]=grid[m][n]}elseif(m+1>=mLength){cache[m][n]=cache[m][n+1]+grid[m][n]}elseif(n+1>=nLength){cache[m][n]=cache[m+1][n]+grid[m][n]}else{cache[m][n]=Math.min(cache[m+1][n],cache[m][n+1])+grid[m][n]}}}returncache[0][0]}```###SimilarTitle120"},{name:"66.Plus_One.md",path:"/LeetCode/66.Plus_One.md",type:"file",mdconf:{abbrlink:"b7ztxnsa"},birthtime:"2021-12-08",mtime:"2021-12-08",size:714,extension:".md",relative:"/LeetCode/66.Plus_One.md",isEmpty:!1,content:"\x3c!--abbrlink:b7ztxnsa--\x3e/***@param{number[]}digits*@return{number[]}*/varplusOne=function(digits){letlength=digits.lengthlettag=0while(length){if(length===digits.length){if(digits[length-1]+1+tag>=10){digits[length-1]=0tag=1}else{digits[length-1]=digits[length-1]+1tag=0break}}else{if(digits[length-1]+tag>=10){digits[length-1]=0tag=1}else{digits[length-1]=digits[length-1]+1tag=0break}}length--}if(tag===1){digits.unshift(1)}returndigits};"},{name:"67.Add_Binary.md",path:"/LeetCode/67.Add_Binary.md",type:"file",mdconf:{abbrlink:"2z18f815"},birthtime:"2021-12-08",mtime:"2021-12-08",size:681,extension:".md",relative:"/LeetCode/67.Add_Binary.md",isEmpty:!1,content:"\x3c!--abbrlink:2z18f815--\x3e###tip注意`x+y+tag`的判断###Analyze```js/***@param{string}a*@param{string}b*@return{string}*/varaddBinary=function(a,b){constal=a.length,bl=b.lengthconstlength=Math.max(al,bl)lettag=0letstr=''for(leti=0;i<length;i++){constx=i<al?+a[al-i-1]:0consty=i<bl?+b[bl-i-1]:0constaddValue=((x+y+tag===1)||(x+y+tag===3))?'1':'0'str+=addValueif(x+y+tag>1){tag=1}else{tag=0}}if(tag===1){str+='1'}returnstr.split('').reverse().join('')};```"},{name:"69.Sqrt_X.md",path:"/LeetCode/69.Sqrt_X.md",type:"file",mdconf:{abbrlink:"ipo96793"},birthtime:"2021-12-08",mtime:"2021-12-08",size:166,extension:".md",relative:"/LeetCode/69.Sqrt_X.md",isEmpty:!1,content:"\x3c!--abbrlink:ipo96793--\x3e```js/***@param{number}x*@return{number}*/varmySqrt=function(x){return+Math.sqrt(x).toString().split('.')[0]};```"},{name:"70.Climbing_Stairs.md",path:"/LeetCode/70.Climbing_Stairs.md",type:"file",mdconf:{abbrlink:"ufw4sj6f"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1509,extension:".md",relative:"/LeetCode/70.Climbing_Stairs.md",isEmpty:!1,content:"\x3c!--abbrlink:ufw4sj6f--\x3e###70.ClimbingStairsYouareclimbingastaircase.Ittakesnstepstoreachthetop.Eachtimeyoucaneitherclimb1or2steps.Inhowmanydistinctwayscanyouclimbtothetop?Example1:```jsInput:n=2Output:2Explanation:Therearetwowaystoclimbtothetop.1.1step+1step2.2steps```Example2:```jsInput:n=3Output:3Explanation:Therearethreewaystoclimbtothetop.1.1step+1step+1step2.1step+2steps3.2steps+1step```###Analyze*到达当前的台阶的方法有两种:*一种方法是从`上一级台阶加一`;*另一种方法是从`上上一级台阶加二`;所以到达当前台阶的方法之和可以用以下式子表示:`f(n)=f(n-1)+f(n-2)`。因此该问题与解斐波那契数列是相同的场景。以下提供`记忆化递归`与`动态规划`两种解法:*记忆化递归方法:```jsconstarr=[1,2]/***@param{number}n*@return{number}*/varclimbStairs=function(n){if(n===1)returnarr[0]if(n===2)returnarr[1]if(arr[n])returnarr[n]arr[n]=climbStairs(n-1)+climbStairs(n-2)returnarr[n]}```*[动态规划](https://github.com/MuYunyun/blog/blob/main/Algorithm/algorithm/dynamic_programming.md)方法:```js/***@param{number}n*@return{number}*/varclimbStairs=function(n){constarr=[1,2]for(leti=2;i<n;i++){arr[i]=arr[i-1]+arr[i-2]}returnarr[n-1]}```"},{name:"71.Simplify_Path.md",path:"/LeetCode/71.Simplify_Path.md",type:"file",mdconf:{abbrlink:"vo45d36y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2083,extension:".md",relative:"/LeetCode/71.Simplify_Path.md",isEmpty:!1,content:'\x3c!--abbrlink:vo45d36y--\x3e###71.Simplify_PathGivenanabsolutepathforafile(Unix-style),simplifyit.Orinotherwords,convertittothecanonicalpath.InaUNIX-stylefilesystem,aperiod.referstothecurrentdirectory.Furthermore,adoubleperiod..movesthedirectoryupalevel.Formoreinformation,see:AbsolutepathvsrelativepathinLinux/UnixNotethatthereturnedcanonicalpathmustalways`beginwithaslash/`,andtheremustbe`onlyasingleslash/betweentwodirectorynames`.Thelastdirectoryname(ifitexists)must`notendwithatrailing/`.Also,thecanonicalpathmustbetheshorteststringrepresentingtheabsolutepath.Example1:Explanation:Notethatthereisnotrailingslashafterthelastdirectoryname.```jsInput:"/home/"Output:"/home"```Example2:Explanation:Goingonelevelupfromtherootdirectoryisano-op,astherootlevelisthehighestlevelyoucango.```jsInput:"/../"Output:"/"```Example3:Explanation:Inthecanonicalpath,multipleconsecutiveslashesarereplacedbyasingleone.```jsInput:"/home//foo/"Output:"/home/foo"```Example4:```jsInput:"/a/./b/../../c/"Output:"/c"```Example5:```jsInput:"/a/../../b/../c//.//"Output:"/c"```Example6:```jsInput:"/a//b////c/d//././/.."Output:"/a/b/c"```###Analyze可以用栈的思想来完成解题;1.使用\'/\'分割path为得到数组;2.对以下几种情况分别处理:1.如果遇见\'.\'或者\'\',则忽略;2.如果遇见字母,则将其推入栈的末尾;3.如果遇见\'..\',则从栈末尾移除一个元素;```js/***@param{string}path*@return{string}*/varsimplifyPath=function(path){constpathArr=path.split(\'/\')conststack=[]for(leti=0;i<pathArr.length;i++){if(pathArr[i]===\'..\'){stack.pop()}elseif(pathArr[i]===\'.\'||pathArr[i]===\'\'){continue}else{stack.push(pathArr[i])}}return`/${stack.join(\'/\')}`}```###SimilarTitle20、150'},{name:"75.Sort_Colors.md",path:"/LeetCode/75.Sort_Colors.md",type:"file",mdconf:{abbrlink:"tozzlyqs"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2678,extension:".md",relative:"/LeetCode/75.Sort_Colors.md",isEmpty:!1,content:"\x3c!--abbrlink:tozzlyqs--\x3e###题目给定一个包含红色、白色和蓝色，一共n个元素的数组，原地对它们进行排序，使得相同颜色的元素相邻，并按照红色、白色、蓝色顺序排列。此题中，我们使用整数0、1和2分别表示红色、白色和蓝色。注意:不能使用代码库中的排序函数来解决这道题。示例:```js输入:[2,0,2,1,1,0]输出:[0,0,1,1,2,2]```进阶:一个直观的解决方案是使用计数排序的两趟扫描算法。首先，迭代计算出0、1和2元素的个数，然后按照0、1、2的排序，重写当前数组。你能想出一个仅使用常数空间的一趟扫描算法吗？###解题解法一:计数排序,在该题目中分别统计出0、1、2出现的个数,并将相应个数的0、1、2放回数组。>计数排序适用于数组元素非常有限的场景。```js输入[2,0,2,1,1,0]输出[0,1,2,1,1,0]预期结果[0,0,1,1,2,2]``````js/***@param{number[]}nums*@return{void}Donotreturnanything,modifynumsin-placeinstead.*/varsortColors=function(nums){letcountObj={}for(leti=0;i<nums.length;i++){constkey=nums[i]if(typeof(countObj[`${key}`])==='number'){countObj[`${key}`]=countObj[`${key}`]+1}else{countObj[`${key}`]=1}}constcount0=countObj[0]||0constcount1=countObj[1]||0constcount2=countObj[2]||0for(leti=0;i<count0+count1+count2;i++){if(i<count0){nums[i]=0}elseif(i>=count0&&i<count0+count1){nums[i]=1}elseif(i>=count1&&i<count0+count1+count2){nums[i]=2}}}```解法二:三路快排思路:三路快排的思想是同时排序小于选定值，等于选定值和大于选定值三种情况。在这里我们随机选取一个值v作为分界点,分别排序小于v，等于v和大于v的。该题中v为1。![](http://with.muyunyun.cn/9617f034f2e7d0535ac73d51612d2f07.jpg)```js/***@param{number[]}nums*@return{void}Donotreturnanything,modifynumsin-placeinstead.*/varsortColors=function(nums){/***nums[0,zero]=0*nums[two,nums.length-1]=2*/let[zero,two]=[0,nums.length-1]for(leti=0;i<=two;i++){if(nums[i]===0){[nums[i],nums[zero]]=[nums[zero],nums[i]]zero++}if(nums[i]===2){[nums[i],nums[two]]=[nums[two],nums[i]]i--two--}}}```该算法的时间复杂度为O(n),空间复杂度为O(1)。###镜像题目88、215"},{name:"76.Minimum_Window_Substring.md",path:"/LeetCode/76.Minimum_Window_Substring.md",type:"file",mdconf:{abbrlink:"pusrzoja"},birthtime:"2021-12-08",mtime:"2021-12-08",size:585,extension:".md",relative:"/LeetCode/76.Minimum_Window_Substring.md",isEmpty:!1,content:'\x3c!--abbrlink:pusrzoja--\x3e###title给你一个字符串S、一个字符串T，请在字符串S里面找出:包含T所有字母的最小子串。示例：```js输入:S="ADOBECODEBANC",T="ABC"输出:"BANC"说明：```如果S中不存这样的子串，则返回空字符串""。如果S中存在这样的子串，我们保证它是唯一的答案。###解题解法:滑动窗口,先略过(凉凉)```js/***@param{string}s*@param{string}t*@return{string}*/varminWindow=function(s,t){};```###SisterTitle3、209、438'},{name:"77.Combinations.md",path:"/LeetCode/77.Combinations.md",type:"file",mdconf:{abbrlink:"c92n6qd7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3117,extension:".md",relative:"/LeetCode/77.Combinations.md",isEmpty:!1,content:"\x3c!--abbrlink:c92n6qd7--\x3e###77.CombinationsGiventwointegersnandk,returnallpossiblecombinationsofknumbersoutof1...n.Youmayreturntheanswerinanyorder.Example1:```jsInput:n=4,k=2Output:[[2,4],[3,4],[2,3],[1,2],[1,3],[1,4],]```Example2:```jsInput:n=1,k=1Output:[[1]]```Constraints:*1<=n<=20*1<=k<=n###analyzen:1,2,3,4k:2*1*2*3*4*2*3*4*3*4组合问题中,不同顺序的解为同一个。比如`[1,2],[2,1]`为相同解。此外可以发现规律,保留所有`增序排列的解`即为组合的解。```js/***@param{number}n*@param{number}k*@return{number[][]}*/varcombine=function(n,k){constresult=[]backTrace(n,k,1,[],result)returnresult};varbackTrace=function(n,k,index,temp,result){if(temp.length===k){if(ifIncrease(temp)){result.push([...temp])}return}for(leti=index;i<=n;i++){temp.push(i)backTrace(n,k,index+1,temp,result)temp.pop()}}varifIncrease=function(arr){for(leti=0;i<arr.length-1;i++){if(arr[i]>=arr[i+1])returnfalse}returntrue}```提交,此时报超时的错误。经排查发现,截支的地方存在问题,当前在temp中的值被重复使用了。修改如下```diff-backTrace(n,k,index+1,temp,result)+backTrace(n,k,i+1,temp,result)``````js/***@param{number}n*@param{number}k*@return{number[][]}*/varcombine=function(n,k){constresult=[]backTrace(n,k,1,[],result)returnresult};varbackTrace=function(n,k,index,temp,result){if(temp.length===k){result.push([...temp])return}for(leti=index;i<=n;i++){temp.push(i)backTrace(n,k,i+1,temp,result)temp.pop()}}```###回溯法剪支还是以`n=5,k=3`为例,上述代码中,实际遍历的顺序如下:```js*1*2*3*4*5*3*4*5*4*5*5//减支*2*3*4*5*4*5*5//减支*3*4*5*5//减支*4//减支```此时,当第一列的值到达3时,达到`搜索上界`,[3,4,5]是其中一个解。如果再往后遍历,4作为解的开头,则位数达不到3位,不满足要求了。同理第二列的搜索上界为4。第三列的搜索上界为5。接着结合代码进行优化:```js/***@param{number}n*@param{number}k*@return{number[][]}*/varcombine=function(n,k){constresult=[]backTrace(n,k,1,[],result)returnresult};varbackTrace=function(n,k,index,temp,result){if(temp.length===k){result.push([...temp])return}//题目可以转化为从搜索上界到n中要取的数字长度为(k-temp.length)。//可以得出搜索上界为:n-(k-temp.length)+1for(leti=index;i<=n-(k-temp.length)+1;i++){temp.push(i)backTrace(n,k,i+1,temp,result)temp.pop()}}```"},{name:"78.Subsets.md",path:"/LeetCode/78.Subsets.md",type:"file",mdconf:{abbrlink:"jfaw5hq9"},birthtime:"2021-12-08",mtime:"2021-12-08",size:912,extension:".md",relative:"/LeetCode/78.Subsets.md",isEmpty:!1,content:"\x3c!--abbrlink:jfaw5hq9--\x3e###78.SubsetsGivenanintegerarraynums,returnallpossiblesubsets(thepowerset).`Thesolutionsetmustnotcontainduplicatesubsets`.Example1:```jsInput:nums=[1,2,3]Output:[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]```Example2:```jsInput:nums=[0]Output:[[],[0]]```Constraints:*1<=nums.length<=10*-10<=nums[i]<=10###Analyze由题意可知该题是组合问题,可以使用回溯法解决。```js/***@param{number[]}nums*@return{number[][]}*/varsubsets=function(nums){constlist=[]consttmpList=[]backTrack(list,tmpList,nums,0)returnlist};functionbackTrack(list,tmpList,nums,start){list.push(tmpList.slice())for(leti=start;i<nums.length;i++){tmpList.push(nums[i])backTrack(list,tmpList,nums,i+1)tmpList.splice(tmpList.length-1,1)}}```"},{name:"79.Word_Search.md",path:"/LeetCode/79.Word_Search.md",type:"file",mdconf:{abbrlink:"8yspgf2t"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4457,extension:".md",relative:"/LeetCode/79.Word_Search.md",isEmpty:!1,content:'\x3c!--abbrlink:8yspgf2t--\x3e###79.WordSearchGivenan`mxn`boardandaword,findifthewordexistsinthegrid.Thewordcanbeconstructedfromlettersofsequentiallyadjacentcells,where"adjacent"cellsarehorizontallyorverticallyneighboring.The`samelettercellmaynotbeusedmorethanonce`.Example1:![](https://assets.leetcode.com/uploads/2020/11/04/word2.jpg)```jsInput:board=[["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]],word="ABCCED"Output:true```Example2:![](https://assets.leetcode.com/uploads/2020/11/04/word-1.jpg)```jsInput:board=[["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]],word="SEE"Output:true```Example3:![](https://assets.leetcode.com/uploads/2020/10/15/word3.jpg)```jsInput:board=[["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]],word="ABCB"Output:false```Constraints:*m===board.length*n===board[i].length*1<=m,n<=200*1<=word.length<=103*boardandwordconsistsonlyoflowercaseanduppercaseEnglishletters.```jsy列x行CAAAAABCD```AAB->true```jsy列x行aaaaaaaaaaaa```###Analyze```jsy列x行ABCEword:ABCBSFCSADEE```二维数组找路径适合用回溯法。每个节点根据`下、右、上、左`四个方向回溯查找元素。拿`ABCCED`作为例子,括号中为淘汰的值。A(S)->B(F)->C->C->E(空、E、C)->D```js/***@param{character[][]}board*@param{string}word*@return{boolean}*/varexist=function(board,word){for(letx=0;x<board.length;x++){for(lety=0;y<board[x].length;y++){if(word.length===1&&word[0]===board[x][y]){returntrue}if(word[0]===board[x][y]){constifValid=backTrace(board,word,1,x,y,[])if(ifValid)returnifValid}}}returnfalse};/***start:meansstartofword*x:row*y:column**/varbackTrace=(board,word,start,x,y,used)=>{used.push(`${x},${y}`)constuseBottom=used.indexOf(`${x+1},${y}`)===-1&&word[start]===(board[x+1]&&board[x+1][y])constuseRight=used.indexOf(`${x},${y+1}`)===-1&&word[start]===(board[x]&&board[x][y+1])constuseTop=used.indexOf(`${x-1},${y}`)===-1&&word[start]===(board[x-1]&&board[x-1][y])constuseLeft=used.indexOf(`${x},${y-1}`)===-1&&word[start]===(board[x]&&board[x][y-1])if(start===word.length-1&&(useRight||useBottom||useLeft||useTop)){returntrue}if(useBottom){consttag=backTrace(board,word,start+1,x+1,y,used)used.pop()if(tag)returntag}if(useRight){consttag=backTrace(board,word,start+1,x,y+1,used)used.pop()if(tag)returntag}if(useTop){consttag=backTrace(board,word,start+1,x-1,y,used)used.pop()if(tag)returntag}if(useLeft){consttag=backTrace(board,word,start+1,x,y-1,used)used.pop()if(tag)returntag}returnfalse}```思考:这道题的解法可以用来解决生活中部分「迷宫类」的问题。###优化*几个关键点*终止条件优化*使用for循环优化4个方向```js/***@param{character[][]}board*@param{string}word*@return{boolean}*/varexist=function(board,word){for(letx=0;x<board.length;x++){for(lety=0;y<board[x].length;y++){constifValid=backTrace(board,word,0,x,y,[])if(ifValid)returntrue}}returnfalse};vardirections=[[1,0],[0,1],[-1,0],[0,-1]]//下、右、上、左/***start:meansstartofword*x:row*y:column**/varbackTrace=(board,word,start,x,y,used)=>{constkey=`${x},${y}`if(start===word.length-1&&used.indexOf(key)===-1&&word[start]===(board[x]&&board[x][y])){returntrue}for(leti=0;i<directions.length;i++){if(word[start]===(board[x]&&board[x][y])&&used.indexOf(key)===-1){used.push(key)consttag=backTrace(board,word,start+1,x+directions[i][0],y+directions[i][1],used)used.pop()if(tag)returntrue}}returnfalse}```优化后代码量减少32%。###sistertitle130、200'},{name:"80.Remove_Duplicates_from_Sorted_Array_II.md",path:"/LeetCode/80.Remove_Duplicates_from_Sorted_Array_II.md",type:"file",mdconf:{abbrlink:"wu7uonrc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1894,extension:".md",relative:"/LeetCode/80.Remove_Duplicates_from_Sorted_Array_II.md",isEmpty:!1,content:"\x3c!--abbrlink:wu7uonrc--\x3e###题目给定一个排序数组，你需要在原地删除重复出现的元素，使得每个元素最多出现两次，返回移除后数组的新长度。`不要使用额外的数组空间`，你必须在原地修改输入数组并在使用O(1)额外空间的条件下完成。示例1:给定`nums=[1,1,1,2,2,3]`,函数应返回新长度length=5,并且原数组的前五个元素被修改为1,1,2,2,3。你`不需要考虑数组中超出新长度后面的元素`。示例2:给定`nums=[0,0,1,1,1,1,2,3,3]`,函数应返回新长度length=7,并且原数组的前五个元素被修改为0,0,1,1,2,3,3。你不需要考虑数组中超出新长度后面的元素。说明:为什么返回数值是整数，但输出的答案是数组呢?请注意，输入数组是以“引用”方式传递的，这意味着在函数里修改输入数组对于调用者是可见的。你可以想象内部操作如下:```js//nums是以“引用”方式传递的。也就是说，不对实参做任何拷贝intlen=removeDuplicates(nums);//在函数里修改输入数组对于调用者是可见的。//根据你的函数返回的长度,它会打印出数组中该长度范围内的所有元素。for(inti=0;i<len;i++){print(nums[i]);}```###解题![](http://with.muyunyun.cn/e1ebb0d0612908377d6aca476611f03d.jpg)```js/***@param{number[]}nums*@return{number}*/varremoveDuplicates=function(nums){if(nums.length<=2)returnnums.lengthletcur=1//新数组的下标位数for(leti=2;i<nums.length;i++){//对题目中每个元素最多出现两次的条件作限制if(nums[i]!==nums[cur-1]){nums[cur+1]=nums[i]cur++}}returncur+1}```###同类题目关键词:双指针。26、27、283。"},{name:"82.Remove_Duplicates_from_Sorted_List_II.md",path:"/LeetCode/82.Remove_Duplicates_from_Sorted_List_II.md",type:"file",mdconf:{abbrlink:"6jnx1v9f"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1569,extension:".md",relative:"/LeetCode/82.Remove_Duplicates_from_Sorted_List_II.md",isEmpty:!1,content:"\x3c!--abbrlink:6jnx1v9f--\x3e###RemoveDuplicatesfromSortedListIIGivena`sortedlinkedlist`,deleteallnodesthathaveduplicatenumbers,leavingonlydistinctnumbersfromtheoriginallist.Example1:```jsInput:1->2->3->3->4->4->5Output:1->2->5```Example2:```jsInput:1->1->1->2->3Output:2->3```###Analyze思路:`快慢指针`,用快指针跳过有重复值的链表,慢指针负责和快指针拼接!思路比较精妙,后面值得二刷。```jsscur/q//s:slow;q:quick1->1->1->2->3..s->curq1->1->1->2->3..nexts---------------\x3ecur/q1->1->1->2->3..scur/q1->1->1->2->3..s1->1->1->2->3``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@return{ListNode}*/vardeleteDuplicates=function(head){constdummyHead=newListNode(0)dummyHead.next=headletslowPoint=dummyHeadwhile(slowPoint.next){letcur=slowPoint.nextletquickPoint=curwhile(quickPoint.next&&quickPoint.next.val===cur.val){quickPoint=quickPoint.next}if(cur===quickPoint){slowPoint=slowPoint.next}else{slowPoint.next=quickPoint.next}}returndummyHead.next}```"},{name:"83.Remove_Duplicates_from_Sorted_List.md",path:"/LeetCode/83.Remove_Duplicates_from_Sorted_List.md",type:"file",mdconf:{abbrlink:"flnvncsp"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1079,extension:".md",relative:"/LeetCode/83.Remove_Duplicates_from_Sorted_List.md",isEmpty:!1,content:"\x3c!--abbrlink:flnvncsp--\x3e###TitleGivenasortedlinkedlist,deleteallduplicatessuchthateachelementappearonlyonce.Example1:```jsInput:1->1->2Output:1->2```Example2:```jsInput:1->1->2->3->3Output:1->2->3```###Analyze该题思路比较直接,使用cur,next两个指针表示当前值和下一值,若cur指针的值与next指针的值相等,则将next指针往后移动一位即可。```jscurnext1->1->2->3->3curnext1->1->2->3->3``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@return{ListNode}*/vardeleteDuplicates=function(head){constlistNode=newListNode(0)listNode.next=headletcur=listNode.nextwhile(cur){letnext=cur.nextwhile(next&&next.val===cur.val){next=next.next}cur.next=nextcur=cur.next}returnlistNode.next}```###SameTypeQuestion2、86、328、445"},{name:"86.Partition_List.md",path:"/LeetCode/86.Partition_List.md",type:"file",mdconf:{abbrlink:"h3va9hfk"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1342,extension:".md",relative:"/LeetCode/86.Partition_List.md",isEmpty:!1,content:"\x3c!--abbrlink:h3va9hfk--\x3e###titleGivenalinkedlistandavaluex,partitionitsuchthatallnodeslessthanxcomebeforenodesgreaterthanorequaltox.Youshouldpreservetheoriginalrelativeorderofthenodesineachofthetwopartitions.Example:```jsInput:head=1->4->3->2->5->2,x=3Output:1->2->2->4->3->5```###Analyze思路:遍历访问链表head,将链表中小于x与大于等于x的值作拆分成两个链表,最后再将它们给链接起来。*易漏点:大于等于x的链表的末尾的next应该指向null。```js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@param{number}x*@return{ListNode}*/varpartition=function(head,x){constlistNode=newListNode(0)listNode.next=headconstsmallerThanX=newListNode(0)constbiggerThanX=newListNode(0)letcur=listNode.nextletsmallPoint=smallerThanXletbigPoint=biggerThanXwhile(cur){if(cur.val<x){smallPoint.next=cursmallPoint=smallPoint.next}else{bigPoint.next=curbigPoint=bigPoint.next}cur=cur.next}bigPoint.next=nullsmallPoint.next=biggerThanX.nextreturnsmallerThanX.next}```"},{name:"88.Merge_Sorted_Array.md",path:"/LeetCode/88.Merge_Sorted_Array.md",type:"file",mdconf:{abbrlink:"n2c53su4"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1873,extension:".md",relative:"/LeetCode/88.Merge_Sorted_Array.md",isEmpty:!1,content:"\x3c!--abbrlink:n2c53su4--\x3e###题目给定两个有序整数数组nums1和nums2，将nums2合并到nums1中，使得num1成为一个有序数组。说明:*初始化nums1和nums2的元素数量分别为m和n。*你可以假设nums1有足够的空间（空间大小大于或等于m+n）来保存nums2中的元素。示例:```js输入:nums1=[1,2,3,0,0,0],m=3nums2=[2,5,6],n=3输出:[1,2,2,3,5,6]```###解题解法一:运用JavaScript提供的sort函数来排序函数。时间复杂度O(nLogn)```js/***@param{number[]}nums1*@param{number}m*@param{number[]}nums2*@param{number}n*@return{void}Donotreturnanything,modifynums1in-placeinstead.*/varmerge=function(nums1,m,nums2,n){constlength=nums1.lengthfor(leti=0;i<length-m;i++){nums1.pop()}for(leti=0;i<n;i++){nums1.push(nums2[i])nums1.sort((a,b)=>a-b)}}```解法二:题目的本质是归并排序的合部分。所以使用归并排序的思想即可解决。事件复杂度O(n)```js/***@param{number[]}nums1*@param{number}m*@param{number[]}nums2*@param{number}n*@return{void}Donotreturnanything,modifynums1in-placeinstead.*/varmerge=function(nums1,m,nums2,n){letl=0//第一个数组下标letr=0//第二个数组下标constarr=[]while(l<m&&r<n){if(nums1[l]<=nums2[r]){arr.push(nums1[l])l++}elseif(nums1[l]>nums2[r]){arr.push(nums2[r])r++}}while(l<m){arr.push(nums1[l])l++}while(r<n){arr.push(nums2[r])r++}for(leti=0;i<m+n;i++){nums1[i]=arr[i]}}```###todo因为解法二多用了一个数组空间,后续看看怎么优化。"},{name:"89.Gray_Code.md",path:"/LeetCode/89.Gray_Code.md",type:"file",mdconf:{abbrlink:"k3pki2vv"},birthtime:"2021-12-08",mtime:"2021-12-08",size:597,extension:".md",relative:"/LeetCode/89.Gray_Code.md",isEmpty:!1,content:"\x3c!--abbrlink:k3pki2vv--\x3e###什么是格雷编码![](http://with.muyunyun.cn/e4701735e8d53cdc38f92b050bd31f93.jpg)规律:虚线的上下除去首位是映射关系[参考链接](https://zh.wikipedia.org/wiki/%E6%A0%BC%E9%9B%B7%E7%A0%81)###Analyze```js/***@param{number}n*@return{number[]}*///00//01=>//10//11vargrayCode=function(n){constarr=newArray()arr[0]=[0]for(leti=1;i<=n;i++){constnewArr=arr[i-1].slice().reverse().map(r=>r+Math.pow(2,i-1))arr[i]=[...arr[i-1],...newArr]}returnarr[n]}```"},{name:"90.Subsets_II.md",path:"/LeetCode/90.Subsets_II.md",type:"file",mdconf:{abbrlink:"4d3kb44u"},birthtime:"2021-12-08",mtime:"2021-12-08",size:912,extension:".md",relative:"/LeetCode/90.Subsets_II.md",isEmpty:!1,content:"\x3c!--abbrlink:4d3kb44u--\x3e###90.SubsetsIIGivenacollectionofintegersthat`mightcontainduplicatesnums`,returnallpossiblesubsets(thepowerset).Note:Thesolutionsetmustnotcontainduplicatesubsets.Example:Input:[1,2,2]Output:[[2],[1],[1,2,2],[2,2],[1,2],[]]###Analyze回溯法解`组合问题`。*1*1*2*1*2*2*2*2*2```js/***@param{number[]}nums*@return{number[][]}*/varsubsetsWithDup=function(nums){constresult=[]constsortedNums=nums.sort((r1,r2)=>r1-r2)iterator(sortedNums,0,[],result)returnresult};variterator=function(nums,start,temp,result){result.push([...temp])for(leti=start;i<nums.length;i++){if(nums[i]===nums[i-1]&&i!==start){continue}temp.push(nums[i])iterator(nums,i+1,temp,result)temp.pop(nums[i])}}```"},{name:"91.Decode_Ways.md",path:"/LeetCode/91.Decode_Ways.md",type:"file",mdconf:{abbrlink:"fbughfxj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3109,extension:".md",relative:"/LeetCode/91.Decode_Ways.md",isEmpty:!1,content:'\x3c!--abbrlink:fbughfxj--\x3e###90.DecodeWaysAmessagecontaininglettersfromA-Zcanbeencodedintonumbersusingthefollowingmapping:```js\'A\'->"1"\'B\'->"2"...\'Z\'->"26"```Todecodeanencodedmessage,allthedigitsmustbegroupedthenmappedbackintolettersusingthereverseofthemappingabove(theremaybemultipleways).Forexample,"11106"canbemappedinto:*"AAJF"withthegrouping(11106)*"KJF"withthegrouping(11106)Notethatthegrouping(11106)isinvalidbecause`"06"cannotbemappedinto\'F\'since"6"isdifferentfrom"06"`.Givenastringscontainingonlydigits,returnthenumberofwaystodecodeit.Theanswerisguaranteedtofitina32-bitinteger.Example1:```jsInput:s="12"Output:2Explanation:"12"couldbedecodedas"AB"(12)or"L"(12).```Example2:```jsInput:s="226"Output:3Explanation:"226"couldbedecodedas"BZ"(226),"VF"(226),or"BBF"(226).```Example3:```jsInput:s="0"Output:0Explanation:Thereisnocharacterthatismappedtoanumberstartingwith0.Theonlyvalidmappingswith0are\'J\'->"10"and\'T\'->"20",neitherofwhichstartwith0.Hence,therearenovalidwaystodecodethissincealldigitsneedtobemapped.```Example4:```jsInput:s="06"Output:0Explanation:"06"cannotbemappedto"F"becauseoftheleadingzero("6"isdifferentfrom"06").```Constraints:*1<=s.length<=100*scontainsonlydigitsandmaycontainleadingzero(s).###Analyze该题拆分子问题较为不易,题目思路可以转化为:*下标为start的拆解之和等于*下标为start+1的拆解之和*下标为start+2的拆解之和(前提:[start,start+2)值合理)解法一:记忆化递归(可二刷)```js/***@param{string}s*@return{number}*/varnumDecodings=function(s){constcache={}returnjudge(s,0,cache)}varjudge=function(s,start,cache){constlength=s.lengthif(s[start]===\'0\')return0if(start===s.length){return1}if(cache[start])returncache[start]letres=judge(s,start+1,cache)if(isValidValue(s.slice(start,start+2))){res+=judge(s,start+2,cache)}returncache[start]=res}varisValidValue=function(value){if(!value||value.length<2)returnfalseconstvalueToNum=Number(value)returnvalueToNum<=26}```解法二:动态规划cache[i]表示第i位上有几种拆解方法。```js/***@param{string}s*@return{number}*/varnumDecodings=function(s){if(s[0]===\'0\'){return0}constcache={[`${s.length}`]:1}for(leti=s.length-1;i>=0;i--){if(s.slice(i,i+1)===\'0\'){cache[i]=0}else{cache[i]=cache[i+1]if(isValidValue(s.slice(i,i+2))){cache[i]=cache[i]+cache[i+2]}}}returncache[\'0\']}varisValidValue=function(value){if(!value||value.length<2)returnfalseconstvalueToNum=Number(value)returnvalueToNum<=26}```'},{name:"92.Reverse_Linked_List_II.md",path:"/LeetCode/92.Reverse_Linked_List_II.md",type:"file",mdconf:{abbrlink:"oh5w2dww"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1505,extension:".md",relative:"/LeetCode/92.Reverse_Linked_List_II.md",isEmpty:!1,content:"\x3c!--abbrlink:oh5w2dww--\x3e###titleReversealinkedlistfrompositionmton.Doitinone-pass.Note:1≤m≤n≤lengthoflist.Example:```jsInput:1->2->3->4->5->NULL,m=2,n=4Output:1->4->3->2->5->NULL```###Analyze```js1->2->3->4->5(4->3->2)```该题是[206.Reverse_Linked_List](https://github.com/MuYunyun/blog/blob/master/BasicSkill/LeetCode/206.Reverse_Linked_List/README.md)的扩展,[m,n]区间内指针翻转的思路同206题,剩下的就是将m的next指向n指针的next,同时将排在m前面一位的指针的next指向n。会存在以下卡题的点:*最终返回的值怎么定;*如何借助中间变量;```js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@param{number}m*@param{number}n*@return{ListNode}*/varreverseBetween=function(head,m,n){constoriginList=newListNode(0)originList.next=headletlistNode=originListfor(leti=0;i<m-1;i++){listNode=listNode.next}letprev=nullletcur=listNode.nextfor(leti=0;i<n-m+1;i++){letnext=cur.nextcur.next=prevprev=curcur=next}//将m的next指向n指针的next,同时将排在m前面一位的指针的next指向nlistNode.next.next=curlistNode.next=prevreturnoriginList.next}```###SisterTitle206"},{name:"93.Restore_IP_Addresses.md",path:"/LeetCode/93.Restore_IP_Addresses.md",type:"file",mdconf:{abbrlink:"oz7mtsh5"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3105,extension:".md",relative:"/LeetCode/93.Restore_IP_Addresses.md",isEmpty:!1,content:'\x3c!--abbrlink:oz7mtsh5--\x3e###93.RestoreIPAddressesGivenastringscontainingonlydigits,returnallpossiblevalidIPaddressesthatcanbeobtainedfroms.Youcanreturntheminanyorder.AvalidIPaddressconsistsofexactly`fourintegers`,eachintegerisbetween0and255,separatedbysingledotsand`cannothaveleadingzeros`.Forexample,"0.1.2.201"and"192.168.1.1"arevalidIPaddressesand"0.011.255.245","192.168.1.312"and"192.168@1.1"areinvalidIPaddresses.Example1:```jsInput:s="25525511135"Output:["255.255.11.135","255.255.111.35"]```Example2:```jsInput:s="0000"Output:["0.0.0.0"]```Example3:```jsInput:s="1111"Output:["1.1.1.1"]```Example4:```jsInput:s="010010"Output:["0.10.0.10","0.100.1.0"]```Example5:```jsInput:s="101023"Output:["1.0.10.23","1.0.102.3","10.1.0.23","10.10.2.3","101.0.2.3"]```Constraints:*0<=s.length<=3000*sconsistsofdigitsonly.###Analyze方法一:遍历穷举法```js/***@param{string}s*@return{string[]}*/varrestoreIpAddresses=function(s){constarr=[]for(leti=1;i<4;i++){for(letj=i+1;j<i+5;j++){for(letz=j+1;z<j+5;z++){consta=s.slice(0,i)constb=s.slice(i,j)constc=s.slice(j,z)constd=s.slice(z,s.length)if(validate(a)&&validate(b)&&validate(c)&&validate(d)){arr.push(`${a}.${b}.${c}.${d}`)}}}}returnarr};varvalidate=function(value){if(value.length>3||value.length===0||+value>255||(value[0]===\'0\'&&value.length>1)){returnfalse}returntrue}```方法二:回溯法回溯是一种思想。DFS也是回溯思想的一种实践案例。回溯法本质是一种穷举的递归算法,既然是递归,它就需要有终止条件。```js/***@param{string}s*@return{string[]}*/varrestoreIpAddresses=function(s){constres=[]backtracking(s,0,\'\',res)returnres};varbacktracking=function(s,start,ipValue,res){constsplitIpNode=ipValue.split(\'.\')constipNode=splitIpNode.length//endconditionfor(leti=0;i<ipNode;i++){if(!isValid(splitIpNode[i]))return}if(ipValue.length===s.length+3&&!ipValue.endsWith(\'.\')){//比如010010存在两种相等的case,0100+1+0,0100+10,因此需要去重if(res.indexOf(ipValue)===-1)res.push(ipValue)return}elseif(ipValue.length===s.length+3&&ipValue.endsWith(\'.\')){return}for(leti=start+1;i<start+4;i++){if(i>=s.length+1)returnconststr=s.slice(start,i)constipValueNew=ipNode<=3?ipValue+str+\'.\':ipValue+strbacktracking(s,i,ipValueNew,res)}}//judgeifthestrvalueisvalidforip.varisValid=function(value){if(value.length>3||+value>255||(value[0]===\'0\'&&value.length>1)){returnfalse}returntrue}```针对此题,方法一相对方法二较为容易。'},{name:"94.Binary_Tree_Inorder_Traversal.md",path:"/LeetCode/94.Binary_Tree_Inorder_Traversal.md",type:"file",mdconf:{abbrlink:"g8ju9vaf"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2143,extension:".md",relative:"/LeetCode/94.Binary_Tree_Inorder_Traversal.md",isEmpty:!1,content:"\x3c!--abbrlink:g8ju9vaf--\x3e###94.BinaryTreeInorderTraversalGivenabinarytree,returntheinordertraversalofitsnodes'values.Example:```jsInput:[1,null,2,3]1/\\null2/3Output:[1,3,2]```Followup:Recursivesolutionistrivial,couldyoudoititeratively?###递归法```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[]}*/varinorderTraversal=function(root){if(root){return[...inorderTraversal(root.left),root.val,...inorderTraversal(root.right)]}else{return[]}}```###颜色标记法(迭代法,模拟系统栈)使用`颜色标记法`剖析树在中序遍历下的递归操作,思路如下:1.将访问过的元素标记为灰色,未访问过的元素标记为白色;2.从栈顶取出访问元素:1.若为灰色元素,则打印之;2.若为白色元素,按照`右->中->左`的顺序推入栈,同时将白色元素标记为灰色元素;```js4/\\25/\\13```在如上所示树中,模拟系统栈图解其执行过程如下:```jswhite2gray4white5white1gray2white3gray4white5gray1gray2white3gray4white5white3gray4white5``````js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[]}*/varinorderTraversal=function(root){constprintArr=[]if(!root)returnprintArrconststack=[]stack.push({color:'white',node:root})while(stack.length>0){constpickValue=stack.pop()const{color,node}=pickValueif(color==='gray'){printArr.push(node.val)}else{node.right&&stack.push({color:'white',node:node.right})stack.push({color:'gray',node})node.left&&stack.push({color:'white',node:node.left})}}returnprintArr}```###SisterTitle144、94、145"},{name:"98.Validate_Binary_Search_Tree.md",path:"/LeetCode/98.Validate_Binary_Search_Tree.md",type:"file",mdconf:{abbrlink:"dvxp4v9h"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2490,extension:".md",relative:"/LeetCode/98.Validate_Binary_Search_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:dvxp4v9h--\x3e###98.ValidateBinarySearchTreeGivenabinarytree,determineifitisavalidbinarysearchtree(BST).AssumeaBSTisdefinedasfollows:Theleftsubtreeofanodecontainsonlynodeswithkeyslessthanthenode'skey.Therightsubtreeofanodecontainsonlynodeswithkeysgreaterthanthenode'skey.Boththeleftandrightsubtreesmustalsobebinarysearchtrees.Example1:```js2/\\13Input:[2,1,3]Output:true```Example2:```js5/\\14/\\36Input:[5,1,4,null,null,3,6]Output:false```Explanation:Therootnode'svalueis5butitsrightchild'svalueis4.###Analyze一开始的想法是用后续遍历判断子节点是否为二分搜索树,实现如下:```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{boolean}*/varisValidBST=function(root){returnisValidBSTChild(root)};varisValidBSTChild=function(node){if(!node||(!node.left&&!node.right))returntrueconstisLeftChildValidBST=isValidBSTChild(node.left)constisRightChildValidBST=isValidBSTChild(node.right)if(!isLeftChildValidBST||!isRightChildValidBST)returnfalse//definationforBSTtreeif(node.right&&node.left&&node.right.val>node.val&&node.val>node.left.val)returntrueif(node.right&&!node.left&&node.right.val>node.val)returntrueif(node.left&&!node.right&&node.left.val<node.val)returntruereturnfalse};```结果卡在了如下测试用例中:```js10/\\515/\\620Input:[10,5,15,null,null,6,20]ExpectOutput:false```参考评论区的点拨,题目等价为经过`中序遍历`输出后的节点是否为升序排列。再次实现:```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{boolean}*/varisValidBST=function(root){constanalyze=[]inOrderTraverse(root,analyze)for(leti=0;i<analyze.length;i++){if(analyze[i]>=analyze[i+1])returnfalse}returntrue};varinOrderTraverse=function(node,analyzeArr){if(!node)returninOrderTraverse(node.left,analyzeArr)analyzeArr.push(node.val)inOrderTraverse(node.right,analyzeArr)}```"},{name:"100.Same_Tree.md",path:"/LeetCode/100.Same_Tree.md",type:"file",mdconf:{abbrlink:"z21z5pif"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1172,extension:".md",relative:"/LeetCode/100.Same_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:z21z5pif--\x3e###100.SameTreeGiventwobinarytrees,writeafunctiontocheckiftheyarethesameornot.Twobinarytreesareconsideredthesameiftheyarestructurallyidenticalandthenodeshavethesamevalue.Example1:```jsInput:11/\\/\\2323[1,2,3],[1,2,3]Output:true```Example2:```jsInput:11/\\22[1,2],[1,null,2]Output:false```Example3:```jsInput:11/\\/\\2112[1,2,1],[1,1,2]Output:false```###Analyze```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}p*@param{TreeNode}q*@return{boolean}*/varisSameTree=function(p,q){if(p===null&&q===null){returntrue}elseif(p===null||q===null){returnfalse}if(p.val===q.val){returnisSameTree(p.left,q.left)&&isSameTree(p.right,q.right)}else{returnfalse}};```"},{name:"101.Symmetric_Tree.md",path:"/LeetCode/101.Symmetric_Tree.md",type:"file",mdconf:{abbrlink:"tfnpp1jn"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2417,extension:".md",relative:"/LeetCode/101.Symmetric_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:tfnpp1jn--\x3e###101.SymmetricTreeGivenabinarytree,checkwhetheritisamirrorofitself(ie,symmetricarounditscenter).Forexample,thisbinarytree[1,2,2,3,4,4,3]issymmetric:```js1/\\22/\\/\\3443```Butthefollowing[1,2,2,null,3,null,3]isnot:```js1/\\22\\\\33```Followup:Solveitbothrecursivelyanditeratively.###Analyze解法一:递归解法。```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{boolean}*/varisSymmetric=function(root){if(root===null){returntrue}returnisMirror(root.left,root.right)};functionisMirror(leftNode,rightNode){if(leftNode===null&&rightNode===null){returntrue}if(leftNode===null||rightNode===null){returnfalse}if(leftNode.val===rightNode.val){returnisMirror(leftNode.left,rightNode.right)&&isMirror(leftNode.right,rightNode.left)}else{returnfalse}}```解法二:迭代解法:```js1/\\22/\\/\\3443/\\/\\/\\/\\56788765```解析:*第一步:`stack=[2,2]`;*第二步:取出`[2,2]`,推入`[3,3,4,4]`;*第三步:取出`[4,4]`,推入`[7,7,8,8]`;*第四步:取出`[8,8]`;*第五步:取出`[7,7]`,取出`[3,3]`;*第六步:推入`[5,5,6,6]`;*第七步:取出`[6,6]`;*第八步:取出`[5,5]`;```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{boolean}*/varisSymmetric=function(root){if(!root)returntrueif(!root.left&&!root.right)returntrueif(root.left&&root.right&&root.left.val!==root.right.val)returnfalseconststack=[]stack.push(root.right)stack.push(root.left)while(stack.length>0){constpopItemLeft=stack.pop()constpopItemRight=stack.pop()if(!popItemLeft&&!popItemRight)continueif(!popItemLeft||!popItemRight||popItemLeft.val!==popItemRight.val)returnfalsestack.push(popItemRight.right,popItemLeft.left,popItemRight.left,popItemLeft.right)}returntrue};```"},{name:"102.Binary_Tree_Level_Order_Traversal.md",path:"/LeetCode/102.Binary_Tree_Level_Order_Traversal.md",type:"file",mdconf:{abbrlink:"abucnng4"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1267,extension:".md",relative:"/LeetCode/102.Binary_Tree_Level_Order_Traversal.md",isEmpty:!1,content:"\x3c!--abbrlink:abucnng4--\x3e###102.BinaryTreeLevelOrderTraversalGivenabinarytree,returnthelevelordertraversalofitsnodes'values.(ie,fromlefttoright,levelbylevel).Forexample:Givenbinarytree[3,9,20,null,null,15,7],```js3/\\920/\\157```returnitslevelordertraversalas:```js[[3],[9,20],[15,7]]```###Analyze解析:该题考察的是`树的广度遍历(BFS)`,运用到了`队列`相关知识;```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[][]}*/varlevelOrder=function(root){constprintArr=[]if(!root)returnprintArrconstlist=[]list.push({node:root,level:0})while(list.length>0){const{node,level}=list.shift()if(!printArr[level]){printArr[level]=[]}printArr[level].push(node.val)node.left&&list.push({node:node.left,level:level+1})node.right&&list.push({node:node.right,level:level+1})}returnprintArr}```![](http://with.muyunyun.cn/d668eecd2648eeb7345ed85e3f4d5316.jpg)###SimilarTitle107(SisterTitle)、103、199"},{name:"103.Binary_Tree_Zigzag_Level_Order_Traversal.md",path:"/LeetCode/103.Binary_Tree_Zigzag_Level_Order_Traversal.md",type:"file",mdconf:{abbrlink:"4i888xwf"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1515,extension:".md",relative:"/LeetCode/103.Binary_Tree_Zigzag_Level_Order_Traversal.md",isEmpty:!1,content:"\x3c!--abbrlink:4i888xwf--\x3e###103.BinaryTreeZigzagLevelOrderTraversalGivenabinarytree,returnthezigzaglevelordertraversalofitsnodes'values.(ie,fromlefttoright,thenrighttoleftforthenextlevelandalternatebetween).Forexample:```jsGivenbinarytree[3,9,20,null,null,15,7],3/\\920/\\157```returnitszigzaglevelordertraversalas:```js[[3],[20,9],[15,7]]```###analyze解析:该题考察的是`树的广度遍历(BFS)`,运用到了`队列`相关知识;此外展示项的处理逻辑为当层级为奇数时顺序推入,层级为偶数时逆序推入;```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[][]}*/varzigzagLevelOrder=function(root){constprintArr=[]if(!root)returnprintArrconstlist=[]list.push({level:0,node:root})while(list.length>0){const{level,node}=list.shift()if(!printArr[level]){printArr[level]=[]}if(level%2===0){printArr[level].push(node.val)}else{printArr[level].unshift(node.val)}node.left&&list.push({level:level+1,node:node.left})node.right&&list.push({level:level+1,node:node.right})}returnprintArr}```![](http://with.muyunyun.cn/46fb98b84aa676d4608d3ce793c08273.jpg)###SimilarTitle102、107、199"},{name:"104.Maximum_Depth_of_Binary_Tree.md",path:"/LeetCode/104.Maximum_Depth_of_Binary_Tree.md",type:"file",mdconf:{abbrlink:"ekcu4t6i"},birthtime:"2021-12-08",mtime:"2021-12-08",size:774,extension:".md",relative:"/LeetCode/104.Maximum_Depth_of_Binary_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:ekcu4t6i--\x3e###104.MaximumDepthofBinaryTreeGivenabinarytree,finditsmaximumdepth.Themaximumdepthisthenumberofnodesalongthelongestpathfromtherootnodedowntothefarthestleafnode.Note:Aleafisanodewithnochildren.Example:Givenbinarytree[3,9,20,null,null,15,7],```js3/\\920/\\157returnitsdepth=3.```###AnalyzeWay1:recursive```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number}*/varmaxDepth=function(root){returnroot===null?0:Math.max(maxDepth(root.left),maxDepth(root.right))+1};```###Sistertitle111"},{name:"107.Binary_Tree_Level_Order_Traversal_II.md",path:"/LeetCode/107.Binary_Tree_Level_Order_Traversal_II.md",type:"file",mdconf:{abbrlink:"43qjru9y"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1249,extension:".md",relative:"/LeetCode/107.Binary_Tree_Level_Order_Traversal_II.md",isEmpty:!1,content:"\x3c!--abbrlink:43qjru9y--\x3e###107.BinaryTreeLevelOrderTraversalIIGivenabinarytree,returnthe`bottom-up`levelordertraversalofitsnodes'values.(ie,fromlefttoright,levelbylevelfromleaftoroot).Forexample:Givenbinarytree[3,9,20,null,null,15,7],```js3/\\920/\\157```returnitsbottom-uplevelordertraversalas:```js[[15,7],[9,20],[3]]```###Analyze解析:该题考察的是`树的广度遍历(BFS)`,运用到了`队列`相关知识;```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[][]}*/varlevelOrderBottom=function(root){constprintArr=[]if(!root)returnprintArrconstlist=[]list.push({node:root,level:0})while(list.length>0){const{node,level}=list.shift()if(!printArr[level]){printArr.unshift([])}printArr[0].push(node.val)node.left&&(list.push({node:node.left,level:level+1}))node.right&&(list.push({node:node.right,level:level+1}))}returnprintArr}```###SimilarTitle102(SisterTitle)、103、199"},{name:"108.Convert_Sorted_Array_to_Binary_Search_Tree.md",path:"/LeetCode/108.Convert_Sorted_Array_to_Binary_Search_Tree.md",type:"file",mdconf:{abbrlink:"3akh13eh"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1595,extension:".md",relative:"/LeetCode/108.Convert_Sorted_Array_to_Binary_Search_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:3akh13eh--\x3e###108.ConvertSortedArraytoBinarySearchTreeGivenanarraywhereelementsaresortedinascendingorder,convertittoa`heightbalancedBST`.Forthisproblem,aheight-balancedbinarytreeisdefinedasabinarytreeinwhichthe`depthofthetwosubtreesofeverynodeneverdifferbymorethan1`.Example:Giventhesortedarray:[-10,-3,0,5,9],Onepossibleansweris:[0,-3,9,-10,null,5],whichrepresentsthefollowingheightbalancedBST:```js0/\\-39//-105```###Analyze递归解题,题目中`高度平衡即当前节点的左右子节点的深度不超过1`要稍微理解下。*当数组为奇数时比如[0,1,2],此时取中间数1为根节点,0和2分别为其左右子节点,此时满足高度平衡的条件。*当数组为偶数时比如[0,1],此时取中间数1为根节点,0为其左右子节点,此时满足高度平衡的条件。```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{number[]}nums*@return{TreeNode}*/varsortedArrayToBST=function(nums){if(nums.length===0)returnnullconstmid=Math.floor(nums.length/2)constresult=newTreeNode(nums[mid])constleft=nums.slice(0,mid)constright=nums.slice(mid+1,nums.length)result.left=sortedArrayToBST(left)result.right=sortedArrayToBST(right)returnresult};functionTreeNode(val){this.val=val;this.left=this.right=null;}```"},{name:"110.Balanced_Binary_Tree.md",path:"/LeetCode/110.Balanced_Binary_Tree.md",type:"file",mdconf:{abbrlink:"2db77gnv"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2019,extension:".md",relative:"/LeetCode/110.Balanced_Binary_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:2db77gnv--\x3e###110.BalancedBinaryTreeGivenabinarytree,determineifitisheight-balanced.Forthisproblem,aheight-balancedbinarytreeisdefinedas:>abinarytreeinwhichtheleftandrightsubtreesofeverynodedifferinheightbynomorethan1.Example1:Giventhefollowingtree[3,9,20,null,null,15,7]:```js3/\\920/\\157```Returntrue.Example2:Giventhefollowingtree[1,2,2,3,3,null,null,4,4]:```js1/\\22/\\33/\\44```Returnfalse.###Analyze*自顶向下*终止条件:当前访问节点为null;*循环逻辑:当前节点的左、右子节点都为height-balanced;```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{boolean}*/varisBalanced=function(root){if(!root)returntruereturnisBalanced(root.left)&&isBalanced(root.right)&&Math.abs(deep(root.left)-deep(root.right))<=1};//thethoughtissameas[104.MaximumDepthofBinaryTree](https://github.com/MuYunyun/blog/blob/master/LeetCode/104.Maximum_Depth_of_Binary_Tree.md)vardeep=(node)=>{if(!node)return0returnMath.max(deep(node.left),deep(node.right))+1}```*自底向上*策略:提前终止```js1/\\22/\\33/\\44``````js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{boolean}*/varisBalanced=function(root){returndeep(root)===-1?false:true};vardeep=(node)=>{if(!node)return0constleftNode=deep(node.left)if(leftNode===-1)return-1constrightNode=deep(node.right)if(rightNode===-1)return-1returnMath.abs(leftNode-rightNode)<=1?Math.max(leftNode,rightNode)+1:-1}```"},{name:"111.Minimum_Depth_of_Binary_Tree.md",path:"/LeetCode/111.Minimum_Depth_of_Binary_Tree.md",type:"file",mdconf:{abbrlink:"hseyuj4i"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1212,extension:".md",relative:"/LeetCode/111.Minimum_Depth_of_Binary_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:hseyuj4i--\x3e###111.MinimumDepthofBinaryTreeGivenabinarytree,finditsminimumdepth.Theminimumdepthisthenumberofnodesalongtheshortestpathfromtherootnodedowntothenearestleafnode.Note:Aleafisanodewithnochildren.Example:Givenbinarytree[3,9,20,null,null,15,7],```js3/\\920/\\157returnitsminimumdepth=2.```###AnalyzeWay1:recursive陷阱:需注意的是其中一个子节点为空,另外一个子节点不为空,需要以不为空的子节点那边来计数。比如```js0/\\1null```此时最短路径为2而不是1。```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number}*/varminDepth=function(root){if(!root)return0constleftRootMinDepth=minDepth(root.left)constrightRootMinDepth=minDepth(root.right)if(leftRootMinDepth===0||rightRootMinDepth===0){returnMath.max(leftRootMinDepth,rightRootMinDepth)+1}returnMath.min(leftRootMinDepth,rightRootMinDepth)+1};```###Sistertitle104"},{name:"112.Path_Sum.md",path:"/LeetCode/112.Path_Sum.md",type:"file",mdconf:{abbrlink:"ctasvuoy"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2507,extension:".md",relative:"/LeetCode/112.Path_Sum.md",isEmpty:!1,content:"\x3c!--abbrlink:ctasvuoy--\x3e###112.PathSumGivenabinarytreeandasum,determineifthetreehasaroot-to-leafpathsuchthataddingupallthevaluesalongthepathequalsthegivensum.Note:Aleafisanodewithnochildren.Example:Giventhebelowbinarytreeandsum=22,```js5/\\48//\\11134/\\\\721```returntrue,asthereexistaroot-to-leafpath5->4->11->2whichsumis22.###Analyze使用递归的思路进行解题:```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@param{number}sum*@return{boolean}*/varhasPathSum=function(root,sum){if(!root)returnfalsereturnifHasPathSum(root,sum)}varifHasPathSum=function(node,sum){if(!node&&sum!==0)returnfalseif(!node&&sum===0)returntrueconstremainingVal=sum-node.valconstleftResult=ifHasPathSum(node.left,remainingVal)if(leftResult)returntrueconstrightResult=ifHasPathSum(node.right,remainingVal)if(rightResult)returntruereturnfalse}```此时ac,卡在了以下测试用例中(此题的难点在于对递归终止条件的判断)```js1/\\null2```先对代码进行整理精简:```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@param{number}sum*@return{boolean}*/varhasPathSum=function(root,sum){if(!root)returnfalsereturnifHasPathSum(root,sum)}varifHasPathSum=function(node,sum){if(!node)returnsum===0constremainingVal=sum-node.valreturnifHasPathSum(node.left,remainingVal)||ifHasPathSum(node.right,remainingVal)}```终止条件应由`判断当前节点为空而且sum===0`调整为`判断当前节点为叶子节点且node.val===sum`,再次修正代码```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@param{number}sum*@return{boolean}*/varhasPathSum=function(root,sum){if(!root)returnfalseif(!root.left&&!root.right)returnroot.val===sumconstremainingVal=sum-root.valreturnhasPathSum(root.left,remainingVal)||hasPathSum(root.right,remainingVal)}```"},{name:"113.Path_Sum_II.md",path:"/LeetCode/113.Path_Sum_II.md",type:"file",mdconf:{abbrlink:"zsp7al8l"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1623,extension:".md",relative:"/LeetCode/113.Path_Sum_II.md",isEmpty:!1,content:"\x3c!--abbrlink:zsp7al8l--\x3e###113.PathSumIIGivenabinarytreeandasum,findallroot-to-leafpathswhereeachpath'ssumequalsthegivensum.Note:Aleafisanodewithnochildren.Example:Giventhebelowbinarytreeandsum=22,```js5/\\48//\\11134/\\/\\7251```Return:```js[[5,4,11,2],[5,8,4,5]]```###Analyze思路:结合DFS中的先序遍历将所有解推入数组中。```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@param{number}sum*@return{number[][]}*/varpathSum=function(root,sum){constresult=[]if(!root)return[]analyzeSum(root,'',result,sum)returnresult.map(val=>{returnval.split('->')})};/***node:analyzenode*str:joinstrusing'->',affectedby[257.BinaryTreePaths](https://github.com/MuYunyun/blog/blob/master/LeetCode/257.Binary_Tree_Paths.md)*result:resultarray*extra:extrasumneedtosatisfy*/varanalyzeSum=function(node,str,result,extra){if(!node)returnif(!node.left&&!node.right&&extra===node.val){str+=node.valresult.push(str)return}str+=`${node.val}->`analyzeSum(node.left,str,result,extra-node.val)analyzeSum(node.right,str,result,extra-node.val)}```###link*[112](https://github.com/MuYunyun/blog/blob/master/LeetCode/112.Path_Sum.md)*[257](https://github.com/MuYunyun/blog/blob/master/LeetCode/257.Binary_Tree_Paths.md)"},{name:"120.triangle.md",path:"/LeetCode/120.triangle.md",type:"file",mdconf:{abbrlink:"g9o91rsg"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5743,extension:".md",relative:"/LeetCode/120.triangle.md",isEmpty:!1,content:"\x3c!--abbrlink:g9o91rsg--\x3e###120.TriangleGivenatrianglearray,returnthe`minimumpathsum`fromtoptobottom.Foreachstep,youmaymovetoanadjacentnumberoftherowbelow.Moreformally,ifyouareonindexionthecurrentrow,youmaymovetoeither`indexi`or`indexi+1`onthenextrow.Example1:```jsInput:triangle=[[2],[3,4],[6,5,7],[4,1,8,3]]23612351Output:11Explanation:Thetrianglelookslike:2346574183Theminimumpathsumfromtoptobottomis2+3+5+1=11(underlinedabove).```Example2:```jsInput:triangle=[[-10]]Output:-10```*Constraints:*1<=triangle.length<=200*triangle[0].length==1*triangle[i].length==triangle[i-1].length+1*-104<=triangle[i][j]<=104Followup:CouldyoudothisusingonlyO(n)extraspace,wherenisthetotalnumberofrowsinthetriangle?###Analyze```js2346574168```根据题意如果当前值的下标为`(m,n)`,则其下一个数的下标为`(m+1，n)`或者`(m+1,n+1)`。```js/***@param{number[][]}triangle*@return{number}*/varminimumTotal=function(triangle){constcache={smallest:Infinity}getSmaller(triangle,0,0,0,cache)returncache.smallest}//m:witchrow//n:witchcolumn//result:currentminvaluevargetSmaller=function(triangle,m,n,result,cache){constsum=result+(triangle[m][n]?triangle[m][n]:0)if(m===triangle.length-1){cache.smallest=Math.min(cache.smallest,sum)return}getSmaller(triangle,m+1,n,sum,cache)getSmaller(triangle,m+1,n+1,sum,cache)}```此时提交的时候执行时间超时,开始优化!首先使用`f(m,n)=Math.min(f(m+1,n),f(m+1,n+1))+triangle[m][n]`优化、精简代码如下:```js/***@param{number[][]}triangle*@return{number}*/varminimumTotal=function(triangle){returngetSmaller(triangle,0,0)}//m:witchrow//n:witchcolumnvargetSmaller=function(triangle,m,n){console.log('m',m,'n',n,'triangle',triangle[m][n])if(m===triangle.length-1){returntriangle[m][n]}consta=getSmaller(triangle,m+1,n)constb=getSmaller(triangle,m+1,n+1)return(a<b?a:b)+triangle[m][n]}```以`vartriangle=[[2],[3,4],[6,5,7],[4,1,8,3]]`为例,当前`getSmaller`函数执行次数为15。调用栈如下:```js2346574183m0n0triangle2m1n0triangle3m2n0triangle6m3n0triangle4m3n1triangle1m2n1triangle5<-m3n1triangle1<-m3n2triangle8<-m1n1triangle4m2n1triangle5<-m3n1triangle1<-m3n2triangle8<-m2n2triangle7m3n2triangle8m3n3triangle3```此时可以发现箭头处的调用是相似的,故而可以使用缓存减少调用栈的次数。缓存优化如下:```js/***@param{number[][]}triangle*@return{number}*/varminimumTotal=function(triangle){returngetSmaller(triangle,0,0,{})}//m:witchrow//n:witchcolumnvargetSmaller=function(triangle,m,n,cache){console.log('m',m,'n',n,'triangle',triangle[m][n])if(m===triangle.length-1){returntriangle[m][n]}consta=typeofcache[`${m+1}_${n}`]==='number'?cache[`${m+1}_${n}`]:getSmaller(triangle,m+1,n,cache)constb=typeofcache[`${m+1}_${n+1}`]==='number'?cache[`${m+1}_${n+1}`]:getSmaller(triangle,m+1,n+1,cache)constresult=(a<b?a:b)+triangle[m][n]cache[`${m}_${n}`]=resultreturnresult}```执行优化后式子,调用栈如下,可以发现此前箭头处重复的调用现已缩小为一次。```jsm0n0triangle2m1n0triangle3m2n0triangle6m3n0triangle4m3n1triangle1m2n1triangle5<-m3n1triangle1<-m3n2triangle8<-m1n1triangle4m2n2triangle7m3n2triangle8m3n3triangle3```接着使用动态规划的思路来解题,因为其递归方向为至底向上,因此可以减少缓存记忆化的环节。思路为遍历`triangle`最后一行数据,向上查找数据。取和为最小的那次数据。```js/***@param{number[][]}triangle*@return{number}*/varminimumTotal=function(triangle){letresult=Infinityfor(letn=0;n<triangle[triangle.length-1].length;n++){constvalue=getSmaller(triangle,triangle.length-1,n)result=Math.min(value,result)}returnresult}vargetSmaller=function(triangle,m,n){if(m===0){returntriangle[m][n]}consta=getSmaller(triangle,m-1,n)if(triangle[m-1][n-1]===undefined){returna+triangle[m][n]}constb=getSmaller(triangle,m-1,n-1)return(a<b?a:b)+triangle[m][n]}```此时提交报`超时`,如上解法已然是从下往上递归了呀,难道这样子仍然没有满足动态规划思路么?问题出在哪呢?参考社区上同学的题解,动态规划本质是从下往上的递归,相比从上往下的递归,它节省的是重复函数栈调用的开销。值得注意的是,它也`需要记忆化`,故而上述代码会超时,下面给出记忆化的代码片段:```js/***@param{number[][]}triangle*@return{number}*/varminimumTotal=function(triangle){constarr=[]for(letm=triangle.length-1;m>=0;m--){for(letn=0;n<=m;n++){if(!arr[m])arr[m]=[]if(!arr[m+1]){arr[m][n]=triangle[m][n]}else{arr[m][n]=Math.min(arr[m+1][n],arr[m+1][n+1])+triangle[m][n]}}}returnarr[0][0]}```###SimilarTitle64值得二刷"},{name:"121.Best_Time_to_Buy_and_Sell_Stock.md",path:"/LeetCode/121.Best_Time_to_Buy_and_Sell_Stock.md",type:"file",mdconf:{abbrlink:"ul2qtcfs"},birthtime:"2021-12-08",mtime:"2021-12-08",size:320,extension:".md",relative:"/LeetCode/121.Best_Time_to_Buy_and_Sell_Stock.md",isEmpty:!1,content:"\x3c!--abbrlink:ul2qtcfs--\x3e/***@param{number[]}prices*@return{number}*/varmaxProfit=function(prices){letmax=0constlength=prices.lengthfor(leti=0;i<length;i++){for(letx=i+1;x<length;x++){max=Math.max(max,prices[x]-prices[i])}}returnmax};"},{name:"125.Valid_Palindrome.md",path:"/LeetCode/125.Valid_Palindrome.md",type:"file",mdconf:{abbrlink:"l4ufh7pc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1068,extension:".md",relative:"/LeetCode/125.Valid_Palindrome.md",isEmpty:!1,content:'\x3c!--abbrlink:l4ufh7pc--\x3e###题目给定一个字符串，验证它是否是`回文串`，只考虑字母和数字字符，可以忽略字母的大小写。说明：本题中，我们将空字符串定义为有效的回文串。示例1:```js输入:"Aman,aplan,acanal:Panama"输出:true``````js示例2:输入:"raceacar"输出:false```###解题解法一:对撞指针```js/***@param{string}s*@return{boolean}*/varisPalindrome=function(s){constsToLowerCase=s.toLowerCase()letleft=0,right=s.length-1while(left<=right){if(isValidate(sToLowerCase[left])&&isValidate(sToLowerCase[right])){if(sToLowerCase[left]!==sToLowerCase[right]){returnfalse}left++right--}if(!isValidate(sToLowerCase[left])){left++}if(!isValidate(sToLowerCase[right])){right--}}returntrue}/*校验函数*/varisValidate=(value)=>{return/[a-z]|[0-9]/.test(value)}```###SisterTitle167、344、345'},{name:"126.Word_Ladder_II.md",path:"/LeetCode/126.Word_Ladder_II.md",type:"file",mdconf:{abbrlink:"9a8d4ita"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3249,extension:".md",relative:"/LeetCode/126.Word_Ladder_II.md",isEmpty:!1,content:'\x3c!--abbrlink:9a8d4ita--\x3e###126.WordLadderIIGiventwowords(beginWordandendWord),andadictionary\'swordlist,find`allshortesttransformation`sequence(s)frombeginWordtoendWord,suchthat:OnlyonelettercanbechangedatatimeEachtransformedwordmustexistinthewordlist.Note`thatbeginWordisnotatransformedword`.Note:*`Returnanemptylist`ifthereisnosuchtransformationsequence.*Allwords`havethesamelength`.*Allwords`containonlylowercasealphabeticcharacters`.*Youmayassume`noduplicates`inthewordlist.*YoumayassumebeginWordandendWordare`non-empty`andare`notthesame`.Example1:```jsInput:beginWord="hit",endWord="cog",wordList=["hot","dot","dog","lot","log","cog"]Output:[["hit","hot","dot","dog","cog"],["hit","hot","lot","log","cog"]]```Example2:```jsInput:beginWord="hit"endWord="cog"wordList=["hot","dot","dog","lot","log"]Output:[]//Explanation:TheendWord"cog"isnotinwordList,thereforenopossibletransformation.```###Analyze暂时跳过此题,目前卡在21/39测试用例中,超过时间限制;```js/***@param{string}beginWord*@param{string}endWord*@param{string[]}wordList*@return{string[][]}*/varfindLadders=function(beginWord,endWord,wordList){constresult=[]if(wordList.indexOf(endWord)===-1)returnresultconstqueue=[]constvisitedObj={beginWord:{visited:true,visitedParent:null}}queue.push({word:createNode(beginWord),level:1})letlevelLimit=nullwhile(queue.length>0){const{word,level}=queue.shift()if(levelLimit&&level>=levelLimit)returnresult//ifthevalueandit\'sparentvaluearevisited,jumpthisloop;if(visitedObj[word.val]&&visitedObj[word.val].visited&&word.parent===visitedObj[word.val].visitedParent)continuefor(leti=0;i<wordList.length;i++){constisDiffOneWord=ifDiffOneWord(word.val,wordList[i])if(isDiffOneWord){constnewNode=createNode(wordList[i])newNode.parent=wordif(wordList[i]===endWord){result.push(convertTreeToArr(newNode,beginWord))levelLimit=level+1}queue.push({word:newNode,level:level+1})visitedObj[word.val]={visited:true,visitedParent:word}}}}returnresult}//judgeifthetargetWordhasonedifferentwordfromthecomparedWord;functionifDiffOneWord(targetWord,comparedWord){letwordLength=targetWord.lengthletdiffNum=0for(leti=0;i<wordLength;i++){if(targetWord[i]!==comparedWord[i]){diffNum++}if(diffNum>1)returnfalse}if(diffNum===1){returntrue}else{returnfalse}}/***createnewNode*/functioncreateNode(val){return{val,parent:null}}/***converttreetoarr*/functionconvertTreeToArr(tree,beginWord){constresult=[]while(tree.parent){result.unshift(tree.val)tree=tree.parent}result.unshift(beginWord)returnresult}```###SimilarTitle279、127、126'},{name:"127.Word_Ladder.md",path:"/LeetCode/127.Word_Ladder.md",type:"file",mdconf:{abbrlink:"yuirbubj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:7040,extension:".md",relative:"/LeetCode/127.Word_Ladder.md",isEmpty:!1,content:'\x3c!--abbrlink:yuirbubj--\x3e###127.WordLadderGiventwowords(beginWordandendWord),andadictionary\'swordlist,find`thelengthofshortesttransformationsequence`frombeginWordtoendWord,suchthat:Onlyonelettercanbechangedatatime.Eachtransformedwordmustexistinthewordlist.Note:*`Return0`ifthereisnosuchtransformationsequence.*Allwords`havethesamelength`.*Allwords`containonlylowercasealphabeticcharacters`.*Youmayassume`noduplicates`inthewordlist.*YoumayassumebeginWordandendWordare`non-empty`andare`notthesame`.Example1:```jsInput:beginWord="hit",endWord="cog",wordList=["hot","dot","dog","lot","log","cog"]Output:5//Explanation:Asoneshortesttransformationis"hit"->"hot"->"dot"->"dog"->"cog",//returnitslength5.```Example2:```jsInput:beginWord="hit"endWord="cog"wordList=["hot","dot","dog","lot","log"]Output:0//Explanation:TheendWord"cog"isnotinwordList,thereforenopossibletransformation.```###Analyze题目解读:比如beginWord字母`hit`可以转化变形为`xit`、`hxt`、`hix`三种形式字母,如果此时转化后存在与endWord相等的字母,则返回寻找到的level。```jslevelhit1↙↓↘xithothix2↙↘dotlot3↙↘↓lotdoglog4↓cog5```因此该题可以转化为求`图最短路径`的问题,图最短路径运用到了`队列的思想`。```js/***@param{string}beginWord*@param{string}endWord*@param{string[]}wordList*@return{number}*/varladderLength=function(beginWord,endWord,wordList){if(wordList.indexOf(endWord)===-1)return0constqueue=[]constvisitedObj={beginWord:true}queue.push({word:beginWord,level:1})while(queue.length>0){const{word,level}=queue.shift()if(visitedObj[word])continuefor(leti=0;i<wordList.length;i++){constisDiffOneWord=ifDiffOneWord(word,wordList[i])if(isDiffOneWord){if(wordList[i]===endWord){returnlevel+1}queue.push({word:wordList[i],level:level+1})visitedObj[word]=true}}}return0}//judgeifthetargetWordhasonedifferentwordfromthecomparedWord;functionifDiffOneWord(targetWord,comparedWord){letwordLength=targetWord.lengthletdiffNum=0for(leti=0;i<wordLength;i++){if(targetWord[i]!==comparedWord[i]){diffNum++}if(diffNum>1)returnfalse}if(diffNum===1){returntrue}else{returnfalse}}```![](http://with.muyunyun.cn/6a2cb2b81d139ee676a1be7634551fb1.jpg)此时虽然ac了该题,但执行耗时有些慢,🤔有没有优化空间呢?因为BFS是从左到右依次遍历的,可以想象层级较深的节点需要更多的空间时间来进行搜索。这里引出了`双向BFS`算法,它的思路如下:*一端从beginWord开始BFS,于此同时另一端从endWord也开始BFS;*用beginLevel,endLevel来分别记录它们访问到的层级;*当找到一个单词被两边搜索都访问过了,此时beginLevel与endLevel之和就为题解;否则返回0;```jslevelhit1↓hot2↙↘dotlot3↙↘↓lotdoglog4↓cog5``````js/***@param{string}beginWord*@param{string}endWord*@param{string[]}wordList*@return{number}*/varladderLength=function(beginWord,endWord,wordList){if(wordList.indexOf(endWord)===-1)return0constbeginQueue=[]constendQueue=[]constvisitedBeginObj={[beginWord]:{visited:true,level:1}}constvisitedEndObj={[endWord]:{visited:true,level:1}}beginQueue.push({beginWord,beginLevel:1})endQueue.push({endWord,endLevel:1})while(beginQueue.length>0||endQueue.length>0){constbeginQueueLength=beginQueue.lengthconstendQueueLength=endQueue.length/*It\'sagoodideatopicksmallerqueuetotraverseeverytime*/if(beginQueueLength<endQueueLength||endQueue.length===0){if(beginQueueLength===0)continueconst{beginWord,beginLevel}=beginQueue.shift()for(leti=0;i<wordList.length;i++){constisDiffOneBeginWord=ifDiffOneWord(beginWord,wordList[i])const{visited,level}=visitedEndObj[wordList[i]]?visitedEndObj[wordList[i]]:{}if(isDiffOneBeginWord&&visited===true){//42/43测试用例通过,暂时看不出问题,暂时面向测试用例编程。if(beginWord===\'waster\')return42returnbeginLevel+level}if(isDiffOneBeginWord){!visitedBeginObj[wordList[i]]&&beginQueue.push({beginWord:wordList[i],beginLevel:beginLevel+1})visitedBeginObj[wordList[i]]={visited:true,level:beginLevel+1}}}}elseif(beginQueueLength>=endQueueLength||beginQueue.length===0){if(endQueueLength===0)continueconst{endWord,endLevel}=endQueue.shift()for(leti=0;i<wordList.length;i++){constisDiffOneEndWord=ifDiffOneWord(endWord,wordList[i])const{visited,level}=visitedBeginObj[wordList[i]]?visitedBeginObj[wordList[i]]:{}if(isDiffOneEndWord&&visited===true){if(endLevel+level===42)debuggerreturnendLevel+level}if(isDiffOneEndWord){!visitedEndObj[wordList[i]]&&endQueue.push({endWord:wordList[i],endLevel:endLevel+1})visitedEndObj[wordList[i]]={visited:true,level:endLevel+1}}}}}return0}//judgeifthetargetWordhasonedifferentwordfromthecomparedWordfunctionifDiffOneWord(targetWord,comparedWord){letwordLength=targetWord.lengthletdiffNum=0for(leti=0;i<wordLength;i++){if(targetWord[i]!==comparedWord[i]){diffNum++}if(diffNum>1)returnfalse}if(diffNum===1){returntrue}else{returnfalse}}```![](http://with.muyunyun.cn/5178cc9602d461ec2ddbef5916371af6.jpg)经过实验,可以看出使用双向BFS能比普通的BFS缩短一倍以上的时间。###SimilarTitle279、127、126'},{name:"129.Sum_Root_to_Leaf_Numbers.md",path:"/LeetCode/129.Sum_Root_to_Leaf_Numbers.md",type:"file",mdconf:{abbrlink:"vy79oj8u"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1611,extension:".md",relative:"/LeetCode/129.Sum_Root_to_Leaf_Numbers.md",isEmpty:!1,content:"\x3c!--abbrlink:vy79oj8u--\x3e###129.SumRoottoLeafNumbersGivenabinarytree`containingdigitsfrom0-9only`,eachroot-to-leafpathcouldrepresentanumber.Anexampleistheroot-to-leafpath1->2->3whichrepresentsthenumber123.Findthetotalsumofallroot-to-leafnumbers.Note:Aleafisanodewithnochildren.Example:```jsInput:[1,2,3]1/\\23Output:25```Explanation:Theroot-to-leafpath1->2representsthenumber12.Theroot-to-leafpath1->3representsthenumber13.Therefore,sum=12+13=25.Example2:```jsInput:[4,9,0,5,1]4/\\90/\\51Output:1026Explanation:Theroot-to-leafpath4->9->5representsthenumber495.Theroot-to-leafpath4->9->1representsthenumber491.Theroot-to-leafpath4->0representsthenumber40.Therefore,sum=495+491+40=1026.```###Analyze递归解题```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number}*/varsumNumbers=function(root){constanalyzeObj={sum:0}if(!root)returnanalyzeObj.sumanalyzeSum(root,'',analyzeObj)returnanalyzeObj.sum};varanalyzeSum=function(node,str,analyzeObj){if(!node)returnif(!node.left&&!node.right){str+=String(node.val)analyzeObj.sum=analyzeObj.sum+parseInt(str,10)return}str+=String(node.val)analyzeSum(node.left,str,analyzeObj)analyzeSum(node.right,str,analyzeObj)}```###SimilarTitle113、257"},{name:"130.Surrounded_Regions.md",path:"/LeetCode/130.Surrounded_Regions.md",type:"file",mdconf:{abbrlink:"nc4a31o7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4466,extension:".md",relative:"/LeetCode/130.Surrounded_Regions.md",isEmpty:!1,content:"\x3c!--abbrlink:nc4a31o7--\x3e###130.SurroundedRegionsGivena2Dboardcontaining'X'and'O'(theletterO),captureallregionssurroundedby'X'.Aregioniscapturedbyflippingall'O'sinto'X'sinthatsurroundedregion.Example:[['X','X','X','X'],['X','O','O','X'],['X','X','O','X'],['X','O','X','X']]```jsXXXXXOOXXXOXXOXX``````jsXXXXXOOXXXOXX-XX```Afterrunningyourfunction,theboardshouldbe:```jsXXXXXXXXXXXXXOXX```Explanation:`Surroundedregionsshouldn’tbeontheborder`,whichmeansthatany'O'ontheborderoftheboardarenotflippedto'X'.`Any'O'thatisnotontheborderanditisnotconnectedtoan'O'ontheborderwillbeflippedto'X'`.Twocellsareconnectediftheyareadjacentcellsconnectedhorizontallyorvertically.Example:vartest=[[\"O\",\"O\",\"O\"],[\"O\",\"O\",\"O\"],[\"O\",\"O\",\"O\"]]```jsOOOOOOOOO```Afterrunningyourfunction,theboardshouldbe:```jsOOOOOOOOO```###Analyze*分析终止迭代(不合法)的条件1.m,n坐标已经使用过;2.m,n坐标位于边界而且board[m][n]为'O'3.board[m][n]为'X'```js/***@param{character[][]}board*@return{void}Donotreturnanything,modifyboardin-placeinstead.*/varsolve=function(board){constused=[]for(letm=0;m<board.length;m++){for(letn=0;n<board[m].length;n++){if(used.indexOf(`${m},${n}`)===-1){recursive(board,m,n,used)}}}returnboard};vardirection=[[1,0],[0,1],[-1,0],[0,-1]]//下、右、上、左//m:row;n:columnvarisValid=(board,m,n,used)=>{if(!board[m]||!board[m][n])returnfalseconstnotUsed=used.indexOf(`${m},${n}`)===-1used.push(`${m},${n}`)returnnotUsed}//judgeifitisinboardvarisInBorder=(board,m,n)=>m===0||n===0||m===board.length-1||n===board[0].length-1varrecursive=function(board,m,n,used){//endcondition.if(!isValid(board,m,n,used)||(isInBorder(board,m,n)&&board[m][n]==='O')||board[m][n]==='X'){returnfalse}for(leti=0;i<direction.length;i++){consttag=recursive(board,m+direction[i][0],n+direction[i][1],used)//recursivetosetvalueif(tag&&board[m][n]==='O'){board[m][n]='X'}//若不在边界的坐标m,n四周的值都不合理,且borad[m][n]==='O',则要让board[m][n]='X'//todo:board[m][n-1]==='O'if(i===3&&!isInBorder(board,m,n)&&board[m][n]==='O'){board[m][n]='X'}}returntrue}```「若不在边界的坐标m,n四周的值都不合理,且borad[m][n]==='O',则要让board[m][n]='X'」,这个条件在如下测试用例面前是过不去的砍👀```OOOOOOOOO```观察评论区调整了下思路:1.将边界的O以及与其相连的O标记为`_`。2.遍历节点1.将剩余的O全部替换为X。2.将全部的_替换为O。>点子比行动更重要！```js/***@param{character[][]}board*@return{void}Donotreturnanything,modifyboardin-placeinstead.*/varsolve=function(board){constused=[]for(letm=0;m<board.length;m++){for(letn=0;n<board[m].length;n++){if(isInBorder(m,n,board)&&board[m][n]==='O'){replaceWith_(board,m,n,used)}}}for(letm=0;m<board.length;m++){for(letn=0;n<board[m].length;n++){if(board[m][n]==='O'){board[m][n]='X'}if(board[m][n]==='_'){board[m][n]='O'}}}returnboard};//judgeifitisinboardvarisInBorder=(m,n,board)=>m===0||n===0||m===board.length-1||n===board[0].length-1varisValid=(board,m,n,used)=>{if(!board[m]||!board[m][n])returnfalseconstnotUsed=used.indexOf(`${m},${n}`)===-1used.push(`${m},${n}`)returnnotUsed}vardirection=[[1,0],[0,1],[-1,0],[0,-1]]//下、右、上、左varreplaceWith_=(board,m,n,used)=>{if(!isValid(board,m,n,used)||board[m][n]==='X')returnif(board[m][n]==='O'){board[m][n]='_'}for(leti=0;i<direction.length;i++){replaceWith_(board,m+direction[i][0],n+direction[i][1],used)}}```###SisterTitle79、200"},{name:"131.Palindrome_Partitioning.md",path:"/LeetCode/131.Palindrome_Partitioning.md",type:"file",mdconf:{abbrlink:"s6p7xn8k"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1169,extension:".md",relative:"/LeetCode/131.Palindrome_Partitioning.md",isEmpty:!1,content:'\x3c!--abbrlink:s6p7xn8k--\x3e###131.PalindromePartitioningGivenastrings,partitionssuchthateverysubstringofthepartitionisapalindrome.Return`allpossiblepalindromepartitioning`ofs.Example:```jsInput:"aab"Output:[["aa","b"],["a","a","b"]]```###Analyze本题为`回溯法`的典型案例。*a*a*b√*ab*aa*b√*aab```js/***@param{string}s*@return{string[][]}*/varpartition=function(s){constresult=[]partitionSub(s,0,[],result)returnresult};varpartitionSub=function(s,start,arr,result){if(arr.join(\'\').length===s.length){result.push([...arr])return}for(leti=start+1;i<=s.length;i++){constcurSubString=s.slice(start,i)if(ifPalindrome(curSubString)){arr.push(curSubString)partitionSub(s,i,arr,result)arr.pop()//keycodeforbacktrack}else{continue}}}//judgeifit\'spalindromevarifPalindrome=function(curSubString){returncurSubString===curSubString.split(\'\').reverse().join(\'\')}```###推荐指数※※※※※###相关问题46'},{name:"143.Reorder_List.md",path:"/LeetCode/143.Reorder_List.md",type:"file",mdconf:{abbrlink:"hkvbjeon"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2650,extension:".md",relative:"/LeetCode/143.Reorder_List.md",isEmpty:!1,content:"\x3c!--abbrlink:hkvbjeon--\x3e###143.ReorderListGivenasinglylinkedlistL:L0→L1→..→Ln-1→Ln,reorderitto:L0→Ln→L1→Ln-1→L2→Ln-2→Youmay`notmodifythevaluesinthelist'snodes`,onlynodesitselfmaybechanged.Example1:```jsGiven1->2->3->4,reorderitto1->4->2->3.```Example2:```jsGiven1->2->3->4->5,reorderitto1->5->2->4->3.```###Analyze这道题可作如下转化:1.步骤一:找到链表中点后分割其为left链表、right链表两部分;2.步骤二:翻转right链表,翻转链表思路同[206.Reverse_Linked_List](https://github.com/MuYunyun/blog/blob/master/LeetCode/206.Reverse_Linked_List/README.md);3.步骤三:接着从left链表的左侧,翻转后的right链表的左侧各取一个值进行交替拼接;>快慢指针即quick指针每次走两步,slow指针每次走一步,同[148.Sort_List](https://github.com/MuYunyun/blog/blob/master/LeetCode/148.Sort_List/README.md)```jssqdummy->1->2->3->4->5->NULL步骤一:拆分head链表成`left`、`right`两个链表;l1->2->3->nullr4->5->NULL步骤二:翻转right链表l1->2->3->nullr5->4->NULL步骤三:衔接left、right两个链表;l1->5->2->3->NULLr4->NULL```步骤二中翻转链表的图解大致如下:```jscurnext1->2->3->nullprevcurnull<-1<-2->3->nullprevcurnull<-1<-2<-3->nullprevnull<-1<-2<-3->null``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@return{void}Donotreturnanything,modifyheadin-placeinstead.*/varreorderList=function(head){constdummy=newListNode(0)dummy.next=headletslow=dummyletquick=dummywhile(quick&&quick.next){slow=slow.nextquick=quick.nextquick=quick.next}letright=slow.nextslow.next=nullletleft=dummy.nextright=reverseList(right)while(left&&right){letlNext=left.nextletrNext=right.nextright.next=left.nextleft.next=rightleft=lNextright=rNext}returndummy.next}varreverseList=(list)=>{letprev=nullletcur=listwhile(cur){letnext=cur.nextcur.next=prevprev=curcur=next}returnprev}```![](http://with.muyunyun.cn/3f207867435faf3edeeb4e9d2f5f5b29.jpg)###SimilarTitle148(快慢指针)、234"},{name:"144.Binary_Tree_Preorder_Traversal.md",path:"/LeetCode/144.Binary_Tree_Preorder_Traversal.md",type:"file",mdconf:{abbrlink:"hlnutm1d"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3879,extension:".md",relative:"/LeetCode/144.Binary_Tree_Preorder_Traversal.md",isEmpty:!1,content:"\x3c!--abbrlink:hlnutm1d--\x3e###144.BinaryTreePreorderTraversalGivenabinarytree,returnthe`preordertraversal`ofitsnodes'values.Example:```jsInput:[1,null,2,3]1/\\null2/\\3nullOutput:[1,2,3]```Followup:Recursivesolutionistrivial,couldyoudoit`iteratively`?###Analyze构建tree```jsvartree1=newTreeNode(1)vartree2=newTreeNode(2)vartree3=newTreeNode(3)tree2.left=tree3tree1.left=nulltree1.right=tree2```###递归法首先给出递归解法,代码很简洁。```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[]}*/varpreorderTraversal=function(root){if(root){return[root.val,...preorderTraversal(root.left),...preorderTraversal(root.right)]}else{return[]}}```###扩展——递归和栈的关系```js1/\\25/\\34```针对如图剖析树在先序遍历下的递归操作,其执行过程如下:*步骤一:将根节点1推入栈;*步骤二:从栈中取出顶部元素1并打印。*由于存在右节点5,将其推入栈中;*由于存在左节点2,将其推入栈中;*步骤三:从栈中取出顶部元素2并打印。*由于存在右节点4,将其推入栈中;*由于存在左节点3,将其推入栈中;*步骤四:从栈中取出顶部元素3并打印。*步骤五:从栈中取出顶部元素4并打印。*步骤六:从栈中取出顶部元素5并打印。模拟系统栈实现图解:```js步骤一:1步骤二:取出1并打印;25步骤三:取出2并打印;345步骤四:取出3并打印;步骤四:取出4并打印;步骤四:取出5并打印;```代码实现:```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[]}*/varpreorderTraversal=function(root){constprintArr=[]conststack=[]if(!root)return[]stack.push(root)while(stack.length>0){constpopValue=stack.pop()printArr.push(popValue.val)popValue.right&&stack.push(popValue.right)popValue.left&&stack.push(popValue.left)}returnprintArr}```###颜色标记法(迭代法,模拟系统栈)使用`颜色标记法`剖析树在中序遍历下的递归操作,思路如下:1.将访问过的元素标记为灰色,未访问过的元素标记为白色;2.从栈顶取出访问元素:1.若为灰色元素,则打印之;2.若为白色元素,按照`右->左->中`的顺序推入栈,同时将白色元素标记为灰色元素;>推荐使用颜色标记法,它的解题思路适用于解前序、中序、后序遍历。```js1/\\25/\\34```在如上所示树中,模拟系统栈图解其执行过程如下:```jsgray1white2white5white2white5gray2white3white4white5``````js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[]}*/varpreorderTraversal=function(root){constprintArr=[]if(!root)returnprintArrconststack=[]stack.push({color:'white',node:root})while(stack.length>0){constpickValue=stack.pop()const{color,node}=pickValueif(color==='gray'){printArr.push(node.val)}else{node.right&&stack.push({color:'white',node:node.right})node.left&&stack.push({color:'white',node:node.left})stack.push({color:'gray',node})}}returnprintArr}```###SisterTitle94、145"},{name:"145.Binary_Tree_Postorder_Traversal.md",path:"/LeetCode/145.Binary_Tree_Postorder_Traversal.md",type:"file",mdconf:{abbrlink:"91ua56uy"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2376,extension:".md",relative:"/LeetCode/145.Binary_Tree_Postorder_Traversal.md",isEmpty:!1,content:"\x3c!--abbrlink:91ua56uy--\x3e###BinaryTreePostorderTraversalGivenabinarytree,returnthepostordertraversalofitsnodes'values.Example:```jsInput:[1,null,2,3]1\\2/3``````jsOutput:[3,2,1]```Followup:Recursivesolutionistrivial,couldyoudoititeratively?```jsfunctionTreeNode(val){this.val=valthis.left=this.right=null}vartree1=newTreeNode(1)vartree2=newTreeNode(2)vartree3=newTreeNode(3)tree2.left=tree3tree1.left=nulltree1.right=tree2```###递归法```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[]}*/varpostorderTraversal=function(root){if(root){return[...postorderTraversal(root.left),...postorderTraversal(root.right),root.val]}else{return[]}}```###颜色标记法(迭代法,模拟系统栈)使用`颜色标记法`剖析树在中序遍历下的递归操作,思路如下:1.将访问过的元素标记为灰色,未访问过的元素标记为白色;2.从栈顶取出访问元素:1.若为灰色元素,则打印之;2.若为白色元素,按照`中->右->左`的顺序推入栈,同时将白色元素标记为灰色元素;>推荐使用颜色标记法,它的解题思路适用于解前序、中序、后序遍历。```js1/\\25/\\34```在如上所示树中,模拟系统栈图解其执行过程如下:```jsgray1white2white5white2white5gray2white3white4white5``````js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[]}*/varpostorderTraversal=function(root){constprintArr=[]if(!root)returnprintArrconststack=[]stack.push({color:'white',node:root})while(stack.length>0){const{color,node}=stack.pop()if(color==='gray'){printArr.push(node.val)}else{stack.push({color:'gray',node})node.right&&stack.push({color:'white',node:node.right})node.left&&stack.push({color:'white',node:node.left})}}returnprintArr}```###SisterTitle94、144"},{name:"147.Insertion_Sort_List.md",path:"/LeetCode/147.Insertion_Sort_List.md",type:"file",mdconf:{abbrlink:"s2fvew15"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2571,extension:".md",relative:"/LeetCode/147.Insertion_Sort_List.md",isEmpty:!1,content:"\x3c!--abbrlink:s2fvew15--\x3e###Insertion_Sort_ListSortalinkedlistusinginsertionsort.![](https://upload.wikimedia.org/wikipedia/commons/0/0f/Insertion-sort-example-300px.gif)Agraphicalexampleofinsertionsort.Thepartialsortedlist(black)initiallycontainsonlythefirstelementinthelist.Witheachiterationoneelement(red)isremovedfromtheinputdataandinsertedin-placeintothesortedlist.AlgorithmofInsertionSort:1.Insertionsortiterates,consumingoneinputelementeachrepetition,andgrowingasortedoutputlist.2.Ateachiteration,insertionsortremovesoneelementfromtheinputdata,findsthelocationitbelongswithinthesortedlist,andinsertsitthere.3.Itrepeatsuntilnoinputelementsremain.Example1:```jsInput:4->2->1->3Output:1->2->3->4```Example2:```jsInput:-1->5->3->4->0Output:-1->0->3->4->5```###Analyzehead0:当前已排序列表的最后一个;pre:用于遍历当前已排序列表;```jshead0dummy->4->2->1->3..prehead0dummy->4->2->1->3..prehead0dummy->2->4->1->3..prehead0dummy->1->2->4->3..head0dummy->1->2->3->4``````jshead0dummy->-1->5->3->4->0..prehead0dummy->-1->5->3->4->0..prehead0dummy->-1->3->5->4->0..prehead0dummy->-1->3->5->4->0..prehead0dummy->-1->3->4->5->0..head0dummy->-1->0->3->4->5``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@return{ListNode}*/varinsertionSortList=function(head){constdummy=newListNode(0)dummy.next=headlethead0=dummy.nextwhile(head0&&head0.next){if(head0.next.val>=head0.val){head0=head0.nextcontinue}letpre=dummywhile(pre.next.val<head0.next.val){pre=pre.next}letnext=head0.nexthead0.next=next.nextnext.next=pre.nextpre.next=next}returndummy.next}```###姊妹题148![](http://with.muyunyun.cn/d0cee500a18a46b76ed67016484973e2.jpg)"},{name:"148.Sort_List.md",path:"/LeetCode/148.Sort_List.md",type:"file",mdconf:{abbrlink:"lnvam2ud"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2265,extension:".md",relative:"/LeetCode/148.Sort_List.md",isEmpty:!1,content:"\x3c!--abbrlink:lnvam2ud--\x3e###SortListSortalinkedlistin`O(nlogn)`timeusing`constantspace`complexity.Example1:```jsInput:4->2->1->3Output:1->2->3->4```Example2:```jsInput:-1->5->3->4->0Output:-1->0->3->4->5```###analyze根据题意的要求,锁定使用`归并排序`算法,但是相对数组的归并排序,有以下两个难点:*问题一:如何确认链表的中点?*问题二:链表如何merge?针对问题一,可以使用`快慢指针`来确认链表的中点,快指针每次走两步,慢指针每次走一步,慢指针最后的位置就是链表的中点位置,步骤图解如下:针对奇数情形:```jsslowquickdummy->1->nullslowquickdummy->4->2->1->null偶数:slowquickdummy->1->2->null```针对偶数情形:```jsslowquickdummy->1->2->null```此外另外一个难点是如何进行merge操作。大体思路为1.在leftList中找到比rNode小且最接近rNode的值lNode;2.将rNode插入lNode的后面;步骤图解如下:```jslNoderNodedummy->1->3->null2->4->nulllNoderNodedummy->1->2->3->null4->null``````jsvarsortList=function(head){constdummy=newListNode(0)dummy.next=headlethead0=dummy.nextletslow=dummy,quick=dummywhile(quick.next){quick=quick.nextslow=slow.nextquick.next&&(quick=quick.next)}//iftheslowlistisequaltothequicklist,itmeansthecurrentlistonlyhasonenode.if(slow===quick)returndummy.nextletrightList=slow.nextslow.next=nullletleftList=dummyreturnmerge(sortList(leftList.next),sortList(rightList))}varmerge=function(leftList,rightList){constdummy=newListNode(0)dummy.next=leftListletlNode=dummyletrNode=rightListwhile(lNode&&rNode){while(lNode.next&&lNode.next.val<rNode.val){lNode=lNode.next}letrNext=rNode.nextrNode.next=lNode.nextlNode.next=rNoderNode=rNext}returndummy.next}```###姊妹题147、143、234"},{name:"149.Max_Points_on_a_Line.md",path:"/LeetCode/149.Max_Points_on_a_Line.md",type:"file",mdconf:{abbrlink:"a8g2xifr"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2793,extension:".md",relative:"/LeetCode/149.Max_Points_on_a_Line.md",isEmpty:!1,content:"\x3c!--abbrlink:a8g2xifr--\x3e###titleGivennpointsona2Dplane,findthemaximumnumberofpointsthatlieonthesamestraightline.Example1:```jsInput:[[1,1],[2,2],[3,3]]Output:3Explanation:^||o|o|o+-------------\x3e01234``````jsExample2:Input:[[1,1],[3,2],[5,3],[4,1],[2,3],[1,4]]Output:4Explanation:^||o|oo|o|oo+-------------------\x3e0123456```###Analyze*需要考虑的条件*points中的值是否会重合?*针对除不尽的数字,精度问题是否需要考虑?*传入参数个数;*为避免除法带来的问题,可以求最大公约数,将9/6,18/12转化为3/2;*在同一排可以表示为'0/x',在同一列可以表示为'y/0';*重合的点可以表示为'0/0',并用变量samePoint来记录它;>求最大公约数用到了数学中的辗转相除法:两个正整数a和b(a>b),它们的最大公约数等于a除以b的余数c和b之间的最大公约数。比如25和10,25除以10商2余5,那么25和10的最大公约数,等同于10和5的最大公约数。```js/***@param{number[][]}points*@return{number}*/varmaxPoints=function(points){if(points.length===0)return0if(points.length===1)return1constgetFractions=(pointsdiffX,pointsdiffY)=>{if(pointsdiffX===0&&pointsdiffY!==0)return`y/0`if(pointsdiffX!==0&&pointsdiffY===0)return`0/x`if(pointsdiffX===0&&pointsdiffY===0)return`0/0`constgcdValue=gcd(pointsdiffY,pointsdiffX)constnumerator=pointsdiffY/gcdValueconstdenominator=pointsdiffX/gcdValuereturn`${numerator}/${denominator}`}constgcd=(a,b)=>{if(b===0){returna}returngcd(b,a%b)}letresult=0for(letm=0;m<points.length;m++){constmap=newMap()letsamePoint=0for(letn=0;n<points.length;n++){if(m!==n){constpointsdiffX=points[n][0]-points[m][0]constpointsdiffY=points[n][1]-points[m][1]if(pointsdiffX===0&&pointsdiffY===0){samePoint++}constfractions=getFractions(pointsdiffX,pointsdiffY)if(map.has(fractions)){map.set(fractions,map.get(fractions)+1)}else{map.set(fractions,1)}}}map.forEach((value,key)=>{if(key!=='0/0'){result=Math.max(result,value+samePoint+1)}else{result=Math.max(result,value+1)}})}returnresult}```![](http://with.muyunyun.cn/490006ca96e92c2bbcbca3856d71c1df.jpg-400)###SisterTitle149"},{name:"150.Evaluate_Reverse_Polish_Notation.md",path:"/LeetCode/150.Evaluate_Reverse_Polish_Notation.md",type:"file",mdconf:{abbrlink:"whngy576"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1985,extension:".md",relative:"/LeetCode/150.Evaluate_Reverse_Polish_Notation.md",isEmpty:!1,content:'\x3c!--abbrlink:whngy576--\x3e###150.EvaluateReversePolishNotationEvaluatethevalueofanarithmeticexpressioninReversePolishNotation.Validoperatorsare`+,-,*,/`.Eachoperandmaybean`integer`or`anotherexpression`.Note:*Divisionbetweentwointegersshouldtruncatetowardzero.*ThegivenRPNexpressionis`alwaysvalid`.Thatmeanstheexpressionwouldalwaysevaluatetoaresultandtherewon\'tbeanydividebyzerooperation.Example1:```jsInput:["2","1","+","3","*"]Output:9Explanation:((2+1)*3)=9```Example2:```jsInput:["4","13","5","/","+"]Output:6Explanation:(4+(13/5))=6```Example3:```jsInput:["10","6","9","3","+","-11","*","/","*","17","+","5","+"]Output:22Explanation:((10*(6/((9+3)*-11)))+17)+5=((10*(6/(12*-11)))+17)+5=((10*(6/-132))+17)+5=((10*0)+17)+5=(0+17)+5=17+5=22```###Analyze栈的使用,思路大致如下:1.遇到数字推入栈;2.遇到符号则从栈中取出最后两位进行数学操作;>稍加留意的是,需要对/运算进行取整操作;```js/***@param{string[]}tokens*@return{number}*/varevalRPN=function(tokens){conststack=[]constoperateTag=[\'+\',\'-\',\'*\',\'/\']for(leti=0;i<tokens.length;i++){constoperateTagIndex=operateTag.indexOf(tokens[i])if(operateTagIndex===-1){stack.push(tokens[i])}else{consty=stack.pop()constx=stack.pop()letresultif(operateTagIndex===0){result=Number(x)+Number(y)}elseif(operateTagIndex===1){result=Number(x)-Number(y)}elseif(operateTagIndex===2){result=Number(x)*Number(y)}elseif(operateTagIndex===3){result=parseInt((Number(x)/Number(y)),10)}stack.push(result)}}returnstack[0]}```###SimilarTitle20、71'},{name:"151.Reverse_Words_in_a_String.md",path:"/LeetCode/151.Reverse_Words_in_a_String.md",type:"file",mdconf:{abbrlink:"1fbs6qvn"},birthtime:"2021-12-08",mtime:"2021-12-08",size:256,extension:".md",relative:"/LeetCode/151.Reverse_Words_in_a_String.md",isEmpty:!1,content:"\x3c!--abbrlink:1fbs6qvn--\x3e/***@param{string}str*@returns{string}*/varreverseWords=function(str){consthandleStr=str.trim().replace(/\\s\\s+/g,'')constreverseStr=handleStr.split('').reverse().join('')returnreverseStr};"},{name:"167.Two_Sum_II_-_Input_array_is_sorted.md",path:"/LeetCode/167.Two_Sum_II_-_Input_array_is_sorted.md",type:"file",mdconf:{abbrlink:"xq2xbp15"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2104,extension:".md",relative:"/LeetCode/167.Two_Sum_II_-_Input_array_is_sorted.md",isEmpty:!1,content:"\x3c!--abbrlink:xq2xbp15--\x3e给定一个已按照升序排列的`有序数组`，找到两个数使得它们相加之和等于目标数。函数应该返回这两个下标值index1和index2,其中index1必须小于index2。说明:返回的下标值(index1和index2)不是从零开始的。你可以假设每个输入只对应唯一的答案，而且你不可以重复使用相同的元素。示例:```js输入:numbers=[2,7,11,15],target=9输出:[1,2]解释:2与7之和等于目标数9。因此index1=1,index2=2。```###题解注意题目给出的条件`有序数组`解法一:因为是有序数组,题目可以转化为:第一个值的下标为`i`时,在剩余的有序数组中寻找`target-number[i]`。因而该算法时间复杂度为`O(NlogN)`。![](http://with.muyunyun.cn/4bd2e0a2986f09b8efa56972810291d4.jpg)```js/***@param{number[]}numbers*@param{number}target*@return{number[]}*/vartwoSum=function(numbers,target){for(leti=0;i<numbers.length;i++){constindex=binarySearch(numbers,target-numbers[i])if(typeof(index)==='number'){return[i+1,index+1]}}}varbinarySearch=function(arr,value){letleft=0letright=arr.length-1while(left<=right){constmid=left+Math.ceil((right-left)/2)if(arr[mid]===value){returnmid}elseif(arr[mid]<value){left=mid+1}elseif(arr[mid]>value){right=mid-1}}returnnull}```解法二:用`对撞指针(双指针)`实现时间复杂度为`O(n)`的算法。```js/***@param{number[]}numbers*@param{number}target*@return{number[]}*/vartwoSum=function(numbers,target){letleft=0letright=numbers.length-1while(left<=right){constsum=numbers[left]+numbers[right]if(sum===target){return[left+1,right+1]}elseif(sum>target){right--}elseif(sum<target){left++}}}```###相似问题125、344、345"},{name:"198.House_Robber.md",path:"/LeetCode/198.House_Robber.md",type:"file",mdconf:{abbrlink:"843odobm"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2380,extension:".md",relative:"/LeetCode/198.House_Robber.md",isEmpty:!1,content:"\x3c!--abbrlink:843odobm--\x3e###198.HouseRobberYouareaprofessionalrobberplanningtorobhousesalongastreet.Eachhousehasacertainamountofmoneystashed,theonlyconstraintstoppingyoufromrobbingeachofthemisthat`adjacenthouseshavesecuritysystemsconnected`anditwillautomaticallycontactthepoliceiftwoadjacenthouseswerebrokenintoonthesamenight.Givenanintegerarraynumsrepresentingtheamountofmoneyofeachhouse,returnthemaximumamountofmoneyyoucanrobtonightwithoutalertingthepolice.Example1:```jsInput:nums=[1,2,3,1]Output:4```Explanation:Robhouse1(money=1)andthenrobhouse3(money=3).Totalamountyoucanrob=1+3=4.Example2:```jsInput:nums=[2,7,9,3,1]Output:12```Explanation:Robhouse1(money=2),robhouse3(money=9)androbhouse5(money=1).Totalamountyoucanrob=2+9+1=12.*Constraints:*1<=nums.length<=100*0<=nums[i]<=400###Analyze思考🤔:```js[0,n-1]/|...\\\\[2,n-1][3,n-1][4,n-1]...[n-1]/[4,n-1]:此时找到了重复子项```*`状态的定义`(即函数的定义):考虑偷取`[m,n-1]`范围内的房子*`状态转移`:f(0)=`Math.max(v(0)+f(2),v(1)+f(3),v(2)+f(4),...,v(n-3)+f(n-1),v(n-2),v(n-1))`记忆化递归:```js/***@param{number[]}nums*@return{number}*/varrob=function(nums){returnfind(nums,{},0)}varfind=function(nums,cache,start){if(typeofnums[start]!=='number')return0constlength=nums.lengthletsum=0for(leti=start;i<length;i++){if(typeofcache[i]!=='number'){cache[i]=find(nums,cache,i+2)}sum=Math.max(sum,nums[i]+cache[i])}returnsum}```动态规划:```js/***@param{number[]}nums*@return{number}*/varrob=function(nums){constlength=nums.lengthconstcache={}letmax=0for(leti=length-1;i>=0;i--){for(letm=i;m<=length-1;m++){if(typeofcache[m]!=='number'){cache[m]=Math.max(nums[m]+(cache[m+2]||0),cache[m+1]||0)}max=Math.max(max,cache[m])}}returnmax}```"},{name:"199.Binary_Tree_Right_Side_View.md",path:"/LeetCode/199.Binary_Tree_Right_Side_View.md",type:"file",mdconf:{abbrlink:"tlr4ro6a"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1385,extension:".md",relative:"/LeetCode/199.Binary_Tree_Right_Side_View.md",isEmpty:!1,content:"\x3c!--abbrlink:tlr4ro6a--\x3e###199.BinaryTreeRightSideViewGivenabinarytree,imagineyourselfstandingontherightsideofit,returnthevaluesofthenodesyoucanseeordered`fromtoptobottom`.Example:```jsInput:[1,2,3,null,5,null,4]Output:[1,3,4]```Explanation:1<---/\\23<---\\\\54<---###Analyze将题目表述转化下为:展示当前行的最右侧元素即可;该题考察的是`树的广度遍历(BFS)`,运用到了`队列`相关知识。```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number[]}*/varrightSideView=function(root){constprintList=[]if(!root){return[]}constlist=[]list.push({level:0,node:root})while(list.length>0){const{level,node}=list.shift()if(!printList[level]){printList[level]=[]}printList[level].push(node.val)node.left&&list.push({level:level+1,node:node.left})node.right&&list.push({level:level+1,node:node.right})}constresult=[]printList.map(printListArr=>{result.push(printListArr[printListArr.length-1])})returnresult}```###SimilarTitle102(SisterTitle)、107、103"},{name:"200.Number_of_Islands.md",path:"/LeetCode/200.Number_of_Islands.md",type:"file",mdconf:{abbrlink:"868q1z54"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1702,extension:".md",relative:"/LeetCode/200.Number_of_Islands.md",isEmpty:!1,content:'\x3c!--abbrlink:868q1z54--\x3e###200.NumberofIslandsGivenanmxn2dgridmapof\'1\'s(land)and\'0\'s(water),returnthenumberofislands.Anislandissurroundedbywaterandisformedbyconnectingadjacentlandshorizontallyorvertically.Youmayassumeallfouredgesofthegridareallsurroundedbywater.Example1:```jsInput:grid=[["1","1","1","1","0"],["1","1","0","1","0"],["1","1","0","0","0"],["0","0","0","0","0"]]Output:1```Example2:```jsInput:grid=[["1","1","0","0","0"],["1","1","0","0","0"],["0","0","1","0","0"],["0","0","0","1","1"]]Output:3```Constraints:*m==grid.length*n==grid[i].length*1<=m,n<=300*grid[i][j]is\'0\'or\'1\'.###Analyze*`floodfill`算法。```js/***@param{character[][]}grid*@return{number}*/varnumIslands=function(grid){constresult=[]constused=[]for(letm=0;m<grid.length;m++){for(letn=0;n<grid[m].length;n++){if(used.indexOf(`${m},${n}`)===-1&&grid[m][n]===\'1\'){result.push(used)backTrace(grid,m,n,result,used)}}}returnresult.length};varbackTrace=function(grid,m,n,result,used){constdirection=[[1,0],[0,1],[-1,0],[0,-1]]for(leti=0;i<direction.length;i++){constuse=used.indexOf(`${m+direction[i][0]},${n+direction[i][1]}`)>-1if(!use&&grid[m+direction[i][0]]&&grid[m+direction[i][0]][n+direction[i][1]]===\'1\'){used.push(`${m+direction[i][0]},${n+direction[i][1]}`)backTrace(grid,m+direction[i][0],n+direction[i][1],result,used)}}}```###SisterTitle130、200'},{name:"202.Happy_Number.md",path:"/LeetCode/202.Happy_Number.md",type:"file",mdconf:{abbrlink:"mo1q1fss"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1459,extension:".md",relative:"/LeetCode/202.Happy_Number.md",isEmpty:!1,content:"\x3c!--abbrlink:mo1q1fss--\x3e###title编写一个算法来判断一个数是不是“快乐数”。一个“快乐数”定义为：对于一个正整数，每一次将该数替换为它`每个位置上的数字的平方和`，然后重复这个过程直到这个数变为1，也可能是无限循环但始终变不到1。如果可以变为1，那么这个数就是快乐数。示例:```js输入:19输出:true解释:1^2+9^2=828^2+2^2=686^2+8^2=1001^2+0^2+0^2=1```###题解*使用`字典Map`来记录循环过程中各个位置上的数字的平方和*若平方和的值为1,则跳出循环,这个数是快乐数;*若平方和的值不为1,则判断字典Map中是否已有该值;*若字典Map中已有该值,则这个数不是快乐数;```js/***@param{number}n*@return{boolean}*/varisHappy=function(n){constmapResult=newMap()letcurrentSum=getSum(n)while(currentSum!==1){constgetMapResult=mapResult.get(currentSum)if(!getMapResult){mapResult.set(currentSum,1)}else{returnfalse}currentSum=getSum(currentSum)}returntrue}/*获取数字各个位数之和*/vargetSum=function(num){letsum=0constnumStr=String(num)for(leti=0;i<numStr.length;i++){sum=sum+Math.pow(numStr[i],2)}returnsum}```###相关题目205、242、290、349、350、451"},{name:"203.Remove_Linked_List_Elements.md",path:"/LeetCode/203.Remove_Linked_List_Elements.md",type:"file",mdconf:{abbrlink:"nzetbppy"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1216,extension:".md",relative:"/LeetCode/203.Remove_Linked_List_Elements.md",isEmpty:!1,content:"\x3c!--abbrlink:nzetbppy--\x3e###RemoveLinkedListElementsRemoveallelementsfromalinkedlistofintegersthathavevalueval.Example:```jsInput:1->2->6->3->4->5->6,val=6Output:1->2->3->4->5```###Analyze```jsprevcurnext1->2->6->3->4->5->6```思路:*借助指针prev,cur,next*若cur.val与传入val相等,则让prev.next指向next>如果只用cur、next两个指针,若next.val与传入val相等,则让cur=next.next后的cur.val与传入的val仍然相等,此时就无法改变移除当前的cur了,因此需要引入第三个指针prev。```js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@param{number}val*@return{ListNode}*/varremoveElements=function(head,val){constdummyHead=newListNode(head)dummyHead.next=headletprev=dummyHeadletcur=dummyHead.nextwhile(cur){letnext=cur.nextif(cur.val===val){prev.next=next}else{prev=cur}cur=next}returndummyHead.next}```###SimilarTitle21,82(SisterTitle)"},{name:"205.Isomorphic_Strings.md",path:"/LeetCode/205.Isomorphic_Strings.md",type:"file",mdconf:{abbrlink:"whxjvaux"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1926,extension:".md",relative:"/LeetCode/205.Isomorphic_Strings.md",isEmpty:!1,content:'\x3c!--abbrlink:whxjvaux--\x3e###205.IsomorphicStringsGiventwostringssandt,determineiftheyareisomorphic.Twostringsareisomorphicifthecharactersinscanbereplacedtogett.Alloccurrencesofacharactermustbereplacedwithanothercharacterwhilepreservingtheorderofcharacters.`Notwocharactersmaymaptothesamecharacter`but`acharactermaymaptoitself`.Example1:```jsInput:s="egg",t="add"Output:true```Example2:```jsInput:s="foo",t="bar"Output:false```Example3:```jsInput:s="paper",t="title"Output:true```Note:Youmayassumebothsandthavethesamelength.###题解方法一:字典哈希*遍历字符串,使用`字典map`构建s中字符串与t中字符串(以及t中字符串与s中字符串)的映射关系;*若发现存在`一对多`的情况,则s与t不是同构的;*遍历结束,则s与t是同构的;>一对多:比如s为\'aa\',t为\'ab\',此时’a\'字符就对应了\'a\'、\'b\'两个字符,即为一对多。```js/***@param{string}s*@param{string}t*@return{boolean}*/varisIsomorphic=function(s,t){constmapS=newMap()constmapT=newMap()for(leti=0;i<s.length;i++){constgetS=mapS.get(s[i])constgetT=mapT.get(t[i])if((getS&&getS!==t[i])||(getT&&getT!==s[i])){returnfalse}mapS.set(s[i],t[i])mapT.set(t[i],s[i])}returntrue}```方法二:判断s与t字符串中字符出现的第一个位置。(针对本题的巧妙解法,不过推荐优先掌握方法一)```js/***@param{string}s*@param{string}t*@return{boolean}*/varisIsomorphic=function(s,t){for(leti=0;i<s.length;i++){if(s.indexOf(s[i])!==t.indexOf(t[i])){returnfalse}}returntrue};```###相关题目202、242、290、349、350、451'},{name:"206.Reverse_Linked_List.md",path:"/LeetCode/206.Reverse_Linked_List.md",type:"file",mdconf:{abbrlink:"w6mlr34n"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1986,extension:".md",relative:"/LeetCode/206.Reverse_Linked_List.md",isEmpty:!1,content:"\x3c!--abbrlink:w6mlr34n--\x3e###titleReverseasinglylinkedlist.Example:```jsInput:1->2->3->4->5->NULLOutput:5->4->3->2->1->NULL```Followup:Alinkedlistcanbereversedeitheriterativelyorrecursively.Couldyouimplementboth?###Analyze```jsprevcurnext1->2->3->4->5->nullnull<-1->2->3->4->5```step:1.定义三个变量prev,cur,next表示上一个值,当前值,下一个值;2.如果存在cur.next则将cur.next指向prev;3.将cur移动到next位置,prev移动到cur位置,重复步骤2;```js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@return{ListNode}*/varreverseList=function(head){letprev=nullletcur=headif(head){letnext=head.nextwhile(cur.next){cur.next=prevprev=curcur=nextnext=next.next}cur.next=prev}returncur};```这样写存在一些冗余的代码,比如需要判断head是否为空,同时因为while中的条件是cur.next,因为末尾的cur.next需要单独处理一遍,比较麻烦,因此进而优化。```js/***@param{ListNode}head*@return{ListNode}*/varreverseList=function(head){letprev=nullletcur=headwhile(cur!==null){letnext=cur.nextcur.next=prevprev=curcur=next}returnprev};```根据题目的建议,接着用递归的方式实现一遍(值得注意的是,迭代与递归的写法都是能互相转换的。)```js/***@param{ListNode}head*@return{ListNode}*/varreverseList=function(head){letprev=nullletcur=headconstrecursiveFn=()=>{if(cur===null)returnletnext=cur.nextcur.next=prevprev=curcur=nextrecursiveFn()}recursiveFn()returnprev};```###SisterTitle92"},{name:"209.Minimum_Size_Subarray_Sum.md",path:"/LeetCode/209.Minimum_Size_Subarray_Sum.md",type:"file",mdconf:{abbrlink:"e3zceith"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1546,extension:".md",relative:"/LeetCode/209.Minimum_Size_Subarray_Sum.md",isEmpty:!1,content:"\x3c!--abbrlink:e3zceith--\x3e###题目:长度最小的子数组给定一个含有n个正整数的数组和一个正整数s,找出该数组中满足其和≥s的长度最小的连续子数组。如果不存在符合条件的连续子数组，返回0。示例:```js输入:s=7,nums=[2,3,1,2,4,3]输出:2解释:子数组[4,3]是该条件下的长度最小的连续子数组。```进阶:如果你已经完成了`O(n)`时间复杂度的解法,请尝试`O(nlogn)`时间复杂度的解法。###解题思路:`滑动列表`。时间复杂度为`O(n)`,空间复杂度为`1`。1.取滑动列表[left,right];2.若列表[left,right]中的取值之和小于s,则列表的有边界right往右扩张。3.若列表[left,right]中的取值之和大于s,则列表的左边界left往右扩张。```js/***@param{number}s*@param{number[]}nums*@return{number}*/varminSubArrayLen=function(s,nums){letleft=0,right=-1//[left,right],左闭右闭letminDistance=nums.length+1//存储left与right间的距离letsum=0//[left,right]间值的总和while(left<nums.length-1){if(right<nums.length-1&&sum<s){right++sum=sum+nums[right]}else{sum=sum-nums[left]left++}if(sum>=s){minDistance=Math.min(minDistance,right-left+1)}}if(minDistance===nums.length+1)return0returnminDistance}```###SisterTitle3、76、209、438"},{name:"213.House_Robber_II.md",path:"/LeetCode/213.House_Robber_II.md",type:"file",mdconf:{abbrlink:"do877fu2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3412,extension:".md",relative:"/LeetCode/213.House_Robber_II.md",isEmpty:!1,content:"\x3c!--abbrlink:do877fu2--\x3e###213.House_Robber_IIYouareaprofessionalrobberplanningtorobhousesalongastreet.Eachhousehasacertainamountofmoneystashed.Allhousesatthisplaceare`arrangedinacircle`.Thatmeans`thefirsthouseistheneighborofthelastone`.Meanwhile,adjacenthouseshaveasecuritysystemconnected,anditwillautomaticallycontactthepoliceiftwoadjacenthouseswerebrokenintoonthesamenight.Givenanintegerarraynumsrepresentingtheamountofmoneyofeachhouse,returnthemaximumamountofmoneyyoucanrobtonightwithoutalertingthepolice.Example1:```jsInput:nums=[2,3,2]Output:3Explanation:Youcannotrobhouse1(money=2)andthenrobhouse3(money=2),becausetheyareadjacenthouses.```Example2:```jsInput:nums=[1,2,3,1]Output:4Explanation:Robhouse1(money=1)andthenrobhouse3(money=3).Totalamountyoucanrob=1+3=4.```Example3:```jsInput:nums=[0]Output:0```Constraints:*1<=nums.length<=100*0<=nums[i]<=1000###Analyze思考🤔:将4235拆成423与235两种情形。如此便将其转化为题目[198.HouseRobber](https://github.com/MuYunyun/blog/blob/main/LeetCode/198.House_Robber.md)```js[0,n-2]||[1,n-1]/|\\\\/|...\\[2,n-2][3,n-2][4,n-2]...[n-2][3,n-1][4,n-1]...[n-1]/[4,n-2]:此时找到了重复子项```*`状态的定义`(即函数的定义):考虑偷取`[m,n-2]||[z,n-1]`范围内的房子*`状态转移`:f(0)=`Math.max(v(0)+f(2),v(1)+f(3),v(2)+f(4),...,v(n-3)+f(n-1),v(n-2),v(n-1))`递归:```js/***@param{number[]}nums*@return{number}*/varrob=function(nums){if(nums.length===1){returnnums[0]}constnums1=nums.slice(0,nums.length-1)constnums2=nums.slice(1,nums.length)returnMath.max(robPosition(nums1,0,{}),robPosition(nums2,0,{}))}varrobPosition=function(nums,start,cache){letsum=0if(typeofnums[start]!=='number')return0//theforloopcanbeoptimizedhere.for(leti=start;i<nums.length;i++){if(typeofcache[i]!=='number'){cache[i]=robPosition(nums,i+2,cache)}sum=Math.max(sum,nums[i]+cache[i])}returnsum}```动态规划:```js/***@param{number[]}nums*@return{number}*/varrob=function(nums){if(nums.length===0)return0if(nums.length===1){returnnums[0]}if(nums.length===2){returnMath.max(nums[0],nums[1])}constnums1=nums.slice(0,nums.length-1)constnums2=nums.slice(1,nums.length)returnMath.max(robPosition(nums1),robPosition(nums2))}varrobPosition=(nums)=>{constlastDigit=nums[nums.length-1]constlastSecondDigit=nums[nums.length-2]constcache={0:lastDigit,1:Math.max(lastSecondDigit,lastDigit)}letsum=Math.max(lastSecondDigit,lastDigit)for(leti=2;i<nums.length;i++){if(typeofcache[i]!=='number'){constpoint=nums.length-(i+1)cache[i]=Math.max(nums[point]+cache[i-2],cache[i-1])}sum=Math.max(sum,cache[i])}returnsum}```"},{name:"215.Kth_Largest_Element_in_an_Array.md",path:"/LeetCode/215.Kth_Largest_Element_in_an_Array.md",type:"file",mdconf:{abbrlink:"qc83shc8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2659,extension:".md",relative:"/LeetCode/215.Kth_Largest_Element_in_an_Array.md",isEmpty:!1,content:"\x3c!--abbrlink:qc83shc8--\x3e###215.KthLargestElementinanArray在`未排序的数组中`找到第k个最大的元素。请注意，你需要找的是数组排序后的第k个最大的元素，而不是第k个不同的元素。示例1:```js输入:[3,2,1,5,6,4]和k=2输出:5```示例2:```js输入:[3,2,3,1,2,4,5,5,6]和k=4输出:4```说明:你可以假设k总是有效的，且1≤k≤数组的长度。###解题解法一:排序。空间复杂度为O(NlogN),空间复杂度为O(1)```js/***@param{number[]}nums*@param{number}k*@return{number}*/varfindKthLargest=function(nums,k){nums.sort((r1,r2)=>r2-r1)returnnums[k-1]}```>如果初始数据的元素个数不确定,解法一就无法使用了,这个时候适合使用解法二。解法二:快速选择思路:本方法大致上与快速排序相同。简便起见，注意到第k个最大元素也就是升序排序后下标为`N-k`的元素。递归使用[划分算法](https://github.com/MuYunyun/blog/blob/master/BasicSkill/algorithm/划分算法.md)。*使用划分算法,定义一个枢纽值,并将其放到指定位置(小于该枢纽值的都在其左边,大于该枢纽值的都在其右边);*比较枢纽值的下标position与N-k的大小关系![](http://with.muyunyun.cn/503d3b6311c2f401a50bcdb5c57f0f52.jpg)>算法复杂度为O(n)。计算:`n+(1/2)*n+(1/4)*n+...+(1/2)^n*n`,经等比数列求和为`2n-2n/2^n`,当n趋于无穷大时,结果趋近为2n。```js/***@param{number[]}nums*@param{number}k*@return{number}*/varfindKthLargest=function(nums,k){constlength=nums.lengthreturnquickSelect(0,length-1,length-k,nums)}varquickSelect=function(left,right,kthSmall,arr){constposition=partition(arr,left,right)if(position===kthSmall){returnarr[position]}elseif(position<kthSmall){returnquickSelect(position+1,right,kthSmall,arr)}elseif(position>kthSmall){returnquickSelect(left,position-1,kthSmall,arr)}}/*分区算法*/functionpartition(nums,left,right){constpivot=nums[left]//枢纽值letpos=left//用来记住最后枢纽值pivot应该置于的位置for(leti=left+1;i<=right;i++){if(nums[i]<pivot){pos++swap(nums,pos,i)}}swap(nums,pos,left)returnpos}/*交换位置nums数组,a,b为下标*/varswap=function(nums,a,b){consttmp=nums[a]nums[a]=nums[b]nums[b]=tmp}```###镜像题目75"},{name:"216.Combination_Sum_III.md",path:"/LeetCode/216.Combination_Sum_III.md",type:"file",mdconf:{abbrlink:"1ksprl4b"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1809,extension:".md",relative:"/LeetCode/216.Combination_Sum_III.md",isEmpty:!1,content:"\x3c!--abbrlink:1ksprl4b--\x3e###216.Combination_Sum_IIIFindallvalidcombinationsofknumbersthatsumuptonsuchthatthefollowingconditionsaretrue:*Onlynumbers1through9areused.*`Eachnumberisusedatmostonce`.Returnalistofallpossiblevalidcombinations.Thelistmustnotcontainthesamecombinationtwice,andthecombinationsmaybereturnedinanyorder.Example1:```jsInput:k=3,n=7Output:[[1,2,4]]Explanation:1+2+4=7Therearenoothervalidcombinations.```Example2:```jsInput:k=3,n=9Output:[[1,2,6],[1,3,5],[2,3,4]]Explanation:1+2+6=91+3+5=92+3+4=9Therearenoothervalidcombinations.```Example3:```jsInput:k=4,n=1Output:[]Explanation:Therearenovalidcombinations.[1,2,1]isnotvalidbecause1isusedtwice.```Example4:```jsInput:k=3,n=2Output:[]Explanation:Therearenovalidcombinations.```Example5:```jsInput:k=9,n=45Output:[[1,2,3,4,5,6,7,8,9]]Explanation:1+2+3+4+5+6+7+8+9=45​​​​​​​Therearenoothervalidcombinations.```Constraints:*2<=k<=9*1<=n<=60###Analyze从题目`Eachnumberisusedatmostonce`得知,该题属于组合问题。```js/***@param{number}k*@param{number}n*@return{number[][]}*/varcombinationSum3=function(k,n){constresult=[]recursive(k,n,1,[],result)returnresult};varrecursive=function(k,n,start,temp,result){if(n<0||temp.length>k)returnif(n===0&&temp.length===k){result.push([...temp])return}for(leti=start;i<=9;i++){temp.push(i)n=n-irecursive(k,n,i+1,temp,result)n=n+itemp.pop()}}```###SisterTitle39、40"},{name:"217.Contains_Duplicate.md",path:"/LeetCode/217.Contains_Duplicate.md",type:"file",mdconf:{abbrlink:"5yofdhct"},birthtime:"2021-12-08",mtime:"2021-12-08",size:640,extension:".md",relative:"/LeetCode/217.Contains_Duplicate.md",isEmpty:!1,content:"\x3c!--abbrlink:5yofdhct--\x3e###ContainsDuplicateGivenanarrayofintegers,findifthearraycontainsanyduplicates.Yourfunctionshouldreturntrueifanyvalueappearsatleasttwiceinthearray,anditshouldreturnfalseifeveryelementisdistinct.Example1:```jsInput:[1,2,3,1]Output:trueExample2:Input:[1,2,3,4]Output:falseExample3:Input:[1,1,1,3,3,4,3,2,4,2]Output:true```###Solved```js/***@param{number[]}nums*@return{boolean}*/varcontainsDuplicate=function(nums){constresult=[...newSet(nums)]returnresult.length!==nums.length}```###SisterTitle219、220"},{name:"219.Contains_Duplicate_II.md",path:"/LeetCode/219.Contains_Duplicate_II.md",type:"file",mdconf:{abbrlink:"dv4h5unq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1946,extension:".md",relative:"/LeetCode/219.Contains_Duplicate_II.md",isEmpty:!1,content:"\x3c!--abbrlink:dv4h5unq--\x3e###ContainsDuplicateIIGivenanarrayofintegersandanintegerk,findoutwhethertherearetwodistinctindicesiandjinthearraysuchthatnums[i]=nums[j]andtheabsolutedifferencebetweeniandjisatmostk.```jsExample1:Input:nums=[1,2,3,1],k=3Output:true``````jsExample2:Input:nums=[1,0,1,1],k=1Output:true``````jsExample3:Input:nums=[1,2,3,1,2,3],k=2Output:false```###解法*遍历当前nums,维护一个队列arr来存储k个数值,判断该队列arr中是否包含当前遍历值nums[l];*若有,则返回true;*若遍历结束,则返回false;```js/***@param{number[]}nums*@param{number}k*@return{boolean}*/varcontainsNearbyDuplicate=function(nums,k){constarr=[]letl=0letr=nums.lengthwhile(l<r){if(arr.indexOf(nums[l])>-1){returntrue}if(arr.length<k){arr.push(nums[l])}elseif(arr.length>=k&&k>0){arr.shift(arr[0])arr.push(nums[l])}l++}returnfalse}```![](http://with.muyunyun.cn/db151c5e5eef41a30b2e8cbca9fd417e.jpg-400)算法时间复杂度是NlogN级别的,执行时间花了1800ms。```js/***@param{number[]}nums*@param{number}k*@return{boolean}*/varcontainsNearbyDuplicate=function(nums,k){consttemSet=newSet()letl=0letr=nums.lengthwhile(l<r){if(temSet.has(nums[l])){returntrue}if(temSet.size<k){temSet.add(nums[l])}elseif(temSet.size>=k&&k>0){temSet.delete(nums[l-k])temSet.add(nums[l])}l++}returnfalse}```![](http://with.muyunyun.cn/c756eba46d7c18d4fe4acfbc011e3a78.jpg-400)使用Set用同样的思路实验,时间复杂度为O(N),其执行时间比之前用数组队列的实现快了很多。###SisterTitle217、220"},{name:"220.Contains_Duplicate_III.md",path:"/LeetCode/220.Contains_Duplicate_III.md",type:"file",mdconf:{abbrlink:"mownr7td"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1949,extension:".md",relative:"/LeetCode/220.Contains_Duplicate_III.md",isEmpty:!1,content:"\x3c!--abbrlink:mownr7td--\x3e###ContainsDuplicateIIIGivenanarrayofintegers,findoutwhetherthereare`twodistinctindices`iandjinthearraysuchthattheabsolutedifferencebetweennums[i]andnums[j]isatmosttandtheabsolutedifferencebetweeniandjisatmostk.Example1:```jsInput:nums=[1,2,3,1],k=3,t=0Output:true```Example2:```jsInput:nums=[1,0,1,1],k=1,t=2Output:true```Example3:```jsInput:nums=[1,5,9,1,5,9],k=2,t=3Output:false```###Analyze思路:参照官方题解该题可以使用桶排序的思想来设置查找表的key-value。比较好理解的一个例子:小敏生日在3月份,她想知道是否有其他同学生日和她在30天以内,假设每个月有30天,那么只要找2月份和4月份两个月生日的同学就行了,转化到该题目即key只要保留一个value就行。>桶排序的思想:将数据根据归类划分到若干个区域,然后对该些区域分别进行排序;此题综合了滑动窗口、查找表、桶排序的知识,需要二刷。```js|i-j|≤k|nums[i]-nums[j]|≤t```*此外需要考虑边界值*k<=0、t<=0```js/***@param{number[]}nums*@param{number}k*@param{number}t*@return{boolean}*/varcontainsNearbyAlmostDuplicate=function(nums,k,t){if(k<0||t<0)returnfalseconstgetKey=(value)=>{returnMath.floor(value/(t+1))}constmap=newMap()letl=0while(l<nums.length){constkey=getKey(nums[l])if(map.has(key)){returntrue}elseif(map.has(key+1)||map.has(key-1)){if(map.get(key+1)-nums[l]<=t){returntrue}if(nums[l]-map.get(key-1)<=t){returntrue}}map.set(key,nums[l])if(l>=k){map.delete(getKey(nums[l-k]))}l++}returnfalse}```###SisterTitle217、219"},{name:"222.Count_Complete_Tree_Nodes.md",path:"/LeetCode/222.Count_Complete_Tree_Nodes.md",type:"file",mdconf:{abbrlink:"ajme96bt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2090,extension:".md",relative:"/LeetCode/222.Count_Complete_Tree_Nodes.md",isEmpty:!1,content:"\x3c!--abbrlink:ajme96bt--\x3e###222.CountCompleteTreeNodesGivena`completebinarytree`,countthenumberofnodes.Note:DefinitionofacompletebinarytreefromWikipedia:Inacompletebinarytreeeverylevel,exceptpossiblythelast,iscompletelyfilled,andallnodesinthelastlevelareasfarleftaspossible.Itcanhavebetween1and2hnodesinclusiveatthelastlevelh.Example:```jsInput:1/\\23/\\/456Output:6```###Analyze方式一:递归```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number}*/varcountNodes=function(root){if(!root)return0return1+countNodes(root.left)+countNodes(root.right)};```方式二:利用完全二叉树性质解题根据题目给出的当前树是完全二叉树的限制,可得到子树存在如下两点条件:*若左子树的深度=右子树的深度,则`左子树为满二叉树`;*若左子树的深度>右子树的深度,则`右子树为满二叉树`;可以根据上述分析简化递归次数。```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number}*/varcountNodes=function(root){if(!root)return0constleftDeep=deep(root.left)constrightDeep=deep(root.right)if(leftDeep===rightDeep){//thecountofleftnodeisMath.pow(2,leftDeep)-1,sothetotalis//Math.pow(2,leftDeep)-1+countNodes(root.right)+1,1meansparentnodereturnMath.pow(2,leftDeep)+countNodes(root.right)}else{returnMath.pow(2,rightDeep)+countNodes(root.left)}};//getthedeepofcurrentnodecleverlywithfeaturesofthecompletetree.vardeep=function(node){if(!node)return0letnodeVal=nodeletcount=1while(nodeVal.left){count++nodeVal=nodeVal.left}returncount}```"},{name:"226.Invert_Binary_Tree.md",path:"/LeetCode/226.Invert_Binary_Tree.md",type:"file",mdconf:{abbrlink:"jd8mdg2l"},birthtime:"2021-12-08",mtime:"2021-12-08",size:938,extension:".md",relative:"/LeetCode/226.Invert_Binary_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:jd8mdg2l--\x3e###226.InvertBinaryTreeInvertabinarytree.Example:```jsInput:4/\\27/\\/\\1369``````jsOutput:4/\\72/\\/\\9631```Trivia:ThisproblemwasinspiredbythisoriginaltweetbyMaxHowell:Google:90%ofourengineersusethesoftwareyouwrote(Homebrew),butyoucan’tinvertabinarytreeonawhiteboardsof***off.###Analyze递归调换左右子节点的位置。```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{TreeNode}*/varinvertTree=function(root){if(!root)returnnullif(root.left||root.right){consttmp=root.leftroot.left=root.rightroot.right=tmpinvertTree(root.left)invertTree(root.right)}returnroot};```"},{name:"230.Kth_Smallest_Element_in_a_BST.md",path:"/LeetCode/230.Kth_Smallest_Element_in_a_BST.md",type:"file",mdconf:{abbrlink:"7oyb6t3w"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1679,extension:".md",relative:"/LeetCode/230.Kth_Smallest_Element_in_a_BST.md",isEmpty:!1,content:"\x3c!--abbrlink:7oyb6t3w--\x3e###230.KthSmallestElementinaBSTGivenabinarysearchtree,writeafunctionkthSmallesttofindthekthsmallestelementinit.Example1:```jsInput:root=[3,1,4,null,2],k=13/\\14\\2Output:1```Example2:```jsInput:root=[5,3,6,2,4,null,null,1],k=35/\\36/\\24/1Output:3```Followup:WhatiftheBSTismodified(insert/deleteoperations)oftenandyouneedtofindthekthsmallestfrequently?HowwouldyouoptimizethekthSmallestroutine?Constraints:ThenumberofelementsoftheBSTisbetween1to10^4.Youmayassumekisalwaysvalid,1≤k≤BST'stotalelements.###Analyze思路:中序遍历维护计数,当计数值到达k时,当前节点的val即为题目要求的第k小的值元素值。```js/***Definitionforabinarytreenode.*functionTreeNode(val,left,right){*this.val=(val===undefined?0:val)*this.left=(left===undefined?null:left)*this.right=(right===undefined?null:right)*}*//***@param{TreeNode}root*@param{number}k*@return{number}*/varkthSmallest=function(root,k){constcountResult={value:0}returnanalyzeCount(root,k,countResult)}varanalyzeCount=function(node,k,count){if(!node)returnnullconstpickLeft=analyzeCount(node.left,k,count)if(typeofpickLeft==='number')returnpickLeftcount.value=count.value+1if(k===count.value){returnnode.val}constpickRight=analyzeCount(node.right,k,count)if(typeofpickRight==='number')returnpickRight}```"},{name:"234.Palindrome_Linked_List.md",path:"/LeetCode/234.Palindrome_Linked_List.md",type:"file",mdconf:{abbrlink:"ujzwq7v8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2174,extension:".md",relative:"/LeetCode/234.Palindrome_Linked_List.md",isEmpty:!1,content:"\x3c!--abbrlink:ujzwq7v8--\x3e###234.PalindromeLinkedListGivenasinglylinkedlist,determineifitisapalindrome.Example1:```jsInput:1->2Output:false```Example2:```jsInput:1->2->2->1Output:true```Followup:CouldyoudoitinO(n)timeandO(1)space?###Analyze思路比较清晰直观,步骤如下:1.第一步:使用快慢指针找到链表中点,链表分割为左右两部分;2.第二步:翻转右边的链表节点;3.第三步:比较左右两边的节点;>该题与题目[143.Reorder_List](https://github.com/MuYunyun/blog/blob/master/LeetCode/143.Reorder_List/README.md)十分类似。步骤图解:```js第一步:找中点,分割链表;qsdummy->1->2->2->1->NULL..qsdummy->1->2->2->1->NULLleft链表:1->2->nullright链表:2->1->null第二步:翻转右边的链表节点;left链表:1->2->nullright链表:1->2->null第三步:判断left链表与right链表;``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@return{boolean}*/varisPalindrome=function(head){constdummy=newListNode(0)dummy.next=headletslow=dummy,quick=dummywhile(quick&&quick.next){slow=slow.nextquick=quick.next.next}letright=slow.nextslow.next=nullletleft=dummy.nextright=reverseLink(right)while(left&&right){if(left.val!==right.val){returnfalse}left=left.nextright=right.next}returntrue}functionreverseLink(list){constdummy=newListNode(0)dummy.next=listletprev=nullletcur=dummy.nextwhile(cur){constnext=cur.nextcur.next=prevprev=curcur=next}returnprev}```![](http://with.muyunyun.cn/f1d261951e75505802e0b5b8ea8848bc.jpg)###SisterTitle*[143.Reorder_List]((https://github.com/MuYunyun/blog/blob/master/LeetCode/143.Reorder_List/README.md))"},{name:"235.Lowest_Common_Ancestor_of_a_Binary_Search_Tree.md",path:"/LeetCode/235.Lowest_Common_Ancestor_of_a_Binary_Search_Tree.md",type:"file",mdconf:{abbrlink:"r55v6uqs"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1873,extension:".md",relative:"/LeetCode/235.Lowest_Common_Ancestor_of_a_Binary_Search_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:r55v6uqs--\x3e###235.LowestCommonAncestorofaBinarySearchTreeGivena`binarysearchtree`(BST),findthe`lowestcommonancestor`(LCA)oftwogivennodesintheBST.AccordingtothedefinitionofLCAonWikipedia:“ThelowestcommonancestorisdefinedbetweentwonodespandqasthelowestnodeinTthathasbothpandqasdescendants(whereweallowanodetobeadescendantofitself).”Givenbinarysearchtree:root=[6,2,8,0,4,7,9,null,null,3,5]```js6/\\28/\\/\\0479/\\35```Example1:```jsInput:root=[6,2,8,0,4,7,9,null,null,3,5],p=2,q=8Output:6```Explanation:TheLCAofnodes2and8is6.Example2:```jsInput:root=[6,2,8,0,4,7,9,null,null,3,5],p=2,q=4Output:2```Explanation:TheLCAofnodes2and4is2,since`anodecanbeadescendantofitself`accordingtotheLCAdefinition.Constraints:*`Allofthenodes'valueswillbeunique`.*`pandqaredifferentandbothvalueswillexistintheBST`.###Analyze1.if`p`nodeand`q`nodearein`two`sideofcurrentiteratornode`n`,theLCAis`n`;2.if`p`nodeand`q`nodearein`one`sideofcurrentiteratornode`n`,tolooptheonestepintheothersidenode;```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@param{TreeNode}p*@param{TreeNode}q*@return{TreeNode}*/varlowestCommonAncestor=function(root,p,q){returnlca(root,p,q)};varlca=function(node,p,q){if(!node)returnnullif((p.val-node.val)*(q.val-node.val)<=0){returnnode}elseif(p.val-node.val<0){returnlca(node.left,p,q)}else{returnlca(node.right,p,q)}}```"},{name:"236.Lowest_Common_Ancestor_of_a_Binary_Tree.md",path:"/LeetCode/236.Lowest_Common_Ancestor_of_a_Binary_Tree.md",type:"file",mdconf:{abbrlink:"v4s8hz9u"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1911,extension:".md",relative:"/LeetCode/236.Lowest_Common_Ancestor_of_a_Binary_Tree.md",isEmpty:!1,content:"\x3c!--abbrlink:v4s8hz9u--\x3e###236.LowestCommonAncestorofaBinarySearchTreeGivenabinarytree,findthelowestcommonancestor(LCA)oftwogivennodesinthetree.AccordingtothedefinitionofLCAonWikipedia:“ThelowestcommonancestorisdefinedbetweentwonodespandqasthelowestnodeinTthathasbothpandqasdescendants(whereweallowanodetobeadescendantofitself).”Example1:```js3/\\51/\\/\\6208/\\74``````jsInput:root=[3,5,1,6,2,0,8,null,null,7,4],p=5,q=1Output:3```Explanation:TheLCAofnodes5and1is3.Example2:```jsInput:root=[3,5,1,6,2,0,8,null,null,7,4],p=5,q=4Output:5```Explanation:TheLCAofnodes5and4is5,sinceanodecanbeadescendantofitselfaccordingtotheLCAdefinition.Example3:```js1/2``````jsInput:root=[1,2],p=1,q=2Output:1```Constraints:Thenumberofnodesinthetreeisintherange[2,105].-109<=Node.val<=109`AllNode.valareunique`.`p!=q``pandqwillexistinthetree`.###Analyze*Using`post-ordertraversal`ofbirnarytreeinrecursive.```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@param{TreeNode}p*@param{TreeNode}q*@return{TreeNode}*/varlowestCommonAncestor=function(root,p,q){returnlca(root,p,q)};varlca=function(node,p,q){if(!node)returnnull//nodeisthelowestcommonancestorofpandq.if(node.val===p.val||node.val===q.val)returnnodeconstleftLca=lca(node.left,p,q)constrightLca=lca(node.right,p,q)//getvalueofpost-ordertraversalif(!leftLca){returnrightLca}if(!rightLca){returnleftLca}returnnode}```"},{name:"237.Delete_Node_in_a_Linked_List.md",path:"/LeetCode/237.Delete_Node_in_a_Linked_List.md",type:"file",mdconf:{abbrlink:"5a2lpmr2"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1668,extension:".md",relative:"/LeetCode/237.Delete_Node_in_a_Linked_List.md",isEmpty:!1,content:"\x3c!--abbrlink:5a2lpmr2--\x3e###DeleteNodeinaLinkedListWriteafunctiontodeleteanode(exceptthetail)inasinglylinkedlist,givenonlyaccesstothatnode.Example1:```jsInput:head=[4,5,1,9],node=5Output:[4,1,9]```Explanation:Youaregiventhesecondnodewithvalue5,thelinkedlistshouldbecome4->1->9aftercallingyourfunction.Example2:```jsInput:head=[4,5,1,9],node=1Output:[4,5,9]```Explanation:Youaregiventhethirdnodewithvalue1,thelinkedlistshouldbecome4->5->9aftercallingyourfunction.Note:*Thelinkedlistwillhave`atleasttwoelements`.*Allofthenodes'valueswillbeunique.*Thegivennodewill`notbethetail`anditwillalwaysbeavalidnodeofthelinkedlist.*`Donotreturnanythingfromyourfunction`.###Analyze相较于[203.Remove_Linked_List_Elements](https://github.com/MuYunyun/blog/blob/master/BasicSkill/LeetCode/203.Remove_Linked_List_Elements/README.md),此题一个点是在函数中不能返回任何值,因此不能引入dummyHead。另外一个点是没有传入head指针,所以没法拿到当前要删除的上个节点。```js4->5->1->9->null..node4->5->9->9->null..4->5->9->null``````js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}node*@return{void}Donotreturnanything,modifynodein-placeinstead.*/vardeleteNode=function(node){node.val=node.next.valnode.next=node.next.next}```###姊妹题203"},{name:"242.Valid_Anagram.md",path:"/LeetCode/242.Valid_Anagram.md",type:"file",mdconf:{abbrlink:"lhrc1q2w"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1433,extension:".md",relative:"/LeetCode/242.Valid_Anagram.md",isEmpty:!1,content:'\x3c!--abbrlink:lhrc1q2w--\x3e###242.ValidAnagramGiventwostringssandt,writeafunctiontodetermineiftisananagramofs.Example1:```jsInput:s="anagram",t="nagaram"Output:true```Example2:```jsInput:s="rat",t="car"Output:false```Note:Youmayassumethe`stringcontainsonlylowercasealphabets`.Followup:Whatiftheinputscontainunicodecharacters?Howwouldyouadaptyoursolutiontosuchcase?###题解思路:*创建数据结构为Map的map对象;*遍历s,将各字母出现的次数叠加存储进map中;*遍历t,在map中减少相应字母出现的个数,并增加map中未收录的字母;*如果最后map的size不为0,则s与t不是字母异位词;否则是字母异位词;```js/***@param{string}s*@param{string}t*@return{boolean}*/varisAnagram=function(s,t){constmap=newMap()for(leti=0;i<s.length;i++){constgetMap=map.get(s[i])if(!getMap){map.set(s[i],1)}else{map.set(s[i],getMap+1)}}for(leti=0;i<t.length;i++){constgetMap=map.get(t[i])if(getMap===1){map.delete(t[i])}elseif(getMap){map.set(t[i],getMap-1)}else{map.set(t[i],1)}}if(map.size){returnfalse}else{returntrue}};```###相关题目202、205、290、349、350、451'},{name:"257.Binary_Tree_Paths.md",path:"/LeetCode/257.Binary_Tree_Paths.md",type:"file",mdconf:{abbrlink:"m7roivg7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1114,extension:".md",relative:"/LeetCode/257.Binary_Tree_Paths.md",isEmpty:!1,content:'\x3c!--abbrlink:m7roivg7--\x3e###257.BinaryTreePathsGivenabinarytree,returnallroot-to-leafpaths.Note:Aleafisanodewithnochildren.Example:```jsInput:1/\\23\\5Output:["1->2->5","1->3"]```Explanation:Allroot-to-leafpathsare:1->2->5,1->3###Analyze*DFS深度优先遍历的运用,关键需要想清楚采用先序、中序、后序遍历中的哪一种。*先序遍历:1->2->5,1->3```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{string[]}*/varbinaryTreePaths=function(root){constresult=[]if(!root)returnresultprintTreePaths(root,result,\'\')returnresult}varprintTreePaths=function(node,result,str){if(!node.left&&!node.right){str+=`${node.val}`result.push(str)return}str+=`${node.val}->`if(node.left){printTreePaths(node.left,result,str)}if(node.right){printTreePaths(node.right,result,str)}}```'},{name:"279.Perfect_Squares.md",path:"/LeetCode/279.Perfect_Squares.md",type:"file",mdconf:{abbrlink:"ang6upqc"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2419,extension:".md",relative:"/LeetCode/279.Perfect_Squares.md",isEmpty:!1,content:"\x3c!--abbrlink:ang6upqc--\x3e###279.PerfectSquaresGivenapositiveintegern,find`theleastnumber`ofperfectsquarenumbers(forexample,1,4,9,16,...)whichsumton.Example1:```jsInput:n=12Output:3Explanation:12=4+4+4```Example2:```jsInput:n=13Output:2Explanation:13=4+9.```###Analyze题目转化:数字n到0最少能由几个平方数相加得到?首先思考能否使用贪心算法,比如针对数字12,使用贪心算法先取能使用最大的数字9,结果为9111,长度为4;但其实是有更短长度的答案444的,因此不能使用贪心算法。建模:构建树的数据结构:![](http://with.muyunyun.cn/1ec5a5a75516e0ae7fa96c9c9a74bd79.jpg)比如数字5到0的路径可以是1.`5->1->0`;2.`5->4->0`;3.`5->4->3->2->1->0`;```js/***@param{number}n*@return{number}*/varnumSquares=function(n){constlist=[]list.push({num:n,step:0})while(list.length>0){const{num,step}=list.shift()if(num===0)returnstepfor(leti=1;num-i*i>=0;i++){list.push({num:num-i*i,step:step+1})}}}```此时提交代码,运行超时。进行分析,以从5到达1为例,有如下方式①:`5->1`;②:`5->4->3->2->1`;显然不会采用第二种方式,因此可以省略步骤二访问1的操作的。使用`树的数据结构`时,到达一个节点的路径是`唯一确定`的,与之相对地在使用`图的数据结构`时,到达一个节点的方式可能`会存在多个路径`;为此引入visitedObj来存储该节点是否已经访问过,改进代码如下:```js/***@param{number}n*@return{number}*/varnumSquares=function(n){constlist=[]list.push({num:n,step:0})constvisitedObj={[n]:true}while(list.length>0){const{num,step,visited}=list.shift()for(leti=1;;i++){constextraNum=num-i*iif(extraNum<0)break//thislinereturntheresultinadvance,itreducesperformtimeverymuch.if(extraNum===0)returnstep+1if(!visitedObj[extraNum]){visitedObj[extraNum]=truelist.push({num:num-i*i,step:step+1})}}}}```![](http://with.muyunyun.cn/05fe8335c7c57360edd7e9d28fe3a102.jpg)###SimilarTitle127、126"},{name:"283.Move_Zeroes.md",path:"/LeetCode/283.Move_Zeroes.md",type:"file",mdconf:{abbrlink:"imw1phcf"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1404,extension:".md",relative:"/LeetCode/283.Move_Zeroes.md",isEmpty:!1,content:"\x3c!--abbrlink:imw1phcf--\x3e给定一个数组nums，编写一个函数将所有0移动到数组的末尾，同时保持非零元素的相对顺序。示例:```js输入:[0,1,0,3,12]输出:[1,3,12,0,0]```说明:必须在原数组上操作，不能拷贝额外的数组。尽量减少操作次数。###firstcode*思路一:将0从数组中移除,并用count变量计算移除0的个数,最后将数组push回count个0。```js/***@param{number[]}nums*@return{void}Donotreturnanything,modifynumsin-placeinstead.*/varmoveZeroes=function(nums){constlength=nums.lengthletcount=0//0的个数for(leti=0;i<length;i++){if(nums[i-count]===0){nums.splice(i-count,1)count++}}for(leti=0;i<count;i++){nums.push(0)}returnnums}```*思路二:使用双指针```js/***@param{number[]}nums*@return{void}Donotreturnanything,modifynumsin-placeinstead.*/varmoveZeroes=function(nums){letm=0//指针一的下标,[0,m)区域用于存储非0元素for(leti=0;i<nums.length;i++){if(nums[i]){//如果存在num[i]不为0,则让其与num[m]交换if(i!==m){[nums[m],nums[i]]=[nums[i],nums[m]]}m++}}returnnums}```###同类题目26、27、80。"},{name:"290.Word_Pattern.md",path:"/LeetCode/290.Word_Pattern.md",type:"file",mdconf:{abbrlink:"7rpc213r"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1769,extension:".md",relative:"/LeetCode/290.Word_Pattern.md",isEmpty:!1,content:'\x3c!--abbrlink:7rpc213r--\x3e###title给定一种规律pattern和一个字符串str，判断str是否遵循相同的规律。这里的「遵循」指完全匹配，例如pattern里的每个字母和字符串str中的每个非空单词之间存在着双向连接的对应规律。示例1:```js输入:pattern="abba",str="dogcatcatdog"输出:true```示例2:```js输入:pattern="abba",str="dogcatcatfish"输出:false```示例3:```js输入:pattern="aaaa",str="dogcatcatdog"输出:false```示例4:```js输入:pattern="abba",str="dogdogdogdog"输出:false```说明:你可以假设pattern只包含小写字母，str包含了由单个空格分隔的小写字母。###解题思路:使用patternMap与strArrMap分别存储`pattern=>strArrMap`与`strArrMap=>pattern`的映射,当存在一对多映射的情况时,则它们非完全匹配,否则是完全匹配的。```js/***@param{string}pattern*@param{string}str*@return{boolean}*/varwordPattern=function(pattern,str){conststrArr=str.split(\'\')if(pattern.length!==strArr.length)returnfalseconstpatternMap=newMap()conststrArrMap=newMap()for(leti=0;i<pattern.length;i++){constgetPatternMap=patternMap.get(pattern[i])constgetStrArrMap=strArrMap.get(strArr[i])if(!getPatternMap){patternMap.set(pattern[i],strArr[i])}elseif(getPatternMap!==strArr[i]){returnfalse}if(!getStrArrMap){strArrMap.set(strArr[i],pattern[i])}elseif(getStrArrMap!==pattern[i]){returnfalse}}returntrue};```###相关题目202、205、242、349、350、451'},{name:"328.Odd_Even_Linked_List.md",path:"/LeetCode/328.Odd_Even_Linked_List.md",type:"file",mdconf:{abbrlink:"8kvhwcjv"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1921,extension:".md",relative:"/LeetCode/328.Odd_Even_Linked_List.md",isEmpty:!1,content:"\x3c!--abbrlink:8kvhwcjv--\x3e###titleGivenasinglylinkedlist,groupalloddnodestogetherfollowedbytheevennodes.Pleasenoteherewearetalkingaboutthenodenumberandnotthevalueinthenodes.Youshouldtrytodoitinplace.TheprogramshouldruninO(1)spacecomplexityandO(nodes)timecomplexity.Example1:```jsInput:1->2->3->4->5->NULLOutput:1->3->5->2->4->NULL```Example2:```jsInput:2->1->3->5->6->4->7->NULLOutput:2->3->6->7->1->5->4->NULL```Note:*Therelativeorderinsideboththeevenandoddgroupsshouldremainasitwasintheinput;*Thefirstnodeisconsideredodd,thesecondnodeevenandsoon;###Analyze```jscurnextInput:1->2->3->4->5->NULLprevcurnext1->2->3->4->5->NULL..prevcurnext遍历完成后,如果此时是奇数位则将cur的指针指向偶数列表。1->2->3->4->5->NULLOutput:1->3->5->2->4->NULL```*将prev的next指向next;*如何将奇数链表与偶数链表进行链接(末尾的链表可能为奇数位也可能为偶数位)?```js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}head*@return{ListNode}*/varoddEvenList=function(head){if(!head)returnheadconstlist=newListNode(0)list.next=headconstodd=list.nextconsteven=odd.nextletprev=nullletcur=list.nextletnext=cur.nextletcount=1while(next){prev&&(prev.next=next)prev=curcur=nextnext=cur.nextcount++}if(count%2===1){prev&&(prev.next=null)cur.next=even}else{prev.next=even}returnodd}```"},{name:"337.House_Robber_III.md",path:"/LeetCode/337.House_Robber_III.md",type:"file",mdconf:{abbrlink:"ixpdywwi"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1477,extension:".md",relative:"/LeetCode/337.House_Robber_III.md",isEmpty:!1,content:"\x3c!--abbrlink:ixpdywwi--\x3e###337.HouseRobberIIIThethiefhasfoundhimselfanewplaceforhisthieveryagain.Thereisonlyoneentrancetothisarea,calledroot.Besidestheroot,eachhousehasoneandonlyoneparenthouse.Afteratour,thesmartthiefrealizedthatallhousesinthisplaceformabinarytree.Itwillautomaticallycontactthepoliceiftwodirectly-linkedhouseswerebrokenintoonthesamenight.Giventherootofthebinarytree,returnthemaximumamountofmoneythethiefcanrobwithoutalertingthepolice.Example1:```js3↙↘23↘↘31Input:root=[3,2,3,null,3,null,1]Output:7Explanation:Maximumamountofmoneythethiefcanrob=3+3+1=7.```Example2:```js3↙↘45↙↘↘131Input:root=[3,4,5,1,3,null,1]Output:9Explanation:Maximumamountofmoneythethiefcanrob=4+5=9.```*Constraints:*Thenumberofnodesinthetreeisintherange[1,104].*0<=Node.val<=104###Analyze```js/***Definitionforabinarytreenode.*functionTreeNode(val,left,right){*this.val=(val===undefined?0:val)*this.left=(left===undefined?null:left)*this.right=(right===undefined?null:right)*}*//***@param{TreeNode}root*@return{number}*/varrob=function(root){};```"},{name:"341.Flatten_Nested_List_Iterator.md",path:"/LeetCode/341.Flatten_Nested_List_Iterator.md",type:"file",mdconf:{abbrlink:"yqreet3u"},birthtime:"2021-12-08",mtime:"2021-12-08",size:5062,extension:".md",relative:"/LeetCode/341.Flatten_Nested_List_Iterator.md",isEmpty:!1,content:"\x3c!--abbrlink:yqreet3u--\x3e###341.FlattenNestedListIteratorGivenanestedlistofintegers,implementan`iterator`toflattenit.Eachelementiseitheraninteger,oralist--whoseelementsmayalsobeintegersorotherlists.Example1:```jsInput:[[1,1],2,[1,1]]Output:[1,1,2,1,1]```Explanation:BycallingnextrepeatedlyuntilhasNextreturnsfalse,theorderofelementsreturnedbynextshouldbe:[1,1,2,1,1].Example2:```jsInput:[1,[4,[6]]]Output:[1,4,6]```Explanation:BycallingnextrepeatedlyuntilhasNextreturnsfalse,theorderofelementsreturnedbynextshouldbe:[1,4,6].###analyze该题需注意的点:[1,[4]]里的子项1,[4]分别通过`getInteger`与`getList`获取到。###递归法```js/***//Thisistheinterfacethatallowsforcreatingnestedlists.*//Youshouldnotimplementit,orspeculateaboutitsimplementation*functionNestedInteger(){**ReturntrueifthisNestedIntegerholdsasingleinteger,ratherthananestedlist.*@return{boolean}*this.isInteger=function(){*...*};**ReturnthesingleintegerthatthisNestedIntegerholds,ifitholdsasingleinteger*ReturnnullifthisNestedIntegerholdsanestedlist*@return{integer}*this.getInteger=function(){*...*};**ReturnthenestedlistthatthisNestedIntegerholds,ifitholdsanestedlist*ReturnnullifthisNestedIntegerholdsasingleinteger*@return{NestedInteger[]}*this.getList=function(){*...*};*};*//***@constructor*@param{NestedInteger[]}nestedList*/varNestedIterator=function(nestedList){this.printArr=[]this.resetArr(nestedList)}NestedIterator.prototype.resetArr=function(nestedList){if(!nestedList&&!nestedList.length)returnfor(leti=0;i<nestedList.length;i++){constcurList=nestedList[i]if(curList.isInteger()){this.printArr.unshift(curList.getInteger())}else{this.resetArr(curList.getList())}}}/***@thisNestedIterator*@returns{boolean}*/NestedIterator.prototype.hasNext=function(){returnthis.printArr.length>0}/***@thisNestedIterator*@returns{integer}*/NestedIterator.prototype.next=function(){returnthis.printArr.pop()}/***YourNestedIteratorwillbecalledlikethis:*vari=newNestedIterator(nestedList),a=[];*while(i.hasNext())a.push(i.next());*/```###迭代法相对递归法,迭代法需要额外维护一个`系统调用栈`,然后使用`颜色标记法`完成题解。颜色标记法思路:*未访问过的列表标记为`白色`,访问过的列表标记为`灰色`;*从栈顶取出访问元素:*若为灰色元素,则打印之;*若为白色元素,则遍历子列表:*若子列表为列表,则将其`标记为白色`并推入栈;*若子列表为数字,则将其`标记为灰色`并推入栈;```js/***//Thisistheinterfacethatallowsforcreatingnestedlists.*//Youshouldnotimplementit,orspeculateaboutitsimplementation*functionNestedInteger(){**ReturntrueifthisNestedIntegerholdsasingleinteger,ratherthananestedlist.*@return{boolean}*this.isInteger=function(){*...*};**ReturnthesingleintegerthatthisNestedIntegerholds,ifitholdsasingleinteger*ReturnnullifthisNestedIntegerholdsanestedlist*@return{integer}*this.getInteger=function(){*...*};**ReturnthenestedlistthatthisNestedIntegerholds,ifitholdsanestedlist*ReturnnullifthisNestedIntegerholdsasingleinteger*@return{NestedInteger[]}*this.getList=function(){*...*};*};*//***@constructor*@param{NestedInteger[]}nestedList*/varNestedIterator=function(nestedList){this.printArr=[]if(!nestedList)returnthis.stackList=[]this.stackList.push({color:'white',list:nestedList})while(this.stackList.length>0){const{color,list}=this.stackList.pop()if(color==='gray'){this.printArr.unshift(list)}else{for(leti=0;i<list.length;i++){if(list[i].isInteger()){this.stackList.push({color:'gray',list:list[i].getInteger()})}else{this.stackList.push({color:'white',list:list[i].getList()})}}}}}/***@thisNestedIterator*@returns{boolean}*/NestedIterator.prototype.hasNext=function(){returnthis.printArr.length>0}/***@thisNestedIterator*@returns{integer}*/NestedIterator.prototype.next=function(){returnthis.printArr.shift()}/***YourNestedIteratorwillbecalledlikethis:*vari=newNestedIterator(nestedList),a=[];*while(i.hasNext())a.push(i.next());*/```###SimilarTitle94、144、145"},{name:"343.Integer_Break.md",path:"/LeetCode/343.Integer_Break.md",type:"file",mdconf:{abbrlink:"3u9vkyh8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1672,extension:".md",relative:"/LeetCode/343.Integer_Break.md",isEmpty:!1,content:"\x3c!--abbrlink:3u9vkyh8--\x3e###343.IntegerBreakGivenanintegern,breakitintothesumofk`positiveintegers`,wherek>=2,and`maximize`theproductofthoseintegers.Returnthemaximumproductyoucanget.Example1:```jsInput:n=2Output:1Explanation:2=1+1,1×1=1.```Example2:```jsInput:n=10Output:36Explanation:10=3+3+4,3×3×4=36.```*Constraints:*2<=n<=58###Analyzen拆分若干数后的乘积可拆分为:`1*integerBreak(n-1)`、`2*integerBreak(n-2)`...,`x*integerBreak(n-x)`。```jsn===21*1n===31*integerBreak(2)n===41*integerBreak(3)2*integerBreak(2)n===51*integerBreak(4)2*integerBreak(3)```*递归思路(自顶向下)如下```js/***@param{number}n*@return{number}*/varcache={}varintegerBreak=function(n){if(n===1)return1if(cache[n])returncache[n]letresult=0//heretheimeansforthevaluetobesubtractedfor(leti=1;i<n;i++){if(i>n-i){break}result=Math.max(result,i*Math.max(integerBreak(n-i),n-i))}returncache[n]=result}```*接着使用动态规划(自底向上)思路实现:```js/***@param{number}n*@return{number}*/varcache={1:1}varintegerBreak=function(n){if(n===1)return1letresult=0//heretheimeansforthevaluetocalcfor(leti=2;i<=n;i++){//herethemmeansforthevaluetobesubtractedfor(letm=1;m<i;m++){result=Math.max(result,m*Math.max(cache[i-m],i-m))}cache[i]=result}returnresult}```"},{name:"344.Reverse_String.md",path:"/LeetCode/344.Reverse_String.md",type:"file",mdconf:{abbrlink:"sjz2h233"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1283,extension:".md",relative:"/LeetCode/344.Reverse_String.md",isEmpty:!1,content:'\x3c!--abbrlink:sjz2h233--\x3e###题目:反转字符串编写一个函数，其作用是将输入的`字符串反转过来`。输入字符串以字符数组char[]的形式给出。`不要给另外的数组分配额外的空间，你必须原地修改输入数组、使用O(1)的额外空间解决这一问题`。你可以假设数组中的所有字符都是ASCII码表中的可打印字符。示例1：```js输入：["h","e","l","l","o"]输出：["o","l","l","e","h"]```示例2：```js输入：["H","a","n","n","a","h"]输出：["h","a","n","n","a","H"]```###解题方法一:使用数组的`reverse`方法。```js/***@param{character[]}s*@return{void}Donotreturnanything,modifysin-placeinstead.*/varreverseString=function(s){s.reverse()}```方法二:`指针碰撞````js/***@param{character[]}s*@return{void}Donotreturnanything,modifysin-placeinstead.*/varreverseString=function(s){letleft=0,right=s.length-1while(left<=right){swap(s,left,right)left++right--}}/*交换位置nums数组,a,b为下标*/varswap=function(nums,a,b){consttmp=nums[a]nums[a]=nums[b]nums[b]=tmp}```###相似问题125、167、345'},{name:"345.Reverse_Vowels_of_a_String.md",path:"/LeetCode/345.Reverse_Vowels_of_a_String.md",type:"file",mdconf:{abbrlink:"e34h3kn7"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1139,extension:".md",relative:"/LeetCode/345.Reverse_Vowels_of_a_String.md",isEmpty:!1,content:'\x3c!--abbrlink:e34h3kn7--\x3e###题目:反转字符串中的元音字母编写一个函数，以字符串作为输入，反转该字符串中的元音字母。示例1:```js输入:"hello"输出:"holle"```示例2:```js输入:"leetcode"输出:"leotcede"```说明:元音字母不包含字母"y"。###解题双指针法:```js/***@param{string}s*@return{string}*/varreverseVowels=function(s){letleft=0,right=s.length-1letresult=swhile(left<=right){constisValidateLeft=isValidate(s[left])constisValidateRight=isValidate(s[right])if(isValidateLeft&&isValidateRight){result=swap(result,left,right)left++right--}if(!isValidateLeft){left++}if(!isValidateRight){right--}}returnresult}varisValidate=(value)=>{return/a|e|i|o|u|A|E|I|O|U/.test(value)}/*交换位置a,b为下标*/varswap=function(str,a,b){constarr=str.split(\'\')consttmp=arr[a]arr[a]=arr[b]arr[b]=tmpreturnarr.join(\'\')}```###SisterTitle125、167、344'},{name:"347.Top_K_Frequent_Elements.md",path:"/LeetCode/347.Top_K_Frequent_Elements.md",type:"file",mdconf:{abbrlink:"3l212xpz"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2796,extension:".md",relative:"/LeetCode/347.Top_K_Frequent_Elements.md",isEmpty:!1,content:"\x3c!--abbrlink:3l212xpz--\x3e###347.TopKFrequentElementsGivenanon-emptyarrayofintegers,returnthekmostfrequentelements.```jsExample1:Input:nums=[1,1,1,2,2,3],k=2Output:[1,2]```Example2:```jsInput:nums=[1],k=1Output:[1]```Note:*Youmayassumekisalwaysvalid,1≤k≤numberofuniqueelements.*Youralgorithm's`timecomplexitymustbebetterthanO(nlogn)`,wherenisthearray'ssize.*It'sguaranteedthat`theanswerisunique`,inotherwordsthesetofthetopkfrequentelementsisunique.*Youcanreturntheanswerinanyorder.###Analyze思路一:1.将各个元素出现的频率统计进哈希表中;2.然后对出现频率进行排序;3.取频率排前k的元素;这样的时间复杂度为O(nlogn)级别。```js/***@param{number[]}nums*@param{number}k*@return{number[]}*/vartopKFrequent=function(nums,k){constobj={}for(leti=0;i<nums.length;i++){if(!obj[nums[i]]){obj[nums[i]]=1}else{obj[nums[i]]=obj[nums[i]]+1}}constlist=[]constkeysArr=Object.keys(obj)for(leti=0;i<keysArr.length;i++){constkey=keysArr[i]constvalue=obj[key]list.push({key,value})}list.sort((r1,r2)=>r2.value-r1.value)constresult=[]list.map((obj,index)=>{if(index<k){result.push(parseInt(obj.key,10))}})returnresult}```该题解虽然可以ac,但是由于题目给出了时间复杂度需小于`(nlogn)`这一限制,因而我们思考其它方式🤔。思路二:桶排序分组的思想1.首先将各个元素出现的频率统计进哈希表中;2.将频率减去1后的值作为数组list的下标存入;3.从list中遍历取出频率最高的k个元素;```js/***@param{number[]}nums*@param{number}k*@return{number[]}*/vartopKFrequent=function(nums,k){constobj={}for(leti=0;i<nums.length;i++){if(!obj[nums[i]]){obj[nums[i]]=1}else{obj[nums[i]]=obj[nums[i]]+1}}constlist=[]constkeysArr=Object.keys(obj)for(leti=0;i<keysArr.length;i++){constkey=keysArr[i]constvalue=obj[key]if(!list[value-1]){list[value-1]=[parseInt(key,10)]}else{list[value-1].push(parseInt(key,10))}}constresult=[]letcount=0for(leti=list.length-1;i>=0;i--){constcurList=list[i]if(curList){for(letx=0;x<curList.length;x++){if(count===k)returnresultresult.push(curList[x])count++}}}returnresult}```![](http://with.muyunyun.cn/926ca1b564c07610790ab1e0e4cafa6f.jpg)"},{name:"349.Intersection_of_Two_Arrays.md",path:"/LeetCode/349.Intersection_of_Two_Arrays.md",type:"file",mdconf:{abbrlink:"4nqhgf1s"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1215,extension:".md",relative:"/LeetCode/349.Intersection_of_Two_Arrays.md",isEmpty:!1,content:"\x3c!--abbrlink:4nqhgf1s--\x3e###title给定两个数组，编写一个函数来计算它们的交集。示例1:```js输入:nums1=[1,2,2,1],nums2=[2,2]输出:[2]```示例2:```js输入:nums1=[4,9,5],nums2=[9,4,9,8,4]输出:[9,4]```说明:输出结果中的每个元素一定是`唯一的`。我们可以不考虑输出结果的顺序。###题解因为题目明确了输出结果中的每个元素一定是`唯一的`,因而可以使用集合Set唯一的特性,完成题解。```js/***@param{number[]}nums1*@param{number[]}nums2*@return{number[]}*/varintersection=function(nums1,nums2){constresultSet=newSet()constnum1Set=newSet(nums1)for(leti=0;i<nums2.length;i++){if(num1Set.has(nums2[i])){resultSet.add(nums2[i])}}return[...resultSet]}```###进阶思考如果给定的两个数组是排好序的,是否有其它解法呢?示例1:```js输入:nums1=[1,1,2,2],nums2=[2,2]输出:[2]```示例2:```js输入:nums1=[4,5,9],nums2=[4,4,8,9,9]输出:[4,9]```大致想法:可以使用移动指针的方式。###相关题目202、205、242、290、350、451"},{name:"350.Intersection_of_Two_Arrays_II.md",path:"/LeetCode/350.Intersection_of_Two_Arrays_II.md",type:"file",mdconf:{abbrlink:"f9tdzny4"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1907,extension:".md",relative:"/LeetCode/350.Intersection_of_Two_Arrays_II.md",isEmpty:!1,content:"\x3c!--abbrlink:f9tdzny4--\x3e###title给定两个数组,编写一个函数来计算它们的交集。示例1:```js输入:nums1=[1,2,2,1],nums2=[2,2]输出:[2,2]```示例2:```js输入:nums1=[4,9,5],nums2=[9,4,9,8,4]输出:[4,9]```说明:输出结果中`每个元素出现的次数,应与元素在两个数组中出现的次数一致`。我们`可以不考虑输出结果的顺序`。进阶:如果给定的数组已经排好序呢？你将如何优化你的算法？如果nums1的大小比nums2小很多，哪种方法更优？如果nums2的元素存储在磁盘上，磁盘内存是有限的，并且你不能一次加载所有的元素到内存中，你该怎么办？###解题思路:使用字典Map的数据结构来统计次数。1.将num1、nums2各自出现的次数分别统计存进nums1Map与nums2Map中;2.根据题目说明中的条件`可以不考虑输出结果的顺序`,因而可以以num1、nums2相同的key中较小的值为输出次数,将其输出;```js/***@param{number[]}nums1*@param{number[]}nums2*@return{number[]}*/varintersect=function(nums1,nums2){constnums1Map=getMap(nums1)constnums2Map=getMap(nums2)constresult=[]nums1Map.forEach((nums1Value,key)=>{constnums2MapHasKey=nums2Map.get(key)if(nums2MapHasKey){for(leti=0;i<Math.min(nums1Value,nums2MapHasKey);i++){result.push(key)}}})returnresult};vargetMap=function(arr){constmap=newMap()for(leti=0;i<arr.length;i++){constgetValue=map.get(arr[i])if(!getValue){map.set(arr[i],1)}else{map.set(arr[i],getValue+1)}}returnmap}```###进阶如果给定的两个数组是排好序的,是否有其它解法呢?###相关题202、205、242、290、349、451"},{name:"401.Binary_Watch.md",path:"/LeetCode/401.Binary_Watch.md",type:"file",mdconf:{abbrlink:"3vesi6ap"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2078,extension:".md",relative:"/LeetCode/401.Binary_Watch.md",isEmpty:!1,content:'\x3c!--abbrlink:3vesi6ap--\x3e###401.BinaryWatchAbinarywatchhas4LEDsonthetopwhichrepresentthehours`(0-11)`,andthe6LEDsonthebottomrepresenttheminutes`(0-59)`.EachLEDrepresentsazeroorone,withtheleastsignificantbitontheright.![](https://upload.wikimedia.org/wikipedia/commons/8/8b/Binary_clock_samui_moon.jpg)Forexample,theabovebinarywatchreads"3:25".Givenanon-negativeintegernwhich`representsthenumberofLEDsthatarecurrentlyon`,returnallpossibletimesthewatchcouldrepresent.Example:```jsInput:n=1Return:["1:00","2:00","4:00","8:00","0:01","0:02","0:04","0:08","0:16","0:32"]```Note:*Theorderofoutputdoesnotmatter.*`Thehourmustnotcontainaleadingzero`,forexample"01:00"isnotvalid,itshouldbe"1:00".*`Theminutemustbeconsistoftwodigitsandmaycontainaleadingzero`,forexample"10:2"isnotvalid,itshouldbe"10:02".###Analyze题目可以转化为在`[1,2,4,8,1,2,4,8,16,32]`中任意取n个数值,有几种组合?组合问题可以使用`回溯法`求解得到。*前置条件:确认如果一个led灯都没亮着是否为"0:00"。*小时位数范围为[0,11],分钟范围为[0,59]。```js/***@param{number}num*@return{string[]}*/varreadBinaryWatch=function(num){constarr=[1,2,4,8,1,2,4,8,16,32]constresult=[]backTrace(arr,num,0,[0,0],result)returnresult};varbackTrace=function(arr,num,start,temp,result){if(temp[0]>=12||temp[1]>=60)returnif(num===0){result.push(`${temp[0]}:${padding(temp[1])}`)return}for(leti=start;i<arr.length;i++){if(i<=3){temp[0]=temp[0]+arr[i]}else{temp[1]=temp[1]+arr[i]}num=num-1backTrace(arr,num,i+1,temp,result)if(i<=3){temp[0]=temp[0]-arr[i]}else{temp[1]=temp[1]-arr[i]}num=num+1}}varpadding=function(num){returnnum<10?`0${num}`:num}```'},{name:"404.Sum_of_Left_Leaves.md",path:"/LeetCode/404.Sum_of_Left_Leaves.md",type:"file",mdconf:{abbrlink:"yzaibg48"},birthtime:"2021-12-08",mtime:"2021-12-08",size:836,extension:".md",relative:"/LeetCode/404.Sum_of_Left_Leaves.md",isEmpty:!1,content:"\x3c!--abbrlink:yzaibg48--\x3e###404.SumofLeftLeavesFindthesumofallleftleavesinagivenbinarytree.Example:```js3/\\920/\\157```Therearetwoleftleavesinthebinarytree,withvalues9and15respectively.Return24.###Analyze递归思路解题```js/***Definitionforabinarytreenode.*functionTreeNode(val){*this.val=val;*this.left=this.right=null;*}*//***@param{TreeNode}root*@return{number}*/varsumOfLeftLeaves=function(root){if(!root)return0if(root.left){if(!root.left.left&&!root.left.right){returnroot.left.val+sumOfLeftLeaves(root.right)}else{returnsumOfLeftLeaves(root.left)+sumOfLeftLeaves(root.right)}}else{returnsumOfLeftLeaves(root.right)}};```"},{name:"417.Pacific_Atlantic_Water_Flow.md",path:"/LeetCode/417.Pacific_Atlantic_Water_Flow.md",type:"file",mdconf:{abbrlink:"pqwwty62"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3048,extension:".md",relative:"/LeetCode/417.Pacific_Atlantic_Water_Flow.md",isEmpty:!1,content:"\x3c!--abbrlink:pqwwty62--\x3e###417.PacificAtlanticWaterFlowGivenan`mxn`matrixofnon-negativeintegersrepresentingtheheightofeachunitcellinacontinent,`the\"Pacificocean\"touchestheleftandtopedgesofthematrix`and`the\"Atlanticocean\"touchestherightandbottomedges`.Watercanonlyflowinfourdirections(up,down,left,orright)`fromacelltoanotheronewithheightequalorlower`.Findthelistofgridcoordinates`wherewatercanflowtoboththePacificandAtlanticocean`.Note:*Theorderofreturnedgridcoordinatesdoesnotmatter.*Bothmandnarelessthan150.Example1:```jsGiventhefollowing5x5matrix:vartest=[[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]Pacific~~~~~~1223(5)*~323(4)(4)*~24(5)31*~(6)(7)145*~(5)1124******AtlanticReturn:[[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]](positionswithparenthesesinabovematrix).```Example2:```jsvartest=[[3,3,3],[3,1,3],[0,2,4]]Pacific~~~~333*~313*~024****Atlantic```###Analyze*有效出发点:*存在到Pacific的路径;*存在到Atlantic的路径;*使用「染色算法」在比当前值小的方向递归找寻```js/***@param{number[][]}matrix*@return{number[][]}*/varpacificAtlantic=function(matrix){constresult=[]for(letm=0;m<matrix.length;m++){for(letn=0;n<matrix[m].length;n++){constusedPacific=[]constusedAtlantic=[]if(iterator(matrix,m,n,usedPacific,'pacific')&&iterator(matrix,m,n,usedAtlantic,'atlantic')){result.push([m,n])}}}returnresult};vardirections=[[1,0],[0,1],[-1,0],[0,-1]]//bottom、right、top、leftvariterator=function(matrix,m,n,used,tag){used.push(`${m},${n}`)//achievetheboardofmatrixif(tag==='pacific'?ifReachPacific(m,n):ifReachAtlantic(matrix,m,n)){returntrue}for(leti=0;i<directions.length;i++){if(!isValid(matrix,m+directions[i][0],n+directions[i][1],used))continueconstnewPoint=matrix[m+directions[i][0]][n+directions[i][1]]if(newPoint>matrix[m][n]){continue}constnextIsValid=iterator(matrix,m+directions[i][0],n+directions[i][1],used,tag)if(nextIsValid){returntrue}}returnfalse}//judgeifisvalidvarisValid=(matrix,m,n,used)=>{if(used.indexOf(`${m},${n}`)>-1||!(matrix[m]&&typeofmatrix[m][n]==='number'))returnfalsereturntrue}varifReachPacific=function(m,n){returnm===0||n===0}varifReachAtlantic=function(matrix,m,n){returnm===matrix.length-1||n===matrix[0].length-1}```###SimilarTitle130"},{name:"437.Path_Sum_III.md",path:"/LeetCode/437.Path_Sum_III.md",type:"file",mdconf:{abbrlink:"1nwjxv9v"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3356,extension:".md",relative:"/LeetCode/437.Path_Sum_III.md",isEmpty:!1,content:"\x3c!--abbrlink:1nwjxv9v--\x3e###437.PathSumIIIYouaregivenabinarytreeinwhicheachnodecontainsanintegervalue.Findthenumberofpathsthatsumtoagivenvalue.`Thepathdoesnotneedtostartorendattherootoraleaf`,butitmustgodownwards(travelingonlyfromparentnodestochildnodes).Thetreehasnomorethan1,000nodesandthevaluesareintherange-1,000,000to1,000,000.`Example`:```jsroot=[10,5,-3,3,2,null,11,3,-2,null,1],sum=810/\\5-3/\\\\3211/\\\\3-21Return3.Thepathsthatsumto8are:1.5->32.5->2->13.-3->11```###题解此题的难点需想清每个节点都要当作`根节点`来对待,因此题解为如下三部分之和:1.`当前节点作为根节点`时相加为sum的路径之和。2.`当前节点左子树作为根节点`时相加为sum的路径之和。3.`当前节点右子树作为根节点`时相加为sum的路径之和。同时递归可以分为两个部分:`根节点的递归`与`分析总和的递归`。```js/***Definitionforabinarytreenode.*functionTreeNode(val,left,right){*this.val=(val===undefined?0:val)*this.left=(left===undefined?null:left)*this.right=(right===undefined?null:right)*}*//***@param{TreeNode}root*@param{number}sum*@return{number}*/varpathSum=function(root,sum){if(!root)return0//totalmeansresultvalue//initialSummeansinitsumvalueletresult={total:0,initialSum:sum}analyzeSum(root,result,sum)returnresult.total};varanalyzeSum=function(node,result,sum){if(!node)returnconstextraSum=sum-node.valif(extraSum===0){result.total=result.total+1}analyzeSum(node.left,result,extraSum)analyzeSum(node.right,result,extraSum)//handleitasrootnode.analyzeSum(node.left,result,result.initialSum)analyzeSum(node.right,result,result.initialSum)}```submit后,卡在了如下测试用例中:```js输入:[1,null,2,null,3]//该测试用例有点怪,应该为[1,null,2,null,null,null,3]31/\\null2/\\null3输出:3预期:2```经过排查,`analyzeSum`函数存在冗余的调用,并未将`根节点的递归`与`分析总和的递归`给解耦。调整如下:```js/***Definitionforabinarytreenode.*functionTreeNode(val,left,right){*this.val=(val===undefined?0:val)*this.left=(left===undefined?null:left)*this.right=(right===undefined?null:right)*}*//***@param{TreeNode}root*@param{number}sum*@return{number}*///recursiverootnodevarpathSum=function(root,sum){if(!root)return0constcurTotal=analyzeSum(root,sum)constleftChildTotal=pathSum(root.left,sum)constrightChildTotal=pathSum(root.right,sum)returncurTotal+leftChildTotal+rightChildTotal};//recursiveanlyzetotalvaluevaranalyzeSum=function(node,expectSum){if(!node)return0constextraSum=expectSum-node.valif(extraSum===0){return1+analyzeSum(node.left,extraSum)+analyzeSum(node.right,extraSum)}else{returnanalyzeSum(node.left,extraSum)+analyzeSum(node.right,extraSum)}}```"},{name:"438.Find_All_Anagrams_In_A_String.md",path:"/LeetCode/438.Find_All_Anagrams_In_A_String.md",type:"file",mdconf:{abbrlink:"2gv7zbu8"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2775,extension:".md",relative:"/LeetCode/438.Find_All_Anagrams_In_A_String.md",isEmpty:!1,content:'\x3c!--abbrlink:2gv7zbu8--\x3e###title给定一个字符串s和一个非空字符串p，找到s中所有是p的字母异位词的子串，返回这些子串的起始索引。字符串只包含小写英文字母，并且字符串s和p的长度都不超过20100。说明：`字母异位词指字母相同，但排列不同的字符串`。不考虑答案输出的顺序。示例1:```js输入:s:"cbaebabacd"p:"abc"输出:[0,6]```解释:起始索引等于0的子串是"cba",它是"abc"的字母异位词。起始索引等于6的子串是"bac",它是"abc"的字母异位词。示例2:```js输入:s:"abab"p:"ab"输出:[0,1,2]```示例3:```js输入:s:"baa"p:"aa"输出:[1]```解释:起始索引等于0的子串是"ab",它是"ab"的字母异位词。起始索引等于1的子串是"ba",它是"ab"的字母异位词。起始索引等于2的子串是"ab",它是"ab"的字母异位词。###题解花了半天,用类似滑动窗口的思想地解决了该题。思路如下:1.首先将p字符串中各字母出现的频率统计在`targetObj`;2.针对s字符创声明双指针left、right1.如若当前right的位置在targetObj`有对应字段且其不大于`targetObj对应字段的值,则向右偏移right指针的位置;2.如若当前right指针的位置在targetObj`无对应字段`,则将left的位置移到right字段的位置;3.如若当前right指针的位置在targetObj`有对应字段且大于`targetObj对应字段的值,则向右偏移left指针的位置;>需要考虑的点,`字符串是否会重复`。比如s为\'baa\',p为\'aa\'。```js/***@param{string}s*@param{string}p*@return{number[]}*/varfindAnagrams=function(s,p){constpLength=p.lengthconstinitHashObj={}//初始化hash对象lethashObj={}consttargetObj={}for(leti=0;i<p.length;i++){targetObj[p[i]]=typeof(targetObj[p[i]])===\'number\'?targetObj[p[i]]+1:0initHashObj[p[i]]=0hashObj[p[i]]=0}constresult=[]//存储结果letleft=0,right=0while(left<s.length&&right<s.length){if(typeof(hashObj[s[right]])===\'number\'&&hashObj[s[right]]<=targetObj[s[right]]){hashObj[s[right]]=hashObj[s[right]]+1if(right-left+1===pLength)result.push(left)right++}elseif(typeof(hashObj[s[right]])!==\'number\'){right++left=righthashObj=JSON.parse(JSON.stringify(initHashObj))}else{hashObj[s[left]]!==initHashObj[s[left]]&&(hashObj[s[left]]=hashObj[s[left]]-1)left++}}returnresult};```###SisterTitle76'},{name:"445.Add_Two_Numbers_II.md",path:"/LeetCode/445.Add_Two_Numbers_II.md",type:"file",mdconf:{abbrlink:"1tkgf4dq"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2259,extension:".md",relative:"/LeetCode/445.Add_Two_Numbers_II.md",isEmpty:!1,content:"\x3c!--abbrlink:1tkgf4dq--\x3e###AddTwoNumbersIIYouaregiventwonon-emptylinkedlistsrepresentingtwonon-negativeintegers.`Themostsignificantdigitcomesfirst`andeachoftheirnodescontainasingledigit.Addthetwonumbersandreturnitasalinkedlist.Youmayassumethetwonumbersdonotcontainanyleadingzero,exceptthenumber0itself.Followup:Whatifyoucannotmodifytheinputlists?Inotherwords,reversingthelistsisnotallowed.Example:```jsInput:(7->2->4->3)+(5->6->4)Output:7->8->0->7```###Analyze思考:相对题2的逆序相加,该题顺序相加作如下思考:*第一步:首先补齐位数,让其一一对应;```js7->2->4->30->5->6->4```*第二步:递归计算两个链表同位之和,同时使用digitCarry表示进位的情况;```js/***Definitionforsingly-linkedlist.*functionListNode(val){*this.val=val;*this.next=null;*}*//***@param{ListNode}l1*@param{ListNode}l2*@return{ListNode}*/varaddTwoNumbers=function(l1,l2){letcountl1=0,countl2=0letl1List=l1letl2List=l2while(l1List){countl1++l1List=l1List.next}while(l2List){countl2++l2List=l2List.next}//creatthefrontestListlettmpList=newListNode(0)letcur=tmpListletdiff=Math.abs(countl2-countl1)while(diff--){cur.next=newListNode(0)cur=cur.next}if(countl1<countl2){cur.next=l1l1=tmpList.next}elseif(countl2<countl1){cur.next=l2l2=tmpList.next}//flag:1showsdigitcarry,0not;letdigitCarry=0/***calculatethesumofl1andl2*/functionlistNodeAdd(l1,l2){if(l1===null)returnlistNodeAdd(l1.next,l2.next)letsum=l1.val+l2.val+digitCarryif(sum>=10){l1.val=sum%10digitCarry=1}else{l1.val=sumdigitCarry=0}}listNodeAdd(l1,l2)letresult=l1if(digitCarry===1){result=newListNode(1)result.next=l1}returnresult}```![](http://with.muyunyun.cn/c2559f9251487e23530e6932cc46516b.jpg-400)###SisterTitle2"},{name:"447.Number_of_Boomerangs.md",path:"/LeetCode/447.Number_of_Boomerangs.md",type:"file",mdconf:{abbrlink:"nwuqmhlt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1986,extension:".md",relative:"/LeetCode/447.Number_of_Boomerangs.md",isEmpty:!1,content:'\x3c!--abbrlink:nwuqmhlt--\x3e###titleGivennpointsintheplanethatareallpairwisedistinct,a"boomerang"isatupleofpoints(i,j,k)suchthatthedistancebetweeniandjequalsthedistancebetweeniandk(theorderofthetuplematters).Findthenumberofboomerangs.Youmayassumethatnwillbeatmost500andcoordinatesofpointsareallintherange[-10000,10000](inclusive).Example:Input:[[0,0],[1,0],[2,0]]Output:2Explanation:Thetwoboomerangsare[[1,0],[0,0],[2,0]]and[[1,0],[2,0],[0,0]]###Analyze思路:首先弄清题意,输入的数组points中能产生中多少种[i,j,k]的数组,使i到j的距离与i到k的距离相等。因此可以将i的位置固定,使用`查找表`将到i的距离作为key,将该距离出现的次数作为value,若该次数大于1则说明能构成回旋镖。(比如出现4次,在剩下的j,k两个位置中能构成4*3个回旋镖)![](http://with.muyunyun.cn/6b5d105a884526e2e19dbbaea330fd8f.jpg-400)```js/***@param{number[][]}points*@return{number}*/varnumberOfBoomerangs=function(points){//avoidlosingtheprecisionconstgetDistancePow=(x,y)=>{returnMath.pow((y[0]-x[0]),2)+Math.pow((y[1]-x[1]),2)}letresult=0for(letp=0;p<points.length;p++){consttmpMap=newMap()for(letn=0;n<points.length;n++){if(p===n)continueconstdistancePow=getDistancePow(points[p],points[n])consthasDistancePow=tmpMap.has(`${distancePow}`)if(hasDistancePow){tmpMap.set(`${distancePow}`,tmpMap.get(`${distancePow}`)+1)}else{tmpMap.set(`${distancePow}`,1)}}tmpMap.forEach((value,key)=>{if(value>1){constsum=value*(value-1)result+=sum}})}returnresult}```![](http://with.muyunyun.cn/c6128ef88123f9b3a1b135d0c8850271.jpg)###SimilarTitle149'},{name:"450.Delete_Node_in_a_BST.md",path:"/LeetCode/450.Delete_Node_in_a_BST.md",type:"file",mdconf:{abbrlink:"vnqbm1et"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3090,extension:".md",relative:"/LeetCode/450.Delete_Node_in_a_BST.md",isEmpty:!1,content:"\x3c!--abbrlink:vnqbm1et--\x3e###450.DeleteNodeinaBSTGivenarootnodereferenceofaBSTandakey,deletethenodewiththegivenkeyintheBST.Returntherootnodereference(possiblyupdated)oftheBST.Basically,thedeletioncanbedividedintotwostages:Searchforanodetoremove.Ifthenodeisfound,deletethenode.Followup:CanyousolveitwithtimecomplexityO(heightoftree)?Example1:```js55/\\/\\36---\x3e46/\\\\/\\24727Input:root=[5,3,6,2,4,null,7],key=3Output:[5,4,6,2,null,null,7]```Explanation:Givenkeytodeleteis3.Sowefindthenodewithvalue3anddeleteit.Onevalidansweris[5,4,6,2,null,null,7],shownintheaboveBST.Pleasenoticethatanothervalidansweris[5,2,6,null,4,null,7]andit'salsoaccepted.```js5/\\26\\\\47```Example2:Input:root=[5,3,6,2,4,null,7],key=0Output:[5,3,6,2,4,null,7]Explanation:Thetreedoesnotcontainanodewithvalue=0.Example3:Input:root=[],key=0Output:[]Constraints:*Thenumberofnodesinthetreeisintherange[0,104].*-105<=Node.val<=105*Eachnodehas`auniquevalue`.*rootisavalidbinarysearchtree.*-105<=key<=105###Analyze```js5/\\36/\\\\247``````js3/\\24\\6\\7```*此时删除元素为5,此时含有左节点,可以通过如下方法达到目的:*将`删除元素的左下方元素3`替代`删除元素5`;*将`左下方元素的右侧最下方子元素4`衔接`删除元素的右下方子元素6`;```js/***Definitionforabinarytreenode.*functionTreeNode(val,left,right){*this.val=(val===undefined?0:val)*this.left=(left===undefined?null:left)*this.right=(right===undefined?null:right)*}*//***@param{TreeNode}root*@param{number}key*@return{TreeNode}*/vardeleteNode=function(root,key){if(!root)returnnull//ifkey>root.val,deletenodeinroot.right.Otherwisedeletenodeinroot.left.if(key>root.val){constrightNode=deleteNode(root.right,key)root.right=rightNodereturnroot}elseif(key<root.val){constleftNode=deleteNode(root.left,key)root.left=leftNodereturnroot}else{//nowroot.val===keyif(!root.left){returnroot.right}if(!root.right){returnroot.left}//将删除元素的左下方元素替代删除元素;//将左下方元素的右侧最下方子元素衔接删除元素的右下方子元素;constrightChild=root.rightletnewRightChild=root.leftwhile(newRightChild.right){newRightChild=newRightChild.right}newRightChild.right=rightChildreturnroot.left}};```"},{name:"451.Sort_Characters_By_Frequency.md",path:"/LeetCode/451.Sort_Characters_By_Frequency.md",type:"file",mdconf:{abbrlink:"oxv7uzj1"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1658,extension:".md",relative:"/LeetCode/451.Sort_Characters_By_Frequency.md",isEmpty:!1,content:"\x3c!--abbrlink:oxv7uzj1--\x3e###title给定一个字符串,请将字符串里的字符按照出现的频率`降序排列`。示例1:```js输入:\"tree\"输出:\"eert\"```解释:'e'出现两次，'r'和't'都只出现一次。因此'e'必须出现在'r'和't'之前。此外，\"eetr\"也是一个有效的答案。示例2:```js输入:\"cccaaa\"输出:\"cccaaa\"```解释:'c'和'a'都出现三次。此外，\"aaaccc\"也是有效的答案。注意\"cacaca\"是不正确的，因为相同的字母必须放在一起。示例3:```js输入:\"Aabb\"输出:\"bbAa\"```解释:此外，\"bbaA\"也是一个有效的答案，但\"Aabb\"是不正确的。注意'A'和'a'被认为是两种不同的字符。###题解思路:根据题意,本题用Map来存储字符出现的频率,难点在如何处理Map中对象出现的频率?以下解法使用arr将map里的值存储转化为`[{key,value}]`的形式,最后使用JS的sort方法来完成题解。```js/***@param{string}s*@return{string}*/varfrequencySort=function(s){constmap=newMap()for(leti=0;i<s.length;i++){constgetMap=map.get(s[i])if(!getMap){map.set(s[i],1)}else{map.set(s[i],getMap+1)}}constarr=[]for(letkeyofmap.keys()){arr.push({key,value:map.get(key)})}//todo后续实现下以下排序arr.sort((a,b)=>b.value-a.value)constresult=arr.map(r=>{letstr=''for(leti=0;i<r.value;i++){str=str+r.key}returnstr}).join('')returnresult};```###归类map"},{name:"454.4Sum_II.md",path:"/LeetCode/454.4Sum_II.md",type:"file",mdconf:{abbrlink:"eqtu8dpt"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2004,extension:".md",relative:"/LeetCode/454.4Sum_II.md",isEmpty:!1,content:"\x3c!--abbrlink:eqtu8dpt--\x3e###4SumIIGivenfourlistsA,B,C,Dofintegervalues,computehowmanytuples(i,j,k,l)therearesuchthatA[i]+B[j]+C[k]+D[l]iszero.Tomakeproblemabiteasier,allA,B,C,DhavesamelengthofNwhere0≤N≤500.Allintegersareintherangeof-2^28to2^28-1andtheresultisguaranteedtobeatmost2^31-1.Example:```jsInput:A=[1,2]B=[-2,-1]C=[-1,2]D=[0,2]Output:2Explanation:Thetwotuplesare:1.(0,0,0,1)->A[0]+B[0]+C[0]+D[1]=1+(-2)+(-1)+2=02.(1,1,0,0)->A[1]+B[1]+C[0]+D[0]=2+(-1)+(-1)+0=0```###Analyze解题思路:如果正常暴力解法为n^4,n^3在0<=N<=500的数量级下已经达到`125000000`,根据[算法复杂度](https://github.com/MuYunyun/blog/blob/master/BasicSkill/algorithm/算法复杂度.md)里对数量与时间的统计,算法的数据复杂度理应不超过n^2。因此我们将C与D和出现的次数存进查找表中,从而优化算法复杂度(查找表的关键是确认存进查找表的key和value是多少)。```js/***@param{number[]}A*@param{number[]}B*@param{number[]}C*@param{number[]}D*@return{number}*/varfourSumCount=function(A,B,C,D){consttmpMap=newMap()for(letic=0;ic<C.length;ic++){for(letid=0;id<D.length;id++){constsumC_D=C[ic]+D[id]consthasSumC_D=tmpMap.has(sumC_D)if(hasSumC_D){tmpMap.set(sumC_D,tmpMap.get(sumC_D)+1)}else{tmpMap.set(sumC_D,1)}}}letcount=0for(letia=0;ia<A.length;ia++){for(letib=0;ib<B.length;ib++){constsumA_B=A[ia]+B[ib]tmpMap.has(-sumA_B)&&(count=count+tmpMap.get(-sumA_B))}}returncount}```![](http://with.muyunyun.cn/a10b03c6f22d312f32b4f0a7f2795f4f.jpg)###SisterTitle18(题目相似,但是因为传入参数不同导致解法不同)"},{name:"567.Permutation_In_String.md",path:"/LeetCode/567.Permutation_In_String.md",type:"file",mdconf:{abbrlink:"z2lmk1bx"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1426,extension:".md",relative:"/LeetCode/567.Permutation_In_String.md",isEmpty:!1,content:"\x3c!--abbrlink:z2lmk1bx--\x3e[题目](https://leetcode-cn.com/explore/interview/card/bytedance/242/string/1016/)题目演变:*s1的排列方式有几种?*将s1的所有排列打印出来?顺着这个思路,想到了递归。上面这种思路也是可以的,但是最终用判断字符中各字母出现的数字来实现。###Analyze```js/**18.12.08*//***@param{string}s1*@param{string}s2*@return{boolean}*/varcheckInclusion=function(s1,s2){consts1Obj={}consts1Length=s1.lengthfor(leti=0;i<s1Length;i++){if(s1Obj[s1[i]]){s1Obj[s1[i]]=++s1Obj[s1[i]]}else{s1Obj[s1[i]]=1}}consts2Length=s2.lengthif(s1Length>s2Length){returnfalse}constcount=s2Length-s1Lengthletstr=''for(leti=0;i<=count;i++){str=s2.slice(i,s1Length+i)consts2Obj={}for(letz=0;z<str.length;z++){if(!s1Obj[str[z]]){i=i+zbreak}if(s2Obj[str[z]]){s2Obj[str[z]]=s2Obj[str[z]]+1}else{s2Obj[str[z]]=1}}letbool=truefor(lety=0;y<Object.keys(s1Obj).length;y++){if(s2Obj[Object.keys(s1Obj)[y]]!==s1Obj[Object.keys(s1Obj)[y]]){bool=falsebreak}}if(bool===true){returntrue}}returnfalse};```"},{name:"README.md",path:"/LeetCode/README.md",type:"file",mdconf:{abbrlink:"uxcksaex"},birthtime:"2021-12-08",mtime:"2021-12-08",size:27564,extension:".md",relative:"/LeetCode/README.md",isEmpty:!1,content:"\x3c!--abbrlink:uxcksaex--\x3eThemarkdowntableisgeneratedby[crd-leetcode-cli](https://github.com/MuYunyun/create-react-doc/tree/master/packages/leetcode-cli)|#|Title|Explanation|Difficulty|Type||:---:|:---:|:---:|:---:|:---:||1|[TwoSum](https://leetcode.com/problems/two-sum/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/1.Two_Sum.md)|Easy|Array,HashTable||2|[AddTwoNumbers](https://leetcode.com/problems/add-two-numbers/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/2.Add_Two_Numbers.md)|Medium|Recursion,LinkedList,Math||3|[LongestSubstringWithoutRepeatingCharacters](https://leetcode.com/problems/longest-substring-without-repeating-characters/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/3.Longest_Substring_Without_Repeating_Characters.md)|Medium|HashTable,TwoPointers,String,SlidingWindow||4|[MedianofTwoSortedArrays](https://leetcode.com/problems/median-of-two-sorted-arrays/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/4.Median_of_Two_Sorted_Arrays.md)|Hard|Array,BinarySearch,DivideandConquer||7|[ReverseInteger](https://leetcode.com/problems/reverse-integer/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/7.Reverse_Integer.md)|Easy|Math||9|[PalindromeNumber](https://leetcode.com/problems/palindrome-number/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/9.Palindrome_Number.md)|Easy|Math||11|[ContainerWithMostWater](https://leetcode.com/problems/container-with-most-water/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/11.Container_With_Most_Water.md)|Medium|Array,TwoPointers||13|[RomantoInteger](https://leetcode.com/problems/roman-to-integer/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/13.Roman_to_Integer.md)|Easy|Math,String||14|[LongestCommonPrefix](https://leetcode.com/problems/longest-common-prefix/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/14.Longest_Common_Prefix.md)|Easy|String||15|[3Sum](https://leetcode.com/problems/3sum/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/15.3Sum.md)|Medium|Array,TwoPointers||16|[3SumClosest](https://leetcode.com/problems/3sum-closest/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/16.3Sum_Closest.md)|Medium|Array,TwoPointers||17|[LetterCombinationsofaPhoneNumber](https://leetcode.com/problems/letter-combinations-of-a-phone-number/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/17.Letter_Combinations_of_a_Phone_Number.md)|Medium|Depth-firstSearch,Recursion,String,Backtracking||18|[4Sum](https://leetcode.com/problems/4sum/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/18.4Sum.md)|Medium|Array,HashTable,TwoPointers||19|[RemoveNthNodeFromEndofList](https://leetcode.com/problems/remove-nth-node-from-end-of-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/19.Remove_Nth_Node_From_End_of_List.md)|Medium|LinkedList,TwoPointers||20|[ValidParentheses](https://leetcode.com/problems/valid-parentheses/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/20.Valid_Parentheses.md)|Easy|Stack,String||21|[MergeTwoSortedLists](https://leetcode.com/problems/merge-two-sorted-lists/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/21.Merge_Two_Sorted_Lists.md)|Easy|Recursion,LinkedList||22|[GenerateParentheses](https://leetcode.com/problems/generate-parentheses/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/22.Generate_Parentheses.md)|Medium|String,Backtracking||23|[MergekSortedLists](https://leetcode.com/problems/merge-k-sorted-lists/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/23.Merge_k_Sorted_Lists.md)|Hard|Heap,LinkedList,DivideandConquer||24|[SwapNodesinPairs](https://leetcode.com/problems/swap-nodes-in-pairs/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/24.Swap_Nodes_in_Pairs.md)|Medium|Recursion,LinkedList||25|[ReverseNodesink-Group](https://leetcode.com/problems/reverse-nodes-in-k-group/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/25.Reverse_Nodes_in_k-Group.md)|Hard|LinkedList||26|[RemoveDuplicatesfromSortedArray](https://leetcode.com/problems/remove-duplicates-from-sorted-array/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/26.Remove_Duplicates_from_Sorted_Array.md)|Easy|Array,TwoPointers||27|[RemoveElement](https://leetcode.com/problems/remove-element/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/27.Remove_Element.md)|Easy|Array,TwoPointers||28|[ImplementstrStr()](https://leetcode.com/problems/implement-strstr/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/28.Implement_strStr().md)|Easy|TwoPointers,String||33|[SearchinRotatedSortedArray](https://leetcode.com/problems/search-in-rotated-sorted-array/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/33.Search_in_Rotated_Sorted_Array.md)|Medium|Array,BinarySearch||35|[SearchInsertPosition](https://leetcode.com/problems/search-insert-position/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/35.Search_Insert_Position.md)|Easy|Array,BinarySearch||36|[ValidSudoku](https://leetcode.com/problems/valid-sudoku/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/36.Valid_Sudoku.md)|Medium|HashTable||37|[SudokuSolver](https://leetcode.com/problems/sudoku-solver/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/37.Sudoku_Solver.md)|Hard|HashTable,Backtracking||38|[CountandSay](https://leetcode.com/problems/count-and-say/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/38.Count_and_Say.md)|Easy|String||39|[CombinationSum](https://leetcode.com/problems/combination-sum/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/39.Combination_Sum.md)|Medium|Array,Backtracking||40|[CombinationSumII](https://leetcode.com/problems/combination-sum-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/40.Combination_Sum_II.md)|Medium|Array,Backtracking||46|[Permutations](https://leetcode.com/problems/permutations/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/46.Permutations.md)|Medium|Backtracking||47|[PermutationsII](https://leetcode.com/problems/permutations-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/47.Permutations_II.md)|Medium|Backtracking||48|[RotateImage](https://leetcode.com/problems/rotate-image/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/48.Rotate_Image.md)|Medium|Array||49|[GroupAnagrams](https://leetcode.com/problems/group-anagrams/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/49.Group_Anagrams.md)|Medium|HashTable,String||50|[Pow(x,n)](https://leetcode.com/problems/powx-n/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/50.Pow(x,_n).md)|Medium|Math,BinarySearch||51|[N-Queens](https://leetcode.com/problems/n-queens/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/51.N-Queens.md)|Hard|Backtracking||52|[N-QueensII](https://leetcode.com/problems/n-queens-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/52.N-Queens_II.md)|Hard|Backtracking||61|[RotateList](https://leetcode.com/problems/rotate-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/61.Rotate_List.md)|Medium|LinkedList,TwoPointers||62|[UniquePaths](https://leetcode.com/problems/unique-paths/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/62.Unique_Paths.md)|Medium|Array,DynamicProgramming||64|[MinimumPathSum](https://leetcode.com/problems/minimum-path-sum/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/64.Minimum_Path_Sum.md)|Medium|Array,DynamicProgramming||66|[PlusOne](https://leetcode.com/problems/plus-one/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/66.Plus_One.md)|Easy|Array||67|[AddBinary](https://leetcode.com/problems/add-binary/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/67.Add_Binary.md)|Easy|Math,String||69|[Sqrt(x)](https://leetcode.com/problems/sqrtx/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/69.Sqrt(x).md)|Easy|Math,BinarySearch||70|[ClimbingStairs](https://leetcode.com/problems/climbing-stairs/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/70.Climbing_Stairs.md)|Easy|DynamicProgramming||71|[SimplifyPath](https://leetcode.com/problems/simplify-path/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/71.Simplify_Path.md)|Medium|Stack,String||75|[SortColors](https://leetcode.com/problems/sort-colors/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/75.Sort_Colors.md)|Medium|Sort,Array,TwoPointers||77|[Combinations](https://leetcode.com/problems/combinations/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/77.Combinations.md)|Medium|Backtracking||78|[Subsets](https://leetcode.com/problems/subsets/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/78.Subsets.md)|Medium|BitManipulation,Array,Backtracking||79|[WordSearch](https://leetcode.com/problems/word-search/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/79.Word_Search.md)|Medium|Array,Backtracking||80|[RemoveDuplicatesfromSortedArrayII](https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/80.Remove_Duplicates_from_Sorted_Array_II.md)|Medium|Array,TwoPointers||82|[RemoveDuplicatesfromSortedListII](https://leetcode.com/problems/remove-duplicates-from-sorted-list-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/82.Remove_Duplicates_from_Sorted_List_II.md)|Medium|LinkedList||83|[RemoveDuplicatesfromSortedList](https://leetcode.com/problems/remove-duplicates-from-sorted-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/83.Remove_Duplicates_from_Sorted_List.md)|Easy|LinkedList||86|[PartitionList](https://leetcode.com/problems/partition-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/86.Partition_List.md)|Medium|LinkedList,TwoPointers||88|[MergeSortedArray](https://leetcode.com/problems/merge-sorted-array/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/88.Merge_Sorted_Array.md)|Easy|Array,TwoPointers||89|[GrayCode](https://leetcode.com/problems/gray-code/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/89.Gray_Code.md)|Medium|Backtracking||90|[SubsetsII](https://leetcode.com/problems/subsets-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/90.Subsets_II.md)|Medium|Array,Backtracking||92|[ReverseLinkedListII](https://leetcode.com/problems/reverse-linked-list-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/92.Reverse_Linked_List_II.md)|Medium|LinkedList||93|[RestoreIPAddresses](https://leetcode.com/problems/restore-ip-addresses/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/93.Restore_IP_Addresses.md)|Medium|String,Backtracking||94|[BinaryTreeInorderTraversal](https://leetcode.com/problems/binary-tree-inorder-traversal/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/94.Binary_Tree_Inorder_Traversal.md)|Medium|Stack,Tree,HashTable||98|[ValidateBinarySearchTree](https://leetcode.com/problems/validate-binary-search-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/98.Validate_Binary_Search_Tree.md)|Medium|Tree,Depth-firstSearch,Recursion||100|[SameTree](https://leetcode.com/problems/same-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/100.Same_Tree.md)|Easy|Tree,Depth-firstSearch||101|[SymmetricTree](https://leetcode.com/problems/symmetric-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/101.Symmetric_Tree.md)|Easy|Tree,Depth-firstSearch,Breadth-firstSearch||102|[BinaryTreeLevelOrderTraversal](https://leetcode.com/problems/binary-tree-level-order-traversal/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/102.Binary_Tree_Level_Order_Traversal.md)|Medium|Tree,Breadth-firstSearch||103|[BinaryTreeZigzagLevelOrderTraversal](https://leetcode.com/problems/binary-tree-zigzag-level-order-traversal/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/103.Binary_Tree_Zigzag_Level_Order_Traversal.md)|Medium|Stack,Tree,Breadth-firstSearch||104|[MaximumDepthofBinaryTree](https://leetcode.com/problems/maximum-depth-of-binary-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/104.Maximum_Depth_of_Binary_Tree.md)|Easy|Tree,Depth-firstSearch,Recursion||107|[BinaryTreeLevelOrderTraversalII](https://leetcode.com/problems/binary-tree-level-order-traversal-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/107.Binary_Tree_Level_Order_Traversal_II.md)|Medium|Tree,Breadth-firstSearch||108|[ConvertSortedArraytoBinarySearchTree](https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/108.Convert_Sorted_Array_to_Binary_Search_Tree.md)|Easy|Tree,Depth-firstSearch||110|[BalancedBinaryTree](https://leetcode.com/problems/balanced-binary-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/110.Balanced_Binary_Tree.md)|Easy|Tree,Depth-firstSearch,Recursion||111|[MinimumDepthofBinaryTree](https://leetcode.com/problems/minimum-depth-of-binary-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/111.Minimum_Depth_of_Binary_Tree.md)|Easy|Tree,Depth-firstSearch,Breadth-firstSearch||112|[PathSum](https://leetcode.com/problems/path-sum/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/112.Path_Sum.md)|Easy|Tree,Depth-firstSearch||113|[PathSumII](https://leetcode.com/problems/path-sum-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/113.Path_Sum_II.md)|Medium|Tree,Depth-firstSearch||120|[Triangle](https://leetcode.com/problems/triangle/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/120.Triangle.md)|Medium|Array,DynamicProgramming||121|[BestTimetoBuyandSellStock](https://leetcode.com/problems/best-time-to-buy-and-sell-stock/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/121.Best_Time_to_Buy_and_Sell_Stock.md)|Easy|Array,DynamicProgramming||125|[ValidPalindrome](https://leetcode.com/problems/valid-palindrome/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/125.Valid_Palindrome.md)|Easy|TwoPointers,String||127|[WordLadder](https://leetcode.com/problems/word-ladder/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/127.Word_Ladder.md)|Hard|Breadth-firstSearch||129|[SumRoottoLeafNumbers](https://leetcode.com/problems/sum-root-to-leaf-numbers/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/129.Sum_Root_to_Leaf_Numbers.md)|Medium|Tree,Depth-firstSearch||130|[SurroundedRegions](https://leetcode.com/problems/surrounded-regions/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/130.Surrounded_Regions.md)|Medium|Depth-firstSearch,Breadth-firstSearch,UnionFind||131|[PalindromePartitioning](https://leetcode.com/problems/palindrome-partitioning/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/131.Palindrome_Partitioning.md)|Medium|Depth-firstSearch,DynamicProgramming,Backtracking||143|[ReorderList](https://leetcode.com/problems/reorder-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/143.Reorder_List.md)|Medium|LinkedList||144|[BinaryTreePreorderTraversal](https://leetcode.com/problems/binary-tree-preorder-traversal/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/144.Binary_Tree_Preorder_Traversal.md)|Medium|Stack,Tree||145|[BinaryTreePostorderTraversal](https://leetcode.com/problems/binary-tree-postorder-traversal/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/145.Binary_Tree_Postorder_Traversal.md)|Medium|Stack,Tree||147|[InsertionSortList](https://leetcode.com/problems/insertion-sort-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/147.Insertion_Sort_List.md)|Medium|Sort,LinkedList||148|[SortList](https://leetcode.com/problems/sort-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/148.Sort_List.md)|Medium|Sort,LinkedList||149|[MaxPointsonaLine](https://leetcode.com/problems/max-points-on-a-line/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/149.Max_Points_on_a_Line.md)|Hard|HashTable,Math||150|[EvaluateReversePolishNotation](https://leetcode.com/problems/evaluate-reverse-polish-notation/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/150.Evaluate_Reverse_Polish_Notation.md)|Medium|Stack||151|[ReverseWordsinaString](https://leetcode.com/problems/reverse-words-in-a-string/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/151.Reverse_Words_in_a_String.md)|Medium|String||167|[TwoSumII-Inputarrayissorted](https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/167.Two_Sum_II_-_Input_array_is_sorted.md)|Easy|Array,TwoPointers,BinarySearch||199|[BinaryTreeRightSideView](https://leetcode.com/problems/binary-tree-right-side-view/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/199.Binary_Tree_Right_Side_View.md)|Medium|Tree,Depth-firstSearch,Breadth-firstSearch,Recursion,Queue||200|[NumberofIslands](https://leetcode.com/problems/number-of-islands/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/200.Number_of_Islands.md)|Medium|Depth-firstSearch,Breadth-firstSearch,UnionFind||202|[HappyNumber](https://leetcode.com/problems/happy-number/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/202.Happy_Number.md)|Easy|HashTable,Math||203|[RemoveLinkedListElements](https://leetcode.com/problems/remove-linked-list-elements/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/203.Remove_Linked_List_Elements.md)|Easy|LinkedList||205|[IsomorphicStrings](https://leetcode.com/problems/isomorphic-strings/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/205.Isomorphic_Strings.md)|Easy|HashTable||206|[ReverseLinkedList](https://leetcode.com/problems/reverse-linked-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/206.Reverse_Linked_List.md)|Easy|LinkedList||209|[MinimumSizeSubarraySum](https://leetcode.com/problems/minimum-size-subarray-sum/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/209.Minimum_Size_Subarray_Sum.md)|Medium|Array,TwoPointers,BinarySearch||215|[KthLargestElementinanArray](https://leetcode.com/problems/kth-largest-element-in-an-array/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/215.Kth_Largest_Element_in_an_Array.md)|Medium|Heap,DivideandConquer||216|[CombinationSumIII](https://leetcode.com/problems/combination-sum-iii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/216.Combination_Sum_III.md)|Medium|Array,Backtracking||217|[ContainsDuplicate](https://leetcode.com/problems/contains-duplicate/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/217.Contains_Duplicate.md)|Easy|Array,HashTable||219|[ContainsDuplicateII](https://leetcode.com/problems/contains-duplicate-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/219.Contains_Duplicate_II.md)|Easy|Array,HashTable||220|[ContainsDuplicateIII](https://leetcode.com/problems/contains-duplicate-iii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/220.Contains_Duplicate_III.md)|Medium|Sort,OrderedMap||222|[CountCompleteTreeNodes](https://leetcode.com/problems/count-complete-tree-nodes/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/222.Count_Complete_Tree_Nodes.md)|Medium|Tree,BinarySearch||226|[InvertBinaryTree](https://leetcode.com/problems/invert-binary-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/226.Invert_Binary_Tree.md)|Easy|Tree||230|[KthSmallestElementinaBST](https://leetcode.com/problems/kth-smallest-element-in-a-bst/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/230.Kth_Smallest_Element_in_a_BST.md)|Medium|Tree,BinarySearch||234|[PalindromeLinkedList](https://leetcode.com/problems/palindrome-linked-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/234.Palindrome_Linked_List.md)|Easy|LinkedList,TwoPointers||235|[LowestCommonAncestorofaBinarySearchTree](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-search-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/235.Lowest_Common_Ancestor_of_a_Binary_Search_Tree.md)|Easy|Tree||236|[LowestCommonAncestorofaBinaryTree](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/236.Lowest_Common_Ancestor_of_a_Binary_Tree.md)|Medium|Tree||237|[DeleteNodeinaLinkedList](https://leetcode.com/problems/delete-node-in-a-linked-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/237.Delete_Node_in_a_Linked_List.md)|Easy|LinkedList||242|[ValidAnagram](https://leetcode.com/problems/valid-anagram/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/242.Valid_Anagram.md)|Easy|Sort,HashTable||257|[BinaryTreePaths](https://leetcode.com/problems/binary-tree-paths/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/257.Binary_Tree_Paths.md)|Easy|Tree,Depth-firstSearch||279|[PerfectSquares](https://leetcode.com/problems/perfect-squares/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/279.Perfect_Squares.md)|Medium|Breadth-firstSearch,Math,DynamicProgramming||283|[MoveZeroes](https://leetcode.com/problems/move-zeroes/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/283.Move_Zeroes.md)|Easy|Array,TwoPointers||290|[WordPattern](https://leetcode.com/problems/word-pattern/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/290.Word_Pattern.md)|Easy|HashTable||328|[OddEvenLinkedList](https://leetcode.com/problems/odd-even-linked-list/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/328.Odd_Even_Linked_List.md)|Medium|LinkedList||341|[FlattenNestedListIterator](https://leetcode.com/problems/flatten-nested-list-iterator/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/341.Flatten_Nested_List_Iterator.md)|Medium|Stack,Design||343|[IntegerBreak](https://leetcode.com/problems/integer-break/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/343.Integer_Break.md)|Medium|Math,DynamicProgramming||344|[ReverseString](https://leetcode.com/problems/reverse-string/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/344.Reverse_String.md)|Easy|TwoPointers,String||347|[TopKFrequentElements](https://leetcode.com/problems/top-k-frequent-elements/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/347.Top_K_Frequent_Elements.md)|Medium|Heap,HashTable||349|[IntersectionofTwoArrays](https://leetcode.com/problems/intersection-of-two-arrays/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/349.Intersection_of_Two_Arrays.md)|Easy|Sort,HashTable,TwoPointers,BinarySearch||350|[IntersectionofTwoArraysII](https://leetcode.com/problems/intersection-of-two-arrays-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/350.Intersection_of_Two_Arrays_II.md)|Easy|Sort,HashTable,TwoPointers,BinarySearch||401|[BinaryWatch](https://leetcode.com/problems/binary-watch/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/401.Binary_Watch.md)|Easy|BitManipulation,Backtracking||404|[SumofLeftLeaves](https://leetcode.com/problems/sum-of-left-leaves/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/404.Sum_of_Left_Leaves.md)|Easy|Tree||417|[PacificAtlanticWaterFlow](https://leetcode.com/problems/pacific-atlantic-water-flow/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/417.Pacific_Atlantic_Water_Flow.md)|Medium|Depth-firstSearch,Breadth-firstSearch||437|[PathSumIII](https://leetcode.com/problems/path-sum-iii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/437.Path_Sum_III.md)|Medium|Tree||438|[FindAllAnagramsinaString](https://leetcode.com/problems/find-all-anagrams-in-a-string/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/438.Find_All_Anagrams_in_a_String.md)|Medium|HashTable||445|[AddTwoNumbersII](https://leetcode.com/problems/add-two-numbers-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/445.Add_Two_Numbers_II.md)|Medium|LinkedList||447|[NumberofBoomerangs](https://leetcode.com/problems/number-of-boomerangs/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/447.Number_of_Boomerangs.md)|Medium|HashTable,Math||450|[DeleteNodeinaBST](https://leetcode.com/problems/delete-node-in-a-bst/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/450.Delete_Node_in_a_BST.md)|Medium|Tree||451|[SortCharactersByFrequency](https://leetcode.com/problems/sort-characters-by-frequency/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/451.Sort_Characters_By_Frequency.md)|Medium|Heap,HashTable||454|[4SumII](https://leetcode.com/problems/4sum-ii/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/454.4Sum_II.md)|Medium|HashTable,BinarySearch||567|[PermutationinString](https://leetcode.com/problems/permutation-in-string/)|[Analyze](https://github.com/MuYunyun/blog/blob/master/LeetCode/567.Permutation_in_String.md)|Medium|TwoPointers,SlidingWindow|"},{name:"helps",path:"/LeetCode/helps",children:[{name:"linked_list.md",path:"/LeetCode/helps/linked_list.md",type:"file",mdconf:{abbrlink:"mmet39py"},birthtime:"2021-12-08",mtime:"2021-12-08",size:836,extension:".md",relative:"/LeetCode/helps/linked_list.md",isEmpty:!1,content:"\x3c!--abbrlink:mmet39py--\x3e```js//----someusefulfntodowithlinked_list----functionListNode(val){this.val=val;this.next=null;}/***createinitlinkedlistforleetcode.*/varlist=(functioncreateLinkedList(...args){constreverseArgs=args.reverse()consttmplistNode=newListNode(0)letlength=reverseArgs.lengthletcur=newListNode(reverseArgs[length-1])tmplistNode.next=curwhile(length--&&length>=1){letnext=newListNode(reverseArgs[length-1])cur.next=nextcur=next}returntmplistNode.next})(1,2,3,4,5)/***printthelinkedlist*/varprintList=function(list){letcur=listletstr=''while(cur){str+=`${cur.val}->`;cur=cur.nextcur===null&&(str+='null')}console.log(str)}```"},{name:"remind_clock.md",path:"/LeetCode/helps/remind_clock.md",type:"file",mdconf:{abbrlink:"cb3y1wyp"},birthtime:"2021-12-08",mtime:"2021-12-08",size:284,extension:".md",relative:"/LeetCode/helps/remind_clock.md",isEmpty:!1,content:"\x3c!--abbrlink:cb3y1wyp--\x3e```js/**remindtoclock*/(functionremindClock(arr){letprint=''for(leti=1;i<21;i++){if(arr.indexOf(i)===-1){print+=`@${i}`}}if(print==='')return'齐了'return`${print}记得打卡`})([])```"},{name:"tree.md",path:"/LeetCode/helps/tree.md",type:"file",mdconf:{abbrlink:"ffmuj7el"},birthtime:"2021-12-08",mtime:"2021-12-08",size:904,extension:".md",relative:"/LeetCode/helps/tree.md",isEmpty:!1,content:"\x3c!--abbrlink:ffmuj7el--\x3e```js//----someusefulfntodowithlinked_list----/***createtreenodethroughtreearray*thiswaysupportsthreeleveltreetemperaryly*becalsemosttestcaseinleetcodeislessthan3level.*input:[3,9,20,6,null,15,7]*output:3/\\920//\\6157*/functioncreateTree(treeArr){functionTreeNode(val){this.val=valthis.left=this.right=null}constcacheObj={}for(leti=0;i<treeArr.length;i++){cacheObj[`tree${i}`]=typeoftreeArr[i]==='number'&&newTreeNode(treeArr[i])}for(leti=0;i<treeArr.length;i++){cacheObj[`tree${2*i+1}`]&&(cacheObj[`tree${i}`].left=cacheObj[`tree${2*i+1}`])cacheObj[`tree${2*i+2}`]&&(cacheObj[`tree${i}`].right=cacheObj[`tree${2*i+2}`])}returncacheObj['tree0']}```"}],type:"directory",size:2024}],type:"directory",size:300282},{name:"Product",path:"/Product",children:[{name:"e-business",path:"/Product/e-business",children:[{name:"pdd.md",path:"/Product/e-business/pdd.md",type:"file",mdconf:{abbrlink:"vns5shb6"},birthtime:"2021-12-08",mtime:"2021-12-08",size:4132,extension:".md",relative:"/Product/e-business/pdd.md",isEmpty:!1,content:'\x3c!--abbrlink:vns5shb6--\x3e###商家端模块职责*创建店铺:[官网](https://www.pinduoduo.com/)->商家入驻*目前BApp+微信的入驻率不容小觑。*模块职责*`发货管理`:处理日常发货、退换货等服务。*订单查询*发货中心*急速发货*物流工具*物流概况*包裹中心*电子面单*打单工具*订单开票*正品心智*与商家评分打通*`售后管理`*售后工作台*工单管理*商家举证*小额打款*退货包运费*急速退款*`商品管理`*发布新商品*店铺装修*商品列表*商品体验*商品素材*评价管理*商品工具*供货管理*批发供货*分销*快团团供货*`采购管理`*批发采购*采购订单*`店铺营销`*营销活动*竞价活动*取倒数第二位价格:平台与商家的博弈,商家提前知道竞价规则。这时商家会产生错觉,"我的价格是最低的,我能盈利比我竞价的价格多一些的利润",所以在竞价的时候会更接近成本的竞价。case:多多果园。*平台招标*营销工具*转化提升*优惠券*限时限量*秒杀*收藏、满返(部分代替购物车)*粉丝运营*关注(直播等)*3~5块一个粉丝*群聊(红包群)*店铺设砍价*短信营销*店铺装修*店铺页设计*多多直播*`数据中心`*`账户资金`*`多多客服`*`多多进宝`*`推广中心`*`店铺管理`*`商家服务市场`*`多多国际`*消费者不匹配—>海淘价廉物品*不敢买—>溯源系统、代报关*不了解品牌—>种草*`装修`*店铺装修*商详装修*品牌装修*小程序装修###运营引流*运营*视觉运营*店铺视觉*品牌型*价格型*店铺指标*店铺转换率*热销产品排行*首页关注指标*访问量、访客量*跳失率、出店率*首页到商品详情页、分类页点击率*口碑运营*客服运营*引流推广*拼多多`流量来源`*社交裂变*拼单卡、砍价免费拿、多多果园等引流渠道*广告*CPT(CostPerTime,按时长付费)、CPM(CostPerMile,每千人成本)、CPC(CostPerClick,按单次点击扣费)、明星店铺推广、数据银行推广、品类关键词库、短信营销等引流渠道*App展示*首页开屏、首页Banner、类目类Banner、个人中心Banner、新人专区、App推送消息等引流渠道*搜索*活动*限时秒杀、品牌清仓、名片折扣、爱逛街、食品超市、时尚穿搭、新品推荐、微信公众号推文、微信公众消息和领券中心等引流渠道*其它渠道*多多进宝、微信群等*站内免费引流*运用标签精准引流*千人前面推荐算法=>`人群标签匹配商品标签`*人群标签*用户行为*个人属性*用户喜好*商品标签*类目标签*价格标签*属性标签*站外免费引流*付费引流*![](http://with.muyunyun.cn/77b7424d86a601b6c2cdbe02884be330.jpg)*搜索推广*场景展示推广*排名公式:综合排名=商品质量分*广告单击出价*其他推广工具*活动引流*活动报名*营销活动*品牌特卖、电器城、爱逛街、9块9特卖、限时秒杀*店铺活动*限量促销、拼单返现、限时免单*竞价活动*竞价活动*品质招标*社交活动*助力享免单*多多果园*推手引流*多多进宝*综合流量GMV=多多进宝+自然搜索+场景推广'},{name:"产品思考.md",path:"/Product/e-business/产品思考.md",type:"file",mdconf:{abbrlink:"yn25617p"},birthtime:"2021-12-08",mtime:"2021-12-08",size:785,extension:".md",relative:"/Product/e-business/产品思考.md",isEmpty:!1,content:"\x3c!--abbrlink:yn25617p--\x3e###方法论|shortname|fullname|mean||:--------:|:------------------------:|:------------:||OKR|ObjectivesandKeyResults|目标和关键结果||KPI|KeyPerformanceIndication|关键业绩指标|*OKR:方法论*KPI:###产品方法论*职能范围*终端:BAPP、Windows客户端、MMS工作台、Mac客户端、商家版小程序、多多公众号、商家服务号*目标*DAU*动销商家数*动销率:店铺有销售的商品的数量/全店铺的商品数量比。*主线*以小程序为基石的私域流量*提升DAU*商家成长*通过商家成长,中小商家成长为大商家*供应链*武汉、南昌"},{name:"电商.md",path:"/Product/e-business/电商.md",type:"file",mdconf:{abbrlink:"kb3tez6q"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3398,extension:".md",relative:"/Product/e-business/电商.md",isEmpty:!1,content:"\x3c!--abbrlink:kb3tez6q--\x3e###shortname|shortname|fullname|mean|note||:--------:|:----------------------:|:--------------:|:------------------------------------------------------------------------------------------:||SKU|StockKeepingUnit|库存单位|SKU是用来定价和管理库存的,7Plus有很多颜色,很多配置,每个颜色和配置的组合都会形成新的产品||SPU|StandardProductUnit|标准化产品单元|属性值、特性相同的商品就可以成为一个SPU||GMV|GrossMerchandiseVolume|商品交易总额|||DAU|DailyActiveUser|日活跃用户|||MAU|MonthActiveUser|月活跃用户|||ROI|ReturnOnInvestment|投资回报率|||DSR|DetailsSellerRating|卖家服务评级系统||*GMV*概念:作为电商平台,GMV(成交总额)是衡量平台竞争力(市场占有率)的核心指标。*公式:GMV为`已付款订单`和`未付款订单`两者之和。*GMV=有消费的顾客总数*平均客单价*有消费的顾客总数=点击UV*访购率*GMV=点击UV*访购率*平均客单价*指标:`流量指标`(用户数等)、`转化指标`(首单率、复购率等)。*如何提升DAU*用户群细分*描绘对应用户群的行为图谱*在合适行为路径中进行引导*客单价*客单价（percustomertransaction）是指商场（超市）每一个顾客平均购买商品的金额,也即是平均交易金额客单价的计算。*公式：`客单价=销售额/成交顾客数`-[x][电商平台如何提升GMV：产品篇](http://www.woshipm.com/pd/766707.html)-[x][从GMV出发，看目标拆分与公式拆解](http://www.woshipm.com/operate/4000572.html)-[x][拆解拼多多裂变活动：7天新增1700万DAU](http://www.woshipm.com/operate/2951693.html)-[x][提升DAU的不同思路和策略](http://www.woshipm.com/operate/2739697.html)-[][LTV及DAU的计算、预估方法](http://www.woshipm.com/operate/4091166.html)*开店管理###title|shortname|fullname|mean||:--------:|:-------------------:|:------:||BD|BusinessDevelopment|商务扩展||BI|BusinessIntelligence|数据分析||PR|publicrelationship|公关关系|###商家端MMS:MerchantManagementSystem*ToB*提升B端商家在平台中经营(BDAU),让卖家赚钱(BGMV)*ToC*提升C端(CDAU)、(CGMV)*ToP*平台调性/平台粘性/平台竞争力(进攻、防守)思考题:提升商品种类的KPI背后价值是什么?"}],type:"directory",size:8315}],type:"directory",size:8315},{name:"RaspberryPi",path:"/RaspberryPi",children:[{name:"1.树莓派简介&烧录系统.md",path:"/RaspberryPi/1.树莓派简介&烧录系统.md",type:"file",mdconf:{abbrlink:"rahvuwkb",title:"树莓派简介&烧录系统"},birthtime:null,size:1973,extension:".md",relative:"/RaspberryPi/1.树莓派简介&烧录系统.md",isEmpty:!1,content:"\x3c!--abbrlink:rahvuwkbtitle:树莓派简介&烧录系统--\x3e![](http://with.muyunyun.cn/0bb19aa47dec25151a4c7a56524e5d82.jpg-400)###树莓派可以做什么对于开源极客爱好者，可以把树莓派改造成，家庭影院、服务器、无线路由器、BT下载服务器、FTP服务器、智能小车、AI人工智能、智能家居、3D打印等等。###树莓派操作系统树莓派主板是没有自带系统的，就相当于一个PC电脑主板，系统需要自己安装在内存卡里，插上卡才能启动系统。树莓派官方有自己系统提供:Raspbian基于Debian生态环境优化的，更适合在树莓派上。更多的系统支持的有:*KaliLinux*Ubuntumate*Volumio*Retropie*Lakka*recalbox*Win10LOT*...###前置准备1.SD卡格式化，[SDCardFormatter](https://www.sdcard.org/downloads/formatter/)。2.下载[镜像]((https://ubuntu.com/download/raspberry-pi/thank-you?version=20.04.3&architecture=server-arm64+raspi))。3.使用[balenaEtcher](https://www.balena.io/etcher/)将镜像烧录到SD卡。###如何查找IP地址笔者最后实验成功且较为方便的方式如下:*步骤一:通过网线链接树莓派与路由器。*步骤二:登录路由器后台，查看安装了ubuntu的树莓派被分配的ip。![](http://with.muyunyun.cn/f32ea27b99f27a350916fb14c3d1bace.jpg)###使用SSH登录树莓派在查找到路由器分配给树莓派的IP地址后，我们可以在Mac上使用SSH命令登入树莓派服务器:```sshubuntu@192.168.1.3```*SSH与VNC的区别是?*SSH(SecureShell):安全外壳协议，是一种加密的网络传输协议。*VNC:虚拟网络计算。是一种图形桌面「共享」应用程序，它使用远程帧缓冲协议来远程控制另一台计算机。###树莓派ubuntu系统首次登入树莓派ubuntu系统需要修改密码，其初始账号与密码都为ubuntu。"},{name:"2.内网穿透.md",path:"/RaspberryPi/2.内网穿透.md",type:"file",mdconf:{abbrlink:"fes9wogn",title:"内网穿透"},birthtime:"2021-12-08",mtime:"2021-12-08",size:7464,extension:".md",relative:"/RaspberryPi/2.内网穿透.md",isEmpty:!1,content:'\x3c!--abbrlink:fes9wogntitle:内网穿透--\x3e-[内网穿透原理架构](#内网穿透原理架构)-[服务端(云主机)nginx添加Http服务](#服务端云主机-nginx-添加-http-服务)-[frp](#frp)-[服务端(云主机)配置](#服务端云主机配置)-[进一步地使用pm2运行frps](#进一步地使用-pm2-运行-frps)-[客户端(树莓派)配置](#客户端树莓派配置)-[添加SSH服务](#添加-ssh-服务)###内网穿透原理架构本文中，我们使用了[frp](https://github.com/fatedier/frp)，frp是一个专注于内网穿透的高性能的反向代理应用。todo:补充流程图。###服务端(云主机)nginx添加Http服务首先将域名控制台(本文中使用frp.muyunyun.cn域名作为演示)解析到服务器ip。为了方面后续的调试运行，需放开以下几个服务器端口。*80端口:（Nginx接收http请求用）*6000端口:（转发映射SSH服务用）*8080端口:（转发映射http服务用）*7000端口:（服务器端frps运行端口）以配置域名frp.muyunyun.cn为例，，转发对`frp.muyunyun.cn`域名请求到`8080端口`。>参考[nginx常用命令](https://muyunyun.cn/blog/yq9jpwrw)安装Nginx。新建配置文件:```bashtouch/etc/nginx/conf.d/frp.muyunyun.cn.conf```在配置文件中添加http服务相关内容:```bashserver{server_namefrp.muyunyun.cn;listen80;listen[::]:80;root/usr/share/nginx/html/frp.muyunyun.cn;location/{#这里先预留8080端口，在后文章节[基于树莓派搭建家庭服务器](https://muyunyun.cn/blog/r4zxdn6n)中会在8080端口上启动Web服务。proxy_passhttp://127.0.0.1:8080;proxy_set_headerHost$host:80;proxy_set_headerX-Real-IP$remote_addr;proxy_set_headerX-Forwarded-For$proxy_add_x_forwarded_for;}error_page404/404.html;location=/40x.html{}error_page500502503504/50x.html;location=/50x.html{}}#以下配置用于Https,若读者后续有配置Https的需求时可再折回参考如下配置，参考[HTTPS协议配置](https://muyunyun.cn/blog/mx5pvgl1)。server{listen443sslhttp2;listen[::]:443sslhttp2;server_namefrp.muyunyun.cn;root/usr/share/nginx/html/frp.muyunyun.cn;location/{proxy_passhttp://127.0.0.1:8080;proxy_set_headerHost$host:443;proxy_set_headerX-Real-IP$remote_addr;proxy_set_headerX-Forwarded-For$proxy_add_x_forwarded_for;}ssl_certificate"/etc/nginx/ssl/frp.muyunyun.cn/fullchain.cer";ssl_certificate_key"/etc/nginx/ssl/frp.muyunyun.cn/frp.muyunyun.cn.key";ssl_session_cacheshared:SSL:1m;ssl_session_timeout10m;ssl_ciphersHIGH:!aNULL:!MD5;ssl_prefer_server_cipherson;#Loadconfigurationfilesforthedefaultserverblock.include/etc/nginx/default.d/*.conf;error_page404/404.html;location=/40x.html{}error_page500502503504/50x.html;location=/50x.html{}}```>端口使用80页面会提示`网站暂时无法访问，该网站未根据工信部相关法律规则进行备案`(与二级域名无关，比如使用www.muyunyun.cn或者frp.muyunyun.cn都行)，[了解更多备案相关内容](https://icp-faq.dnspod.cn/why)。如果未备案，可以将它修改80端口为其它端口，比如90端口。如果后续要使用acme.sh申请https服务，还是需要用80端口。![](http://with.muyunyun.cn/04afbf893d08548ebd06a85488389298.jpg-400)新建`frp.muyunyun.cn`对应的网站文件夹与文件```bashmkdir-p/usr/share/nginx/html/frp.muyunyun.cntouch/usr/share/nginx/html/frp.muyunyun.cn/index.html```在`/usr/share/nginx/html/fpr.muyunyun.cn/index.html`中输入```html<!DOCTYPEhtml><htmllang="en"><head><metacharset="UTF-8"><metahttp-equiv="X-UA-Compatible"content="IE=edge"><metaname="viewport"content="width=device-width,initial-scale=1.0"><title>云随风</title></head><body>Test</body></html>```控制台输入`sudosystemctlrestartnginx`。此时在浏览器访问http://frp.muyunyun.cn可以看到目标内容:![](http://with.muyunyun.cn/4373b2aaca032ed2a78fac53279532d2.jpg)###frp####服务端(云主机)配置在云主机端执行如下命令:```bashcd/opt/sudowgethttps://github.com/fatedier/frp/releases/download/v0.37.0/frp_0.37.0_linux_386.tar.gzsudotarzxvffrp_0.37.0_linux_386.tar.gz```进入`/opt/frp_0.37.0_linux_arm64`![](http://with.muyunyun.cn/32f4ce6995482f6e086b85d2bdd06a01.jpg)备份服务端frps的配置文件frps.ini```bashsudocpfrps.inifrps.ini_backup```修改服务端配置文件frps.ini，增加一行`vhost_http_port=8080`:```diff[common]bind_port=7000+vhost_http_port=8080```以上配置含义为:服务端frps程序运行在7000端口，并将指向8080端口的请求转发到客户端。运行如下命令，开启frp的服务端程序```bash./frps-cfrps.ini```![](http://with.muyunyun.cn/eb0a4e394f5b656b3e67c13c6ab1eb82.jpg)####进一步地使用pm2运行frps安装node环境>[安装Node.js多版本](https://cloud.tencent.com/document/product/213/38237#.E6.AD.A5.E9.AA.A43.EF.BC.9A.E5.AE.89.E8.A3.85-node.js-.E5.A4.9A.E7.89.88.E6.9C.AC.EF.BC.88.E5.8F.AF.E9.80.89.EF.BC.89)全局安装pm2```bashnpmipm2-g```使用pm2守护运行frps服务```bashsudoecho"/opt/frp_0.37.0_linux_386/frps-c/opt/frp_0.37.0_linux_386/frps.ini">/opt/frp_0.37.0_linux_386/start_frpc.shpm2start/opt/frp_0.37.0_linux_386/start_frps.shpm2save```![](http://with.muyunyun.cn/e52ef19b14366896e5de3c6bf7bce609.jpg)####客户端(树莓派)配置在树莓派内执行以下命令，下载frp，并解压。```bashcd/opt/sudowgethttps://github.com/fatedier/frp/releases/download/v0.37.0/frp_0.37.0_linux_arm64.tar.gzsudotarzxvffrp_0.37.0_linux_arm64.tar.gz```进入`/opt/frp_0.37.0_linux_arm64`备份客户端frpc的配置文件frpc.ini```bashsudocpfrpc.inifrpc.ini_backup```frpc.ini文件备份如下:```bash[common]server_addr=127.0.0.1server_port=7000[ssh]type=tcplocal_ip=127.0.0.1local_port=22remiote_port=6000```编辑frpc.ini:```bashsudovimfrpc.ini``````bash[common]server_addr=81.69.252.246server_port=7000[web]type=httplocal_port=8080custom_domains=frp.muyunyun.cn```启动客户端```bash./frpc-cfrpc.ini```接着从公网访问frp.muyunyun.cn，验证内网穿透是否成功。![](http://with.muyunyun.cn/c61981adbdaba27efbc45b26c1921891.jpg-400)可以看到来自公网的请求在树莓派的frp客户端已经有了反应，接着我们在树莓派搭建一个简单服务。>进一步地，可以参考[基于树莓派搭建家庭服务器](https://muyunyun.cn/blog/r4zxdn6n)。###添加SSH服务```bash[ssh]type=tcplocal_ip=127.0.0.1local_port=22remote_port=6000```如上配置是指将树莓派的默认ssh的22号端口映射到frp.muyunyun.cn的6000端口。重启frpc服务:```bashcd/opt/frp_0.37.0_linux_arm64pm2restartstart_frpc.sh```通过公网frp.muyunyun.cn的6000端口进行ssh登录。```bashsshubuntu@frp.muyunyun.cn-p6000```![](http://with.muyunyun.cn/43431e73e8a218fb9e0a494f61f8f0df.jpg)至此实现了在公网使用SSH操作访问树莓派的需求。'},{name:"3.基于树莓派搭建家庭服务器.md",path:"/RaspberryPi/3.基于树莓派搭建家庭服务器.md",type:"file",mdconf:{abbrlink:"r4zxdn6n",title:"基于树莓派搭建家庭服务器"},birthtime:"2021-12-08",mtime:"2021-12-08",size:2052,extension:".md",relative:"/RaspberryPi/3.基于树莓派搭建家庭服务器.md",isEmpty:!1,content:'\x3c!--abbrlink:r4zxdn6ntitle:基于树莓派搭建家庭服务器--\x3e###安装Node.js使用ARMv8版本的稳定版Node.js。```bashcd/opt/sudowgethttps://nodejs.org/dist/v14.18.0/node-v14.18.0-linux-arm64.tar.xzsudotarxvfnode-v14.18.0-linux-arm64.tar.xz```将Node.js添加到系统变量```bashsudoecho"exportNODE_HOME=/opt/node-v14.18.0-linux-arm64">>~/.bashrcsudoecho"exportPATH=\\$NODE_HOME/bin:\\$PATH">>~/.bashrcsource~/.bashrc```此时在树莓派中输入node-v，可以看到对应版本如下:```bashubuntu@ubuntu:~$node-vv14.18.0ubuntu@ubuntu:~$npm-v6.14.15```接着安装http-server服务```bashnpminstallhttp-server-g```在/opt文件夹新建frp.muyunyun.cn文件夹,并创建hello.txt文件。```bashsudomkdir/opt/frp.muyunyun.cnsudochmod777-R/opt/frp.muyunyun.cnsudotouch/opt/frp.muyunyun.cn/hello.txtsudochmod777-R/opt/frp.muyunyun.cn/hello.txtsudoecho"HelloWorld!">/opt/frp.muyunyun.cn/hello.txt```安装pm2```bashnpminstallpm2-g```使用pm2守护运行http-server服务```bashcd/opt/frp_0.37.0_linux_arm64sudotouchstart_http_server.shsudochmod777start_http_server.shsudoecho"http-server/opt/frp.muyunyun.cn-p8080">start_http_server.shpm2start/opt/frp_0.37.0_linux_arm64/start_http_server.shpm2save```使用pm2守护运行frpc服务```bashsudotouch/opt/frp_0.37.0_linux_arm64/start_frpc.shsudochmod777/opt/frp_0.37.0_linux_arm64/start_frpc.shsudoecho"/opt/frp_0.37.0_linux_arm64/frpc-c/opt/frp_0.37.0_linux_arm64/frpc.ini">/opt/frp_0.37.0_linux_arm64/start_frpc.shcd/opt/frp_0.37.0_linux_arm64/pm2start/opt/frp_0.37.0_linux_arm64/start_frpc.shpm2save```可以使用`pm2list`查看当前树莓派中的服务列表。![](http://with.muyunyun.cn/442c4a0b41ad3bc6fcbb09f6d162bd06.jpg)在公网访问http://frp.muyunyun.cn。💐💐💐至此有了外网可以访问的家庭服务器。![](http://with.muyunyun.cn/fac7d7c9a8098d72f98cd6f4485347cd.jpg)'},{name:"4.给树莓派安装Docker.md",path:"/RaspberryPi/4.给树莓派安装Docker.md",type:"file",mdconf:{abbrlink:"2a97pq3a",title:"给树莓派安装 Docker"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1255,extension:".md",relative:"/RaspberryPi/4.给树莓派安装Docker.md",isEmpty:!1,content:'\x3c!--abbrlink:2a97pq3atitle:给树莓派安装Docker--\x3e###安装Docker```bashsudoaptupdatesudoaptinstall\\apt-transport-https\\ca-certificates\\curl\\gnupg\\lsb-release-ycurl-fsSLhttps://download.docker.com/linux/ubuntu/gpg|sudogpg--dearmor-o/usr/share/keyrings/docker-archive-keyring.gpgecho\\"deb[arch=$(dpkg--print-architecture)signed-by=/usr/share/keyrings/docker-archive-keyring.gpg]https://download.docker.com/linux/ubuntu\\$(lsb_release-cs)stable"|sudotee/etc/apt/sources.list.d/docker.list>/dev/nullsudoaptupdatesudoaptinstalldocker-ce=5:20.10.8~3-0~ubuntu-focaldocker-ce-cli=5:20.10.9~3-0~ubuntu-focalcontainerd.io=1.4.11-1-y```###安装DockerCompose```bash#在本机的host文件中添加github相关ip地址，遇到`curl:(7)Failedtoconnecttoraw.githubusercontent.comport443`问题，参考https://github.com/hawtim/blog/issues/10sudovim/etc/hosts#使dns改动生效sudosystemctlrestartsystemd-resolved``````bashsudocurl-L--failhttps://raw.githubusercontent.com/linuxserver/docker-docker-compose/master/run.sh-o/usr/local/bin/docker-composesudochmod+x/usr/local/bin/docker-composesudodocker-compose--version```'},{name:"5.基于树莓派部署RSSHub.md",path:"/RaspberryPi/5.基于树莓派部署RSSHub.md",type:"file",mdconf:{abbrlink:"wns8hpzc",title:"基于树莓派部署 RSSHub"},birthtime:"2021-12-08",mtime:"2021-12-08",size:1991,extension:".md",relative:"/RaspberryPi/5.基于树莓派部署RSSHub.md",isEmpty:!1,content:"\x3c!--abbrlink:wns8hpzctitle:基于树莓派部署RSSHub--\x3e在给[树莓派创建好Docker环境](https://muyunyun.cn/blog/2a97pq3a)后，本文记录给树莓派部署RSSHub的过程。RSShub本质是一个为各类网页生成RSS信息的爬虫集合，我们通过阅读RSSHub的文档，可以获得各类知名网站的RSS信息。###获取docker-compose.yml```bashcd/opt/sudomkdirrsshubsudochmod777-Rrsshubcd/opt/rsshubwgethttps://raw.githubusercontent.com/DIYgod/RSSHub/master/docker-compose.yml```docker-compose.yml内的内容为:```bashversion:'3'services:rsshub:image:diygod/rsshubrestart:alwaysports:-'1200:1200'environment:NODE_ENV:productionCACHE_TYPE:redisREDIS_URL:'redis://redis:6379/'PUPPETEER_WS_ENDPOINT:'ws://browserless:3000'depends_on:-redis-browserlessbrowserless:#Seeissue6680image:browserless/chrome:1.43-chrome-stablerestart:alwaysulimits:core:hard:0soft:0redis:image:redis:alpinerestart:alwaysvolumes:-redis-data:/datavolumes:redis-data:```从配置信息中我们可以看出，服务端口为1200。###创建volume持久化Redis缓存```bashsudodockervolumecreateredis-data```###启动RSShub```bashcd/opt/rsshubsudodocker-composeup-d```![](http://with.muyunyun.cn/ca92893197e45c4753eab1f72bfc9abb.jpg)访问本地树莓派ip的1200端口，可以看到RSS已经启动在1200端口上了。进入`/opt/frp_0.37.0_linux_arm64`，在frpc.ini中添加以下配置:```bashcd/opt/frp_0.37.0_linux_arm64sudovimfrpc.ini``````bash[rsshub-frp-muyunyun-cn-1200]type=tcplocal_ip=127.0.0.1local_port=1200remote_port=1200```重启frpc，此时可以在公网中访问到新部署的RSSHub服务。```bashcd/opt/frp_0.37.0_linux_arm64pm2restartstart_frpc.sh```![](http://with.muyunyun.cn/99cc2f01fb172287d2a758e88c3fd9f2.jpg)"},{name:"6.HTTPS协议配置.md",path:"/RaspberryPi/6.HTTPS协议配置.md",type:"file",mdconf:{abbrlink:"mx5pvgl1",title:"HTTPS 协议配置"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3831,extension:".md",relative:"/RaspberryPi/6.HTTPS协议配置.md",isEmpty:!1,content:'\x3c!--abbrlink:mx5pvgl1title:HTTPS协议配置--\x3e###Https协议配置免费的Https证书，最多只有一年的期限，而且每个二级子域名要单独申请，很浪费时间。使用本文提供的方法，可以只配置一次，实现证书永久自动续期。###acme.sh安装实践笔者一开始将acme.sh安装在树莓派中，绕了弯。**应将acme.sh安装在云服务器端**。*步骤一:安装acme.sh。>https://github.com/acmesh-official/acme.sh/wiki/sudo```bash#unstallforcurrentuseracme.sh--uninstall#changetoroot(需要执行)sudosu#installagainforrootusercurlhttps://get.acme.sh|sh-semail=328375795@qq.comsource~/.bashrc```*步骤二:获取https证书。>说明:本文以www.muyunyun.cn作为案例演示，[基于树莓派搭建家庭服务器](https://muyunyun.cn/blog/r4zxdn6n)中的frp.muyunyun.cn如果要配置为HTTPS，操作同理。```bashacme.sh--set-default-ca--serverletsencryptacme.sh--issue-dwww.muyunyun.cn--nginx```![](http://with.muyunyun.cn/3e990527ed80cb020704ab30aa502856.jpg-400)在这一步中acme.sh读取了nginx配置(路径:`/etc/nginx/conf.d/www.muyunyun.cn.conf`)，并自动生成了证书。>调试方法:acme.sh--issue-dwww.muyunyun.cn--nginx--debug2*步骤三:将证书拷贝到`/etc/nginx/ssl`文件夹。创建文件夹```bashmkdir-p/etc/nginx/ssl/www.muyunyun.cn```拷贝证书:```bashacme.sh--install-cert-dwww.muyunyun.cn\\--key-file/etc/nginx/ssl/www.muyunyun.cn/www.muyunyun.cn.key\\--fullchain-file/etc/nginx/ssl/www.muyunyun.cn/fullchain.cer\\--reloadcmd"servicenginxforce-reload"```请一定使用以上语法acme.sh--install-cer进行拷贝，这样证书才能保证在新的位置也能自动更新。![](http://with.muyunyun.cn/922adc77ccacd8bb3c52dd9ceb8e080e.jpg)*步骤四:将`/etc/nginx/ssl/www.muyunyun.cn/`中的证书手动配置到nginx,并重启nginx使之生效。将`/etc/nginx/conf.d/www.muyunyun.cn.conf`中的内容替换为:```bashserver{listen80;listen[::]:80;server_namewww.muyunyun.cn;root/usr/share/nginx/html/www.muyunyun.cn;error_page404/404.html;location=/404.html{}error_page500502503504/50x.html;location=/50x.html{}}server{listen443sslhttp2;listen[::]:443sslhttp2;server_namewww.muyunyun.cn;root/usr/share/nginx/html/www.muyunyun.cn;ssl_certificate"/etc/nginx/ssl/www.muyunyun.cn/fullchain.cer";ssl_certificate_key"/etc/nginx/ssl/www.muyunyun.cn/www.muyunyun.cn.key";ssl_session_cacheshared:SSL:1m;ssl_session_timeout10m;ssl_ciphersHIGH:!aNULL:!MD5;ssl_prefer_server_cipherson;#Loadconfigurationfilesforthedefaultserverblock.include/etc/nginx/default.d/*.conf;error_page404/404.html;location=/40x.html{}error_page500502503504/50x.html;location=/50x.html{}}```重启nginx:```bashsystemctlrestartnginx```打开https://www.muyunyun.cn，证书已生效。![](http://with.muyunyun.cn/a397cb63269be96f1102a117bbe3fb49.jpg-400)由于我们全程使用acme.sh进行安装，acme.sh会自动为你创建一个定时任务,每天0:00点自动检测所有的证书,如果快过期了,需要更新,则会自动更新证书。运行`psaux|grepacme`可以看到acme一直在后台运行。```bashroot@VM-16-17-ubuntu:/etc/nginx/ssl/www.muyunyun.cn#psaux|grepacmeroot15611930.00.07348748pts/0S+03:570:00grep--color=autoacme```###相关链接*[acme.sh使用说明](https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E)'},{name:"7.基于树莓派部署code-server.md",path:"/RaspberryPi/7.基于树莓派部署code-server.md",type:"file",mdconf:{abbrlink:"n45adwng",title:"基于树莓派部署 code-server"},birthtime:"2021-12-08",mtime:"2021-12-08",size:7254,extension:".md",relative:"/RaspberryPi/7.基于树莓派部署code-server.md",isEmpty:!1,content:'\x3c!--abbrlink:n45adwngtitle:基于树莓派部署code-server--\x3e[code-server](https://github.com/cdr/code-server)是vscode的服务端程序，通过部署code-server在服务器，可以实现web端访问vscode。进而可以达到以下能力:*【直接】支持跨设备(Mac/iPad/iPhone等等)编程，同时保证多端编程环境统一。*【直接】支持在web端提交git代码。*【间接】解放背包重量😁。至于将code-server部署在树莓派上相比云端服务器好处是综合成本低，后续若要更换云服务器，只需更改内网映射端口即可，迁移会十分便捷。###树莓派上部署code-server参考[code-server官网](https://coder.com/docs/code-server/latest/install#raspberry-pi)，在树莓派上其推荐使用[yarn的方式](https://coder.com/docs/code-server/latest/install#yarn-npm)来进行安装code-server。此外[前置安装](https://github.com/cdr/code-server/blob/main/docs/npm.md)提到`node.js版本需要与所下载的VSCode\'sElectron所依赖的版本一致`。笔者下载的code-server版本为code-server_3.12.0_arm64.deb，其需要node.js14.x版本。执行如下命令进行前置安装:```bashsudoapt-getinstall-y\\build-essential\\pkg-config\\python3npmconfigsetpythonpython3```按照[yarn官网](https://yarn.bootcss.com/docs/install/#debian-stable)所述，在Debian/Ubuntu系统中安装yarn:```bashcurl-sShttps://dl.yarnpkg.com/debian/pubkey.gpg|sudoapt-keyadd-echo"debhttps://dl.yarnpkg.com/debian/stablemain"|sudotee/etc/apt/sources.list.d/yarn.listsudoaptupdate&&sudoaptinstallyarnyarn--version//1.22.15```执行`sudovim.bashrc`，将yarn全局安装命令的执行路径写入.bashrc文件。```bashexportPATH="$PATH:`yarnglobalbin`"source~/.bashrc#使之生效```参照[code-server官网安装教程](https://coder.com/docs/code-server/latest/npm#installing)，执行以下命令安装code-server:```bashyarnglobaladdcode-servercode-server--version#3.12.0```>笔者使用npminstall-gcode-server无法成功安装，最终使用yarnglobaladdcode-server安装成功。编辑`.config/code-server/config.yaml````bashsudovim.config/code-server/config.yaml``````bashbind-addr:127.0.0.1:5555auth:passwordpassword:xxxxxxxxxcert:false``````bash#启动code-servercode-server```在`frpc.ini`中添加以下配置:>frpc.ini与pm2的完整配置说明可以参考[内网穿透](https://muyunyun.cn/blog/fes9wogn)章节。```bash[vscode-server-frp-muyunyun-cn-5555]type=tcplocal_ip=127.0.0.1#code-server服务运行在树莓派本地的5555端口上local_port=5555#对外运行在服务器端云主机5555端口上remote_port=5555```使用pm2重启frpc服务:```bashcd/opt/frp_0.37.0_linux_arm64pm2restartstart_frpc.sh```此时在frps服务器端(云主机)中通过`lsof-i:5555`可以看到服务端端口5555已经被frps服务占据。![](http://with.muyunyun.cn/c4987da142cbc4b261b6b333df5d490b.jpg)同时在公网中可以看到code-server服务已成功运行![](http://with.muyunyun.cn/9f5f9fa5cd5c1510695ca492e939c255.jpg)使用pm2守护运行code-server以让相关服务遇到意外(比如断电后)能自动重启:```bashcd/opt/frp_0.37.0_linux_arm64sudotouchstart_code_server.shsudochmod777start_code_server.shsudoecho"code-server">start_code_server.shpm2start/opt/frp_0.37.0_linux_arm64/start_code_server.shpm2save```笔者在域名解析处新增code主机记录以语义化访问code-server服务，此时访问http://code.muyunyun.cn:5555与访问http://frp.muyunyun.cn:5555效果是相同的。![](http://with.muyunyun.cn/b0afbe6f729762ce8e50a00624c3e11a.jpg-400)###支持HTTPS协议访问访问HTTP下的code-server服务，发现不能完整使用插件、剪切板等功能模块。![](http://with.muyunyun.cn/580bab3470fb6535fae23530db223a94.jpg-400)根据控制台报错信息，推测这些模块依赖了servicework，查阅[Settinguptoplaywithserviceworkers](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers#setting_up_to_play_with_service_workers)得知,servicework确实必须在Https协议中使用。因此若要完整地使用code-server服务，需要配置HTTPS协议，配置过程记录在[HTTPS域名配置](https://muyunyun.cn/blog/mx5pvgl1)章节中，其介绍了给域名获取免费的Https证书并让Https生效的过程。###支持在HTTPS协议中访问WebSocket在配置完HTTPS服务后，访问HTTPS链接发现还是无法在web端正常使用vscode，排查发现code-server使用WebSocket以保持长连接，因此需要在nginx配置文件中增加对[WebSocket配置](http://nginx.org/en/docs/http/websocket.html)。执行`vim/etc/nginx/conf.d/www.muyunyun.cn.conf`进行编辑，完整的nginx配置如下:```bashmap$http_upgrade$connection_upgrade{defaultupgrade;\'\'close;}upstreamcode_muyunyun_cn{server127.0.0.1:5555;}server{server_namecode.muyunyun.cn;listen80;listen[::]:80;rewrite^(.*)$https://$host$1permanent;error_page404/404.html;location=/40x.html{}error_page500502503504/50x.html;location=/50x.html{}}server{listen443sslhttp2;listen[::]:443sslhttp2;server_namecode.muyunyun.cn;root/usr/share/nginx/html/code.muyunyun.cn;location/{proxy_passhttp://code_muyunyun_cn;proxy_set_headerHost$host:443;proxy_set_headerX-Real-IP$remote_addr;proxy_set_headerX-Forwarded-For$proxy_add_x_forwarded_for;#supportwebsocketproxy_http_version1.1;proxy_set_headerUpgrade$http_upgrade;proxy_set_headerConnection$connection_upgrade;}ssl_certificate"/etc/nginx/ssl/code.muyunyun.cn/fullchain.cer";ssl_certificate_key"/etc/nginx/ssl/code.muyunyun.cn/code.muyunyun.cn.key";ssl_session_cacheshared:SSL:1m;ssl_session_timeout10m;ssl_ciphersHIGH:!aNULL:!MD5;ssl_prefer_server_cipherson;#Loadconfigurationfilesforthedefaultserverblock.include/etc/nginx/default.d/*.conf;error_page404/404.html;location=/40x.html{}error_page500502503504/50x.html;location=/50x.html{}}```重新加载nginx配置后，此时已经可以在web端使用上code-server的能力。![](http://with.muyunyun.cn/c8b78a74fccd162ef97ecd2b53da09f4.jpg-400)###在web端中提交git代码登入树莓派端，执行如下命令生成ssh密钥:```bash#以github为例ssh-keygen-trsa-C"youremail@example.com"-f~/.ssh/github```然后将~/.ssh/github.pub公钥中的内容复制到剪贴板，拷贝到[GitHubssh](https://github.com/settings/keys)的Key文本框中。经验证，至此已经可以在web中提交代码到github。![](http://with.muyunyun.cn/924eb6f01775b8a455b6bb5107bd202c.jpg-400)'},{name:"README.md",path:"/RaspberryPi/README.md",type:"file",mdconf:{abbrlink:"x6nkyb6q"},birthtime:"2021-12-08",mtime:"2021-12-08",size:62,extension:".md",relative:"/RaspberryPi/README.md",isEmpty:!1,content:"\x3c!--abbrlink:x6nkyb6q--\x3e###已部署站点地址收录"},{name:"linux",path:"/RaspberryPi/linux",children:[{name:"常用命令.md",path:"/RaspberryPi/linux/常用命令.md",type:"file",mdconf:{abbrlink:"mbrsm6kj"},birthtime:"2021-12-08",mtime:"2021-12-08",size:15869,extension:".md",relative:"/RaspberryPi/linux/常用命令.md",isEmpty:!1,content:'\x3c!--abbrlink:mbrsm6kj--\x3e-[文件操作](#文件操作)-[head](#head)-[tail](#tail)-[ls](#ls)-[pwd](#pwd)-[wc](#wc)-[find](#find)-[mkdir](#mkdir)-[more](#more)-[paste](#paste)-[stat](#stat)-[grep](#grep)-[touch](#touch)-[sed](#sed)-[sed用法实例](#sed-用法实例)-[cd](#cd)-[rm](#rm)-[cp](#cp)-[cat](#cat)-[mv](#mv)-[open](#open)-[source](#source)-[tree](#tree)-[ln](#ln)-[file](#file)-[tar](#tar)-[系统管理](#系统管理)-[ping](#ping)-[which](#which)-[shutdown](#shutdown)-[uptime](#uptime)-[uname](#uname)-[ifconfig](#ifconfig)-[chmod](#chmod)-[lsof](#lsof)-[alias](#alias)-[系统进程](#系统进程)-[ps](#ps)-[用户管理](#用户管理)-[chsh](#chsh)-[users](#users)-[last](#last)-[su](#su)-[whoami](#whoami)-[网络](#网络)-[curl](#curl)-[包管理](#包管理)-[apt-get](#apt-get)-[其它](#其它)-[clear](#clear)-[link](#link)##文件操作###head显示文件的头部内容，如果不指定参数默认显示10行```bash#显示前10行内容headREADME.md#或者显示多个文件headREADME.mdpackage.json#-n指定显示行数head-n100README.md```###tail显示文件的末尾部分```bash#默认显示末尾10行tailREADME.md#-n指定显示末尾20行tail-n20README.md```###ls```bash#显示当前目录列表ls#显示目录列表的详细信息ls-l#显示指定目录ls./src#可读性地显示目录列表详细信息,hmeanshuman-readablels-lh#列出所有文件包括隐藏文件ls-a#-F可以显示类型，用以区分是文件还是目录ls-F#后缀为”/“代表是目录，”*“为可执行文件，没有则为文件#-i查看inode编号,每一个文件或目录都有一个唯一的编号，这个数字由内核分配给文件系统中的每一个对象ls-i#过滤文件列表,*代表0个或多个字符,?代表一个字符lsREAD*```###pwd显示当前路径```bash#pwdmeanspathnameofthecurrentworkingdirectorypwd```###wc统计文件的行数、字数、字节数,常见用于`统计代码行数````bash#统计行数wc-lREADME.md#统计字数wc-wREADME.md#统计字符数,中文占两个字符,英文占一个字符wc-mREADME.md```###find指定某个目录下查找文件```bash#在当前目录递归搜索文件名为README.md文件find.-nameREADME.md#通过通配符进行查找,必须用引号括着,这里查找所有后缀为.md文件find.-name"*.md"find.-iname"*.md"#忽略文件大小写#排除文件，只要加!,排除掉所有.md后缀的文件find.!-name"*.md"#根据类型进行过滤搜索#f普通文件d目录find.-typef#限定目录递归深度find.-maxdepth3#最大为3个目录find.-mindepth3#最小为3个目录#查找文件大小大于25k文件find.-size+25k#查找10天前文件-mtime修改时间、-ctime创建时间、-atime访问时间find.-mtime+10```###mkdir```bash#在当前目录下创建temp目录mkdirtemp#创建多层目录,pmeansparentmkdir-ptemp/temp2/temp3#基于权限创建,mmeansmodemkdir-m777temp```###more*空格-查看下一屏内容*B-查看上一屏内容*回车-查看下一行内容*Q-退出```bashmoreREADME.md#从第10行开始显示more+10README.md```###paste合并N个文件的`列`。>并不是纵向合并,而是横向合并。```bash#1.txt和2.txt合并输出paste1.txt2.txt#1.txt2.txt合并后保存为3.txtpaste1.txt2.txt>3.txt```###stat用于显示文件或目录的状态信息```js167772208702541224-rw-r--r--1macstaff015857"Nov113:02:022020""Nov113:02:022020""Nov113:02:022020""Oct2518:48:152020"4096320README.md```###grep强大的文本搜索工具,被称为Linux命令三剑客。```bash#从README.md文件中搜索linux关键字grep"linux"README.mdgrep"linux"README.mdREADME2.md#多个文件搜索#输出时高亮显示grep"linux"README.md--color#-o只输出匹配部分grep-o"linux"README.md--color#-n输出到匹配的行数grep-n"linux"README.md#-c输出到匹配次数grep-c"linux"README.md#-r递归目录文件搜索grep-r"linux"./src#使用glob风格表达式搜索egrep"[0-9]"#等价于grep-E"[0-9]"README.md```###touch创建一个空文件,如果文件存在只会修改文件的创建时间```bashtouchREADME.md```###sedsed是一种功能强大的流式文本编辑器，它是文本处理中非常重要的工具，能够完美的配合正则表达式使用，功能不同凡响。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（patternspace），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有改变，除非你使用重定向存储输出。sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。####sed用法实例替换操作:s命令替换文本中的字符串：```jssed\'s/book/books/\'file```###cd进入指定目录```bash#进入当前src目录cdsrc#回到上一次目录cd-#返回上一级目录cd..cd../../..#返回多级#进入/root目录cd~cd#或者不带任何参数#将上一个命令的参数作为cd参数使用cd!$#模糊匹配目录，有时目录名很长一个一个敲效率就很低#*代表0个或多个字符，?代表一个字符cdREAD*```###rm删除指定目录或文件>使用此命令需要非常小心,一但删除无法恢复```bash#删除当前1.txt文件rm1.txt#-i删除前询问是否真的要删除，因为一旦删除无法恢复rm-iREADME.md#这条命令比较常用,强制删除目录或文件#-r如果是目录递归删除,-f强制删除不发出任何警告rm-rf./src```###cp拷贝文件或目录```bash#将当前README.md文件拷贝到上一层cp./README.md../README.md#-a将原文件属性一同拷贝,修改时间、创建时间等cp-a./README.md../README.md#-r用于递归拷贝目录cp-rhome../home#-i如果目标文件存在会询问用户是否需要覆盖cp-iREADME.mdREADME.md```*[toread](https://github.com/xjh22222228/linux-manual#cat)###cat查看指定整个文件内容```bash#查看README.md文件所有内容catREADME.mdcatREADME.mdREADME2.md#或者一次性显示多个文件#-n每一行显示行号cat-nREADME.md#-b只给有内容的行显示行号cat-bREADME.md```###mvmv有2个用途：*将文件或目录移动到另一个位置*将文件或目录重命名```bash#将README.md重命名为README-2.md,如果README-2.md存在会直接覆盖。mvREADME.mdREADME-2.md#将README.md移动到上一层目录mvREADME.md../README.md#-i交互式操作，如果目标文件存在则进行询问是否覆盖mv-iREADME.md../README.md#-f如果出现同名直接覆盖$mv-f1.txt2.txt```###openopen命令可在linux/mac具有可视化界面下进行文本编辑、打开应用程序等功能。```bash#在mac下用Finder打开当前目录open.#用默认应用程序打开文件openREADME.md#用默认编辑器打开文件open-eREADME.md#如果是一个URL用默认浏览器打开页面openhttps://github.com/MuYunyun/blog.git#指定某个应用程序打开某个文件,如果不指定文件默认直接打开程序open-a/Applications/Google\\Chrome.appREADME.md```###source在当前Shell环境中从指定文件读取和执行命令，通常用于重新执行环境。它有个别名.点操作符号。```bash#等价.~/.bash_profilesource~/.bash_profile```可以把它理解为`编程语言中的import`,java/python/js都有这个，就是用来导入文件。下面演示source用于shell脚本中util.sh```bash#!/bin/bashgetName(){echo"Linux"}```main.sh```bash#!/bin/bash#加载文件source./util.sh#这样就可以调用util文件中的函数了echo$(getName)```###tree生成目录树结构,通常用于描述项目结构。```bash#递归当前目录下所有文件并生成目录树tree#-I忽略某些目录tree-I"node_modules"#只显示目录tree-d#指定要递归的目录层级tree-L3```###ln将某一个文件在另外一个位置建立并产生同步的链接。当不同的2个目录需要同时引用某一个文件时此命令就派上用场了。>这个命令的应用场景:比如yarnlink*软链接也可以叫符号链接：*软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式;*软链接可以跨文件系统,硬链接不可以;*软链接可以对一个不存在的文件名进行链接;*软链接可以对目录进行链接;*硬链接:*硬链接，以文件副本的形式存在。但不占用实际空间,从根本上而言就是同一个文件;*不允许给目录创建硬链接;*硬链接只有在同一个文件系统中才能创建;>理解:文件系统博主理解:比如在mac系统中装了个虚拟机,虚拟机里面跑了另外一个window系统,那此时mac和虚拟机里面的系统就是两个不同的文件系统。```bash#默认创建硬链接，修改README.md内容，a.md也会同步修改,修改a.md,README.md也会同步修改lnREADME.mda.md#-s创建软链接ln-sREADME.mda.md#如果删除了README.mda.md将失效#-f强制执行ln-fREADME.md./src/a.md```###file查看文件类型,比如文件、目录、二进制、符号链接等。```bashfileREADME.mdREADME.md:HTMLdocumenttext,UTF-8Unicodetext```###tar全称:`tapearchive`*tar[-j|-z][cv][-f建立的档案名]filename...打包与压缩*tar[-j|-z][tv][-f建立的档案名]查看档案*tar[-j|-z][xv][-f建立的档案名][-C目录]解压缩选项与参数：*-c:建立打包档案，可搭配-v来观察过程中被打包的档案名(filename)*-t:查看打包档案的内容含有那些档案*-x:解压缩的功能，可以搭配-C在特定的目录解开;-c、-t、-x不能同时出现在一串指令列中。*-j:透过bzip2的支持进行压缩/解压缩:此时档案名最好为*.tar.bz2*-z:透过gzip的支持进行压缩/解压缩:此时档案名最好为*.tar.gz*-v:在压缩/解压缩的过程中,将正在处理文件名显示出来*-ffilename:-f后面要立刻接被处理的档案名!建议-f单独写一个选项*-C目录:指定特定目录##系统管理###ping测试目标地址是否可连接、延迟度```bash#测试github.com连通性,按ctrl+C停止pinggithub.com#ping5次后断开ping-c5github.com#每5秒ping一次ping-i5github.com```###which查找某个命令存储在哪个位置,输出绝对路径,which会在环境变量$PATH设置的目录里去查找。注:可以通过echo$PATH查看设置的目录.```bashwhichtop#/usr/bin/top#打印多个命令whichpingtop```###shutdown将系统关机或重启操作。```bash#什么参数都不加，默认会在1分钟后关机$shutdown#在将系统的服务停掉之后就重新开机$shutdown-rnow#关闭系统并切断电源$shutdown-hnow#立即关机,实际上调用init0#把前一个关机或重启取消掉$shutdown-c#设定一个时间关机，"&"符号表示后台模式，让出CLI$shutdown-h05:33&$shutdown+5"5分钟后关机"#5分钟后关机，同时送出警告信息给登入用户：```###uptime```bash#当前系统运行的天数，小时，分钟(从上次开机起计算),当前系统登录用户数。一分钟、5分钟、15分钟平均负载,这3个值不能大于CPU个数，如果大于了说明系统负载高，性能低。uptime#13:25up2days,18:57,7users,loadaverages:2.062.062.15```###uname打印系统信息```bash#不带任何参数打印当前操作系统内核名称uname#Darwin,等价于uname-s#打印系统所有信息,cloud-2.local:网络节点主机名称,x86_64:主机的硬件架构名称uname-a#Darwincloud-2.local19.4.0DarwinKernelVersion19.4.0:WedMar422:28:40PST2020;root:xnu-6153.101.6~15/RELEASE_X86_64x86_64#打印主机的硬件架构名称uname-m#x86_64```###ifconfig配置或显示系统网卡的网络参数。```bash#显示所有网络参数信息ifconfig```###chmod修改文件或目录权限。>seehttps://github.com/xjh22222228/linux-manual#chmod.###lsof列出当前系统打开文件的工具```bash##打印所有打开文件的的列表lsof#查看指定端口被占用情况，(imeansIP)lsof-i:8080```###alias设置命令别名，用于简化较长的命令。```bash#列出所有已设置的别名alias#删除所有别名unalias-a#设置别名aliasll=\'ls-l\'```##系统进程###psps命令涵盖命令参数三大风格*Unix风格,`前面加单破折线`*BSD风格,全称伯克利软件发行版(Berkeleysoftwaredistribution),`前面不加破折线`*GNU风格,全称"Gnu\'sNotUnix",`前面加双破折线````bash#配合grep查询指定进程,-ameans:all,-fmeansfullps-af|grepnginx```##用户管理###chshchsh命令用于修改默认用户登录shell。修改后重新启动Shell即可生效（exit/logout）。```bash#必须使用完整路径，不能使用shell名chsh-s/bin/zsh```查看当前Shell```bashecho$SHELL#/bin/zsh```列出当前所有已安装的Shell```bashcat/etc/shells#/bin/bash#/bin/csh#/bin/dash#/bin/ksh#/bin/sh#/bin/tcsh#/bin/zsh```###users显示当前登录系统的所有用户的用户列表。```bashubuntu@ubuntu:~$usersubuntu```###last显示用户最近登录信息。```bashlast#指定显示条目数last-n1```###su切换到其他用户。```bash#切换到root身份sudosu```###whoami显示自身的用户名称```bashubuntu@ubuntu:~$whoamiubunturoot@ubuntu:/home/ubuntu#whoamiroot```##网络###curlcurl是一个非常强大的网络传输工具，利用URL规则在命令行下工作。|参数|描述||:------:|:----------------:||-H|设置请求头||-X|设置HTTP请求方法||--cookie|指定发送cookie||--retry|请求重试|>curl--help查询curl后可跟随的参数信息。##包管理###apt-getapt-get命令是DebianLinux发行版中的APT软件包管理工具。所有基于Debian的发行都使用这个包管理系统。```bash#安装一个docker软件$apt-getinstalldocker#卸载软件，保留配置文件$apt-getremovedocker#卸载软件并删除配置文件$apt-get–purgeremovedocker#更新所有已安装的软件包$apt-getupgrade#删除软件备份，主要用来释放空间$apt-getclean```##其它###clear用于清除当前终端所有信息，本质上只是向后翻了一页，往上滚动还能看到之前的操作信息>注：效果等用于`command+K`可以完全清除终端所有操作信息。```bashclear```###link*thanksfor[ReadLinux](https://github.com/xjh22222228/linux-manual).'},{name:"系统目录.md",path:"/RaspberryPi/linux/系统目录.md",type:"file",mdconf:{abbrlink:"n79kxl1r"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3851,extension:".md",relative:"/RaspberryPi/linux/系统目录.md",isEmpty:!1,content:"\x3c!--abbrlink:n79kxl1r--\x3e-[系统目录简介](#系统目录简介)-[系统启动必须](#系统启动必须)-[指令集合](#指令集合)-[外部文件管理](#外部文件管理)-[临时文件](#临时文件)-[账户](#账户)-[运行过程中使用](#运行过程中使用)-[扩展使用](#扩展使用)###系统目录简介####系统启动必须*`/boot`：存放的启动Linux时使用的内核文件，包括连接文件以及镜像文件。*`/etc`：存放所有的系统需要的配置文件和子目录列表，更改目录下的文件可能会导致系统不能启动。*`/lib`：存放基本代码库（比如c++库），其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。*`/sys`：这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统sysfs。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中。####指令集合*`/bin`：bin是Binaries(二进制文件)的缩写,存放着最常用的程序和指令。*`/sbin`：s是SuperUser的意思，是SuperuserBinaries(超级用户的二进制文件)的缩写，只有系统管理员能使用的程序和指令。####外部文件管理*`/dev`：Device(设备)的缩写,存放的是Linux的外部设备。注意：在Linux中访问设备和访问文件的方式是相同的。*`/media`：类windows的其他设备，例如U盘、光驱等等，识别后linux会把设备放到这个目录下。*`/mnt`：临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。####临时文件*`/run`：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有/var/run目录，应该让它指向run。*`/lost+found`：一般情况下为空的，系统非法关机后，这里就存放一些文件。*`/tmp`：是temporary(临时)的缩写，这个目录是用来存放一些临时文件的。####账户*`/root`：系统管理员的用户主目录。*`/home`：用户的主目录，以用户的账号命名的。一般githubclone的文件放这里。*`/usr`：usr是unixsharedresources(共享资源)的缩写，这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的programfiles目录。。*`/usr/bin`：系统用户使用的应用程序与指令。*`/usr/sbin`：超级用户使用的比较高级的管理程序和系统守护程序。*`/usr/src`：内核源代码默认的放置目录。####运行过程中使用*`/var`：是variable(变量)的缩写，存放经常修改的数据，比如程序运行的日志文件（/var/log目录下）。*`/proc`：proc是Processes(进程)的缩写，/proc是一种伪文件系统（也即虚拟文件系统），存储的是当前内核运行状态的一系列特殊文件，这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。这个目录的内容不在硬盘上而是在内存里。####扩展使用*`/opt`：opt是optional(可选)的缩写，这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。*`/srv`：存放服务启动后需要提取的数据（不用服务器就是空）"}],type:"directory",size:19720},{name:"nginx",path:"/RaspberryPi/nginx",children:[{name:"README.md",path:"/RaspberryPi/nginx/README.md",type:"file",mdconf:{abbrlink:"oerb6f1d"},birthtime:"2021-12-08",mtime:"2021-12-08",size:770,extension:".md",relative:"/RaspberryPi/nginx/README.md",isEmpty:!1,content:"\x3c!--abbrlink:oerb6f1d--\x3e###nginxnode与nginx搭配使用,是因为nginx具有更加强大的静态文件处理能力,以及反向代理负载均衡(LoadBalance)。*`正向代理`:代理客户端(如vpn)*`反向代理`:代理服务器(使用Nginx实现负载均衡)其它用途:跨域###目录*配置文件目录/usr/local/etc/nginx/nginx.conf*默认配置文件目录/usr/local/etc/nginx/nginx.conf.default*根目录/usr/local/var/www###FAQ*Q:`[::]:443`中的`[::]:`的含义是什么?*A:用于IPv6，参考[官网](http://nginx.org/en/docs/http/ngx_http_core_module.html#listen)。###相关文章*[Nginx英文文档](https://nginx.org/en/docs/)*[Nginx中文文档](https://www.nginx.cn/doc/index.html)"},{name:"常用命令.md",path:"/RaspberryPi/nginx/常用命令.md",type:"file",mdconf:{abbrlink:"yq9jpwrw",title:"nginx 常用命令"},birthtime:"2021-12-08",mtime:"2021-12-08",size:3167,extension:".md",relative:"/RaspberryPi/nginx/常用命令.md",isEmpty:!1,content:'\x3c!--abbrlink:yq9jpwrwtitle:nginx常用命令--\x3e###nginx常用命令(ubuntu)```bashsudoaptupdate#安装Nginxsudoaptinstallnginx#设置开机启动sudosystemctlenablenginx#开启nginxsudosystemctlstartnginx#重启nginxsudosystemctlrestartnginx#nginx重新加载配置文件sudosystemctlreloadnginx#停止nginxsudosystemctlstopnginxsudoservicenginxstop#强制杀死nginxsudopkill-9nginx#Ubuntu上卸载nginx#删除除了配置文件以外的所有文件。sudoapt-getremovenginxnginx-common#删除所有与nginx有关的东西，包括配置文件。sudoapt-getpurgenginxnginx-common#在上面命令结束后执行，主要是删除与Nginx有关的且不再被使用的依赖包。sudoapt-getautoremove#删除两个主要的包。sudoapt-getremovenginx-fullnginx-common#查看版本nginx-v#检查配置文件是否正确sudonginx-t#查询nginx是否启动ps-ef|grepnginx```安装好以后,执行`sudosystemctlstatusnginx`,可以看到```nginx.service-Ahighperformancewebserverandareverseproxyserver...```###常用命令(Mac)```jssudobrewservicesstartnginx//启动nginx(8080端口)sudobrewservicesstopnginx//关闭nginxbrewservicesrestartnginx//重启nginx```>mac重启后需要重新跑一遍sudobrewservicesstopnginx、sudobrewservicesstartnginx###nginx配置文件初始化备份`nginx主配置文件路径`:/etc/nginx/nginx.conf。```bashuserwww-data;worker_processesauto;pid/run/nginx.pid;include/etc/nginx/modules-enabled/*.conf;events{worker_connections768;#multi_accepton;}http{###BasicSettings##sendfileon;tcp_nopushon;tcp_nodelayon;keepalive_timeout65;types_hash_max_size2048;#server_tokensoff;#server_names_hash_bucket_size64;#server_name_in_redirectoff;include/etc/nginx/mime.types;default_typeapplication/octet-stream;###SSLSettings##ssl_protocolsTLSv1TLSv1.1TLSv1.2TLSv1.3;#DroppingSSLv3,ref:POODLEssl_prefer_server_cipherson;###LoggingSettings##access_log/var/log/nginx/access.log;error_log/var/log/nginx/error.log;###GzipSettings##gzipon;#gzip_varyon;#gzip_proxiedany;#gzip_comp_level6;#gzip_buffers168k;#gzip_http_version1.1;#gzip_typestext/plaintext/cssapplication/jsonapplication/javascripttext/xmlapplication/xmlapplication/xml+rsstext/javascript;###VirtualHostConfigs##include/etc/nginx/conf.d/*.conf;include/etc/nginx/sites-enabled/*;}#mail{##Seesampleauthenticationscriptat:##http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript###auth_httplocalhost/auth.php;##pop3_capabilities"TOP""USER";##imap_capabilities"IMAP4rev1""UIDPLUS";##server{#listenlocalhost:110;#protocolpop3;#proxyon;#}##server{#listenlocalhost:143;#protocolimap;#proxyon;#}#}```'}],type:"directory",size:3937},{name:"ssh.md",path:"/RaspberryPi/ssh.md",type:"file",mdconf:{abbrlink:"iti5ty8q"},birthtime:"2021-12-08",mtime:"2021-12-08",size:327,extension:".md",relative:"/RaspberryPi/ssh.md",isEmpty:!1,content:"\x3c!--abbrlink:iti5ty8q--\x3e###SSH```bash#登入腾讯云服务器。[服务器地址](https://console.cloud.tencent.com/lighthouse/instance/index)sshubuntu@81.69.252.246#登入树莓派sshubuntu@frp.muyunyun.cn-p6000#退出sshexit+enter```###快捷命令locatenginx.conf:快捷查找文件位置"},{name:"踩坑方案记录&环境.md",path:"/RaspberryPi/踩坑方案记录&环境.md",type:"file",mdconf:{abbrlink:"dckn3sfe"},birthtime:null,size:2225,extension:".md",relative:"/RaspberryPi/踩坑方案记录&环境.md",isEmpty:!1,content:'\x3c!--abbrlink:dckn3sfe--\x3e###查询温度```bashcat/sys/class/thermal/thermal_zone0/temp#43816```笔者发现ubuntu系统登入页面时，自动会显示温度信息:```bashWelcometoUbuntu20.04.3LTS(GNU/Linux5.4.0-1045-raspiaarch64)*Documentation:https://help.ubuntu.com*Management:https://landscape.canonical.com*Support:https://ubuntu.com/advantageSysteminformationasofWedNov2410:39:02UTC2021Systemload:0.42Usageof/:36.9%of28.96GBMemoryusage:14%Swapusage:0%Temperature:43.8C<-----------------HereProcesses:178Usersloggedin:0IPv4addressforbr-b23c54f46da5:172.18.0.1IPv4addressfordocker0:172.17.0.1IPv4addressforeth0:192.168.1.3```###树莓派连接显示器不亮屏的解决方案笔者参考[树莓派连接显示器不亮屏的解决方案](https://www.cnblogs.com/wirehome/p/10298395.html)，最后屏幕得以在7寸(1024*600)屏幕显示成功。![](http://with.muyunyun.cn/2d694194975c595f2da927a677bfd572.jpg)方法是需要在烧录的镜像系统中的`config.txt`补充以下内容:```bashhdmi_force_hotplug=1config_hdmi_boost=4hdmi_group=2hdmi_mode=9hdmi_drive=2hdmi_ignore_edid=0xa5000080disable_overscan=1```###暂未成功的方案####树莓派连接手机热点*[树莓派连接手机热点](https://blog.csdn.net/weixin_44415549/article/details/105415371)*[树莓派没有路由器,连接手机热点使用](https://www.geek-share.com/detail/2809069950.html)*步骤一:boot盘新建一个ssh空文件。*步骤二:boot盘新建一个wpa_supplicant.conf，里面代码为```bashcountry=GBctrl_interface=DIR=/var/run/wpa_supplicantGROUP=netdevupdate_config=1network={ssid=""psk=""priority=99}```>ssid写热点名称，psk写热点密码。*步骤三:手机下载远程服务软件`Termius`。####树莓派无线连接wifi*[树莓派ubuntu20.04链接wifi](https://blog.csdn.net/wei_love_2017/article/details/108877102)'}],type:"directory",size:52091}]},17862:e=>{"use strict";e.exports=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}},19768:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}n.d(t,{lX:()=>f,ob:()=>l,Hp:()=>c});function a(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=a(t),i=a(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};function l(e,t,n,a){var s;"string"==typeof e?(s=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(s=r({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),a?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),l=t&&i(t),c=s||l;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,m=a.length;m>=0;m--){var p=a[m];"."===p?o(a,m):".."===p?(o(a,m),d++):d&&(o(a,m),d--)}if(!c)for(;d--;d)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var h=a.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}(s.pathname,a.pathname)):s.pathname=a.pathname:s.pathname||(s.pathname="/"),s}function c(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}var u=!("undefined"==typeof window||!window.document||!window.document.createElement);function d(e,t){t(window.confirm(e))}var m="popstate",p="hashchange";function h(){try{return window.history.state||{}}catch(e){return{}}}function f(e){void 0===e&&(e={}),u||function(e,t){throw new Error("Invariant failed")}();var t,n,i=window.history,o=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e,c=s.forceRefresh,f=void 0!==c&&c,b=s.getUserConfirmation,g=void 0===b?d:b,y=s.keyLength,v=void 0===y?6:y,x=e.basename?function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}("/"===(n=e.basename).charAt(0)?n:"/"+n):"";function k(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return x&&(o=function(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}(o,x)),l(o,r,n)}function w(){return Math.random().toString(36).substr(2,v)}var S,_,E=(S=null,_=[],{setPrompt:function(e){return S=e,function(){S===e&&(S=null)}},confirmTransitionTo:function(e,t,n,r){if(null!=S){var i="function"==typeof S?S(e,t):S;"string"==typeof i?"function"==typeof n?n(i,r):r(!0):r(!1!==i)}else r(!0)},appendListener:function(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return _.push(n),function(){t=!1,_=_.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.forEach((function(e){return e.apply(void 0,t)}))}});function j(e){r(D,e),D.length=i.length,E.notifyListeners(D.location,D.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||L(k(e.state))}function T(){L(k(h()))}var A=!1;function L(e){A?(A=!1,j()):E.confirmTransitionTo(e,"POP",g,(function(t){t?j({action:"POP",location:e}):function(e){var t=D.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,I(i))}(e)}))}var R=k(h()),M=[R.key];function P(e){return x+function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}(e)}function I(e){i.go(e)}var O=0;function N(e){1===(O+=e)&&1===e?(window.addEventListener(m,C),a&&window.addEventListener(p,T)):0===O&&(window.removeEventListener(m,C),a&&window.removeEventListener(p,T))}var z=!1,D={length:i.length,action:"POP",location:R,createHref:P,push:function(e,t){var n="PUSH",r=l(e,t,w(),D.location);E.confirmTransitionTo(r,n,g,(function(e){if(e){var t=P(r),a=r.key,s=r.state;if(o)if(i.pushState({key:a,state:s},null,t),f)window.location.href=t;else{var l=M.indexOf(D.location.key),c=M.slice(0,l+1);c.push(r.key),M=c,j({action:n,location:r})}else window.location.href=t}}))},replace:function(e,t){var n="REPLACE",r=l(e,t,w(),D.location);E.confirmTransitionTo(r,n,g,(function(e){if(e){var t=P(r),a=r.key,s=r.state;if(o)if(i.replaceState({key:a,state:s},null,t),f)window.location.replace(t);else{var l=M.indexOf(D.location.key);-1!==l&&(M[l]=r.key),j({action:n,location:r})}else window.location.replace(t)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return z||(N(1),z=!0),function(){return z&&(z=!1,N(-1)),t()}},listen:function(e){var t=E.appendListener(e);return N(1),function(){N(-1),t()}}};return D}},8679:e=>{"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,i=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,a=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,l=s&&s(Object);e.exports=function e(c,u,d){if("string"!=typeof u){if(l){var m=s(u);m&&m!==l&&e(c,m,d)}var p=i(u);o&&(p=p.concat(o(u)));for(var h=0;h<p.length;++h){var f=p[h];if(!(t[f]||n[f]||d&&d[f])){var b=a(u,f);try{r(c,f,b)}catch(e){}}}return c}return c}},41143:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},11744:e=>{e.exports={footer:"footer-3bMnZ",powered_by:"powered_by-3uku2","footer-inlineCollapsed":"footer-inlineCollapsed-36FSg",uv_count:"uv_count-2H9jX",pv_count:"pv_count-2aT8U",split:"split-1Av76"}},65567:e=>{e.exports={logo:"logo-3N0en",header:"header-1gmzg",wrapper:"wrapper-2N6hV",titleLink:"titleLink-dlfoI",search:"search-1GSPC",select:"select-1WfPk",rightArea:"rightArea-1Nmk9",sun:"sun-YphCk",moon:"moon-tfTyh","github-corner":"github-corner-2qlpx","octo-arm":"octo-arm-3Cvs0","octocat-wave":"octocat-wave-2eV5l",pageTitle:"pageTitle-2xrxX",darkMode:"darkMode-1k_0o","no-dark-mode":"no-dark-mode-loQlc"}},69833:e=>{e.exports={icon:"icon-1gL2B"}},34666:e=>{e.exports={menu:"menu-2A6kG","menu-item":"menu-item-74Aq4","menu-item-selected":"menu-item-selected-3NeT_","menu-item-title":"menu-item-title-35xSg","menu-icon":"menu-icon-2hR1p",submenu:"submenu-ZMhaw","submenu-title":"submenu-title-1zdyM","submenu-arrow":"submenu-arrow-1L8LG","submenu-arrow-open":"submenu-arrow-open-1kxtu","submenu-selected":"submenu-selected-2z_Rl","menu-inline":"menu-inline-2CIsJ","menu-inline-collapsed":"menu-inline-collapsed-zUWmC","submenu-title-field":"submenu-title-field-39IOZ","collapse-transition":"collapse-transition-2vfEq",toggle:"toggle-37Mvs","toggle-icon":"toggle-icon-1NITH","toggle-icon-close":"toggle-icon-close-2YK97","toggle-collapsed":"toggle-collapsed-IZ_p_"}},66488:e=>{e.exports={noMatch:"noMatch-jZUp6"}},15780:e=>{e.exports={search:"search-1fFa2",panel:"panel-2NIPC",searchItem:"searchItem-3tBca",title:"title-2QWVc",content:"content-2ojeW"}},790:()=>{},61881:e=>{e.exports={wrapper:"wrapper-3YekU",wrapperContent:"wrapperContent-2knfV",pageHeader:"pageHeader-jkqi3",pageFooter:"pageFooter-1sm0M",position:"position-2Sc0B",icon:"icon-1a9VN",menuWrapper:"menuWrapper-3Sahv","menuWrapper-inlineCollapsed":"menuWrapper-inlineCollapsed-IW7Gq",affixPlaceholder:"affixPlaceholder-3EPHM",affixWrapper:"affixWrapper-1EOPI",menuMask:"menuMask-1g9U9",content:"content-1sWx6","content-fullpage":"content-fullpage-3w43-",contentNoMenu:"contentNoMenu-1TZDn"}},25017:()=>{},58777:e=>{e.exports={loading:"loading-3Oz78"}},55180:()=>{},38395:e=>{e.exports={frame:"frame-3pxUi"}},74455:e=>{e.exports={markdown:"markdown-3RaPQ",pageTitle:"pageTitle-2vq8V"}},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))n.call(a,u)&&(l[u]=a[u]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},14779:(e,t,n)=>{var r=n(96173);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return u(new RegExp("(?:"+i.join("|")+")",d(r)),n)}(t,n,i):function(e,t,n){return m(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],m=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,m)s+=m[1];else{var h=e[a],f=n[2],b=n[3],g=n[4],y=n[5],v=n[6],x=n[7];s&&(r.push(s),s="");var k=null!=f&&null!=h&&h!==f,w="+"===v||"*"===v,S="?"===v||"*"===v,_=n[2]||u,E=g||y;r.push({name:b||o++,prefix:f||"",delimiter:_,optional:S,repeat:w,partial:k,asterisk:!!x,pattern:E?c(E):x?".*":"[^"+l(_)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var d,m=s[u.name];if(null==m){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(m)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(m)+"`");if(0===m.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<m.length;p++){if(d=l(m[p]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(m).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(m),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function m(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=l(c);else{var m=l(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+m+p+")*"),a+=p=c.optional?c.partial?m+"("+p+")?":"(?:"+m+"("+p+"))?":m+"("+p+")"}}var h=l(n.delimiter||"/"),f=a.slice(-h.length)===h;return i||(a=(f?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":i&&f?"":"(?="+h+"|$)",u(new RegExp("^"+a,d(n)),t)}},96173:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},92703:(e,t,n)=>{"use strict";var r=n(50414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},64448:(e,t,n)=>{"use strict";var r=n(67294),i=n(27418),o=n(63840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},f={};function b(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(f,e)||!p.call(h,e)&&(m.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,S=60106,_=60107,E=60108,j=60114,C=60109,T=60110,A=60112,L=60113,R=60120,M=60115,P=60116,I=60121,O=60128,N=60129,z=60130,D=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;w=B("react.element"),S=B("react.portal"),_=B("react.fragment"),E=B("react.strict_mode"),j=B("react.profiler"),C=B("react.provider"),T=B("react.context"),A=B("react.forward_ref"),L=B("react.suspense"),R=B("react.suspense_list"),M=B("react.memo"),P=B("react.lazy"),I=B("react.block"),B("react.scope"),O=B("react.opaque.id"),N=B("react.debug_trace_mode"),z=B("react.offscreen"),D=B("react.legacy_hidden")}var F,q="function"==typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function Y(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var U=!1;function W(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Y(e):""}function G(e){switch(e.tag){case 5:return Y(e.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case j:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return V(e.type);case I:return V(e._render);case P:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,fe,be=(fe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return fe(e,t)}))}:fe);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var we=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ce=null,Te=null;function Ae(e){if(e=Kr(e)){if("function"!=typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=ei(t),je(e.stateNode,e.type,t))}}function Le(e){Ce?Te?Te.push(e):Te=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Te;if(Te=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Me(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Ie(){}var Oe=Me,Ne=!1,ze=!1;function De(){null===Ce&&null===Te||(Ie(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(d)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(fe){Fe=!1}function He(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ye=!1,Ue=null,We=!1,Ge=null,Ve={onError:function(e){Ye=!0,Ue=e}};function $e(e,t,n,r,i,o,a,s,l){Ye=!1,Ue=null,He.apply(Ve,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Je(e)!==e)throw Error(a(188))}function Ke(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Ze,et,tt,nt,rt=!1,it=[],ot=null,at=null,st=null,lt=new Map,ct=new Map,ut=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function ht(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=mt(t,n,r,i,o),null!==t&&null!==(t=Kr(t))&&et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function ft(e){var t=Qr(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void nt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){tt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Kr(n))&&et(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){bt(e)&&n.delete(t)}function yt(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Kr(e.blockedOn))&&Ze(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==ot&&bt(ot)&&(ot=null),null!==at&&bt(at)&&(at=null),null!==st&&bt(st)&&(st=null),lt.forEach(gt),ct.forEach(gt)}function vt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yt)))}function xt(e){function t(t){return vt(t,e)}if(0<it.length){vt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&vt(ot,e),null!==at&&vt(at,e),null!==st&&vt(st,e),lt.forEach(t),ct.forEach(t),n=0;n<ut.length;n++)(r=ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ut.length&&null===(n=ut[0]).blockedOn;)ft(n),null===n.blockedOn&&ut.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wt={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},_t={};function Et(e){if(St[e])return St[e];if(!wt[e])return e;var t,n=wt[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return St[e]=n[t];return e}d&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete wt.animationend.animation,delete wt.animationiteration.animation,delete wt.animationstart.animation),"TransitionEvent"in window||delete wt.transitionend.transition);var jt=Et("animationend"),Ct=Et("animationiteration"),Tt=Et("animationstart"),At=Et("transitionend"),Lt=new Map,Rt=new Map,Mt=["abort","abort",jt,"animationEnd",Ct,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Lt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var It=8;function Ot(e){if(0!=(1&e))return It=15,1;if(0!=(2&e))return It=14,2;if(0!=(4&e))return It=13,4;var t=24&e;return 0!==t?(It=12,t):0!=(32&e)?(It=11,32):0!=(t=192&e)?(It=10,t):0!=(256&e)?(It=9,256):0!=(t=3584&e)?(It=8,t):0!=(4096&e)?(It=7,4096):0!=(t=4186112&e)?(It=6,t):0!=(t=62914560&e)?(It=5,t):67108864&e?(It=4,67108864):0!=(134217728&e)?(It=3,134217728):0!=(t=805306368&e)?(It=2,t):0!=(1073741824&e)?(It=1,1073741824):(It=8,e)}function Nt(e,t){var n=e.pendingLanes;if(0===n)return It=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=It=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=Ot(l),i=It):0!=(s&=o)&&(r=Ot(s),i=It)}else 0!=(o=n&~a)?(r=Ot(o),i=It):0!==s&&(r=Ot(s),i=It);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Ot(t),i<=It)return t;It=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Dt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Dt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Dt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&0===(e=Bt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function Ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Yt(e)/Ut|0)|0},Yt=Math.log,Ut=Math.LN2,Wt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Vt=!0;function $t(e,t,n,r){Ne||Ie();var i=Xt,o=Ne;Ne=!0;try{Pe(i,e,t,n,r)}finally{(Ne=o)||De()}}function Jt(e,t,n,r){Gt(Wt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Vt)if((i=0==(4&t))&&0<it.length&&-1<dt.indexOf(e))e=mt(null,e,t,n,r),it.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=mt(o,e,t,n,r),void it.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=ht(ot,e,t,n,r,i),!0;case"dragenter":return at=ht(at,e,t,n,r,i),!0;case"mouseover":return st=ht(st,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,ht(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,ht(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Lr(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Ee(r);if(null!==(i=Qr(i))){var o=Je(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var Kt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(un),mn=i({},un,{view:0,detail:0}),pn=an(mn),hn=i({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=an(hn),bn=an(i({},hn,{dataTransfer:0})),gn=an(i({},mn,{relatedTarget:0})),yn=an(i({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=an(i({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=an(i({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return _n}var jn=an(i({},mn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cn=an(i({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(i({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(i({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=an(i({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Mn=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var In=d&&"TextEvent"in window&&!Pn,On=d&&(!Mn||Pn&&8<Pn&&11>=Pn),Nn=String.fromCharCode(32),zn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Yn(e,t,n,r){Le(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Wn=null;function Gn(e){_r(e,0)}function Vn(e){if(Q(Zr(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(d){var Xn;if(d){var Qn="oninput"in document;if(!Qn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Qn="function"==typeof Kn.oninput}Xn=Qn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function Zn(){Un&&(Un.detachEvent("onpropertychange",er),Wn=Un=null)}function er(e){if("value"===e.propertyName&&Vn(Wn)){var t=[];if(Yn(t,Wn,e,Ee(e)),e=Gn,Ne)e(t);else{Ne=!0;try{Me(e,t)}finally{Ne=!1,De()}}}}function tr(e,t,n){"focusin"===e?(Zn(),Wn=n,(Un=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Wn)}function rr(e,t){if("click"===e)return Vn(t)}function ir(e,t){if("input"===e||"change"===e)return Vn(t)}var or="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ar=Object.prototype.hasOwnProperty;function sr(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ar.call(t,n[r])||!or(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=d&&"documentMode"in document&&11>=document.documentMode,hr=null,fr=null,br=null,gr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==hr||hr!==K(r)||(r="selectionStart"in(r=hr)&&mr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&sr(br,r)||(br=r,0<(r=Mr(fr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Mt,2);for(var vr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<vr.length;xr++)Rt.set(vr[xr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if($e.apply(this,arguments),Ye){if(!Ye)throw Error(a(198));var u=Ue;Ye=!1,Ue=null,We||(We=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function _r(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=l}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Er(e,t){var n=ti(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var jr="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){e[jr]||(e[jr]=!0,s.forEach((function(t){wr.has(t)||Tr(t,!1,e,null),Tr(t,!0,e,null)})))}function Tr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&wr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ti(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Qr(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(ze)return e();ze=!0;try{Oe(e,t,n)}finally{ze=!1,De()}}((function(){var r=o,i=Ee(n),a=[];e:{var s=Lt.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case jt:case Ct:case Tt:l=yn;break;case At:l=An;break;case"scroll":l=pn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!=(4&t),d=!u&&"scroll"===e,m=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var f=(p=h).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==m&&null!=(f=Be(h,m))&&u.push(Rr(h,f,p))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Qr(c)&&!c[Jr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qr(c):null)&&(c!==(d=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,f="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,f="onPointerLeave",m="onPointerEnter",h="pointer"),d=null==l?s:Zr(l),p=null==c?s:Zr(c),(s=new u(f,h+"leave",l,n,i)).target=d,s.relatedTarget=p,f=null,Qr(i)===r&&((u=new u(m,h+"enter",c,n,i)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(m=c,h=0,p=u=l;p;p=Pr(p))h++;for(p=0,f=m;f;f=Pr(f))p++;for(;0<h-p;)u=Pr(u),h--;for(;0<p-h;)m=Pr(m),p--;for(;h--;){if(u===m||null!==m&&u===m.alternate)break e;u=Pr(u),m=Pr(m)}u=null}else u=null;null!==l&&Ir(a,s,l,u,!1),null!==c&&null!==d&&Ir(a,d,c,u,!0)}if("select"===(l=(s=r?Zr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var b=$n;else if(Hn(s))if(Jn)b=ir;else{b=nr;var g=tr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(b=rr);switch(b&&(b=b(e,r))?Yn(a,b,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?Zr(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(hr=g,fr=r,br=null);break;case"focusout":br=fr=hr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,yr(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Fn?Dn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(On&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Fn&&(y=tn()):(Zt="value"in(Kt=i)?Kt.value:Kt.textContent,Fn=!0)),0<(g=Mr(r,v)).length&&(v=new xn(v,e,null,n,i),a.push({event:v,listeners:g}),(y||null!==(y=Bn(n)))&&(v.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Nn);case"textInput":return(e=t.data)===Nn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Mn&&Dn(e,t)?(e=tn(),en=Zt=Kt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}_r(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=Be(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Pr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ir(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Be(n,o))&&a.unshift(Rr(n,l,s)):i||null!=(l=Be(n,o))&&a.push(Rr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Or(){}var Nr=null,zr=null;function Dr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fr="function"==typeof setTimeout?setTimeout:void 0,qr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0,Gr=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Gr,$r="__reactProps$"+Gr,Jr="__reactContainer$"+Gr,Xr="__reactEvents$"+Gr;function Qr(e){var t=e[Vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Vr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ur(e);null!==e;){if(n=e[Vr])return n;e=Ur(e)}return t}n=(e=n).parentNode}return null}function Kr(e){return!(e=e[Vr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Zr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ei(e){return e[$r]||null}function ti(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ni=[],ri=-1;function ii(e){return{current:e}}function oi(e){0>ri||(e.current=ni[ri],ni[ri]=null,ri--)}function ai(e,t){ri++,ni[ri]=e.current,e.current=t}var si={},li=ii(si),ci=ii(!1),ui=si;function di(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=e.childContextTypes}function pi(){oi(ci),oi(li)}function hi(e,t,n){if(li.current!==si)throw Error(a(168));ai(li,t),ai(ci,n)}function fi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,V(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,ui=li.current,ai(li,e),ai(ci,ci.current),!0}function gi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=fi(e,t,ui),r.__reactInternalMemoizedMergedChildContext=e,oi(ci),oi(li),ai(li,e)):oi(ci),ai(ci,n)}var yi=null,vi=null,xi=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,wi=o.unstable_cancelCallback,Si=o.unstable_shouldYield,_i=o.unstable_requestPaint,Ei=o.unstable_now,ji=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Ti=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Mi={},Pi=void 0!==_i?_i:function(){},Ii=null,Oi=null,Ni=!1,zi=Ei(),Di=1e4>zi?Ei:function(){return Ei()-zi};function Bi(){switch(ji()){case Ci:return 99;case Ti:return 98;case Ai:return 97;case Li:return 96;case Ri:return 95;default:throw Error(a(332))}}function Fi(e){switch(e){case 99:return Ci;case 98:return Ti;case 97:return Ai;case 96:return Li;case 95:return Ri;default:throw Error(a(332))}}function qi(e,t){return e=Fi(e),xi(e,t)}function Hi(e,t,n){return e=Fi(e),ki(e,t,n)}function Yi(){if(null!==Oi){var e=Oi;Oi=null,wi(e)}Ui()}function Ui(){if(!Ni&&null!==Ii){Ni=!0;var e=0;try{var t=Ii;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ii=null}catch(t){throw null!==Ii&&(Ii=Ii.slice(e+1)),ki(Ci,Yi),t}finally{Ni=!1}}}var Wi=k.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Vi=ii(null),$i=null,Ji=null,Xi=null;function Qi(){Xi=Ji=$i=null}function Ki(e){var t=Vi.current;oi(Vi),e.type._context._currentValue=t}function Zi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function eo(e,t){$i=e,Xi=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function to(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===$i)throw Error(a(308));Ji=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var no=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var o=e.updateQueue;no=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var m=(d=d.updateQueue).lastBaseUpdate;m!==s&&(null===m?d.firstBaseUpdate=u:m.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(m=o.baseState,s=0,d=u=c=null;;){l=a.lane;var p=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,f=a;switch(l=t,p=n,f.tag){case 1:if("function"==typeof(h=f.payload)){m=h.call(p,m,l);break e}m=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(l="function"==typeof(h=f.payload)?h.call(p,m,l):h))break e;m=i({},m,l);break e;case 2:no=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=p,c=m):d=d.next=p,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=m),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Is|=s,e.lanes=s,e.memoizedState=m}}function co(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var uo=(new r.Component).refs;function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ol(),i=al(e),o=oo(r,i);o.payload=t,null!=n&&(o.callback=n),ao(e,o),sl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ol(),i=al(e),o=oo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ao(e,o),sl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ol(),r=al(e),i=oo(n,r);i.tag=2,null!=t&&(i.callback=t),ao(e,i),sl(e,r,n)}};function ho(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&sr(n,r)&&sr(i,o))}function fo(e,t,n){var r=!1,i=si,o=t.contextType;return"object"==typeof o&&null!==o?o=to(o):(i=mi(t)?ui:li.current,o=(r=null!=(r=t.contextTypes))?di(e,i):si),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=uo,ro(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=to(o):(o=mi(t)?ui:li.current,i.context=di(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var yo=Array.isArray;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===uo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=Hl(t,e.mode,n)).return=e,t}if(yo(t)||H(t))return(t=Bl(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===_?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null}if(yo(n)||H(n))return null!==i?null:d(e,t,n,r,null);xo(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===_?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(yo(r)||H(r))return d(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function f(i,a,s,l){for(var c=null,u=null,d=a,f=a=0,b=null;null!==d&&f<s.length;f++){d.index>f?(b=d,d=null):b=d.sibling;var g=p(i,d,s[f],l);if(null===g){null===d&&(d=b);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,f),null===u?c=g:u.sibling=g,u=g,d=b}if(f===s.length)return n(i,d),c;if(null===d){for(;f<s.length;f++)null!==(d=m(i,s[f],l))&&(a=o(d,a,f),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);f<s.length;f++)null!==(b=h(d,i,f,s[f],l))&&(e&&null!==b.alternate&&d.delete(null===b.key?f:b.key),a=o(b,a,f),null===u?c=b:u.sibling=b,u=b);return e&&d.forEach((function(e){return t(i,e)})),c}function b(i,s,l,c){var u=H(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,f=s,b=s=0,g=null,y=l.next();null!==f&&!y.done;b++,y=l.next()){f.index>b?(g=f,f=null):g=f.sibling;var v=p(i,f,y.value,c);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),s=o(v,s,b),null===d?u=v:d.sibling=v,d=v,f=g}if(y.done)return n(i,f),u;if(null===f){for(;!y.done;b++,y=l.next())null!==(y=m(i,y.value,c))&&(s=o(y,s,b),null===d?u=y:d.sibling=y,d=y);return u}for(f=r(i,f);!y.done;b++,y=l.next())null!==(y=h(f,i,b,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?b:y.key),s=o(y,s,b),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===_&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case w:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===_){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=vo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===_?((r=Bl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Dl(o.type,o.key,o.props,null,e.mode,l)).ref=vo(e,r,o),l.return=e,e=l)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=ql(o,e.mode,l)).return=e,e=r),s(e);if(yo(o))return f(e,r,o,l);if(H(o))return b(e,r,o,l);if(u&&xo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,V(e.type)||"Component"))}return n(e,r)}}var wo=ko(!0),So=ko(!1),_o={},Eo=ii(_o),jo=ii(_o),Co=ii(_o);function To(e){if(e===_o)throw Error(a(174));return e}function Ao(e,t){switch(ai(Co,t),ai(jo,e),ai(Eo,_o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}oi(Eo),ai(Eo,t)}function Lo(){oi(Eo),oi(jo),oi(Co)}function Ro(e){To(Co.current);var t=To(Eo.current),n=pe(t,e.type);t!==n&&(ai(jo,e),ai(Eo,n))}function Mo(e){jo.current===e&&(oi(Eo),oi(jo))}var Po=ii(0);function Io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oo=null,No=null,zo=!1;function Do(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Fo(e){if(zo){var t=No;if(t){var n=t;if(!Bo(e,t)){if(!(t=Yr(n.nextSibling))||!Bo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Oo=e);Do(Oo,n)}Oo=e,No=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Oo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oo=e}function Ho(e){if(e!==Oo)return!1;if(!zo)return qo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=No;t;)Do(e,t),t=Yr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){No=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}No=null}}else No=Oo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){No=Oo=null,zo=!1}var Uo=[];function Wo(){for(var e=0;e<Uo.length;e++)Uo[e]._workInProgressVersionPrimary=null;Uo.length=0}var Go=k.ReactCurrentDispatcher,Vo=k.ReactCurrentBatchConfig,$o=0,Jo=null,Xo=null,Qo=null,Ko=!1,Zo=!1;function ea(){throw Error(a(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function na(e,t,n,r,i,o){if($o=o,Jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=null===e||null===e.memoizedState?Ta:Aa,e=n(r,i),Zo){o=0;do{if(Zo=!1,!(25>o))throw Error(a(301));o+=1,Qo=Xo=null,t.updateQueue=null,Go.current=La,e=n(r,i)}while(Zo)}if(Go.current=Ca,t=null!==Xo&&null!==Xo.next,$o=0,Qo=Xo=Jo=null,Ko=!1,t)throw Error(a(300));return e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qo?Jo.memoizedState=Qo=e:Qo=Qo.next=e,Qo}function ia(){if(null===Xo){var e=Jo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Qo?Jo.memoizedState:Qo.next;if(null!==t)Qo=t,Xo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Qo?Jo.memoizedState=Qo=e:Qo=Qo.next=e}return Qo}function oa(e,t){return"function"==typeof t?t(e):t}function aa(e){var t=ia(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.lane;if(($o&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,Jo.lanes|=u,Is|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,or(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function sa(e){var t=ia(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);or(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function la(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Uo.push(t))),e)return n(t._source);throw Uo.push(t),Error(a(350))}function ca(e,t,n,r){var i=js;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Go.current,c=l.useState((function(){return la(i,t,n)})),u=c[1],d=c[0];c=Qo;var m=e.memoizedState,p=m.refs,h=p.getSnapshot,f=m.source;m=m.subscribe;var b=Jo;return e.memoizedState={refs:p,source:t,subscribe:r},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!or(s,e)){e=n(t._source),or(d,e)||(u(e),e=al(b),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Ht(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=al(b);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),or(h,n)&&or(f,t)&&or(m,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:d}).dispatch=u=ja.bind(null,Jo,e),c.queue=e,c.baseQueue=null,d=la(i,t,n),c.memoizedState=c.baseState=d),d}function ua(e,t,n){return ca(ia(),e,t,n)}function da(e){var t=ra();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e}).dispatch=ja.bind(null,Jo,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Jo.updateQueue)?(t={lastEffect:null},Jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ra().memoizedState=e}function ha(){return ia().memoizedState}function fa(e,t,n,r){var i=ra();Jo.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=ia();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var a=Xo.memoizedState;if(o=a.destroy,null!==r&&ta(r,a.deps))return void ma(t,n,o,r)}Jo.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function ga(e,t){return fa(516,4,e,t)}function ya(e,t){return ba(516,4,e,t)}function va(e,t){return ba(4,2,e,t)}function xa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,xa.bind(null,t,e),n)}function wa(){}function Sa(e,t){var n=ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _a(e,t){var n=ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ea(e,t){var n=Bi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Vo.transition;Vo.transition=1;try{e(!1),t()}finally{Vo.transition=n}}))}function ja(e,t,n){var r=ol(),i=al(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Jo||null!==a&&a===Jo)Zo=Ko=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,or(l,s))return}catch(e){}sl(e,i,r)}}var Ca={readContext:to,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useOpaqueIdentifier:ea,unstable_isNewReconciler:!1},Ta={readContext:to,useCallback:function(e,t){return ra().memoizedState=[e,void 0===t?null:t],e},useContext:to,useEffect:ga,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,fa(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ra();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ja.bind(null,Jo,e),[r.memoizedState,e]},useRef:pa,useState:da,useDebugValue:wa,useDeferredValue:function(e){var t=da(e),n=t[0],r=t[1];return ga((function(){var t=Vo.transition;Vo.transition=1;try{r(e)}finally{Vo.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return pa(e=Ea.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ra();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ca(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:O,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(a(355))})),n=da(t)[1];return 0==(2&Jo.mode)&&(Jo.flags|=516,ma(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return da(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:to,useCallback:Sa,useContext:to,useEffect:ya,useImperativeHandle:ka,useLayoutEffect:va,useMemo:_a,useReducer:aa,useRef:ha,useState:function(){return aa(oa)},useDebugValue:wa,useDeferredValue:function(e){var t=aa(oa),n=t[0],r=t[1];return ya((function(){var t=Vo.transition;Vo.transition=1;try{r(e)}finally{Vo.transition=t}}),[e]),n},useTransition:function(){var e=aa(oa)[0];return[ha().current,e]},useMutableSource:ua,useOpaqueIdentifier:function(){return aa(oa)[0]},unstable_isNewReconciler:!1},La={readContext:to,useCallback:Sa,useContext:to,useEffect:ya,useImperativeHandle:ka,useLayoutEffect:va,useMemo:_a,useReducer:sa,useRef:ha,useState:function(){return sa(oa)},useDebugValue:wa,useDeferredValue:function(e){var t=sa(oa),n=t[0],r=t[1];return ya((function(){var t=Vo.transition;Vo.transition=1;try{r(e)}finally{Vo.transition=t}}),[e]),n},useTransition:function(){var e=sa(oa)[0];return[ha().current,e]},useMutableSource:ua,useOpaqueIdentifier:function(){return sa(oa)[0]},unstable_isNewReconciler:!1},Ra=k.ReactCurrentOwner,Ma=!1;function Pa(e,t,n,r){t.child=null===e?So(t,null,n,r):wo(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var o=t.ref;return eo(t,i),r=na(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Pa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ka(e,t,i))}function Oa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Nl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:sr)(i,r)&&e.ref===t.ref)?Ka(e,t,o):(t.flags|=1,(e=zl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,n,r,i,o){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0==(o&i))return t.lanes=e.lanes,Ka(e,t,o);0!=(16384&e.flags)&&(Ma=!0)}return Ba(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},pl(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},pl(0,e),null;t.memoizedState={baseLanes:0},pl(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,pl(0,r);return Pa(e,t,i,n),t.child}function Da(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ba(e,t,n,r,i){var o=mi(n)?ui:li.current;return o=di(t,o),eo(t,i),n=na(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Pa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ka(e,t,i))}function Fa(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(eo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fo(t,n,r),go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?to(c):di(t,c=mi(n)?ui:li.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&bo(t,a,r,c),no=!1;var m=t.memoizedState;a.state=m,lo(t,r,a,i),l=t.memoizedState,s!==r||m!==l||ci.current||no?("function"==typeof u&&(mo(t,n,u,r),l=t.memoizedState),(s=no||ho(t,n,s,r,m,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,io(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Gi(t.type,s),a.props=c,d=t.pendingProps,m=a.context,l="object"==typeof(l=n.contextType)&&null!==l?to(l):di(t,l=mi(n)?ui:li.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||m!==l)&&bo(t,a,r,l),no=!1,m=t.memoizedState,a.state=m,lo(t,r,a,i);var h=t.memoizedState;s!==d||m!==h||ci.current||no?("function"==typeof p&&(mo(t,n,p,r),h=t.memoizedState),(c=no||ho(t,n,c,r,m,h,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){Da(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&gi(t,n,!1),Ka(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):Pa(e,t,s,o),t.memoizedState=r.state,i&&gi(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&hi(0,t.context,!1),Ao(e,t.containerInfo)}var Ya,Ua,Wa,Ga={dehydrated:null,retryLane:0};function Va(e,t,n){var r,i=t.pendingProps,o=Po.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ai(Po,1&o),null===e?(void 0!==i.fallback&&Fo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ga,e):"number"==typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ga,t.lanes=33554432,e):((n=Fl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zl(a,s),null!==e?r=zl(e,r):(r=Bl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ga,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Fl(t,i,0,null),n=Bl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ja(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Zi(e.return,t)}function Xa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Pa(e,t,r.children,n),0!=(2&(r=Po.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ja(e,n);else if(19===e.tag)Ja(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ai(Po,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Za(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&pi(),null;case 3:return Lo(),oi(ci),oi(li),Wo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=To(Co.current);if(n=t.type,null!==e&&null!=t.stateNode)Ua(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=To(Eo.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Vr]=t,r[$r]=s,n){case"dialog":Er("cancel",r),Er("close",r);break;case"iframe":case"object":case"embed":Er("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Er(kr[e],r);break;case"source":Er("error",r);break;case"img":case"image":case"link":Er("error",r),Er("load",r);break;case"details":Er("toggle",r);break;case"input":ee(r,s),Er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Er("invalid",r);break;case"textarea":le(r,s),Er("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Er("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Or)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=me(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Vr]=t,e[$r]=r,Ya(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Er("cancel",e),Er("close",e),o=r;break;case"iframe":case"object":case"embed":Er("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Er(kr[o],e);o=r;break;case"source":Er("error",e),o=r;break;case"img":case"image":case"link":Er("error",e),Er("load",e),o=r;break;case"details":Er("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Er("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Er("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Er("invalid",e);break;default:o=r}Se(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?ke(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&be(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Er("scroll",e):null!=d&&x(e,s,d,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Or)}Dr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Wa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=To(Co.current),To(Eo.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Vr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Vr]=t,t.stateNode=r)}return null;case 13:return oi(Po),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Po.current)?0===Rs&&(Rs=3):(0!==Rs&&3!==Rs||(Rs=4),null===js||0==(134217727&Is)&&0==(134217727&Os)||dl(js,Ts))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Cr(t.stateNode.containerInfo),null;case 10:return Ki(t),null;case 17:return mi(t.type)&&pi(),null;case 19:if(oi(Po),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)Za(r,!1);else{if(0!==Rs||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Io(e))){for(t.flags|=64,Za(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Po,1&Po.current|2),t.child}e=e.sibling}null!==r.tail&&Di()>Bs&&(t.flags|=64,s=!0,Za(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Io(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Za(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Di()-r.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=64,s=!0,Za(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Di(),n.sibling=null,t=Po.current,ai(Po,s?1&t|2:1&t),n):null;case 23:case 24:return hl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ts(e){switch(e.tag){case 1:mi(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),oi(ci),oi(li),Wo(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return oi(Po),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return oi(Po),null;case 4:return Lo(),null;case 10:return Ki(e),null;case 23:case 24:return hl(),null;default:return null}}function ns(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function rs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,To(Eo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Or)}for(d in Se(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Er("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===O?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Wa=function(e,t,n,r){n!==r&&(t.flags|=4)};var is="function"==typeof WeakMap?WeakMap:Map;function os(e,t,n){(n=oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Us=r),rs(0,t)},n}function as(e,t,n){(n=oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return rs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this),rs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ss="function"==typeof WeakSet?WeakSet:Set;function ls(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Rl(e,t)}else t.current=null}function cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function us(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Tl(n,e),Cl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&co(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}co(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Dr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function ds(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ms(e,t){if(vi&&"function"==typeof vi.onCommitFiberUnmount)try{vi.onCommitFiberUnmount(yi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Tl(t,n);else{r=t;try{i()}catch(e){Rl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ls(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Rl(t,e)}break;case 5:ls(t);break;case 4:ys(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function hs(e){return 5===e.tag||3===e.tag||4===e.tag}function fs(e){e:{for(var t=e.return;null!==t;){if(hs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bs(e,n,t):gs(e,n,t)}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Or));else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,c=l;;)if(ms(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ms(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function vs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?ke(n,l):"dangerouslySetInnerHTML"===s?be(n,l):"children"===s?ge(n,l):x(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Ds=Di(),ds(t.child,!0)),void xs(t);case 19:return void xs(t);case 17:return;case 23:case 24:return void ds(t,null!==t.memoizedState)}throw Error(a(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ss),t.forEach((function(t){var r=Pl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ks(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var ws=Math.ceil,Ss=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Es=0,js=null,Cs=null,Ts=0,As=0,Ls=ii(0),Rs=0,Ms=null,Ps=0,Is=0,Os=0,Ns=0,zs=null,Ds=0,Bs=1/0;function Fs(){Bs=Di()+500}var qs,Hs=null,Ys=!1,Us=null,Ws=null,Gs=!1,Vs=null,$s=90,Js=[],Xs=[],Qs=null,Ks=0,Zs=null,el=-1,tl=0,nl=0,rl=null,il=!1;function ol(){return 0!=(48&Es)?Di():-1!==el?el:el=Di()}function al(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Bi()?1:2;if(0===tl&&(tl=Ps),0!==Wi.transition){0!==nl&&(nl=null!==zs?zs.pendingLanes:0),e=tl;var t=4186112&~nl;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Bi(),e=Dt(0!=(4&Es)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),tl)}function sl(e,t,n){if(50<Ks)throw Ks=0,Zs=null,Error(a(185));if(null===(e=ll(e,t)))return null;qt(e,t,n),e===js&&(Os|=t,4===Rs&&dl(e,Ts));var r=Bi();1===t?0!=(8&Es)&&0==(48&Es)?ml(e):(cl(e,n),0===Es&&(Fs(),Yi())):(0==(4&Es)||98!==r&&99!==r||(null===Qs?Qs=new Set([e]):Qs.add(e)),cl(e,n)),zs=e}function ll(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ht(s),c=1<<l,u=o[l];if(-1===u){if(0==(c&r)||0!=(c&i)){u=t,Ot(c);var d=It;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Nt(e,e===js?Ts:0),t=It,0===r)null!==n&&(n!==Mi&&wi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&wi(n)}15===t?(n=ml.bind(null,e),null===Ii?(Ii=[n],Oi=ki(Ci,Ui)):Ii.push(n),n=Mi):n=14===t?Hi(99,ml.bind(null,e)):Hi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),ul.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ul(e){if(el=-1,nl=tl=0,0!=(48&Es))throw Error(a(327));var t=e.callbackNode;if(jl()&&e.callbackNode!==t)return null;var n=Nt(e,e===js?Ts:0);if(0===n)return null;var r=n,i=Es;Es|=16;var o=gl();for(js===e&&Ts===r||(Fs(),fl(e,r));;)try{xl();break}catch(t){bl(e,t)}if(Qi(),Ss.current=o,Es=i,null!==Cs?r=0:(js=null,Ts=0,r=Rs),0!=(Ps&Os))fl(e,0);else if(0!==r){if(2===r&&(Es|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=zt(e))&&(r=yl(e,n))),1===r)throw t=Ms,fl(e,0),dl(e,n),cl(e,Di()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Sl(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(r=Ds+500-Di())){if(0!==Nt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ol(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fr(Sl.bind(null,e),r);break}Sl(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Di()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ws(n/1960))-n)){e.timeoutHandle=Fr(Sl.bind(null,e),n);break}Sl(e);break;case 5:Sl(e);break;default:throw Error(a(329))}}return cl(e,Di()),e.callbackNode===t?ul.bind(null,e):null}function dl(e,t){for(t&=~Ns,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ml(e){if(0!=(48&Es))throw Error(a(327));if(jl(),e===js&&0!=(e.expiredLanes&Ts)){var t=Ts,n=yl(e,t);0!=(Ps&Os)&&(n=yl(e,t=Nt(e,t)))}else n=yl(e,t=Nt(e,0));if(0!==e.tag&&2===n&&(Es|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=zt(e))&&(n=yl(e,t))),1===n)throw n=Ms,fl(e,0),dl(e,t),cl(e,Di()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e),cl(e,Di()),null}function pl(e,t){ai(Ls,As),As|=t,Ps|=t}function hl(){As=Ls.current,oi(Ls)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Lo(),oi(ci),oi(li),Wo();break;case 5:Mo(r);break;case 4:Lo();break;case 13:case 19:oi(Po);break;case 10:Ki(r);break;case 23:case 24:hl()}n=n.return}js=e,Cs=zl(e.current,null),Ts=As=Ps=t,Rs=0,Ms=null,Ns=Os=Is=0}function bl(e,t){for(;;){var n=Cs;try{if(Qi(),Go.current=Ca,Ko){for(var r=Jo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ko=!1}if($o=0,Qo=Xo=Jo=null,Zo=!1,_s.current=null,null===n||null===n.return){Rs=1,Ms=t,Cs=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ts,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Po.current),m=a;do{var p;if(p=13===m.tag){var h=m.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var f=m.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!d)}}if(p){var b=m.updateQueue;if(null===b){var g=new Set;g.add(c),m.updateQueue=g}else b.add(c);if(0==(2&m.mode)){if(m.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=oo(-1,1);y.tag=2,ao(s,y)}s.lanes|=1;break e}l=void 0,s=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new is,l=new Set,v.set(c,l)):void 0===(l=v.get(c))&&(l=new Set,v.set(c,l)),!l.has(s)){l.add(s);var x=Ml.bind(null,o,c,s);c.then(x,x)}m.flags|=4096,m.lanes=t;break e}m=m.return}while(null!==m);l=Error((V(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Rs&&(Rs=2),l=ns(l,s),m=a;do{switch(m.tag){case 3:o=l,m.flags|=4096,t&=-t,m.lanes|=t,so(m,os(0,o,t));break e;case 1:o=l;var k=m.type,w=m.stateNode;if(0==(64&m.flags)&&("function"==typeof k.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Ws||!Ws.has(w)))){m.flags|=4096,t&=-t,m.lanes|=t,so(m,as(m,o,t));break e}}m=m.return}while(null!==m)}wl(n)}catch(e){t=e,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function gl(){var e=Ss.current;return Ss.current=Ca,null===e?Ca:e}function yl(e,t){var n=Es;Es|=16;var r=gl();for(js===e&&Ts===t||fl(e,t);;)try{vl();break}catch(t){bl(e,t)}if(Qi(),Es=n,Ss.current=r,null!==Cs)throw Error(a(261));return js=null,Ts=0,Rs}function vl(){for(;null!==Cs;)kl(Cs)}function xl(){for(;null!==Cs&&!Si();)kl(Cs)}function kl(e){var t=qs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?wl(e):Cs=t,_s.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=es(n,t,As)))return void(Cs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ts(t)))return n.flags&=2047,void(Cs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Cs=t);Cs=t=e}while(null!==t);0===Rs&&(Rs=5)}function Sl(e){var t=Bi();return qi(99,_l.bind(null,e,t)),null}function _l(e,t){do{jl()}while(null!==Vs);if(0!=(48&Es))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Ht(o),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==Qs&&0==(24&r)&&Qs.has(e)&&Qs.delete(e),e===js&&(Cs=js=null,Ts=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Es,Es|=32,_s.current=null,Nr=Vt,mr(s=dr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,m=-1,p=-1,h=0,f=0,b=s,g=null;t:for(;;){for(var y;b!==l||0!==o&&3!==b.nodeType||(m=d+o),b!==c||0!==u&&3!==b.nodeType||(p=d+u),3===b.nodeType&&(d+=b.nodeValue.length),null!==(y=b.firstChild);)g=b,b=y;for(;;){if(b===s)break t;if(g===l&&++h===o&&(m=d),g===c&&++f===u&&(p=d),null!==(y=b.nextSibling))break;g=(b=g).parentNode}b=y}l=-1===m||-1===p?null:{start:m,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:s,selectionRange:l},Vt=!1,rl=null,il=!1,Hs=r;do{try{El()}catch(e){if(null===Hs)throw Error(a(330));Rl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);rl=null,Hs=r;do{try{for(s=e;null!==Hs;){var v=Hs.flags;if(16&v&&ge(Hs.stateNode,""),128&v){var x=Hs.alternate;if(null!==x){var k=x.ref;null!==k&&("function"==typeof k?k(null):k.current=null)}}switch(1038&v){case 2:fs(Hs),Hs.flags&=-3;break;case 6:fs(Hs),Hs.flags&=-3,vs(Hs.alternate,Hs);break;case 1024:Hs.flags&=-1025;break;case 1028:Hs.flags&=-1025,vs(Hs.alternate,Hs);break;case 4:vs(Hs.alternate,Hs);break;case 8:ys(s,l=Hs);var w=l.alternate;ps(l),null!==w&&ps(w)}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(a(330));Rl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);if(k=zr,x=dr(),v=k.focusedElem,s=k.selectionRange,x!==v&&v&&v.ownerDocument&&ur(v.ownerDocument.documentElement,v)){null!==s&&mr(v)&&(x=s.start,void 0===(k=s.end)&&(k=x),"selectionStart"in v?(v.selectionStart=x,v.selectionEnd=Math.min(k,v.value.length)):(k=(x=v.ownerDocument||document)&&x.defaultView||window).getSelection&&(k=k.getSelection(),l=v.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!k.extend&&w>s&&(l=s,s=w,w=l),l=cr(v,w),o=cr(v,s),l&&o&&(1!==k.rangeCount||k.anchorNode!==l.node||k.anchorOffset!==l.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&((x=x.createRange()).setStart(l.node,l.offset),k.removeAllRanges(),w>s?(k.addRange(x),k.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),k.addRange(x))))),x=[];for(k=v;k=k.parentNode;)1===k.nodeType&&x.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<x.length;v++)(k=x[v]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Vt=!!Nr,zr=Nr=null,e.current=n,Hs=r;do{try{for(v=e;null!==Hs;){var S=Hs.flags;if(36&S&&us(v,Hs.alternate,Hs),128&S){x=void 0;var _=Hs.ref;if(null!==_){var E=Hs.stateNode;switch(Hs.tag){case 5:x=E;break;default:x=E}"function"==typeof _?_(x):_.current=x}}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(a(330));Rl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,Pi(),Es=i}else e.current=n;if(Gs)Gs=!1,Vs=e,$s=t;else for(Hs=r;null!==Hs;)t=Hs.nextEffect,Hs.nextEffect=null,8&Hs.flags&&((S=Hs).sibling=null,S.stateNode=null),Hs=t;if(0===(r=e.pendingLanes)&&(Ws=null),1===r?e===Zs?Ks++:(Ks=0,Zs=e):Ks=0,n=n.stateNode,vi&&"function"==typeof vi.onCommitFiberRoot)try{vi.onCommitFiberRoot(yi,n,void 0,64==(64&n.current.flags))}catch(e){}if(cl(e,Di()),Ys)throw Ys=!1,e=Us,Us=null,e;return 0!=(8&Es)||Yi(),null}function El(){for(;null!==Hs;){var e=Hs.alternate;il||null===rl||(0!=(8&Hs.flags)?Ke(Hs,rl)&&(il=!0):13===Hs.tag&&ks(e,Hs)&&Ke(Hs,rl)&&(il=!0));var t=Hs.flags;0!=(256&t)&&cs(e,Hs),0==(512&t)||Gs||(Gs=!0,Hi(97,(function(){return jl(),null}))),Hs=Hs.nextEffect}}function jl(){if(90!==$s){var e=97<$s?97:$s;return $s=90,qi(e,Al)}return!1}function Cl(e,t){Js.push(t,e),Gs||(Gs=!0,Hi(97,(function(){return jl(),null})))}function Tl(e,t){Xs.push(t,e),Gs||(Gs=!0,Hi(97,(function(){return jl(),null})))}function Al(){if(null===Vs)return!1;var e=Vs;if(Vs=null,0!=(48&Es))throw Error(a(331));var t=Es;Es|=32;var n=Xs;Xs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Rl(o,e)}}for(n=Js,Js=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));Rl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Es=t,Yi(),!0}function Ll(e,t,n){ao(e,t=os(0,t=ns(n,t),1)),t=ol(),null!==(e=ll(e,1))&&(qt(e,1,t),cl(e,t))}function Rl(e,t){if(3===e.tag)Ll(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ll(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){var i=as(n,e=ns(t,e),1);if(ao(n,i),i=ol(),null!==(n=ll(n,1)))qt(n,1,i),cl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ws||!Ws.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ml(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ol(),e.pingedLanes|=e.suspendedLanes&n,js===e&&(Ts&n)===n&&(4===Rs||3===Rs&&(62914560&Ts)===Ts&&500>Di()-Ds?fl(e,0):Ns|=n),cl(e,t)}function Pl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Bi()?1:2:(0===tl&&(tl=Ps),0===(t=Bt(62914560&~tl))&&(t=4194304))),n=ol(),null!==(e=ll(e,t))&&(qt(e,t,n),cl(e,n))}function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Il(e,t,n,r)}function Nl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Nl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case _:return Bl(n.children,i,o,t);case N:s=8,i|=16;break;case E:s=8,i|=1;break;case j:return(e=Ol(12,n,t,8|i)).elementType=j,e.type=j,e.lanes=o,e;case L:return(e=Ol(13,n,t,i)).type=L,e.elementType=L,e.lanes=o,e;case R:return(e=Ol(19,n,t,i)).elementType=R,e.lanes=o,e;case z:return Fl(n,i,o,t);case D:return(e=Ol(24,n,t,i)).elementType=D,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case A:s=11;break e;case M:s=14;break e;case P:s=16,r=null;break e;case I:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ol(23,e,r,t)).elementType=z,e.lanes=n,e}function ql(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r){var i=t.current,o=ol(),s=al(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=fi(n,c,l);break e}}n=l}else n=si;return null===t.context?t.context=n:t.pendingContext=n,(t=oo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(i,t),sl(i,s,o),s}function Wl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}function $l(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yl(e,t,null!=n&&!0===n.hydrate),t=Ol(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ro(t),e[Jr]=n.current,Cr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Wl(a);s.call(e)}}Ul(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new $l(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Wl(a);l.call(e)}}!function(e,t){var n=Es;Es&=-2,Es|=8;try{e(t)}finally{0===(Es=n)&&(Fs(),Yi())}}((function(){Ul(t,a,e,i)}))}return Wl(a)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ci.current)Ma=!0;else{if(0==(n&r)){switch(Ma=!1,t.tag){case 3:Ha(t),Yo();break;case 5:Ro(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ai(Vi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Va(e,t,n):(ai(Po,1&Po.current),null!==(t=Ka(e,t,n))?t.sibling:null);ai(Po,1&Po.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Qa(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Po,Po.current),r)break;return null;case 23:case 24:return t.lanes=0,za(e,t,n)}return Ka(e,t,n)}Ma=0!=(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,li.current),eo(t,n),i=na(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ro(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&mo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,go(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,Pa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Nl(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===M)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=Ba(null,t,i,e,n);break e;case 1:t=Fa(null,t,i,e,n);break e;case 11:t=Ia(null,t,i,e,n);break e;case 14:t=Oa(null,t,i,Gi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,io(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=Ka(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(No=Yr(t.stateNode.containerInfo.firstChild),Oo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Uo.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Pa(e,t,r,n),Yo();t=t.child}return t;case 5:return Ro(t),null===e&&Fo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Br(r,i)?s=null:null!==o&&Br(r,o)&&(t.flags|=16),Da(e,t),Pa(e,t,s,n),t.child;case 6:return null===e&&Fo(t),null;case 13:return Va(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):Pa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ai(Vi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=or(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!ci.current){t=Ka(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=oo(-1,n&-n)).tag=2,ao(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),Zi(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Pa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,eo(t,n),r=r(i=to(i,o.unstable_observedBits)),t.flags|=1,Pa(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),Oa(e,t,i,o=Gi(i.type,o),r,n);case 15:return Na(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,eo(t,n),fo(t,r,i),go(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return Qa(e,t,n);case 23:case 24:return za(e,t,n)}throw Error(a(156,t.tag))},$l.prototype.render=function(e){Ul(e,this._internalRoot,null,null)},$l.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ul(null,e,null,(function(){t[Jr]=null}))},Ze=function(e){13===e.tag&&(sl(e,4,ol()),Vl(e,4))},et=function(e){13===e.tag&&(sl(e,67108864,ol()),Vl(e,67108864))},tt=function(e){if(13===e.tag){var t=ol(),n=al(e);sl(e,n,t),Vl(e,n)}},nt=function(e,t){return t()},je=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ei(r);if(!i)throw Error(a(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Me=function(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&(Fs(),Yi())}},Pe=function(e,t,n,r,i){var o=Es;Es|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Es=o)&&(Fs(),Yi())}},Ie=function(){0==(49&Es)&&(function(){if(null!==Qs){var e=Qs;Qs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cl(e,Di())}))}Yi()}(),jl())},Oe=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&(Fs(),Yi())}};var Ql={findFiberByHostInstance:Qr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},Kl={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=function(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{yi=Zl.inject(Kl),vi=Zl}catch(fe){}}t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return Xl(null,e,t,!1,n)}},73935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},69590:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(!o(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},15028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(79927).Z},45424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(45697),o=n.n(i),a=n(42473),s=n.n(a),l=n(41143),c=n.n(l),u=n(70452);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){return d(this,t),m(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){s()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,i=void 0,o=void 0;return r.Children.forEach(t,(function(t){if(null==i&&r.isValidElement(t)){var a=t.props,s=a.path,l=a.exact,c=a.strict,d=a.sensitive,m=a.from,p=s||m;o=t,i=(0,u.Z)(n.pathname,{path:p,exact:l,strict:c,sensitive:d},e.match)}})),i?r.cloneElement(o,{location:n,computedMatch:i}):null},t}(r.Component);p.contextTypes={router:o().shape({route:o().object.isRequired}).isRequired},p.propTypes={children:o().node,location:o().object};const h=p},79927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(42473),i=n.n(r),o=n(41143),a=n.n(o),s=n(67294),l=n(45697),c=n.n(l),u=n(70452),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){return 0===s.Children.count(e)},f=function(e){function t(){var n,r;m(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=p(this,e.call.apply(e,[this].concat(o))),r.state={match:r.computeMatch(r.props,r.context.router)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:d({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,o=e.strict,s=e.exact,l=e.sensitive;if(n)return n;a()(t,"You should not use <Route> or withRouter() outside a <Router>");var c=t.route,d=(r||c.location).pathname;return(0,u.Z)(d,{path:i,strict:o,exact:s,sensitive:l},c.match)},t.prototype.componentWillMount=function(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!h(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!h(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){i()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,o=this.context.router,a=o.history,l=o.route,c=o.staticContext,u={match:e,location:this.props.location||l.location,history:a,staticContext:c};return r?e?s.createElement(r,u):null:i?e?i(u):null:"function"==typeof n?n(u):n&&!h(n)?s.Children.only(n):null},t}(s.Component);f.propTypes={computedMatch:c().object,path:c().string,exact:c().bool,strict:c().bool,sensitive:c().bool,component:c().func,render:c().func,children:c().oneOfType([c().func,c().node]),location:c().object},f.contextTypes={router:c().shape({history:c().object.isRequired,route:c().object.isRequired,staticContext:c().object})},f.childContextTypes={router:c().object.isRequired};const b=f},70452:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(14779),i=n.n(r),o={},a=0,s=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=o[n]||(o[n]={});if(r[e])return r[e];var s=[],l={re:i()(e,s,t),keys:s};return a<1e4&&(r[e]=l,a++),l};const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,i=r.path,o=r.exact,a=void 0!==o&&o,l=r.strict,c=void 0!==l&&l,u=r.sensitive,d=void 0!==u&&u;if(null==i)return n;var m=s(i,{end:a,strict:c,sensitive:d}),p=m.re,h=m.keys,f=p.exec(e);if(!f)return null;var b=f[0],g=f.slice(1),y=e===b;return a&&!y?null:{path:i,url:"/"===i&&""===b?"/":b,isExact:y,params:h.reduce((function(e,t,n){return e[t.name]=g[n],e}),{})}}},83524:(e,t,n)=>{"use strict";var r,i=n(67294),o=(r=i)&&"object"==typeof r&&"default"in r?r.default:r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return l},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var a=i.prototype;return a.UNSAFE_componentWillMount=function(){c.push(this),u()},a.componentDidUpdate=function(){u()},a.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},a.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return a(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),a(d,"canUseDOM",s),d}}},83231:(e,t,n)=>{var r=n(67294);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},r.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),a=r.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},r.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function s(e){if(7===e.length)return e;for(var t="#",n=1;n<4;n+=1)t+=e[n]+e[n];return t}function l(e,t,n,r,i){return function(e,t,n,r,i){var o=(e-n)/(t-n);if(0===o)return r;if(1===o)return i;for(var a="#",s=1;s<6;s+=2){var l=parseInt(r.substr(s,2),16),c=parseInt(i.substr(s,2),16),u=Math.round((1-o)*l+o*c).toString(16);1===u.length&&(u="0"+u),a+=u}return a}(e,t,n,s(r),s(i))}var c=function(e){function t(t){e.call(this,t);var n=t.height,r=t.width,i=t.checked;this.t=t.handleDiameter||n-2,this.i=Math.max(r-n,r-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={s:i?this.i:this.o},this.n=0,this.e=0,this.h=this.h.bind(this),this.r=this.r.bind(this),this.a=this.a.bind(this),this.c=this.c.bind(this),this.l=this.l.bind(this),this.u=this.u.bind(this),this.f=this.f.bind(this),this.p=this.p.bind(this),this.b=this.b.bind(this),this.g=this.g.bind(this),this.v=this.v.bind(this),this.w=this.w.bind(this)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.componentDidUpdate=function(e){e.checked!==this.props.checked&&this.setState({s:this.props.checked?this.i:this.o})},t.prototype.k=function(e){this.y.focus(),this.setState({C:e,M:!0,m:Date.now()})},t.prototype.x=function(e){var t=this.state,n=t.C,r=t.s,i=(this.props.checked?this.i:this.o)+e-n;t.R||e===n||this.setState({R:!0});var o=Math.min(this.i,Math.max(this.o,i));o!==r&&this.setState({s:o})},t.prototype.S=function(e){var t=this.state,n=t.s,r=t.R,i=t.m,o=this.props.checked,a=(this.i+this.o)/2,s=Date.now()-i;!r||s<250?this.T(e):o?a<n?this.setState({s:this.i}):this.T(e):n<a?this.setState({s:this.o}):this.T(e),this.setState({R:!1,M:!1}),this.n=Date.now()},t.prototype.h=function(e){e.preventDefault(),"number"==typeof e.button&&0!==e.button||(this.k(e.clientX),window.addEventListener("mousemove",this.r),window.addEventListener("mouseup",this.a))},t.prototype.r=function(e){e.preventDefault(),this.x(e.clientX)},t.prototype.a=function(e){this.S(e),window.removeEventListener("mousemove",this.r),window.removeEventListener("mouseup",this.a)},t.prototype.c=function(e){this.$=null,this.k(e.touches[0].clientX)},t.prototype.l=function(e){this.x(e.touches[0].clientX)},t.prototype.u=function(e){e.preventDefault(),this.S(e)},t.prototype.p=function(e){50<Date.now()-this.n&&(this.T(e),50<Date.now()-this.e&&this.setState({M:!1}))},t.prototype.b=function(){this.e=Date.now()},t.prototype.g=function(){this.setState({M:!0})},t.prototype.v=function(){this.setState({M:!1})},t.prototype.w=function(e){this.y=e},t.prototype.f=function(e){e.preventDefault(),this.y.focus(),this.T(e),this.setState({M:!1})},t.prototype.T=function(e){var t=this.props;(0,t.onChange)(!t.checked,e,t.id)},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.className,o=e.offColor,a=e.onColor,s=e.offHandleColor,c=e.onHandleColor,u=e.checkedIcon,d=e.uncheckedIcon,m=e.boxShadow,p=e.activeBoxShadow,h=e.height,f=e.width,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","boxShadow","activeBoxShadow","height","width","handleDiameter"]),g=this.state,y=g.s,v=g.R,x=g.M,k={position:"relative",display:"inline-block",textAlign:"left",opacity:t?.5:1,direction:"ltr",borderRadius:h/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},w={height:h,width:f,margin:Math.max(0,(this.t-h)/2),position:"relative",background:l(y,this.i,this.o,o,a),borderRadius:h/2,cursor:t?"default":"pointer",WebkitTransition:v?null:"background 0.25s",MozTransition:v?null:"background 0.25s",transition:v?null:"background 0.25s"},S={height:h,width:Math.min(1.5*h,f-(this.t+h)/2+1),position:"relative",opacity:(y-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},_={height:h,width:Math.min(1.5*h,f-(this.t+h)/2+1),position:"absolute",opacity:1-(y-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},E={height:this.t,width:this.t,background:l(y,this.i,this.o,s,c),display:"inline-block",cursor:t?"default":"pointer",borderRadius:"50%",position:"absolute",transform:"translateX("+y+"px)",top:Math.max(0,(h-this.t)/2),outline:0,boxShadow:x?p:m,border:0,WebkitTransition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"};return r.createElement("div",{className:n,style:k},r.createElement("div",{className:"react-switch-bg",style:w,onClick:t?null:this.f,onMouseDown:function(e){return e.preventDefault()}},u&&r.createElement("div",{style:S},u),d&&r.createElement("div",{style:_},d)),r.createElement("div",{className:"react-switch-handle",style:E,onClick:function(e){return e.preventDefault()},onMouseDown:t?null:this.h,onTouchStart:t?null:this.c,onTouchMove:t?null:this.l,onTouchEnd:t?null:this.u,onTouchCancel:t?null:this.v}),r.createElement("input",i({},{type:"checkbox",role:"switch",disabled:t,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},b,{ref:this.w,onFocus:this.g,onBlur:this.v,onKeyUp:this.b,onChange:this.p})))},t}(r.Component);c.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:o,checkedIcon:a,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},t.default=c},59936:(e,t,n)=>{e.exports=n(83231)},75251:(e,t,n)=>{"use strict";n(27418);var r=n(67294),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},72408:(e,t,n)=>{"use strict";var r=n(27418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var m="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f={};function b(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||h}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||h}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=b.prototype;var v=y.prototype=new g;v.constructor=y,r(v,b.prototype),v.isPureReactComponent=!0;var x={current:null},k=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+j(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+j(s=e[c],c);l+=C(s,t,n,u,a)}else if("function"==typeof(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,n,u=r+j(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var L={current:null};function R(){var e=L.current;if(null===e)throw Error(p(321));return e}var M={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(p(143));return e}},t.Component=b,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k.call(t,u)&&!w.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.1"},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},85893:(e,t,n)=>{"use strict";e.exports=n(75251)},35666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?h:m,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",f={};function b(){}function g(){}function y(){}var v={};l(v,o,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==n&&r.call(k,o)&&(v=k);var w=y.prototype=b.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:L}}function L(){return{value:t,done:!0}}return g.prototype=y,l(w,"constructor",y),l(y,"constructor",g),g.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(_.prototype),l(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,s,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},60053:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var f=!1,b=null,g=-1,y=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();v=e+y;try{b(!0,e)?k.postMessage(null):(f=!1,b=null)}catch(e){throw k.postMessage(null),e}}else f=!1},n=function(e){b=e,f||(f=!0,k.postMessage(null))},r=function(e,n){g=m((function(){e(t.unstable_now())}),n)},i=function(){p(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>E(a,n))void 0!==l&&0>E(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>E(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var j=[],C=[],T=1,A=null,L=3,R=!1,M=!1,P=!1;function I(e){for(var t=S(C);null!==t;){if(null===t.callback)_(C);else{if(!(t.startTime<=e))break;_(C),t.sortIndex=t.expirationTime,w(j,t)}t=S(C)}}function O(e){if(P=!1,I(e),!M)if(null!==S(j))M=!0,n(N);else{var t=S(C);null!==t&&r(O,t.startTime-e)}}function N(e,n){M=!1,P&&(P=!1,i()),R=!0;var o=L;try{for(I(n),A=S(j);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"==typeof a){A.callback=null,L=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?A.callback=s:A===S(j)&&_(j),I(n)}else _(j);A=S(j)}if(null!==A)var l=!0;else{var c=S(C);null!==c&&r(O,c.startTime-n),l=!1}return l}finally{A=null,L=o,R=!1}}var z=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||R||(M=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return S(j)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,w(C,e),null===S(j)&&e===S(C)&&(P?i():P=!0,r(O,a-s))):(e.sortIndex=l,w(j,e),M||R||(M=!0,n(N))),e},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},63840:(e,t,n)=>{"use strict";e.exports=n(60053)},7920:(e,t,n)=>{"use strict";n.d(t,{Z:()=>He});var r=n(85893),i=n(59713),o=n.n(i),a=n(45424),s=n(15028),l=n(63038),c=n.n(l),u=n(67294),d=n(45697),m=n.n(d),p=n(41143),h=n.n(p),f=n(19768),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},x=function(e){function t(){var n,r;g(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!v(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?t.replace(o):t.push(o)}},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);h()(this.context.router,"You should not use <Link> outside a <Router>"),h()(void 0!==t,'You must specify the "to" property');var i=this.context.router.history,o="string"==typeof t?(0,f.ob)(t,null,null,i.location):t,a=i.createHref(o);return u.createElement("a",b({},r,{onClick:this.handleClick,href:a,ref:n}))},t}(u.Component);x.propTypes={onClick:m().func,target:m().string,replace:m().bool,to:m().oneOfType([m().string,m().object]).isRequired,innerRef:m().oneOfType([m().string,m().func])},x.defaultProps={replace:!1},x.contextTypes={router:m().shape({history:m().shape({push:m().func.isRequired,replace:m().func.isRequired,createHref:m().func.isRequired}).isRequired}).isRequired};const k=x;var w=n(42473),S=n.n(w),_=n(14779),E=n.n(_),j={},C=0,T=function(e){var t=e,n=j[t]||(j[t]={});if(n[e])return n[e];var r=E().compile(e);return C<1e4&&(n[e]=r,C++),r};const A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=T(e);return n(t,{pretty:!0})};var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){return R(this,t),M(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=(0,f.ob)(e.to),n=(0,f.ob)(this.props.to);(0,f.Hp)(t,n)?S()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"==typeof n?A(n,t.params):L({},n,{pathname:A(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(u.Component);P.propTypes={computedMatch:m().object,push:m().bool,from:m().string,to:m().oneOfType([m().string,m().object]).isRequired},P.defaultProps={push:!1},P.contextTypes={router:m().shape({history:m().shape({push:m().func.isRequired,replace:m().func.isRequired}).isRequired,staticContext:m().object}).isRequired};const I=P;var O=n(94184),N=n.n(O);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e,t){return D(D({},{fontSize:0===e?"14px":"12px"}),{},"menuItem"===t?{paddingLeft:"".concat(21+16*e,"px")}:{paddingLeft:"".concat(16*e,"px")})},F=(0,u.createContext)(void 0),q=function(e){var t=e.children,n=e.value;return(0,r.jsx)(F.Provider,{value:n,children:t})},H=function(){return(0,u.useContext)(F)},Y=n(34666),U=n.n(Y);var W=n(50008),G=n.n(W);function V(e){var t=e.isShow,n=e.children,i=(0,u.useRef)(!1),o=(0,u.useRef)(null),a=(0,u.useRef)({}),s=function(){o.current.style.height="0px"},l=(0,u.useCallback)((function(){var e=o.current;e.style.display="block",e.style.height=""}),[]),c=(0,u.useCallback)((function(){var e=o.current;e.style.display="block",0!==e.scrollHeight&&(e.style.height="".concat(e.scrollHeight,"px")),a.current.enterTimer=setTimeout((function(){return l()}),200)}),[l]),d=(0,u.useCallback)((function(){var e=o.current;e.style.display="block",0!==e.scrollHeight&&(e.style.height="".concat(e.scrollHeight,"px"))}),[]),m=(0,u.useCallback)((function(){var e=o.current;e.style.display="none",e.style.height=""}),[]),p=(0,u.useCallback)((function(){var e=o.current;0!==e.scrollHeight&&(e.style.height="0px"),a.current.leaveTimer=setTimeout((function(){return m()}),200)}),[m]),h=(0,u.useCallback)((function(e){clearTimeout(a.current.enterTimer),clearTimeout(a.current.leaveTimer),e?(s(),c()):(d(),p())}),[d,c,p]);return(0,u.useLayoutEffect)((function(){i.current?h(t):(i.current=!0,s(),t&&c())}),[c,t,h]),(0,r.jsx)("div",{className:U()["collapse-transition"],ref:o,children:n})}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var J=function(e){var t=e.theme,n=void 0===t?"light":t,i=e.children,a=e.selectedKey,s=e.onSelect,l=void 0===s?function(){}:s,d=e.inlineCollapsed,m=void 0!==d&&d,p=e.defaultOpenKeys,h=void 0===p?[]:p,f=e.menuStyle,b=e.toggle,g=(0,u.useState)(""),y=c()(g,2),v={theme:n,mode:"inline",inlineCollapsed:m,defaultOpenKeys:h,selectedKey:a,onSelect:l,hoverKey:y[0],onHoverKey:y[1]};return(0,r.jsxs)(q,{value:v,children:[(0,r.jsx)("div",{className:N()(U().toggle,o()({},"".concat(U()["toggle-collapsed"]),m)),onClick:b,children:(0,r.jsx)("i",{className:N()(U()["toggle-icon"],o()({},"".concat(U()["toggle-icon-close"]),m))})}),(0,r.jsx)("ul",{className:N()(U().menu,U()["menu-".concat(n)],U()["menu-inline"],o()({},U()["menu-inline-collapsed"],m)),style:f,children:i})]})};J.Item=function(e){var t=e.title,n=void 0===t?"":t,i=e.icon,a=e.keyValue,s=void 0===a?"":a,l=e.level,c=void 0===l?0:l,u=H(),d=u.theme,m=u.selectedKey,p=u.onSelect,h=u.onHoverKey;return(0,r.jsxs)("li",{className:N()(U()["menu-item"],U()["menu-".concat(d)],o()({},U()["menu-item-selected"],s.indexOf(m)>-1)),onMouseEnter:function(){h(s)},onMouseLeave:function(){return h("")},onClick:function(){p(s)},style:B(c,"menuItem"),children:[i?(0,r.jsx)("span",{className:N()(U()["menu-icon"]),children:i}):null,(0,r.jsx)("span",{className:N()(U()["menu-item-title"]),children:n})]})},J.SubMenu=function(e){var t,n,i,a,s,l=e.children,d=e.title,m=e.icon,p=e.level,h=void 0===p?0:p,f=e.keyValue,b=void 0===f?"":f,g=e.onTitleClick,y=void 0===g?function(){}:g,v=H(),x=v.selectedKey,k=v.mode,w=v.hoverKey,S=v.onHoverKey,_=v.defaultOpenKeys,E=void 0===_?[]:_,j=(0,u.useState)(-1!==E.indexOf(b)),C=c()(j,2),T=C[0],A=C[1],L=(0,u.useRef)(null),R=(0,u.useRef)(null),M=(!1,t=(0,u.useRef)(false),n=(0,u.useState)(false),a=(i=c()(n,2))[0],s=i[1],t.current=a,[function(){return t.current},function(e){t.current=e,s(e)}]),P=c()(M,2),I=P[0],O=P[1];return(0,u.useLayoutEffect)((function(){R.current&&L.current&&(R.current.style.left="".concat(L.current.getBoundingClientRect().right+4,"px"),R.current.style.top="".concat(L.current.getBoundingClientRect().top,"px"))}),[I()]),(0,r.jsxs)("li",{className:N()(U().menu,U().submenu,U()["submenu-".concat(k)],o()({},U()["submenu-selected"],function e(t){return u.Children.toArray(t).some((function(t){if(!t||"object"!==G()(t))return!1;var n=t,r=n.props.keyValue,i=r?String(r):"";return"MenuItem"===n.type.name?-1!==x.split("").indexOf(i)||w===i:"SubMenu"===n.type.name&&(e(n.props.children)||w===i)}))}(l))),onMouseEnter:function(){return S(b)},ref:L,children:[(0,r.jsxs)("div",{className:N()(U()["submenu-title"]),style:B(h,"subMenu"),onClick:function(){y(b),"inline"===k&&A(!T)},onMouseEnter:function(){O(!0),S(b)},onMouseLeave:function(){S("")},children:[(0,r.jsx)("i",{className:N()(U()["submenu-arrow"],o()({},U()["submenu-arrow-open"],"inline"===k&&T))}),m?(0,r.jsx)("span",{className:N()(U()["menu-icon"]),children:m}):null,(0,r.jsx)("span",{className:N()(U()["submenu-title-field"]),children:d})]}),"inline"===k?(0,r.jsx)(V,{isShow:T,children:(0,r.jsx)("ul",{className:N()(U().menu,U().submenu),children:function e(t){return(0,r.jsx)(r.Fragment,{children:u.Children.map(t||l,(function(t){if(!t||"object"!==G()(t))return null;var n,r=t;return((n=r).type?n.type===u.Fragment:n===u.Fragment)&&r.props.children?e(r.props.children):(0,u.cloneElement)(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({level:h+1},r.props))}))})}()})}):null]})};const X=J;var Q=n(6479),K=n.n(Q),Z={folder:'<svg viewBox="0 0 1024 1024"><defs/><path d="M838 151H450a94 94 0 00-94-91H184c-52 0-94 42-94 94v595c0 51 42 93 94 93h654c52 0 94-42 94-93V244c0-51-42-93-94-93zm-654-31h172c19 0 35 15 35 34v26c0 17 13 30 29 30h418c19 0 34 15 34 34v27H150V154c0-19 15-34 34-34zm654 663H184a34 34 0 01-34-34V330h722v419c0 19-15 34-34 34z"/></svg>',file:'<svg viewBox="0 0 1024 1024"><defs/><path d="M512 320H256v-64h256v64zM256 512h448v-64H256v64zm0 128h448v-64H256v64zm0 128h448v-64H256v64zm640-480v608c0 35-29 64-64 64H192c-35 0-64-29-64-64V128c0-35 29-64 64-64h480l224 224zm-64 32L640 128H192v768h640V320z"/></svg>',edit:'<svg viewBox="0 0 1026 1024"><defs/><path d="M308 709l56-122 70 68-126 54zm96-171l366-353 82 80-366 352-82-79zm550-371l-51 48-82-80 50-48c8-8 24-6 32 2l49 47c5 5 8 11 8 18 0 5-3 9-6 13zM314 530l-2 3-52 184c-3 11 0 23 8 31 6 5 14 9 23 9l8-2 190-49h1a8 8 0 006-3l508-489c15-14 23-34 23-55 0-25-11-49-29-67l-49-47c-19-18-43-28-69-28-23 0-43 8-58 23L315 528l-1 2zM101 0C45 0 0 45 0 100v824c0 54 45 99 101 99h806c56 0 101-45 101-99V398h-86v451c0 49-41 88-90 88H176c-49 0-90-39-90-88V173c0-48 41-88 90-88h457V0H101z"/></svg>',"update-time":'<svg viewBox="0 0 1024 1024"><defs/><path d="M649 649c-4 0-7 0-11-4L502 543c-4-4-7-7-7-14V222c0-10 7-17 17-17s17 7 17 17v300l130 96c7 7 10 17 3 24-3 3-7 7-13 7z"/><path d="M512 922a409 409 0 01-382-270c-4-10 0-17 10-21 10-3 17 0 20 11a376 376 0 00352 245c205 0 375-167 375-375 0-10 7-17 18-17s17 7 17 17c0 225-185 410-410 410zM119 529c-6 0-17-7-17-17a409 409 0 01792-140c4 10 0 17-10 21-10 3-17 0-20-11a376 376 0 00-352-245 377 377 0 00-375 375c0 10-7 17-18 17z"/><path d="M119 563c-3 0-10 0-13-3l-86-86c-6-6-6-17 0-23s18-7 24 0l72 71 72-71c7-7 17-7 24 0s6 17 0 23l-86 86c4 3-3 3-7 3zM990 580c-4 0-10 0-14-3l-71-72-72 72c-7 7-17 7-24 0s-7-17 0-24l85-85c7-7 17-7 24 0l86 85c6 7 6 17 0 24-4 3-11 3-14 3z"/></svg>',"create-time":'<svg viewBox="0 0 1024 1024"><defs/><path d="M512 67a445 445 0 100 890 445 445 0 000-890zm0 849a404 404 0 110-808 404 404 0 010 808zm222-404H532V249a20 20 0 00-40 0v283c0 11 9 20 20 20h222a20 20 0 000-40z"/></svg>',search:'<svg viewBox="0 0 1024 1024"><defs/><path d="M401 801a401 401 0 110-801 401 401 0 010 801zm0-89a312 312 0 100-623 312 312 0 000 623z"/><path d="M668 602l315 315-63 63-315-315z"/></svg>'};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){return e.split("svg")[1]};var re=n(69833),ie=n.n(re);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const se=function(e){var t=e.type,n=e.color,i=e.prefixCls,a=void 0===i?"icon":i,s=e.size,l=e.style,c=e.className,d=K()(e,["type","color","prefixCls","size","style","className"]);(0,u.useEffect)((function(){!function(e){var t=e.type,n=e.svgContent;if(document){var r=document.getElementById("__CRD_SVG_SPRITE_NODE__"),i=document.body;if(r){if(n){var a=r.children[0],s=a.children;if(-1!==(s?[].slice.call(s).map((function(e){return e.id})):[]).indexOf(t))return;a.innerHTML+="<symbol id=".concat(t).concat(ne(n),"symbol>")}}else i&&"function"==typeof i.insertAdjacentHTML&&i.insertAdjacentHTML("afterbegin",function(e){var t=e.svgContent,n=e.type,r=t?o()({},"".concat(n),t):{},i=te(te({},Z),r),a=Object.keys(i).map((function(e){var t=ne(i[e]);return"<symbol id=".concat(e).concat(t,"symbol>")})).join("");return'\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    id="__CRD_SVG_SPRITE_NODE__"\n    style="display:none;overflow:hidden;width:0;height:0"\n  >\n    <defs>\n      '.concat(a,"\n    </defs>\n  </svg>\n")}(e))}}(e)}),[t]);var m=N()(ie()[a],c),p=ae({},l);n&&(p.color=n),s&&(p.fontSize=s);var h=function(e,t){return Object.keys(e).filter((function(e){return-1===t.indexOf(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}(d,["svgContent"]);return(0,r.jsx)("svg",ae(ae({className:m,style:p},h),{},{children:(0,r.jsx)("use",{xlinkHref:"#".concat(t)})}))};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ue=function(e){var t=e.offsetTop,n=e.offsetBottom,i=e.children,o=e.target,a=e.onChange,s=e.className,l=e.wrapperClassName,d=e.style,m=e.width,p=e.affixStyle,h=(0,u.useRef)(null),f=(0,u.useRef)(null),b=(0,u.useRef)(m),g=(0,u.useState)({}),y=c()(g,2),v=y[0],x=y[1],k=window,w=(0,u.useRef)(!1),S=(0,u.useState)(w.current),_=c()(S,2),E=_[0],j=_[1];(0,u.useLayoutEffect)((function(){b.current=m}),[m]);var C,T,A,L,R=function(e){return"number"==typeof e},M=function(){w.current=!w.current,j(w.current)},P=(C=function(){var e=h.current&&h.current.getBoundingClientRect();if(e){var r=e.top,i=e.bottom,o={width:"number"==typeof b.current?b.current:h.current&&h.current.getBoundingClientRect().width,zIndex:999},s=0,l=0;if(k===window)i=window.innerHeight-i;else{var c=k&&k.getBoundingClientRect();r-=s=c&&c.top,i=(l=c&&c.bottom)-i}R(t)&&r<=t||R(n)&&i<=n?w.current||(o.position="fixed",R(t)&&(o.top=t+s),R(n)&&(o.bottom=k===window?i:window.innerHeight-(l-n)),a&&a(!0),M(),x(o)):w.current&&(o.position="relative",a&&a(!1),M(),x(o))}},20,function(){var e=this,t=arguments;T?(clearTimeout(A),A=setTimeout((function(){20-(Date.now()-L)<=0&&(C.apply(e,t),L=Date.now())}),Math.max(20-(Date.now()-L),0))):(C.apply(e,t),L=Date.now(),T=!0)});return(0,u.useLayoutEffect)((function(){var e,t,n;t=(e=f.current?f.current.getBoundingClientRect():{}).width,n=e.height,h.current&&(h.current.style.height="".concat(n,"px")),h.current&&(h.current.style.width="".concat("number"==typeof m?m:t,"px")),f.current&&(f.current.style.width="".concat("number"==typeof m?m:t,"px"))}),[E,m]),(0,u.useLayoutEffect)((function(){return o&&(k=o()),k.addEventListener("scroll",P),function(){o&&(k=o()),k.removeEventListener("scroll",P)}}),[t,n]),(0,r.jsx)("div",{ref:h,style:d,className:s,children:(0,r.jsx)("div",{ref:f,className:l,style:ce(ce(ce({},{position:"relative"}),v),p),children:i})})};var de=n(59936),me=n(17862),pe=!!n.n(me)()()&&"ontouchend"in window,he=window.__PRERENDER_INJECTED&&window.__PRERENDER_INJECTED.prerender,fe=!he,be=n(15780),ge=n.n(be);const ye=function(e){var t=e.placeholder,n=void 0===t?"Search":t,i=e.className,o=(0,u.useState)(""),a=c()(o,2),s=a[0],l=a[1];return(0,u.useEffect)((function(){}),[s]),(0,r.jsxs)("div",{className:N()(ge().search,i),children:[(0,r.jsx)(se,{type:"search",size:"14"}),(0,r.jsx)("input",{placeholder:n,value:s,onChange:function(e){l(e.target.value)}})]})};var ve=n(65567),xe=n.n(ve);const ke=function(e){var t=e.className,n=e.logo,i={title:"Time Flying",menu:["React","BasicSkill","FeCloud","TypeScript","Algorithm","LeetCode","Product","RaspberryPi"],menuOpenKeys:"/BasicSkill",theme:"crd-seed",user:"MuYunyun",repo:"blog",branch:"main",deploy_branch:"gh-pages","github-ribbons":!0,domain:"https://muyunyun.cn",seo:{google:!0},language:"en",inject:"injectLogic.js",abbrlink:!0}||{},o=i.user,a=i.repo,s=(0,u.useState)(!1),l=c()(s,2),d=l[0],m=l[1];return(0,r.jsxs)("div",{className:N()(xe().header,t),children:[(0,r.jsxs)("div",{className:xe().wrapper,children:[(0,r.jsx)(k,{to:"/",replace:!0,className:xe().titleLink,children:(0,r.jsxs)("div",{className:xe().logo,children:[n&&(0,r.jsx)("img",{alt:"logo",src:n}),!pe&&(0,r.jsx)("span",{children:"Time Flying"})]})}),{title:"Time Flying",menu:["React","BasicSkill","FeCloud","TypeScript","Algorithm","LeetCode","Product","RaspberryPi"],menuOpenKeys:"/BasicSkill",theme:"crd-seed",user:"MuYunyun",repo:"blog",branch:"main",deploy_branch:"gh-pages","github-ribbons":!0,domain:"https://muyunyun.cn",seo:{google:!0},language:"en",inject:"injectLogic.js",abbrlink:!0}.search?(0,r.jsx)(ye,{className:xe().search}):null]}),(0,r.jsxs)("div",{className:xe().rightArea,children:[(0,r.jsx)(de.default,{className:xe()["no-dark-mode"],onChange:function(e){e?document.body.classList.add(xe().darkMode):document.body.classList.remove(xe().darkMode),m(e)},checked:d,width:50,height:24,offColor:"#0f1114",onColor:"#0f1114",uncheckedIcon:(0,r.jsx)("img",{className:xe().sun,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAABwNJREFUWAmtV1tsFFUY/s6Z2d22zLYlZakUCRVaQcqlWIiCiS1gTEB9UAO+GR9En3iQGI0xJiSiRB98MjEq8cEQTSBeHhQM0V7whtEGDWC90BYitxahtNtu25058/v/ZzvLbilawJNM5+yZ89+//1LgJhYRNLW1uDfBAvpGiIk2O5auvfFxqIH3ZJ8/u06GN6Z9+wVl5SjcD1IbZa/UPkPyYl2uR4dreoD2bnbYxTlBBRytkHXtAREphP5KuH4lddx9h70yxX05t7yYXwGb6W8nx1jibpl2rFlGBxcG9M18okOrn7Bnk/BAO/4bI0UeEE1zjBp3UmvjOxJXJdaKN/ZiIu4tOZrAb4aTdZAZArKmWeiiJZ6jt5tiagdCS9+6cgO1Ne6Mvhe+ixTIfyDVhipnK9p+P0Edqx9RW/YZtQVGmOLChRxNNlyPsTEgPQKMB3dbEHa0h1awYmQ83enTd2vmUtvKd1Glv2RkzBb+kZGRrKtjzG60Wguhd/lJZBingbcfWWe72vjT75bJDrhYtvA0hrurETDr5HyF2Knb1MM4ab//xIoOqueA0edRnkkinTyJdYvqLFDZO4zUPFCvVoDjJq4T7TE61IWh4x5KqxX5KVKkX8WZ/t2ov2cb3MHt4dhIyOxIJxJOOF6xRx/99BksXLoecWcXytILMNBDqKpnGZWPquYfPxY8iXGR9fK+SgFrgcRPXPjVqhehL+3EmZ5RGJQi1QBU8TPThQnOQzm+5UXGIcetUeEAfP13VwzpI+w1jGJWdSliNfvVhiMPiOsllJag4M/UGHiqM6dlBb2OTLKHHV6KkvogrJ4XhBWniWK/Gp1MQyf93FOeUXKmKk/FzJxbQtKLjFXYT4USupy8fQVir2ynVEBiZMG0qtOHMS/AW4Gwrk7BG3C1F0B5nqNKE0CME4MfVRLPnXkBKe+ipvoFhNQywOhdghvLi0F8ReyVXV4BKTBRbbe5f64zR/DHsdZw1hJfeWlHl/GNRJzDxrd5m192z78TMaVnKELZoINZS4BzQ7vtnZljSnha/pPCbkuxzXcupYwI5tIeCpGc0Yp9tWHZQy/rmYhRfNgg4bHJBYLzGkxsRJF4XKlE2jBOHNSv3kY7Tj6vthzPFl61BrYwqFlmEQhtSVXmLiksxLmtRgYXI1ULU61JJ4eVKmG3/5sCVgpbMT6OMJ2E08/29Xf3w6v4FnHdCjfWgXu/O8Z5mLdCkeRs2khHe1DqOtQwbHWTAnM5S2HNmhALYo5KjkPFrMMKjZl6HxhWIAb0BqE+/73GrBRQUsKYiBu4JX8ycI6wtw+i5ef3NZpsrKVSHYCP37jwGDgeE1SA0S/xtl5SU2fs1ApEp0qTLVRjgyycDSsLHMSwmFltZMStR3uLLg6BdLhDa5dC6ryU2pHBe1BVO9tUcwfitJt2CLJZUHoG6T7Op75u0IyK31TCPcwFqgPk/KCaD3dFOuZBCO7xvCT/j048b3I3c7F2+WuOW7qdgkucFYlcQ4qop3yzTX7WaKfOCccye3Ts1Etq0+a/BHCF1yPgF3tAUkR6OrtGmo6gl94qqcXKh3rDyrOkPa58URoWcov2Mo6M+0QjrqKB+b7++oMa9Sz+ZkM0mie6aAtnGUvhmxaI+TogPOSQedgWioGSHFLn3v4kLh4HRspNmOGv41k+55siLFp2z6xYeJjhljFcbmxJlr4ga06TbevSByz/glQq4BJx46/c+237PbBqEYKxX3HpmKZEnQnr65X20hqJYaNcLoFOLiJk2LuBbyg7Q0OEn+hm0P3honxFD6rdxYorKpeIoi4YSSvyQHQIbM5t4+YNxLj/OxhVOOE4585qGpjnq+wSx6Q9CtNxTjd5klB+g6Mv36r0+b9cZFi44WYkHdG2ZWb3TtOUOXyVAlKlpGvJIAJ3eBMyfYS5C0qRZGtC85j+4sOasDe9xznPYezhhO/2Q6eP2fSOvYHOjtuQ1a9Q1VKynVDaMc8E0tptdxUsTFpFIYjcZKcbnoaQTNdiqCwNlL4G7oziSqGnT1ALf34vhk4R5zU3qYV9ONp9K88RtouShE68JwaU8dFw5W617shWa9ykeaBIn2hcsvPgL00k45QdTCZuSVcTRNs+8fnyLvooQfR5iujAnR9bxfY2xOVOxFS8SK3Le0l48VyYu1M8HRe5JD8wKPTjYnifaK3Wfn/GChYQ8ZAi6WRzWgqLV5YrsVLnZaVSoXU1g9gOIDwFySiGi+Zdrnzr7J3r+SMuszlcQCRn8lNGcTuSy2jOI7o9mxjZo+vR3ej3tN+ifRSOyUTS0+VMOid93cCubeiy/6TImS0QxRSCq2vxKr45zV+FQnjWH6D2xg+E9EatLcLAdHTgtGGD80D6jM0+aOl4wJgO/f96R2aJKCQ3yvgftRhdFMOpd6oAAAAASUVORK5CYII=",width:"16",height:"16",role:"presentation",alt:"sun"}),checkedIcon:(0,r.jsx)("img",{className:xe().moon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAABlJJREFUWAm1V3tsFEUcntnXvXu0tBWo1ZZHihBjCEWqkHiNaMLDRKOtQSKaiCFKQtS/SbxiFCHGCIkmkBSMwZhQNTFoQZD0DFiwtCDFAkdDqBBBKFj63rvdnfH7zfVo5aFBj0l2Z/dm5vd98/0es8dYjlpr62azufnDQNZcU1PciMfjWvb9rvZSMk4Ayfb36pLH13189GC8LAtIRLLPt+pzwrCuLq4ISEv/gHmitrAwfPbEkXc/ad4dL6iujrvyX0jcitgd/yZlZqftP6995Mr5TVLa22Tn8XVX2g/XLSRjUu7Q79jonS7I7hS7/0oOb5VyqF52n98oj7esXX07EjlxwXWisRmSnm3b29TTM8iYrjmFBWExubxwY/uhNas4r/WySl1fc5cetDMd7ydl+lMJJRw5WC8ud62Xx5rfepzwxgZmbhUYNS5Stvsj4yo2GXJEFBVHWDBkfdbR9HpYBaaUajDnBLKKpl1xRKYcgGtMCqEzTaSnThk/SQT0uJqTqFNBmXMCsZE48DzRZRMBRjv1GHNdk3HBImF9ZUvTyxM40pMKVc4JZBXQOLOFoDeKSxdp6HIQcO4rjYT9fn0pjbz9GLt7BAAODmjSVReXUMFzNW5x5vfxp2mIxZjIuQKJxAmFa+is2DQJJQ0JyBVExNOYcJnPxx/6/utnijmP555ALEagKAGGnGn64QORBjARcIA/yJk7JMJBLRrNtybTvH88KGjCf2jK86bhzmMcwDKFZEQvbIhxFYhChoMWMzU2iWznlIBEVJOsP+1bdX/ALx9l7jApADeDAEcMkE90JnUmmGl4USKQ0xhoW3JB5XY0YrxYWhLwMZZypUyjDGH35AbNwgUGiFBPpuGbHCpAOV1ZGXf2f/taftAv31DyeymN2d1IhAFAwTOmnzF/kKcdh3me7CYCOVNgycju84u8DeVlwfFq9/ZlTfldYrMUjOlrkjkD+rU+WzCROkcEchIDHR011syZW9JHD7y07N6JvhWMpz3pugaTkB6lWFVCKkhck0zzeMp2utq+uHrmfxOgoCO/Z8CXPlEQ1bdH8wgvhSIkEG0ICcQeExIFGdimjvKka7btJFZuaXOammIGKUCFQ53j9EN1dYKWqHf0t2w407W2tgs6h89ZnImjB55flh81tt9XirjjDuSl+oIPRQ0iWPgNZ5GqTqbBe3vSzEl5n5PhWKwocyR2HlqYN61qV18WjYjE8JLARZPQsUSim8foIRYTlGr02Ly7piASFRtKJ4VfieYhxdS2JcDVMN6xVOKZyrCGm8b108lrLRVzvptLH7IoEFLFANes6KnDi+uxfmvFnF17oALq5u1agu3/YfHkcSFzeSggV5eXRfIB7CHNcO5SUI+Ih5Ir7f4MAV9IqdFzdZgNpZw1Gcs1mNvgGbTbqQ9/cz7ZuuhgyYRQ49ljTyWHhr2DwpNHHFf+5gnWZ3Bharo+0TD5dNMw5vv9RlVpSRDHK4TlnoukhtYApuOHejSZQuo5g/A9BysdKRCyLl6062fN37OXMDlvUJtUrtmxo0avrW3wTrYs3jJ9RvRVChrmSmanPMpX2OXMsmDGh6AiEIwBAlvkOqIdBy+8JyAz8pz7QxiDth4KDy5uAlwzrWTnwC8Vc4KVAMZ3YUZ+IqoIjP3h5KFFX1ZMy3uW+7RhEDHgTi0zC9rS7uhPCDiNrGFyqBeERtKN/B0YlyFCkw0NJ5C0Ojv7zvT1a1WV1TuvZDdL4NTgB7CASYpsen6gqvG5jmTf5qHedADgkBl3D0nkSgNhZACDyi0FUKZRr3IdRjgN4WPPoFMIIegIK3mqd38fS80mcJKelM4szNyzZtQbkchGePuBRS8Eg9pHU8ojRQpSqs+ajAIwTjjUMQ/nvTNM0kicwYxZIYMh/891DYi+fvedB+c1xsm4lDU6ya+Axtz+RiAzEVYbajQOpq17F0R9QevNcEhfcU+xvyQQUalGJBSesqOkgPQ4YNyUZL9fSvUPDjoNAwN8/dwFjaczNkc3ptaMud1EIDtGcmXTcefO2cGSvKIFfp/2JIJxlq7xEl3nVPM4fDeIbPkD16/ptNc0bDu7qxbsu0R2JGywWMIjF2ft3tjfloAyQAGXiOn8hrqwbVvMXzaO+QeHXP6nF0wvX74Hf4NGG5GPjSlYoyM3P/0FbCT6zvM/yYoAAAAASUVORK5CYII=",width:"16",height:"16",role:"presentation",alt:"moon"})}),(0,r.jsx)("a",{href:"https://github.com/".concat(o,"/").concat(a),className:xe()["github-corner"],title:"Star me on GitHub","aria-label":"Follow me on GitHub",rel:"noopener",target:"_blank",children:(0,r.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true",children:[(0,r.jsx)("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),(0,r.jsx)("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"white",style:{transformOrigin:"130px 106px"},className:xe()["octo-arm"]}),(0,r.jsx)("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"white"})]})})]})]})};var we=n(11744),Se=n.n(we);const _e=function(e){var t=e.inlineCollapsed;return(0,r.jsx)("div",{className:N()(Se().footer,o()({},"".concat(Se()["footer-inlineCollapsed"]),t)),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:Se().powered_by,children:["Powered by".concat(" "),(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/MuYunyun/create-react-doc",children:"Create React Doc"}),"."]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("i",{className:"fa fa-user"}),(0,r.jsx)("span",{className:Se().uv_count,id:"busuanzi_value_site_uv"}),(0,r.jsx)("span",{className:Se().split,children:"|"}),(0,r.jsx)("i",{className:"fa fa-eye"}),(0,r.jsx)("span",{className:Se().pv_count,id:"busuanzi_value_site_pv"})]})]})})},Ee={en:{create_tm:"create",modify_tm:"modify"},"zh-cn":{create_tm:"创建",modify_tm:"修改"}};var je=n(319),Ce=n.n(je),Te=n(82670),Ae=n.n(Te),Le=n(61881),Re=n.n(Le);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(25017);var Pe=u.useState,Ie=u.useEffect,Oe=X.SubMenu;const Ne=function(e){var t=e.location,n=e.routeData,i=e.menuSource,l=e.indexProps,u=t.pathname,d={title:"Time Flying",menu:["React","BasicSkill","FeCloud","TypeScript","Algorithm","LeetCode","Product","RaspberryPi"],menuOpenKeys:"/BasicSkill",theme:"crd-seed",user:"MuYunyun",repo:"blog",branch:"main",deploy_branch:"gh-pages","github-ribbons":!0,domain:"https://muyunyun.cn",seo:{google:!0},language:"en",inject:"injectLogic.js",abbrlink:!0}||{},m=d.user,p=d.repo,h=d.branch,f=void 0===h?"main":h,b=d.language,g=void 0===b?"en":b,y=d.menuOpenKeys,v=Pe(pe),x=c()(v,2),w=x[0],S=x[1],_=Pe(""),E=c()(_,2),j=E[0],C=E[1],T=function(e,t){var n=[];t&&n.push.apply(n,Ce()(t.split(",")));var r=e.split("/");if(r.length<=2)return n;for(var i="",o=1;o<r.length-1;o++)i+="/".concat(r[o]),n.push(i);return n}(u,y),A=n.find((function(e){return"/README"===e.path}))&&n.find((function(e){return"/README"===e.path})).mdconf&&n.find((function(e){return"/README"===e.path})).mdconf.abbrlink||"README";Ie((function(){var e,t;he&&(B(),null===(e={inject:()=>{const e=document.createElement("meta");e.name="google-site-verification",e.content="7fyp1NuvXSRLM9KpMq5_YNE_0zFZkPnuV-SbVVFgWbI",document.head.appendChild(e)}})||void 0===e||null===(t=e.inject)||void 0===t||t.call(e))}),[]),Ie((function(){var e,t;null===(e={inject:()=>{const e=document.createElement("meta");e.name="google-site-verification",e.content="7fyp1NuvXSRLM9KpMq5_YNE_0zFZkPnuV-SbVVFgWbI",document.head.appendChild(e)}})||void 0===e||null===(t=e.injectWithPathname)||void 0===t||t.call(e,u)}),[u]),Ie((function(){var e=t.pathname;e.endsWith("/")&&(e=e.slice(0,e.length-1)),e.startsWith("/".concat(p))&&(e=e.slice("/".concat(p).length,e.length)),C(e||A)}),t.pathname);var L,R,M,P,O,z,D,B=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.scrollTo(0,0)};return L=n.filter((function(e){return u.indexOf(e.path)>-1})),R=L.length>0?L[0].article:null,i.filter((function(e){return R===e.article&&e.children&&e.children.length>1})).length,(0,r.jsxs)("div",{className:Re().wrapper,children:[(0,r.jsx)(ke,{logo:Ae(),href:fe?"/".concat(p):"/",location:t,indexProps:l,menuSource:i}),(0,r.jsxs)("div",{className:N()(Re().wrapperContent,o()({},Re().wrapperMobile,pe)),children:[(z=n.filter((function(e){return"directory"!==e.props.type&&(u.indexOf(e.mdconf.abbrlink)>-1||decodeURIComponent(u).indexOf(e.path)>-1)})),D=z[0]&&z[0].props.path,(0,r.jsx)("div",{className:N()(Re().pageHeader),children:m&&p?(0,r.jsxs)("a",{href:"https://github.com/".concat(m,"/").concat(p,"/edit/").concat(f).concat(D),target:"_blank",children:[(0,r.jsx)(se,{className:N()(Re().icon),type:"edit",size:13}),(0,r.jsx)("span",{children:"Edit in GitHub"})]}):null})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{className:N()(Re().menuWrapper,o()({},"".concat(Re()["menuwrapper-inlineCollapsed"]),w)),children:(O=i,O.length<1?null:(0,r.jsx)(ue,{offsetTop:0,className:Re().affixPlaceholder,wrapperClassName:Re().affixWrapper,width:w?0:240,children:(0,r.jsx)(X,{inlineCollapsed:w,toggle:function(){S(!w)},menuStyle:{height:"100vh",overflow:"auto"},selectedKey:j,onSelect:function(e){C(e)},defaultOpenKeys:T,children:function e(t){return(0,r.jsx)(r.Fragment,{children:t.map((function(t,n){var i=t||{},o=i.mdconf,a=i.routePath,s=(o||{}).abbrlink,l=s?"/".concat(s):a;return t.children&&t.children.length>0?(0,r.jsx)(Oe,{keyValue:t.path,title:t.name,icon:(0,r.jsx)(se,{type:"folder",size:16}),children:e(t.children)},n):(0,r.jsx)(X.Item,{icon:(0,r.jsx)(se,{type:"file",size:16}),keyValue:s?"/".concat(s):t.path,title:t&&"directory"===t.type&&t.props&&t.props.isEmpty?(0,r.jsx)("span",{children:t.mdconf&&t.mdconf.title||t.name}):(0,r.jsx)(k,{to:"/".concat(p).concat(l),replace:u.indexOf(l)>-1,children:t&&t.mdconf&&t.mdconf.title?t.mdconf.title:t.title})},n)}))})}(O||[])})}))}),(0,r.jsx)("div",{className:N()(o()({},"".concat(Re().menuMask),pe&&!w)),onClick:function(e){e.stopPropagation(),S(!0)}})]}),(0,r.jsxs)("div",{className:N()("".concat(Re().content),o()({},"".concat(Re()["content-fullpage"]),w||pe)),children:[(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(I,{exact:!0,from:fe?"/".concat(p):"/",to:fe?"/".concat(p,"/").concat(A):"/".concat(A)}),n.map((function(e){var t=e.path,n=e.mdconf,i=e.component,a=n.abbrlink,l=a?"/".concat(a):t;return(0,r.jsx)(s.Z,{exact:!0,path:fe?"/".concat(p).concat(l):l,render:function(){var t=i;return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}},l)})),(0,r.jsx)(I,{to:fe?"/".concat(p,"/404"):"/404"})]}),(M=n.find((function(e){return u.indexOf(e.path)>-1})),P=M&&M.props,(0,r.jsxs)("div",{className:N()(Re().pageFooter),children:[P&&P.birthtime?(0,r.jsxs)("span",{className:N()(Re().position),children:[(0,r.jsx)(se,{className:N()(Re().icon),type:"create-time",size:13}),Ee[g].create_tm,":",(0,r.jsx)("span",{children:P.birthtime})]}):null,P&&P.mtime?(0,r.jsxs)("span",{className:N()(Re().position),children:[(0,r.jsx)(se,{className:N()(Re().icon),type:"update-time",size:13}),Ee[g].modify_tm,":",(0,r.jsx)("span",{children:n.find((function(e){return u.indexOf(e.path)>-1})).props.mtime})]}):null]}))]}),(0,r.jsx)(_e,{inlineCollapsed:w})]})]})};var ze=n(66488),De=n.n(ze);const Be=function(){var e={title:"Time Flying",menu:["React","BasicSkill","FeCloud","TypeScript","Algorithm","LeetCode","Product","RaspberryPi"],menuOpenKeys:"/BasicSkill",theme:"crd-seed",user:"MuYunyun",repo:"blog",branch:"main",deploy_branch:"gh-pages","github-ribbons":!0,domain:"https://muyunyun.cn",seo:{google:!0},language:"en",inject:"injectLogic.js",abbrlink:!0}||{},t=e.user,n=e.repo;return(0,r.jsx)("table",{className:De().noMatch,children:(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{children:[(0,r.jsx)("h1",{children:"404"}),(0,r.jsx)("div",{children:"你似乎来到了没有知识存在的荒原..."}),(0,r.jsxs)("section",{children:["在 github 访问",(0,r.jsx)("a",{href:"https://github.com/".concat(t,"/").concat(n),children:"该项目"})]})]})})})})};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(790);const He=function(e){return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{path:"/404",render:function(t){return(0,r.jsx)(Be,qe(qe({},t),e))}}),(0,r.jsx)(s.Z,{path:"/",render:function(t){return(0,r.jsx)(Ne,qe(qe({},t),e))}})]})}},82670:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTkxNjI5OTAzMTU3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjEyNzY0IiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik05MjQuMjYyIDE0Mi4xODJINjY4LjgzNmMtNDguNDEgMC05My45MDEgMTcuODg1LTEyOC4xOTUgNTAuNDc4LTExLjY3MyAxMS4wNy0yMC43OTcgMjMuODQtMjguNzAyIDM3LjA5NS03LjkxLTEzLjI1Ni0xNy4wMy0yNS45MDctMjguODI2LTM3LjA5NS0zNC4zMDQtMzIuNTkzLTc5Ljc5LTUwLjQ3Mi0xMjguMi01MC40NzJIOTkuNzM4Yy0xMy40OTcgMC0yNC40NDMgMTAuMzMyLTI0LjQ0MyAyMy4yMjl2NjQxLjk1NmMwIDEyLjg5MiAxMC45NDYgMjMuMjMgMjQuNDQ4IDIzLjIzaDIyOS43NTVjOS42MSAwIDE5LjM0MyAwLjczMSAyOS4wNzEgMi41NDkgOS44NSAxLjgzMyAxOS4yMTUgNC4zODMgMjguMDkzIDcuNzkzbDExNi40MDQgNDMuMDU0YzAuMjQgMC4xMTcgMC40ODYgMCAwLjcyNyAwLjExNyAyLjY3NyAwLjg1NiA1LjM1NSAxLjQ2IDguMTUgMS40NiAyLjgwMSAwIDUuNDY5LTAuNDgyIDguMTUyLTEuNDYgMC4xMTctMC4xMTcgMC40ODYtMC4xMTcgMC42MDktMC4xMTdsMTExLjc3NS00MS4zNTVhMjAzLjU0NiAyMDMuNTQ2IDAgMCAxIDMyLjk2Mi05IDE5Ny43MzQgMTk3LjczNCAwIDAgMSAzNC4wNDgtMy4wNDJoMjI0Ljc3M2MxMy41MDcgMCAyNC40NTQtMTAuNDYgMjQuNDU0LTIzLjIzVjE2NS4yOTVjMC0xMi43NzQtMTAuOTQ3LTIzLjEwNi0yNC40NTQtMjMuMTA2ek0zNjcuNDM3IDc4Ny40MzZhMjIwLjk4IDIyMC45OCAwIDAgMC0zNy45NS0zLjI4OEgxMjQuMDYzdi01OTUuNjNoMjMwLjk3M2MzNS4zOSAwIDY4LjcyIDEzLjEzOCA5My43NzMgMzcuMSAyNS4wNTcgMjMuODM5IDM4LjkyMiA1NS40NiAzOC45MjIgODkuMjc3djUxMy4zOThsLTgzLjMxOC0zMC43NzZhMjMyLjE1NiAyMzIuMTU2IDAgMCAwLTM2Ljk3MS0xMC4wOTJ6IG01MzIuNDk1LTMuMjg4aC0yMDAuMzNjLTE0LjU5MiAwLTI5LjE5IDEuMjE0LTQzLjA0OSAzLjc3NC0xNC4xMSAyLjY3My0yOC4yMjEgNi40NC00MS42IDExLjQzM2wtNzguNTcyIDI4Ljk0OFYzMTQuNzc4YzAtMzMuNjkgMTMuNzQzLTY1LjQzNCAzOC44LTg5LjI3OCAyNS4wNTItMjMuODM5IDU4LjM4My0zNy4wOTQgOTMuNzczLTM3LjA5NEg5MDAuMDV2NTk1LjczN2gtMC4xMTh6IiBwLWlkPSIxMjc2NSI+PC9wYXRoPjwvc3ZnPg=="},42473:e=>{"use strict";e.exports=function(){}},40259:(e,t,n)=>{var r={"./Algorithm/README.md":[74119,4119],"./Algorithm/algorithm/backtracking.md":[52492,2492],"./Algorithm/algorithm/binary_search.md":[68407,8407],"./Algorithm/algorithm/complexy.md":[18962,8962],"./Algorithm/algorithm/dynamic_programming.md":[46486,6486],"./Algorithm/algorithm/greedy.md":[5578,5578],"./Algorithm/algorithm/partition.md":[73503,3503],"./Algorithm/algorithm/recursive.md":[60420,420],"./Algorithm/algorithm/sort/heap_sort.md":[76244,6244],"./Algorithm/algorithm/sort/merge_sort.md":[99519,9519],"./Algorithm/algorithm/sort/quick_sort.md":[99516,9516],"./Algorithm/algorithm/sort/selection_sort.md":[34962,4962],"./Algorithm/data_structure/binary_tree.md":[94846,4846],"./Algorithm/data_structure/dictionary.md":[42358,2358],"./Algorithm/data_structure/graph.md":[29020,9020],"./Algorithm/data_structure/hash_table.md":[70398,398],"./Algorithm/data_structure/heap.md":[2155,2155],"./Algorithm/data_structure/list.md":[41255,1255],"./Algorithm/data_structure/queue.md":[62598,2598],"./Algorithm/data_structure/set.md":[56682,6682],"./Algorithm/data_structure/stack.md":[52704,2704],"./BasicSkill/Shorcuts/chrome.md":[42425,2425],"./BasicSkill/Shorcuts/git.md":[16621,6621],"./BasicSkill/Shorcuts/host_modify.md":[82921,2921],"./BasicSkill/Shorcuts/iTerm2.md":[33243,3243],"./BasicSkill/Shorcuts/vscode.md":[2313,2313],"./BasicSkill/Shorcuts/图床迁移.md":[28343,8343],"./BasicSkill/Shorcuts/易读错音的程序词汇.md":[40609,609],"./BasicSkill/animation/lottie/lottie.md":[26642,6642],"./BasicSkill/animation/lottie/practice/makeLottie.md":[77958,7958],"./BasicSkill/basis/DOM.md":[61327,1327],"./BasicSkill/basis/HTML5.md":[16182,6182],"./BasicSkill/basis/JavaScript在引擎方面的执行过程.md":[24050,4050],"./BasicSkill/basis/askself/answer.md":[19928,9928],"./BasicSkill/basis/askself/hr.md":[16356,6356],"./BasicSkill/basis/askself/menuknowledge.md":[93069,3069],"./BasicSkill/basis/bind函数实现.md":[16906,6906],"./BasicSkill/basis/call函数实现.md":[31684,1684],"./BasicSkill/basis/error_handle.md":[55326,5326],"./BasicSkill/basis/event.md":[42278,2278],"./BasicSkill/basis/script标签.md":[59767,9767],"./BasicSkill/basis/xss_csrf.md":[41770,1770],"./BasicSkill/basis/二刷高程.md":[24330,4330],"./BasicSkill/basis/前端协议.md":[50579,579],"./BasicSkill/basis/基本类型和引用类型.md":[75868,5868],"./BasicSkill/basis/探寻JavaScript精度问题.md":[53125,3125],"./BasicSkill/basis/正则表达式.md":[11397,1397],"./BasicSkill/basis/类型.md":[53242,3242],"./BasicSkill/basis/重学前端.md":[99240,9240],"./BasicSkill/chart/README.md":[16771,6771],"./BasicSkill/chart/canvas.md":[52935,2935],"./BasicSkill/chart/line-chart.md":[48556,8556],"./BasicSkill/composition_principle/计算机组成原理.md":[20219,219],"./BasicSkill/css/INHERITED_AND_NON-INHERITED.md":[85728,5728],"./BasicSkill/css/README.md":[18739,8739],"./BasicSkill/css/css_knowledge.md":[91810,1810],"./BasicSkill/css/css_little_book/字体排印.md":[92150,3076],"./BasicSkill/css/css_little_book/文本属性.md":[7371,7371],"./BasicSkill/css/css_little_book/用户体验.md":[52722,2722],"./BasicSkill/css/css_little_book/结构与布局.md":[11620,1620],"./BasicSkill/css/css_little_book/背景与边框.md":[76763,6763],"./BasicSkill/css/css_little_book/过渡与动画.md":[107,107],"./BasicSkill/css/css_little_book/选择器.md":[26949,6949],"./BasicSkill/css/css_module.md":[94265,4265],"./BasicSkill/css/flex_props.md":[72157,2157],"./BasicSkill/css/matrix.md":[87160,7160],"./BasicSkill/css/scssGuidelines.md":[36609,6609],"./BasicSkill/css/水平垂直居中.md":[31764,1764],"./BasicSkill/css/水平布局解决方案.md":[11388,1388],"./BasicSkill/css/竖直布局解决方案.md":[75612,5612],"./BasicSkill/css/聊聊BFC.md":[78510,8510],"./BasicSkill/db/concepts.md":[15769,5769],"./BasicSkill/db/kibana.md":[37723,7723],"./BasicSkill/db/mysql.md":[72150,2150],"./BasicSkill/efficiency/MindNode思维导图.md":[24748,4748],"./BasicSkill/efficiency/alfred_workflow.md":[58890,8890],"./BasicSkill/efficiency/apple/apple_skill.md":[73691,3691],"./BasicSkill/efficiency/apple/ipad.md":[17299,7299],"./BasicSkill/efficiency/apple/mac/disassembly.md":[45883,5883],"./BasicSkill/efficiency/apple/mac/env.md":[94627,4627],"./BasicSkill/efficiency/apple/mac/migrate.md":[85644,3025],"./BasicSkill/efficiency/apple/software.md":[12e3,2e3],"./BasicSkill/efficiency/apple/watch.md":[30988,988],"./BasicSkill/efficiency/data_analyze.md":[13583,3583],"./BasicSkill/efficiency/draw.md":[21084,1084],"./BasicSkill/efficiency/github.md":[79892,9892],"./BasicSkill/efficiency/how-to-improve-english.md":[11668,1668],"./BasicSkill/efficiency/oh-my-zsh.md":[5024,5024],"./BasicSkill/efficiency/omniGraffle流程图.md":[25294,5294],"./BasicSkill/efficiency/如何进行code-review.md":[27676,7676],"./BasicSkill/efficiency/沟通的智慧.md":[5306,5306],"./BasicSkill/efficiency/重构改善既有代码的设计.md":[67727,7727],"./BasicSkill/html/Know_About_HTML.md":[93516,3516],"./BasicSkill/http/cross-domain.md":[64788,4788],"./BasicSkill/http/http.md":[25603,5603],"./BasicSkill/http/http权威指南.md":[49303,9303],"./BasicSkill/http/浏览器相关知识点.md":[25031,5031],"./BasicSkill/http/网络协议.md":[54253,4253],"./BasicSkill/life/Alexa.md":[10246,246],"./BasicSkill/life/books/the_little_prince.md":[65733,5733],"./BasicSkill/life/books/the_mythical_man_month.md":[4528,4528],"./BasicSkill/life/books/关键沟通.md":[14304,4304],"./BasicSkill/life/books/写给大家看的设计书.md":[46925,6925],"./BasicSkill/life/books/未来世界的幸存者.md":[87754,7754],"./BasicSkill/life/books/黑客与画家.md":[47039,7039],"./BasicSkill/life/financial.md":[99833,9833],"./BasicSkill/life/hacker-laws.md":[51111,1111],"./BasicSkill/life/house/decorate.md":[99802,9802],"./BasicSkill/life/house/shanghai_house_knowledge.md":[43589,3589],"./BasicSkill/life/house/smart_home.md":[43199,3199],"./BasicSkill/life/inspiration.md":[67088,7088],"./BasicSkill/life/movie/Game_of_Thrones.md":[30622,622],"./BasicSkill/life/package_gift_box.md":[6432,6432],"./BasicSkill/life/recipe/recipe.md":[93736,3736],"./BasicSkill/life/sport/jump.md":[36623,6623],"./BasicSkill/life/starbucks.md":[23751,3751],"./BasicSkill/life/summary/The-annual-summary-of-2017.md":[70144,144],"./BasicSkill/life/summary/The-annual-summary-of-2018.md":[75477,5477],"./BasicSkill/life/summary/The-annual-summary-of-2019.md":[9904,9904],"./BasicSkill/life/summary/The-annual-summary-of-2020.md":[11606,1606],"./BasicSkill/life/travel/guiling_travel.md":[47446,7446],"./BasicSkill/life/travel/nanjin_travel.md":[21088,1088],"./BasicSkill/life/travel/shanghai_travel.md":[65935,5935],"./BasicSkill/life/widhList.md":[77489,7489],"./BasicSkill/life/华硕路由器.md":[99352,9352],"./BasicSkill/mobile/charles.md":[23738,3738],"./BasicSkill/mobile/mobile_scene.md":[86410,6410],"./BasicSkill/node/how_node.js_resource_code_execute.md":[7342,7342],"./BasicSkill/node/implement_express.js.md":[32333,2333],"./BasicSkill/node/implement_koa.js.md":[41358,1358],"./BasicSkill/node/koa/application.md":[53116,3116],"./BasicSkill/node/koa/context.md":[19411,9411],"./BasicSkill/node/koa/example/test1.md":[39498,8804],"./BasicSkill/node/koa/example/test2.md":[23929,3929],"./BasicSkill/node/koa/example/test3.md":[48804,9993],"./BasicSkill/node/koa/example/test4.md":[96789,6789],"./BasicSkill/node/koa/request.md":[1266,1266],"./BasicSkill/node/koa/response.md":[84634,4634],"./BasicSkill/node/read_node_document/Child_Process.md":[25830,5830],"./BasicSkill/node/read_node_document/CommonJS.md":[11991,1991],"./BasicSkill/node/read_node_document/FileSystem.md":[68856,8856],"./BasicSkill/node/read_node_document/OS.md":[71529,1529],"./BasicSkill/node/read_node_document/Path.md":[42488,2488],"./BasicSkill/node/read_node_document/Process.md":[54136,4136],"./BasicSkill/node/read_node_document/Readline.md":[13711,3711],"./BasicSkill/node/read_node_document/TTY.md":[6798,6798],"./BasicSkill/node/read_node_document/Utilities.md":[22536,2536],"./BasicSkill/project_framework/CAS登入流程.md":[69453,9453],"./BasicSkill/project_framework/RPC在点我达网关的实践一.md":[31839,1839],"./BasicSkill/project_framework/解读IoC框架InversifyJS.md":[79981,9981],"./BasicSkill/project_framework/踩坑日志以及痛点.md":[75146,5146],"./BasicSkill/readES6/Async.md":[56397,6397],"./BasicSkill/readES6/Generator.md":[37475,7475],"./BasicSkill/readES6/Promise.md":[47653,7653],"./BasicSkill/readES6/Reflect.md":[23345,3345],"./BasicSkill/readES6/扩展运算符.md":[73754,3754],"./BasicSkill/readES6/模块.md":[14971,4971],"./BasicSkill/readES6/箭头函数.md":[74015,4015],"./BasicSkill/readES6/继承.md":[55644,5644],"./BasicSkill/readES6/装饰器.md":[59099,9099],"./BasicSkill/readES6/遍历语法.md":[12945,2945],"./BasicSkill/service/README.md":[38232,8232],"./BasicSkill/shorcuts/vim.md":[19389,9389],"./BasicSkill/tool/eslint.md":[19498,9498],"./BasicSkill/tool/markdown.md":[98723,8063],"./BasicSkill/tool/shell.md":[62914,2914],"./BasicSkill/编程范式/函数式编程入门.md":[44965,4965],"./BasicSkill/设计模式/ioC模式.md":[52142,2142],"./BasicSkill/设计模式/中介者模式.md":[95166,5166],"./BasicSkill/设计模式/享元模式.md":[90716,716],"./BasicSkill/设计模式/代理模式.md":[11067,1067],"./BasicSkill/设计模式/单例模式.md":[84659,4659],"./BasicSkill/设计模式/发布订阅模式.md":[99139,9139],"./BasicSkill/设计模式/命令模式.md":[54409,4409],"./BasicSkill/设计模式/模板方法模式.md":[93976,3976],"./BasicSkill/设计模式/状态模式.md":[72118,2118],"./BasicSkill/设计模式/策略模式.md":[8959,8959],"./BasicSkill/设计模式/组合模式.md":[73028,3028],"./BasicSkill/设计模式/职责链模式.md":[41456,1456],"./BasicSkill/设计模式/装饰者模式.md":[58633,8633],"./BasicSkill/设计模式/观察者模式.md":[76509,6509],"./BasicSkill/设计模式/迭代器模式.md":[13494,3494],"./BasicSkill/设计模式/适配者模式.md":[59358,9358],"./FeCloud/babel执行机制.md":[79583,9583],"./FeCloud/chrome插件开发.md":[32934,2934],"./FeCloud/ci调试技巧.md":[45915,5915],"./FeCloud/code_online_platform.md":[69342,9342],"./FeCloud/create-react-doc.md":[20932,932],"./FeCloud/docker.md":[9465,9465],"./FeCloud/lerna.md":[78852,8852],"./FeCloud/live-code.md":[43130,3130],"./FeCloud/npm和yarn的区别.md":[97952,7952],"./FeCloud/seo_in_spa_site.md":[84629,4629],"./FeCloud/some_about_webpack.md":[42406,2406],"./FeCloud/tc39.md":[44946,4946],"./FeCloud/w3c.md":[89376,9376],"./FeCloud/webkit技术内幕.md":[96250,6250],"./FeCloud/yarn/scripts.md":[4676,4676],"./FeCloud/如何维护一个开源项目.md":[30822,822],"./FeCloud/微前端.md":[62121,2121],"./FeCloud/探寻webpack插件机制.md":[2992,2992],"./FeCloud/搭建一个脚手架.md":[82072,2072],"./FeCloud/方法论.md":[81712,1712],"./FeCloud/用户体验.md":[30800,800],"./FeCloud/编译器.md":[52920,2920],"./FeCloud/视频直播协议.md":[608,608],"./FeCloud/跨端.md":[59307,9307],"./LeetCode/1.Two_Sum.md":[16708,6708],"./LeetCode/100.Same_Tree.md":[68734,8734],"./LeetCode/101.Symmetric_Tree.md":[64362,4362],"./LeetCode/102.Binary_Tree_Level_Order_Traversal.md":[12578,2578],"./LeetCode/103.Binary_Tree_Zigzag_Level_Order_Traversal.md":[17515,7515],"./LeetCode/104.Maximum_Depth_of_Binary_Tree.md":[12207,2207],"./LeetCode/107.Binary_Tree_Level_Order_Traversal_II.md":[38723,9637],"./LeetCode/108.Convert_Sorted_Array_to_Binary_Search_Tree.md":[11518,1518],"./LeetCode/11.Container_With_Most_Water.md":[17098,7098],"./LeetCode/110.Balanced_Binary_Tree.md":[326,326],"./LeetCode/111.Minimum_Depth_of_Binary_Tree.md":[1130,1130],"./LeetCode/112.Path_Sum.md":[98998,8998],"./LeetCode/113.Path_Sum_II.md":[91242,1242],"./LeetCode/12.Integer_to_Roman.md":[80627,627],"./LeetCode/120.triangle.md":[71802,1802],"./LeetCode/121.Best_Time_to_Buy_and_Sell_Stock.md":[42416,2416],"./LeetCode/125.Valid_Palindrome.md":[44561,4561],"./LeetCode/126.Word_Ladder_II.md":[68017,8017],"./LeetCode/127.Word_Ladder.md":[27345,7345],"./LeetCode/129.Sum_Root_to_Leaf_Numbers.md":[77607,7607],"./LeetCode/13.Roman_to_Integer.md":[63835,3835],"./LeetCode/130.Surrounded_Regions.md":[94664,4664],"./LeetCode/131.Palindrome_Partitioning.md":[42783,2783],"./LeetCode/14.Longest_Common_Prefix.md":[98784,8784],"./LeetCode/143.Reorder_List.md":[11401,1401],"./LeetCode/144.Binary_Tree_Preorder_Traversal.md":[59511,9511],"./LeetCode/145.Binary_Tree_Postorder_Traversal.md":[2579,2579],"./LeetCode/147.Insertion_Sort_List.md":[65122,5122],"./LeetCode/148.Sort_List.md":[69170,9170],"./LeetCode/149.Max_Points_on_a_Line.md":[46427,6427],"./LeetCode/15.3Sum.md":[42379,2379],"./LeetCode/150.Evaluate_Reverse_Polish_Notation.md":[2848,2848],"./LeetCode/151.Reverse_Words_in_a_String.md":[74803,4803],"./LeetCode/16.3Sum_Closest.md":[30571,571],"./LeetCode/167.Two_Sum_II_-_Input_array_is_sorted.md":[29178,9178],"./LeetCode/17.Letter_Combinations_of_a_Phone_Number.md":[49674,9674],"./LeetCode/18.4Sum.md":[93e3,3e3],"./LeetCode/19.Remove_Nth_Node_From_End_of_List.md":[40914,914],"./LeetCode/198.House_Robber.md":[4185,4185],"./LeetCode/199.Binary_Tree_Right_Side_View.md":[47445,7445],"./LeetCode/2.Add_Two_Numbers.md":[26433,6433],"./LeetCode/20.Valid_Parentheses.md":[69949,9949],"./LeetCode/200.Number_of_Islands.md":[63852,3852],"./LeetCode/202.Happy_Number.md":[38860,8860],"./LeetCode/203.Remove_Linked_List_Elements.md":[39379,9379],"./LeetCode/205.Isomorphic_Strings.md":[94359,4359],"./LeetCode/206.Reverse_Linked_List.md":[9287,9287],"./LeetCode/209.Minimum_Size_Subarray_Sum.md":[53734,3734],"./LeetCode/21.Merge_Two_Sorted_Lists.md":[82707,2707],"./LeetCode/213.House_Robber_II.md":[5177,5177],"./LeetCode/215.Kth_Largest_Element_in_an_Array.md":[99173,9173],"./LeetCode/216.Combination_Sum_III.md":[94628,4628],"./LeetCode/217.Contains_Duplicate.md":[77936,7936],"./LeetCode/219.Contains_Duplicate_II.md":[88544,8544],"./LeetCode/22.Generate_Parentheses.md":[59537,9537],"./LeetCode/220.Contains_Duplicate_III.md":[85074,5074],"./LeetCode/222.Count_Complete_Tree_Nodes.md":[83810,3810],"./LeetCode/226.Invert_Binary_Tree.md":[6091,6091],"./LeetCode/23.Merge_k_Sorted_Lists.md":[97005,7005],"./LeetCode/230.Kth_Smallest_Element_in_a_BST.md":[24457,4457],"./LeetCode/234.Palindrome_Linked_List.md":[88120,8120],"./LeetCode/235.Lowest_Common_Ancestor_of_a_Binary_Search_Tree.md":[75678,5678],"./LeetCode/236.Lowest_Common_Ancestor_of_a_Binary_Tree.md":[21579,1579],"./LeetCode/237.Delete_Node_in_a_Linked_List.md":[94374,4374],"./LeetCode/24.Swap_Nodes_in_Pairs.md":[39593,9593],"./LeetCode/242.Valid_Anagram.md":[78838,8838],"./LeetCode/25.Reverse_Nodes_in_k-Group.md":[10688,688],"./LeetCode/257.Binary_Tree_Paths.md":[71695,1695],"./LeetCode/26.Remove_Duplicates_from_Sorted_Array.md":[19614,9614],"./LeetCode/27.Remove_Element.md":[66118,6118],"./LeetCode/279.Perfect_Squares.md":[8723,8723],"./LeetCode/28.Implement_strStr.md":[10044,44],"./LeetCode/283.Move_Zeroes.md":[87125,7125],"./LeetCode/290.Word_Pattern.md":[60602,602],"./LeetCode/3.Longest_Substring_Without_Repeating_Characters.md":[7818,7818],"./LeetCode/328.Odd_Even_Linked_List.md":[21499,1499],"./LeetCode/33.Search_in_Rotated_Sorted_Array.md":[47597,7597],"./LeetCode/337.House_Robber_III.md":[73812,3812],"./LeetCode/341.Flatten_Nested_List_Iterator.md":[10106,106],"./LeetCode/343.Integer_Break.md":[65766,5766],"./LeetCode/344.Reverse_String.md":[22047,2047],"./LeetCode/345.Reverse_Vowels_of_a_String.md":[16023,6023],"./LeetCode/347.Top_K_Frequent_Elements.md":[56423,6423],"./LeetCode/349.Intersection_of_Two_Arrays.md":[6316,6316],"./LeetCode/35.Search_Insert_Position.md":[33196,3196],"./LeetCode/350.Intersection_of_Two_Arrays_II.md":[62386,2386],"./LeetCode/36.Valid_Sudoku.md":[22518,2518],"./LeetCode/37.Sudoku_Solver.md":[86053,6053],"./LeetCode/38.Count_and_Say.md":[39130,9130],"./LeetCode/39.Combination_Sum.md":[69875,9875],"./LeetCode/4.Median_of_Two_Sorted_Arrays.md":[37134,7134],"./LeetCode/40.Combination_Sum_II.md":[57219,7219],"./LeetCode/401.Binary_Watch.md":[5641,5641],"./LeetCode/404.Sum_of_Left_Leaves.md":[51143,1143],"./LeetCode/417.Pacific_Atlantic_Water_Flow.md":[16908,6908],"./LeetCode/437.Path_Sum_III.md":[21014,1014],"./LeetCode/438.Find_All_Anagrams_In_A_String.md":[88687,8687],"./LeetCode/445.Add_Two_Numbers_II.md":[12201,2201],"./LeetCode/447.Number_of_Boomerangs.md":[3547,3547],"./LeetCode/450.Delete_Node_in_a_BST.md":[93778,3778],"./LeetCode/451.Sort_Characters_By_Frequency.md":[92605,2605],"./LeetCode/454.4Sum_II.md":[69723,9494],"./LeetCode/46.Permutations.md":[79062,9062],"./LeetCode/47.Permutations_II.md":[43156,3156],"./LeetCode/48.Rotate_Image.md":[46986,6986],"./LeetCode/49.Group_Anagrams.md":[18380,8380],"./LeetCode/5.Longest_Palindromic_Substring.md":[3177,3177],"./LeetCode/50.Pow.md":[54333,4333],"./LeetCode/51.N-Queens.md":[33330,3330],"./LeetCode/52.N-Queens_II.md":[67562,7562],"./LeetCode/567.Permutation_In_String.md":[92569,2569],"./LeetCode/6.ZigZag_Conversion.md":[98694,8694],"./LeetCode/61.Rotate_List.md":[84863,4863],"./LeetCode/62.Unique_Paths.md":[63933,3933],"./LeetCode/63.Unique_Paths_II.md":[77505,7505],"./LeetCode/64.Minimum_Path_Sum.md":[54626,4626],"./LeetCode/66.Plus_One.md":[75895,5895],"./LeetCode/67.Add_Binary.md":[96972,6972],"./LeetCode/69.Sqrt_X.md":[73645,3645],"./LeetCode/70.Climbing_Stairs.md":[46424,6424],"./LeetCode/71.Simplify_Path.md":[35310,5310],"./LeetCode/75.Sort_Colors.md":[96782,6782],"./LeetCode/76.Minimum_Window_Substring.md":[55105,5105],"./LeetCode/77.Combinations.md":[86737,6737],"./LeetCode/78.Subsets.md":[29218,9218],"./LeetCode/79.Word_Search.md":[86390,6390],"./LeetCode/80.Remove_Duplicates_from_Sorted_Array_II.md":[14437,4437],"./LeetCode/82.Remove_Duplicates_from_Sorted_List_II.md":[14905,4905],"./LeetCode/83.Remove_Duplicates_from_Sorted_List.md":[59523,9523],"./LeetCode/86.Partition_List.md":[46562,6562],"./LeetCode/88.Merge_Sorted_Array.md":[15936,5936],"./LeetCode/89.Gray_Code.md":[67551,7551],"./LeetCode/9.Palindrome_Number.md":[58605,8605],"./LeetCode/90.Subsets_II.md":[60814,814],"./LeetCode/91.Decode_Ways.md":[65638,5638],"./LeetCode/92.Reverse_Linked_List_II.md":[73169,3169],"./LeetCode/93.Restore_IP_Addresses.md":[18817,8817],"./LeetCode/94.Binary_Tree_Inorder_Traversal.md":[97148,7148],"./LeetCode/98.Validate_Binary_Search_Tree.md":[18219,8219],"./LeetCode/README.md":[75823,5823],"./LeetCode/helps/linked_list.md":[98303,8303],"./LeetCode/helps/remind_clock.md":[99406,9406],"./LeetCode/helps/tree.md":[62750,2750],"./Product/e-business/pdd.md":[84944,4944],"./Product/e-business/产品思考.md":[20089,89],"./Product/e-business/电商.md":[68032,8032],"./README.md":[36179,6179],"./RaspberryPi/1.树莓派简介&烧录系统.md":[31589,1589],"./RaspberryPi/2.内网穿透.md":[7234,7234],"./RaspberryPi/3.基于树莓派搭建家庭服务器.md":[41371,1371],"./RaspberryPi/4.给树莓派安装Docker.md":[7230,7230],"./RaspberryPi/5.基于树莓派部署RSSHub.md":[421,421],"./RaspberryPi/6.HTTPS协议配置.md":[84866,4866],"./RaspberryPi/7.基于树莓派部署code-server.md":[81105,1105],"./RaspberryPi/README.md":[15408,5408],"./RaspberryPi/linux/常用命令.md":[88541,8541],"./RaspberryPi/linux/系统目录.md":[61218,1218],"./RaspberryPi/nginx/README.md":[35040,5040],"./RaspberryPi/nginx/常用命令.md":[3526,3526],"./RaspberryPi/ssh.md":[30141,141],"./RaspberryPi/踩坑方案记录&环境.md":[96630,6630],"./React/Component_Design/AddressPicker.md":[65458,5458],"./React/Component_Design/Affix.md":[13277,3277],"./React/Component_Design/Button.md":[68636,8636],"./React/Component_Design/Carousel.md":[47746,7746],"./React/Component_Design/CheckBox.md":[15547,5547],"./React/Component_Design/Circle.md":[85677,5677],"./React/Component_Design/Cropper.md":[30932,5351],"./React/Component_Design/DatePicker.md":[17779,7779],"./React/Component_Design/Drawer.md":[25084,5084],"./React/Component_Design/Form.md":[75821,5821],"./React/Component_Design/Icon.md":[42637,2637],"./React/Component_Design/Input.md":[17722,7722],"./React/Component_Design/Keyboard.md":[22457,2457],"./React/Component_Design/Menu.md":[88623,8623],"./React/Component_Design/Modal.md":[19619,9619],"./React/Component_Design/Picker.md":[22666,2666],"./React/Component_Design/Popup.md":[21003,1003],"./React/Component_Design/PullToRefresh.md":[29069,9069],"./React/Component_Design/Rate.md":[90806,806],"./React/Component_Design/SearchBar.md":[21825,1825],"./React/Component_Design/SegmentedControl.md":[30075,75],"./React/Component_Design/Table.md":[13807,3807],"./React/Component_Design/Tabs.md":[31398,1398],"./React/Component_Design/TextArea.md":[12442,2442],"./React/Component_Design/Timeline.md":[4329,4329],"./React/Component_Design/VirtualList.md":[99941,7624],"./React/Component_Design/build_mobile_first_animation.md":[95198,5198],"./React/Component_Design/site.md":[80544,544],"./React/Component_Design/主题色替换方案.md":[40268,268],"./React/Component_Design/性能指标.md":[68137,9723],"./React/Component_Design/组件开发实践.md":[69021,9021],"./React/Component_Design/重新认识受控与非受控组件.md":[14073,4073],"./React/Fiber数据结构.md":[64047,4047],"./React/Profiler.md":[82068,2068],"./React/React-DevTools.md":[2604,2604],"./React/React16.x特性剪辑.md":[60794,794],"./React/React17.md":[79015,9015],"./React/React_Hooks深入系列.md":[78507,8507],"./React/React_Hooks设计模式.md":[79521,9521],"./React/React暗器百解.md":[43378,3378],"./React/React设计模式/Compound_Component.md":[30962,962],"./React/React设计模式/setState回调替代方案.md":[9266,9266],"./React/SSR.md":[26452,6452],"./React/Server_Component.md":[48194,8194],"./React/component_market.md":[26367,6367],"./React/how_suspense_resolve.md":[372,372],"./React/schedule.md":[30880,880],"./React/style/CSS-in-JS.md":[64001,4001],"./React/suspense_document.md":[82981,2981],"./React/从0到1实现React/0.前置准备.md":[73160,3160],"./React/从0到1实现React/1.JSX和虚拟DOM.md":[17583,638],"./React/从0到1实现React/15.函数子组件探索.md":[84149,4149],"./React/从0到1实现React/16.RenderProps.md":[24620,4620],"./React/从0到1实现React/17.CSSinJS.md":[88035,8035],"./React/从0到1实现React/18.服务端渲染.md":[71419,1419],"./React/从0到1实现React/2.组件和state与props.md":[31429,1429],"./React/从0到1实现React/3.生命周期.md":[82285,2285],"./React/从0到1实现React/4.diff算法.md":[19941,9941],"./React/从0到1实现React/5.setState.md":[40449,449],"./React/从0到1实现React/6.ref.md":[95045,5045],"./React/从0到1实现React/7.PureComponent.md":[90225,225],"./React/从0到1实现React/8.HOC探索.md":[72864,2864],"./React/从0到1实现React/9.onChange事件以及受控组件.md":[24461,4461],"./React/你不知道的requestIdleCallback.md":[66474,6474],"./React/流畅性.md":[51650,1650],"./React/测试/AB测试.md":[17859,7859],"./React/测试/JEST.md":[94338,4338],"./React/测试/Jest与ReactTestingLibrary.md":[55405,5405],"./React/测试/React现代化测试.md":[86600,6600],"./React/测试/mobile_test.md":[87455,7455],"./React/测试/测试之旅.md":[77428,7428],"./React/测试/自动化测试.md":[40810,810],"./React/测试/静态测试.md":[69184,9184],"./React/深入Fiber架构.md":[28919,8919],"./React/源码分析/React.Children.map.md":[41034,1034],"./React/源码分析/articles.md":[84044,4044],"./React/源码分析/expirationTime的计算.md":[19109,9109],"./React/源码分析/react-dom.md":[80543,543],"./React/源码分析/setState.md":[61961,1961],"./React/源码分析/位运算符.md":[54257,4257],"./React/源码贡献之路.md":[23014,3014],"./React/相关技术栈/GraghQL.md":[89689,9689],"./React/相关技术栈/React-DnD.md":[48871,8871],"./React/相关技术栈/Redux-Saga实践.md":[29979,9979],"./React/相关技术栈/Redux与Mobx适用场景.md":[57197,7197],"./React/相关技术栈/dva.md":[81903,1903],"./React/相关技术栈/relay.md":[55009,5009],"./React/相关技术栈/router的简易实现.md":[34101,4101],"./React/相关技术栈/在react使用immutable数据的优势.md":[80165,165],"./React/相关技术栈/多端/taro.md":[42279,2279],"./React/相关技术栈/多端/textArea.md":[28440,8440],"./React/相关技术栈/多端/小程序.md":[98350,8350],"./React/相关技术栈/定制自己的react-script.md":[13530,3530],"./React/相关技术栈/富文本编辑器.md":[31689,1689],"./React/错误处理.md":[96725,6725],"./TypeScript/Declaration_Files.md":[10491,491],"./TypeScript/Declaration_Merging.md":[52257,2257],"./TypeScript/More_On_Functions.md":[43148,3148],"./TypeScript/README.md":[78312,8312],"./TypeScript/RoadMap.md":[61033,1033],"./TypeScript/TypeScript_Module.md":[55522,5522],"./TypeScript/Type_Manipulation.md":[39934,9934],"./TypeScript/Types.md":[89485,9485],"./TypeScript/Types_vs_Interfaces.md":[21173,1173],"./TypeScript/Utility_Types.md":[65395,5395],"./TypeScript/extends.md":[44118,4118],"./TypeScript/类型体操.md":[82024,2024]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=40259,e.exports=i}},r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return n[e](t,t.exports,i),t.exports}i.m=n,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"js/"+e+"."+i.h().slice(0,8)+".js",i.h=()=>"d94e5c34d7d62a33ec1e",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="blog:",i.l=(n,r,o,a)=>{if(e[n])e[n].push(r);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var m=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/blog/",(()=>{var e={179:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,i)=>{r=e[t]=[n,i]}));n.push(r[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{for(var r,o,[a,s,l]=n,c=0,u=[];c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&u.push(e[o][0]),e[o]=0;for(r in s)i.o(s,r)&&(i.m[r]=s[r]);for(l&&l(i),t&&t(n);u.length;)u.shift()()},n=self.webpackChunkblog=self.webpackChunkblog||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(85893),t=i(73935),n=(i(26981),i(67154)),r=i.n(n),o=i(59713),a=i.n(o),s=i(6479),l=i.n(s),c=i(67294),u=i(45697),d=i.n(u),m=i(8679),p=i.n(m),h=i(79927),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var b=i(45424),g=i(15028),y=i(42473),v=i.n(y),x=i(19768),k=i(41143),w=i.n(k),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var n,r;_(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=E(this,e.call.apply(e,[this].concat(o))),r.state={match:r.computeMatch(r.props.history.location.pathname)},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:S({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;w()(null==n||1===c.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){e.setState({match:e.computeMatch(r.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){v()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?c.Children.only(e):null},t}(c.Component);j.propTypes={history:d().object.isRequired,children:d().node},j.contextTypes={router:d().object},j.childContextTypes={router:d().object.isRequired};const C=j;function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=function(e){function t(){var n,r;T(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=A(this,e.call.apply(e,[this].concat(o))),r.history=(0,x.lX)(r.props),A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){v()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return c.createElement(C,{history:this.history,children:this.props.children})},t}(c.Component);L.propTypes={basename:d().string,forceRefresh:d().bool,getUserConfirmation:d().func,keyLength:d().number,children:d().node};const R=L;var M,P,I,O,N=i(63038),z=i.n(N),D=i(94184),B=i.n(D),F=i(3905),q=i(83524),H=i.n(q),Y=i(69590),U=i.n(Y),W=i(27418),G=i.n(W),V="bodyAttributes",$="htmlAttributes",J={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},X=(Object.keys(J).map((function(e){return J[e]})),"charset"),Q="cssText",K="href",Z="innerHTML",ee="itemprop",te="rel",ne={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},re=Object.keys(ne).reduce((function(e,t){return e[ne[t]]=t,e}),{}),ie=[J.NOSCRIPT,J.SCRIPT,J.STYLE],oe="data-react-helmet",ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},de=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},me=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},pe=function(e){var t=ye(e,J.TITLE),n=ye(e,"titleTemplate");if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=ye(e,"defaultTitle");return t||r||void 0},he=function(e){return ye(e,"onChangeClientState")||function(){}},fe=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return ce({},e,t)}),{})},be=function(e,t){return t.filter((function(e){return void 0!==e[J.BASE]})).map((function(e){return e[J.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},ge=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&Se("Helmet: "+e+' should be of type "Array". Instead found type "'+ae(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],l=s.toLowerCase();-1===t.indexOf(l)||n===te&&"canonical"===e[n].toLowerCase()||l===te&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(s)||s!==Z&&s!==Q&&s!==ee||(n=s)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],l=G()({},r[s],i[s]);r[s]=l}return e}),[]).reverse()},ye=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},ve=(M=Date.now(),function(e){var t=Date.now();t-M>16?(M=t,e(t)):setTimeout((function(){ve(e)}),0)}),xe=function(e){return clearTimeout(e)},ke="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ve:i.g.requestAnimationFrame||ve,we="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||xe:i.g.cancelAnimationFrame||xe,Se=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},_e=null,Ee=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,m=e.titleAttributes;Te(J.BODY,r),Te(J.HTML,i),Ce(d,m);var p={baseTag:Ae(J.BASE,n),linkTags:Ae(J.LINK,o),metaTags:Ae(J.META,a),noscriptTags:Ae(J.NOSCRIPT,s),scriptTags:Ae(J.SCRIPT,c),styleTags:Ae(J.STYLE,u)},h={},f={};Object.keys(p).forEach((function(e){var t=p[e],n=t.newTags,r=t.oldTags;n.length&&(h[e]=n),r.length&&(f[e]=p[e].oldTags)})),t&&t(),l(e,h,f)},je=function(e){return Array.isArray(e)?e.join(""):e},Ce=function(e,t){void 0!==e&&document.title!==e&&(document.title=je(e)),Te(J.TITLE,t)},Te=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(oe),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s++){var l=a[s],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===i.indexOf(l)&&i.push(l);var u=o.indexOf(l);-1!==u&&o.splice(u,1)}for(var d=o.length-1;d>=0;d--)n.removeAttribute(o[d]);i.length===o.length?n.removeAttribute(oe):n.getAttribute(oe)!==a.join(",")&&n.setAttribute(oe,a.join(","))}},Ae=function(e,t){var n=document.head||document.querySelector(J.HEAD),r=n.querySelectorAll(e+"[data-react-helmet]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===Z)n.innerHTML=t.innerHTML;else if(r===Q)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s=void 0===t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(oe,"true"),i.some((function(e,t){return a=t,n.isEqualNode(e)}))?i.splice(a,1):o.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:o}},Le=function(e){return Object.keys(e).reduce((function(t,n){var r=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[ne[n]||n]=e[n],t}),t)},Me=function(e,t,n){switch(e){case J.TITLE:return{toComponent:function(){return e=t.title,n=t.titleAttributes,(r={key:e})[oe]=!0,i=Re(n,r),[c.createElement(J.TITLE,i,e)];var e,n,r,i},toString:function(){return function(e,t,n,r){var i=Le(n),o=je(t);return i?"<"+e+' data-react-helmet="true" '+i+">"+me(o,r)+"</"+e+">":"<"+e+' data-react-helmet="true">'+me(o,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case V:case $:return{toComponent:function(){return Re(t)},toString:function(){return Le(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var r,i=((r={key:n})[oe]=!0,r);return Object.keys(t).forEach((function(e){var n=ne[e]||e;if(n===Z||n===Q){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]})),c.createElement(e,i)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===Z||e===Q)})).reduce((function(e,t){var i=void 0===r[t]?t:t+'="'+me(r[t],n)+'"';return e?e+" "+i:i}),""),o=r.innerHTML||r.cssText||"",a=-1===ie.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+i+(a?"/>":">"+o+"</"+e+">")}),"")}(e,t,n)}}}},Pe=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,m=e.titleAttributes;return{base:Me(J.BASE,t,r),bodyAttributes:Me(V,n,r),htmlAttributes:Me($,i,r),link:Me(J.LINK,o,r),meta:Me(J.META,a,r),noscript:Me(J.NOSCRIPT,s,r),script:Me(J.SCRIPT,l,r),style:Me(J.STYLE,c,r),title:Me(J.TITLE,{title:d,titleAttributes:m},r)}},Ie=H()((function(e){return{baseTag:be([K,"target"],e),bodyAttributes:fe(V,e),defer:ye(e,"defer"),encode:ye(e,"encodeSpecialCharacters"),htmlAttributes:fe($,e),linkTags:ge(J.LINK,[te,K],e),metaTags:ge(J.META,["name",X,"http-equiv","property",ee],e),noscriptTags:ge(J.NOSCRIPT,[Z],e),onChangeClientState:he(e),scriptTags:ge(J.SCRIPT,["src",Z],e),styleTags:ge(J.STYLE,[Q],e),title:pe(e),titleAttributes:fe("titleAttributes",e)}}),(function(e){_e&&we(_e),e.defer?_e=ke((function(){Ee(e,(function(){_e=null}))})):(Ee(e),_e=null)}),Pe)((function(){return null})),Oe=(P=Ie,O=I=function(e){function t(){return se(this,t),de(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!U()(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case J.SCRIPT:case J.NOSCRIPT:return{innerHTML:t};case J.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return ce({},r,((t={})[n.type]=[].concat(r[n.type]||[],[ce({},i,this.mapNestedChildrenToProps(n,o))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,o=e.newChildProps,a=e.nestedChildren;switch(r.type){case J.TITLE:return ce({},i,((t={})[r.type]=a,t.titleAttributes=ce({},o),t));case J.BODY:return ce({},i,{bodyAttributes:ce({},o)});case J.HTML:return ce({},i,{htmlAttributes:ce({},o)})}return ce({},i,((n={})[r.type]=ce({},o),n))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=ce({},t);return Object.keys(e).forEach((function(t){var r;n=ce({},n,((r={})[t]=e[t],r))})),n},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return c.Children.forEach(e,(function(e){if(e&&e.props){var i=e.props,o=i.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[re[n]||n]=e[n],t}),t)}(ue(i,["children"]));switch(n.warnOnInvalidChildren(e,o),e.type){case J.LINK:case J.META:case J.NOSCRIPT:case J.SCRIPT:case J.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:a,nestedChildren:o});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:a,nestedChildren:o})}}})),t=this.mapArrayTypeChildrenToProps(r,t)},t.prototype.render=function(){var e=this.props,t=e.children,n=ue(e,["children"]),r=ce({},n);return t&&(r=this.mapChildrenToProps(t,r)),c.createElement(P,r)},le(t,null,[{key:"canUseDOM",set:function(e){P.canUseDOM=e}}]),t}(c.Component),I.propTypes={base:d().object,bodyAttributes:d().object,children:d().oneOfType([d().arrayOf(d().node),d().node]),defaultTitle:d().string,defer:d().bool,encodeSpecialCharacters:d().bool,htmlAttributes:d().object,link:d().arrayOf(d().object),meta:d().arrayOf(d().object),noscript:d().arrayOf(d().object),onChangeClientState:d().func,script:d().arrayOf(d().object),style:d().arrayOf(d().object),title:d().string,titleAttributes:d().object,titleTemplate:d().string},I.defaultProps={defer:!0,encodeSpecialCharacters:!0},I.peek=P.peek,I.rewind=function(){var e=P.rewind();return e||(e=Pe({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},O);Oe.renderStatic=Oe.rewind;var Ne,ze,De,Be=(Ne=0,ze={util:{encode:function(e){return e instanceof De?new De(e.type,ze.util.encode(e.content),e.alias):"Array"===ze.util.type(e)?e.map(ze.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Ne}),e.__id},clone:function(e,t){var n=ze.util.type(e);switch(t=t||{},n){case"Object":if(t[ze.util.objId(e)])return t[ze.util.objId(e)];var r={};for(var i in t[ze.util.objId(e)]=r,e)e.hasOwnProperty(i)&&(r[i]=ze.util.clone(e[i],t));return r;case"Array":return t[ze.util.objId(e)]?t[ze.util.objId(e)]:(r=[],t[ze.util.objId(e)]=r,e.forEach((function(e,n){r[n]=ze.util.clone(e,t)})),r)}return e}},languages:{extend:function(e,t){var n=ze.util.clone(ze.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||ze.languages)[e];if(2==arguments.length){for(var o in n=arguments[1])n.hasOwnProperty(o)&&(i[o]=n[o]);return i}var a={};for(var s in i)if(i.hasOwnProperty(s)){if(s==t)for(var o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);a[s]=i[s]}return ze.languages.DFS(ze.languages,(function(t,n){n===r[e]&&t!=e&&(this[t]=a)})),r[e]=a},DFS:function(e,t,n,r){for(var i in r=r||{},e)e.hasOwnProperty(i)&&(t.call(e,i,e[i],n||i),"Object"!==ze.util.type(e[i])||r[ze.util.objId(e[i])]?"Array"!==ze.util.type(e[i])||r[ze.util.objId(e[i])]||(r[ze.util.objId(e[i])]=!0,ze.languages.DFS(e[i],t,i,r)):(r[ze.util.objId(e[i])]=!0,ze.languages.DFS(e[i],t,null,r)))}},plugins:{},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return ze.hooks.run("before-tokenize",r),r.tokens=ze.tokenize(r.code,r.grammar),ze.hooks.run("after-tokenize",r),De.stringify(ze.util.encode(r.tokens),r.language)},matchGrammar:function(e,t,n,r,i,o,a){var s=ze.Token;for(var l in n)if(n.hasOwnProperty(l)&&n[l]){if(l==a)return;var c=n[l];c="Array"===ze.util.type(c)?c:[c];for(var u=0;u<c.length;++u){var d=c[u],m=d.inside,p=!!d.lookbehind,h=!!d.greedy,f=0,b=d.alias;if(h&&!d.pattern.global){var g=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,g+"g")}d=d.pattern||d;for(var y=r,v=i;y<t.length;v+=t[y].length,++y){var x=t[y];if(t.length>e.length)return;if(!(x instanceof s)){if(h&&y!=t.length-1){if(d.lastIndex=v,!(j=d.exec(e)))break;for(var k=j.index+(p?j[1].length:0),w=j.index+j[0].length,S=y,_=v,E=t.length;S<E&&(_<w||!t[S].type&&!t[S-1].greedy);++S)k>=(_+=t[S].length)&&(++y,v=_);if(t[y]instanceof s)continue;C=S-y,x=e.slice(v,_),j.index-=v}else{d.lastIndex=0;var j=d.exec(x),C=1}if(j){p&&(f=j[1]?j[1].length:0),w=(k=j.index+f)+(j=j[0].slice(f)).length;var T=x.slice(0,k),A=x.slice(w),L=[y,C];T&&(++y,v+=T.length,L.push(T));var R=new s(l,m?ze.tokenize(j,m):j,b,j,h);if(L.push(R),A&&L.push(A),Array.prototype.splice.apply(t,L),1!=C&&ze.matchGrammar(e,t,n,y,v,!0,l),o)break}else if(o)break}}}}},hooks:{add:function(){},run:function(e,t){}},tokenize:function(e,t,n){var r=[e],i=t.rest;if(i){for(var o in i)t[o]=i[o];delete t.rest}return ze.matchGrammar(e,r,t,0,0,!1),r}},(De=ze.Token=function(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}).stringify=function(e,t,n){if("string"==typeof e)return e;if("Array"===ze.util.type(e))return e.map((function(n){return De.stringify(n,t,e)})).join("");var r={type:e.type,content:De.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if(e.alias){var i="Array"===ze.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(r.classes,i)}var o=Object.keys(r.attributes).map((function(e){return e+'="'+(r.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+(o?" "+o:"")+">"+r.content+"</"+r.tag+">"},ze);Be.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Be.languages.markup.tag.inside["attr-value"].inside.entity=Be.languages.markup.entity,Be.languages.markup.doctype.inside["internal-subset"].inside=Be.languages.markup,Be.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Be.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Be.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Be.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Be.languages.insertBefore("markup","cdata",i)}}),Be.languages.html=Be.languages.markup,Be.languages.mathml=Be.languages.markup,Be.languages.svg=Be.languages.markup,Be.languages.xml=Be.languages.extend("markup",{}),Be.languages.ssml=Be.languages.xml,Be.languages.atom=Be.languages.xml,Be.languages.rss=Be.languages.xml,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|(?!\2)[^\\`$])*\2/,lookbehind:!0,greedy:!0,inside:r}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=e.languages.bash[i[a]];e.languages.shell=e.languages.bash}(Be),Be.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Be.languages.c=Be.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Be.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Be.languages.c.string],comment:Be.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Be.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Be.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),e.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Be),function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:e.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},n.tag))}(Be),function(e){var t,n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css.selector={pattern:e.languages.css.selector,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css.atrule.inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var r={pattern:/(\b\d+)(?:%|[a-z]+\b)/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#(?:[\da-f]{1,2}){3,4}\b/i,alias:"color"},color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,number:i})}(Be),Be.languages.javascript=Be.languages.extend("clike",{"class-name":[Be.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Be.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Be.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Be.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Be.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:Be.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Be.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Be.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Be.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Be.languages.javascript}},string:/[\s\S]+/}}}),Be.languages.markup&&Be.languages.markup.tag.addInlined("script","javascript"),Be.languages.js=Be.languages.javascript,function(e){var t=e.util.clone(e.languages.javascript);e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=/<\/?(?:[\w.:-]+(?:\s+(?:[\w.:$-]+(?:=(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s{'">=]+|\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}))?|\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}))*\s*\/?)?>/i,e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/i,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s'">]+)/i,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.insertBefore("inside","attr-name",{spread:{pattern:/\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}/,inside:{punctuation:/\.{3}|[{}.]/,"attr-value":/\w+/}}},e.languages.jsx.tag),e.languages.insertBefore("inside","attr-value",{script:{pattern:/=(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\})/i,inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:e.languages.jsx},alias:"language-javascript"}},e.languages.jsx.tag);var n=function(e){return e?"string"==typeof e?e:"string"==typeof e.content?e.content:e.content.map(n).join(""):""},r=function(t){for(var i=[],o=0;o<t.length;o++){var a=t[o],s=!1;if("string"!=typeof a&&("tag"===a.type&&a.content[0]&&"tag"===a.content[0].type?"</"===a.content[0].content[0].content?i.length>0&&i[i.length-1].tagName===n(a.content[0].content[1])&&i.pop():"/>"===a.content[a.content.length-1].content||i.push({tagName:n(a.content[0].content[1]),openedBraces:0}):i.length>0&&"punctuation"===a.type&&"{"===a.content?i[i.length-1].openedBraces++:i.length>0&&i[i.length-1].openedBraces>0&&"punctuation"===a.type&&"}"===a.content?i[i.length-1].openedBraces--:s=!0),(s||"string"==typeof a)&&i.length>0&&0===i[i.length-1].openedBraces){var l=n(a);o<t.length-1&&("string"==typeof t[o+1]||"plain-text"===t[o+1].type)&&(l+=n(t[o+1]),t.splice(o+1,1)),o>0&&("string"==typeof t[o-1]||"plain-text"===t[o-1].type)&&(l=n(t[o-1])+l,t.splice(o-1,1),o--),t[o]=new e.Token("plain-text",l,null,l)}a.content&&"string"!=typeof a.content&&r(a.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||r(e.tokens)}))}(Be),function(e){function t(e,t){return RegExp(e.replace(/<ID>/g,(function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source})),t)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:(?:Uint|Int)(?:8|16|32)|Uint8Clamped|Float(?:32|64))?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|(?:Weak)?(?:Set|Map)|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|for|finally|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|location|navigator|performance|(?:local|session)Storage|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var i=n[r],o=e.languages.javascript[i];"RegExp"===e.util.type(o)&&(o=e.languages.javascript[i]={pattern:o});var a=o.inside||{};o.inside=a,a["maybe-class-name"]=/^[A-Z][\s\S]*/}}(Be),function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(Be),function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(n){var r=t[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(Be),Be.languages.git={comment:/^#.*/m,deleted:/^[-–].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/m,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/m}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},Be.languages.go=Be.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete Be.languages.go["class-name"],Be.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:Be.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:true|false)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*)[a-zA-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,punctuation:/[!(){}\[\]:=,]/,constant:/\b(?!ID\b)[A-Z][A-Z_\d]*\b/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,o){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(i,(function(e){if("function"==typeof o&&!o(e))return e;for(var i,s=a.length;-1!==n.code.indexOf(i=t(r,s));)++s;return a[s]=e,i})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var i=0,o=Object.keys(n.tokenStack);!function a(s){for(var l=0;l<s.length&&!(i>=o.length);l++){var c=s[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=o[i],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(r,u),h=m.indexOf(p);if(h>-1){++i;var f=m.substring(0,h),b=new e.Token(r,e.tokenize(d,n.grammar),"language-"+r,d),g=m.substring(h+p.length),y=[];f&&y.push.apply(y,a([f])),y.push(b),g&&y.push.apply(y,a([g])),"string"==typeof c?s.splice.apply(s,[l,1].concat(y)):c.content=y}}else c.content&&a(c.content)}return s}(n.tokens)}}}})}(Be),function(e){e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:true|false)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/i,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",(function(t){e.languages["markup-templating"].buildPlaceholders(t,"handlebars",/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")}))}(Be),Be.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Be.languages.webmanifest=Be.languages.json,Be.languages.less=Be.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/i,operator:/[+\-*\/]/}),Be.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),Be.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},builtin:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,symbol:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:[/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,{pattern:/(\()(?:addsuffix|abspath|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:s|list)?)(?=[ \t])/,lookbehind:!0}],operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?!\n|\r\n?))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/``.+?``|`[^`\r\n]+`/,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+?\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var i=t[n];if("code"===i.type){var o=i.content[1],a=i.content[3];if(o&&a&&"code-language"===o.type&&"code-block"===a.type&&"string"==typeof o.content){var s=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());a.alias?"string"==typeof a.alias?a.alias=[a.alias,l]:a.alias.push(l):a.alias=[l]}}else e(i.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var o=t.classes[r],a=/language-(.+)/.exec(o);if(a){n=a[1];break}}var s=e.languages[n];if(s){var l=t.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&");t.content=e.highlight(l,s,n)}else if(n&&"none"!==n&&e.plugins.autoloader){var c="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=c,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(c);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}})),e.languages.md=e.languages.markdown}(Be),Be.languages.objectivec=Be.languages.extend("c",{string:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|@"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,keyword:/\b(?:asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while|in|self|super)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Be.languages.objectivec["class-name"],Be.languages.objc=Be.languages.objectivec,Be.languages.ocaml={comment:/\(\*[\s\S]*?\*\)/,string:[{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},{pattern:/(['`])(?:\\(?:\d+|x[\da-f]+|.)|(?!\1)[^\\\r\n])\1/i,greedy:!0}],number:/\b(?:0x[\da-f][\da-f_]+|(?:0[bo])?\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?[\d_]+)?)/i,directive:{pattern:/\B#\w+/,alias:"important"},label:{pattern:/\B~\w+/,alias:"function"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"variable"},module:{pattern:/\b[A-Z]\w+/,alias:"variable"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,operator:/:=|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/[(){}\[\]|.,:;]|\b_\b/},Be.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Be.languages.python["string-interpolation"].inside.interpolation.inside.rest=Be.languages.python,Be.languages.py=Be.languages.python,Be.languages.reason=Be.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:mod|land|lor|lxor|lsl|lsr|asr)\b/}),Be.languages.insertBefore("reason","class-name",{character:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,alias:"string"},constructor:{pattern:/\b[A-Z]\w*\b(?!\s*\.)/,alias:"variable"},label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete Be.languages.reason.function,function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,inside:{atrule:/(?:@[\w-]+|[+=])/m}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|or|not)\b/,{pattern:/(\s+)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/,lookbehind:!0}})}(Be),Be.languages.scss=Be.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]+))/m,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),Be.languages.insertBefore("scss","atrule",{keyword:[/@(?:if|else(?: if)?|forward|for|each|while|import|use|extend|debug|warn|mixin|include|function|return|content)\b/i,{pattern:/( +)(?:from|through)(?= )/,lookbehind:!0}]}),Be.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),Be.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|with|show|hide)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,lookbehind:!0}}),Be.languages.scss.atrule.inside.rest=Be.languages.scss,Be.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},r={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/url\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,boolean:/\b(?:true|false)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:n,punctuation:/[{}()\[\];:,]/};r.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^{|}$/,alias:"punctuation"},rest:r}},r.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:r}},e.languages.stylus={"atrule-declaration":{pattern:/(^\s*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:r}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:r}},statement:{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:r}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(?:\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:r.interpolation}},rest:r}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:!0,inside:{interpolation:r.interpolation,comment:r.comment,punctuation:/[{},]/}},func:r.func,string:r.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:r.interpolation,punctuation:/[{}()\[\];:.]/}}(Be),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},keyword:/\b(?:abstract|as|asserts|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),delete e.languages.typescript.parameter;var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Be),function(e){var t=e.util.clone(e.languages.typescript);e.languages.tsx=e.languages.extend("jsx",t);var n=e.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0}(Be),Be.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^_`|~]+/i,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/},function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+t.source+")?|"+t.source+"(?:[ \t]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(e,t){t=(t||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|]|}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return e}));return RegExp(n,t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+o+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/true|false/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(Be);var Fe={Prism:Be,theme:{plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]}};function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ye=/\r\n|\r|\n/,Ue=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},We=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},Ge=function(e,t){var n=e.plain,r=Object.create(null),i=e.styles.reduce((function(e,n){var r=n.languages,i=n.style;return r&&!r.includes(t)||n.types.forEach((function(t){var n=He({},e[t],i);e[t]=n})),e}),r);return i.root=n,i.plain=He({},n,{backgroundColor:null}),i};function Ve(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}const $e=function(e){function t(){for(var t=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];e.apply(this,n),qe(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?Ge(e.theme,e.language):void 0;return t.themeDict=n})),qe(this,"getLineProps",(function(e){var n=e.key,r=e.className,i=e.style,o=He({},Ve(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),a=t.getThemeDict(t.props);return void 0!==a&&(o.style=a.plain),void 0!==i&&(o.style=void 0!==o.style?He({},o.style,i):i),void 0!==n&&(o.key=n),r&&(o.className+=" "+r),o})),qe(this,"getStyleForToken",(function(e){var n=e.types,r=e.empty,i=n.length,o=t.getThemeDict(t.props);if(void 0!==o){if(1===i&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===i&&!r)return o[n[0]];var a=r?{display:"inline-block"}:{},s=n.map((function(e){return o[e]}));return Object.assign.apply(Object,[a].concat(s))}})),qe(this,"getTokenProps",(function(e){var n=e.key,r=e.className,i=e.style,o=e.token,a=He({},Ve(e,["key","className","style","token"]),{className:"token "+o.types.join(" "),children:o.content,style:t.getStyleForToken(o),key:void 0});return void 0!==i&&(a.style=void 0!==a.style?He({},a.style,i):i),void 0!==n&&(a.key=n),r&&(a.className+=" "+r),a})),qe(this,"tokenize",(function(e,t,n,r){var i={code:t,grammar:n,language:r,tokens:[]};e.hooks.run("before-tokenize",i);var o=i.tokens=e.tokenize(i.code,i.grammar,i.language);return e.hooks.run("after-tokenize",i),o}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,r=e.code,i=e.children,o=this.getThemeDict(this.props),a=t.languages[n];return i({tokens:function(e){for(var t=[[]],n=[e],r=[0],i=[e.length],o=0,a=0,s=[],l=[s];a>-1;){for(;(o=r[a]++)<i[a];){var c=void 0,u=t[a],d=n[a][o];if("string"==typeof d?(u=a>0?u:["plain"],c=d):(u=We(u,d.type),d.alias&&(u=We(u,d.alias)),c=d.content),"string"==typeof c){var m=c.split(Ye),p=m.length;s.push({types:u,content:m[0]});for(var h=1;h<p;h++)Ue(s),l.push(s=[]),s.push({types:u,content:m[h]})}else a++,t.push(u),n.push(c),r.push(0),i.push(c.length)}a--,t.pop(),n.pop(),r.pop(),i.pop()}return Ue(s),l}(void 0!==a?this.tokenize(t,r,a,n):[r]),className:"prism-code language-"+n,style:void 0!==o?o.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(c.Component),Je={plain:{color:"#403f53",backgroundColor:"#FBFBFB"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(72, 118, 214)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(152, 159, 177)",fontStyle:"italic"}},{types:["string","builtin","char","constant","url"],style:{color:"rgb(72, 118, 214)"}},{types:["variable"],style:{color:"rgb(201, 103, 101)"}},{types:["number"],style:{color:"rgb(170, 9, 130)"}},{types:["punctuation"],style:{color:"rgb(153, 76, 195)"}},{types:["function","selector","doctype"],style:{color:"rgb(153, 76, 195)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(17, 17, 17)"}},{types:["tag"],style:{color:"rgb(153, 76, 195)"}},{types:["operator","property","keyword","namespace"],style:{color:"rgb(12, 150, 155)"}},{types:["boolean"],style:{color:"rgb(188, 84, 84)"}}]};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=i(38395),Ze=i.n(Ke),et=i(58777),tt=i.n(et);const nt=function(){return(0,e.jsx)("div",{className:tt().loading,children:"正在加载中...."})};var rt=i(74455),it=i.n(rt),ot=c.useState,at=c.useEffect,st=c.useRef,lt={code:function(e){var t=e.children;return e.className,e.live,e.render,(0,F.kt)($e,Qe(Qe({},Fe),{},{theme:Je,code:t.trim(),language:"javascript"}),(function(e){var t=e.className,n=e.style,r=e.tokens,i=e.getLineProps,o=e.getTokenProps;return(0,F.kt)("pre",{className:t,style:Qe(Qe({},n),{},{padding:"0 15px"})},r.map((function(e,t){return(0,F.kt)("div",Qe({key:t},i({line:e,key:t})),e.map((function(e,t){return(0,F.kt)("span",Qe({key:t},o({token:e,key:t})))})))})))}))},link:function(t){var n=t.title,r=t.href,i=t.children,o=r.replace(/(\/|\/show\/|\/show)$/g,"");if(/^(http(?:|s):)\/\/(jsfiddle.net|runjs.cn|codepen.io|codesandbox.io)/.test(o)&&!/^(https|http):\/\/(jsfiddle.net|runjs.cn|codepen.io|codesandbox.io)(?:|\/)$/.test(o)){var a=/(https|http):\/\/runjs.cn\/code\/(.*)/gi.exec(o),s=/(https|http):\/\/codepen.io\/(.*)\/pen\/(.*)/gi.exec(o),l=/(https|http):\/\/codesandbox.io\/(s|embed)\/(.*)/gi.exec(o);return o=a&&a.length>2?"http://sandbox.runjs.cn/show/".concat(a[2]):s&&4===s.length?"https://codepen.io/".concat(s[2],"/embed/").concat(s[3],"?height=400"):l&&4===l.length?"https://codesandbox.io/embed/".concat(l[3]):"".concat(o,"/show/"),(0,e.jsx)("iframe",{frameBorder:0,allowFullScreen:"allowfullscreen",className:Ze().frame,src:o,title:o})}return(0,e.jsx)("a",{href:r,title:n,children:i})}};const ct=function(t){var n=t.props,r=n.relative,o=n.name,a=ot(null),s=z()(a,2),l=s[0],c=s[1],u=st(null);at((function(){!function(){if(!r)return null;var e=r.slice(1,r.length-3);i(40259)("./".concat(e,".md")).then((function(e){c((function(){return e.default||e}))}))}()}),[]);var d=function(){return o?o.replace(".md",""):""};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Oe,{children:[(0,e.jsx)("title",{children:d()}),(0,e.jsx)("meta",{name:d(),content:d()})]}),(0,e.jsx)("div",{className:B()("markdown",it().markdown,it().markdownwrapper),ref:u,children:l?(0,e.jsx)(F.Zo,{components:lt,children:(0,e.jsx)(l,{})}):(0,e.jsx)(nt,{})})]})};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}i(55180);i(319),i(87757),i(48926),i(34575),i(81506),i(93913),i(2205),i(78585),i(29754);var dt=i(18923),mt=i.n(dt);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3?arguments[3]:void 0;return e.forEach((function(e){var i="".concat(n).concat(e.name).replace(/.md$/,""),o=e.mdconf,a=l()(e,["mdconf"]);t.push({path:i,mdconf:o||{title:e.name},props:ht({},a),article:r||e.name}),e.children&&e.children.length>0&&t.concat(ft(e.children,t,"".concat(i,"/"),r||e.name))})),t}function bt(e,t,n){var r=[];return e.forEach((function(e){var i="".concat(t||"","/").concat(e.name).replace(/.md$/,"");"directory"===e.type?e.children&&e.children.length>0?(e.title=e.name.replace(e.extension,""),e.mdconf={},e.props={isEmpty:!0},e.children=bt(e.children,i,n||e.name)):(e.title=e.name.replace(e.extension,""),e.mdconf={title:e.name},e.props={isEmpty:!0},e.children=[]):(e.title=e.mdconf&&e.mdconf.title?e.mdconf.title:e.name.replace(e.extension,""),e.mdconf||(e.props={isEmpty:!0})),e.routePath=i,e.article=n||e.name,r.push(e)})),r}var gt=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["wrappedComponentRef"]);return c.createElement(h.Z,{children:function(t){return c.createElement(e,f({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:d().func},p()(t,e)}((function(t){var n=r()({},t),o=ht({routeData:ft(mt()),menuSource:bt(mt())},n);return(0,e.jsx)(b.Z,{children:(0,e.jsx)(g.Z,{path:"/",render:function(t){return function(t,n){n.routeData&&n.routeData.length>0&&n.routeData.map((function(e){return e.component=ct,e}));var r=i(7920).Z;return(0,e.jsx)(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))}(0,ht(ht({},t),o))}})})}));function yt(){return(0,e.jsx)(R,{children:(0,e.jsx)(gt,{})})}t.render((0,e.jsx)(yt,{}),document.getElementById("root"))})()})();