(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2666],{22666:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var l=n(59713),r=n.n(l),a=n(6479),u=n.n(a),p=(n(67294),n(3905));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={};function s(e){var t=e.components,n=u()(e,["components"]);return(0,p.kt)("wrapper",o(o(o({},i),n),{},{components:t,mdxType:"MDXLayout"}),(0,p.kt)("h3",null,"Picker 组件"),(0,p.kt)("h4",null,"视觉兜底"),(0,p.kt)("p",null,"在 Picker 组件中, 来聊聊组件视觉层面的兜底。"),(0,p.kt)("pre",null,(0,p.kt)("code",o({parentName:"pre"},{className:"language-js"}),"<Picker\n  title=\"选择时间\"\n  data={[\n    [\n      { label: '2014', value: '2014' },\n      { label: '2015', value: '2015' },\n      { label: '2016', value: '2016' },\n      { label: '2017', value: '2017' },\n      { label: '2018', value: '2018' },\n      { label: '2019', value: '2019' }\n    ]\n  ]}\n  value={['2013']}\n>\n  <ListItem placeholder=\"请选择\" extraAlign=\"right\" arrow=\"horizontal\">\n    选择时间\n  </ListItem>\n</Picker>\n")),(0,p.kt)("p",null,"此时 value 的值并不在 data 数据源内, 此时页面的呈现状况如下"),(0,p.kt)("p",null,(0,p.kt)("img",o({parentName:"p"},{src:"http://with.muyunyun.cn/cb71389f4a26685a686329d69290d15b.jpg",alt:null}))),(0,p.kt)("p",null,"讨论话题: 这样子的兜底对用户是否友好。"),(0,p.kt)("p",null,"兜底后如下:"),(0,p.kt)("p",null,(0,p.kt)("img",o({parentName:"p"},{src:"http://with.muyunyun.cn/20f9bda8d2be14ad4eabc3226d6f6264.jpg",alt:null}))),(0,p.kt)("h4",null,"一个典型的闭包陷阱"),(0,p.kt)("p",null,"如下代码的逻辑是点击关闭按钮, 让值恢复到之前的值。以下代码有没有问题呢?"),(0,p.kt)("pre",null,(0,p.kt)("code",o({parentName:"pre"},{className:"language-js"}),"close = () => {\n  const { value, defaultPicker } = this.props\n  setTimeout(() => {\n    this.onChangePickerValue(value || defaultPicker || [])\n  }, 1000)\n}\n")),(0,p.kt)("h3",null,"流畅的滑动效果"),(0,p.kt)("p",null,"结合物理公式 todo"))}s.isMDXComponent=!0}}]);