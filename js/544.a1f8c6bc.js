(self.webpackChunkblog=self.webpackChunkblog||[]).push([[544],{80544:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>l});var r=t(59713),o=t.n(r),c=t(6479),s=t.n(c),p=(t(67294),t(3905));function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var i={};function l(e){var n=e.components,t=s()(e,["components"]);return(0,p.kt)("wrapper",u(u(u({},i),t),{},{components:n,mdxType:"MDXLayout"}),(0,p.kt)("h3",null,"点击按钮实现复制文字"),(0,p.kt)("p",null,"本质是 ",(0,p.kt)("inlineCode",{parentName:"p"},"document.execCommand()")," api 的使用, 见如下 demo:"),(0,p.kt)("pre",null,(0,p.kt)("code",u({parentName:"pre"},{className:"language-js"}),"function copy(str: string) {\n  return new Promise(function(resolve, reject) {\n    let success = false\n    function listener(e: any) {\n      e.clipboardData.setData('text/plain', str)\n      e.preventDefault()\n      success = true\n    }\n    document.addEventListener('copy', listener)\n    document.execCommand('copy')\n    document.removeEventListener('copy', listener)\n    success ? resolve() : reject()\n  })\n}\n\nusage:\ncopy(...).then(() => {})\n")))}l.isMDXComponent=!0}}]);